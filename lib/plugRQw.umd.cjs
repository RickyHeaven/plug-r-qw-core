(function(x,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue"),require("deepmerge"),require("lodash-es"),require("sweetalert"),require("view-ui-plus"),require("vue-router"),require("vue-i18n"),require("axios"),require("ar-cascader"),require("@wangeditor/editor-for-vue"),require("moment"),require("@wangeditor/editor")):typeof define=="function"&&define.amd?define(["exports","vue","deepmerge","lodash-es","sweetalert","view-ui-plus","vue-router","vue-i18n","axios","ar-cascader","@wangeditor/editor-for-vue","moment","@wangeditor/editor"],e):(x=typeof globalThis<"u"?globalThis:x||self,e(x.plugRQw={},x.Vue,x.deepmerge,x.lodashEs,x.swal,x.ViewUIPlus,x.VueRouter,x.VueI18n,x.axios,x.ArCascader,x.editorForVue,x.moment,x.editor))})(this,function(x,e,ke,L,Me,re,Bt,Tl,Je,Al,Ct,_e,xl){var pl,ml;"use strict";var Na=Object.defineProperty;var La=(x,e,ke)=>e in x?Na(x,e,{enumerable:!0,configurable:!0,writable:!0,value:ke}):x[e]=ke;var De=(x,e,ke)=>(La(x,typeof e!="symbol"?e+"":e,ke),ke);const St={r:{locale:"zh-CN",testMsg:"测试国际化",confirm:"确定",cancel:"取消",clear:"清空",info:{title:"提示",text:"确定执行该操作？"},http:{403:"登录状态失效,请重新登录！",409:"该账号已在其他地方登录,点击确定退出。"},pSelect:"请选择",pInput:"请输入",selectDate:"选择日期",selectTime:"选择时间",search:"搜索",level:{1:"一级",2:"二级",3:"三级"},unknown:"未知",title:"标题",required:"该项为必填",back:"返回",button:"按钮",check:"查询",adSearch:"高级查询",all:"全选",tabSetting:" 列表显示设置",delete:"删除",fView:"全屏预览",download:"点击下载",file:"文件",selectFile:"选择文件",notImg:"文件不是图片，不可预览",wrongFileType:"文件类型不被允许",supportType:"支持类型：",none:"无",fileIsBig:"文件过大",supportSize:"支持最大：",uploadError:"上传出错",uploadFail:"上传失败",closePreview:"关闭预览",fullImg:"全屏图片",preview:"预览",searchFor:"当前搜索：",noMore:"没有更多数据了",optionLabel:"选项",getDataError:"拉取数据出错",add:"添加",remove:"移除",addAll:"全部添加",removeAll:"全部移除",added:"已添加",notAdded:"未添加",success:"成功",failed:"失败",error:"出错",pageNotFound:"页面没找到",notFoundMsg:"您访问的页面不存在，点击下面按钮返回上一个页面。",hideMenu:"隐藏菜单",showMenu:"显示菜单"}},Nl=/(%|){([0-9a-zA-Z_]+)}/g;function Ll(){function a(t,n){return Object.prototype.hasOwnProperty.call(t,n)}function r(t,...n){let d;return n.length===1&&typeof n[0]=="object"&&(d=n[0]),(!d||!d.hasOwnProperty)&&(d={}),t===void 0?"":t.replace(Nl,(o,u,s,m)=>{let c;return t[m-1]==="{"&&t[m+o.length]==="}"?s:(c=a(d,s)?d[s]:null,c??"")})}return r}const Il=Ll();let Fe=St;const Ol={zh:St};let _t,Tt={},se,Dl=function(a,r){if(typeof this=="object"&&Reflect.has(this,"$t"))return this.$t(a,r);if(se&&se.global)return se.global.t(a,r);if(se&&se.locale){if(!Tt[se.locale]||_t!=se.locale){Tt[se.locale]=!0;let t=se.getLocaleMessage(se.locale)||{},n=ke(Ol[se.locale],t,{clone:!0});Fe=n,se.setLocaleMessage(se.locale,n),_t=se.locale}return se.hlang(a,r)}};const ye=function(a,r){let t=Dl.apply(this,[a,r]);if(t!=null)return t;const n=a.split(".");let d=Fe;for(let o=0,u=n.length;o<u;o++){const s=n[o];if(t=d[s],o===u-1)return Il(t,r);if(!t)return"";d=t}return""},Ee={use:function(a){Fe=a||Fe},t:ye,i18n:function(a){se=a}};function N(a,r){var n,d,o;const t=(o=(d=(n=e.getCurrentInstance())==null?void 0:n.appContext)==null?void 0:d.config)==null?void 0:o.globalProperties;return ye.apply(t,[a,r])}const Ye=e.defineComponent({__name:"HeaderBt",props:{icon:{},withIcon:{type:Boolean,default:!1},iconSize:{default:18},color:{default:"inherit"},borderColor:{default:"#fff"},disabled:{type:Boolean,default:!1}},emits:["click"],setup(a,{emit:r}){const t=a;function n(){t.disabled||r("click")}return(d,o)=>{const u=e.resolveComponent("Icon");return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass({headerBtCTM:!0,withIconCTM:t.icon||t.withIcon,disabled:t.disabled}),style:e.normalizeStyle({color:t.color,borderLeftColor:t.borderColor}),onClick:n},[t.icon?(e.openBlock(),e.createBlock(u,{key:0,size:t.iconSize,type:t.icon},null,8,["size","type"])):e.createCommentVNode("",!0),e.renderSlot(d.$slots,"default")],6)}}}),Ml={class:"headerTxtAM"},Fl={class:"contentAM"},At=e.defineComponent({__name:"FullPop",props:{title:{},headerColor:{},headerBg:{},headerFontSize:{default:12},zIndex:{default:1e3}},emits:["on-open","on-close"],setup(a,{expose:r,emit:t}){const n=a;let d=e.ref(!1);const o=e.computed(()=>typeof n.headerFontSize=="number"?n.headerFontSize+"px":n.headerFontSize),u=e.computed(()=>({zIndex:n.zIndex}));function s(){d.value=!0,t("on-open")}function m(c){d.value=!1,t("on-close",c===!0)}return r({open:s,close:m}),(c,f)=>e.withDirectives((e.openBlock(),e.createElementBlock("div",{class:"fullScreenPopBoxAM",style:e.normalizeStyle(e.unref(u))},[e.createElementVNode("div",{class:"headerAM",style:e.normalizeStyle({color:n.headerColor,backgroundColor:n.headerBg,fontSize:e.unref(o)})},[e.createElementVNode("span",Ml,e.toDisplayString(c.title||e.unref(N)("r.title")),1),e.createVNode(Ye,{icon:"md-return-left",onClick:m},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(N)("r.back")),1)]),_:1})],4),e.createElementVNode("div",Fl,[e.renderSlot(c.$slots,"default")])],4)),[[e.vShow,e.unref(d)]])}}),El={class:"msg"},xt=e.defineComponent({__name:"Hello",setup(a){let r=e.ref("Greetings from Ricky.");return(t,n)=>(e.openBlock(),e.createElementBlock("span",El,e.toDisplayString(e.unref(r)),1))}});function Re(){const{appContext:a}=e.getCurrentInstance();return a.config.globalProperties}const Nt=e.defineComponent({__name:"IconTxtBtn",props:{name:{},icon:{default:"md-download"},size:{default:()=>Re().iconTxtBtnIconSize},disabled:{type:Boolean,default:!1},has:{default:""}},emits:["click"],setup(a,{emit:r}){const t=a,n=e.computed(()=>Math.floor(t.size/17*12)+"px");function d(o){t.disabled||r("click",o)}return(o,u)=>{const s=e.resolveComponent("Icon"),m=e.resolveDirective("has");return e.withDirectives((e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["tabTopBtnsT",{disabled:t.disabled}]),onClick:d,style:e.normalizeStyle({"font-size":e.unref(n)})},[e.createVNode(s,{type:t.icon,size:t.size},null,8,["type","size"]),e.createTextVNode(" "+e.toDisplayString(t.name||e.unref(N)("r.button")),1)],6)),[[m,o.has]])}}}),Rl={class:"c404K"},Ul=e.createElementVNode("div",{class:"t404"},"404",-1),Pl={class:"ct404"},Kl={class:"p404"},Lt=e.defineComponent({__name:"Page404",setup(a){const t=e.getCurrentInstance().appContext.config.globalProperties.$router;function n(){t.go(-1)}return(d,o)=>{const u=e.resolveComponent("Button");return e.openBlock(),e.createElementBlock("div",Rl,[Ul,e.createElementVNode("div",Pl,"UH OH! "+e.toDisplayString(e.unref(N)("r.pageNotFound")),1),e.createElementVNode("div",Kl,e.toDisplayString(e.unref(N)("r.notFoundMsg")),1),e.createVNode(u,{class:"bt404",onClick:n},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(N)("r.back")),1)]),_:1})])}}});function ce(a,r,t){const n=(...d)=>ye.apply(this,d);return new Promise((d,o)=>{if(typeof a=="object"&&!Array.isArray(a)){let u=n("r.confirm"),s=n("r.cancel"),m=!1,c="swalConfirmBt",f="swalCancelBt";const p=/^HTML.*Element$/;a.type&&(a.icon=a.type)&&delete a.type,a.content&&(a.text=a.content)&&delete a.content,a.className=a.className||"swalBoxX";let C="";a.text&&p.test(R(a.text))?C="content":a.text&&R(a.text)==="String"&&(C="text"),a.buttons&&(typeof a.buttons=="object"&&!Array.isArray(a.buttons)?a.buttons.cancel&&(a.buttons.cancel.text&&(s=a.buttons.cancel.text)&&(m=!0),a.buttons.cancel.className&&(f=a.buttons.cancel.className),a.buttons.confirm.text&&(u=a.buttons.confirm.text),a.buttons.confirm.className&&(c=a.buttons.confirm.className)):Array.isArray(a.buttons)&&(a.buttons[0]&&(s=a.buttons[0],m=!0),a.buttons[1]&&(u=a.buttons[1]))),Me({title:a.title,icon:a.icon,className:a.className,[C]:a.text,buttons:{confirm:{text:u,value:!0,visible:!0,className:c},cancel:{text:s,value:null,visible:m,className:f}}}).then(k=>{k&&typeof a.onOk=="function"&&a.onOk(),d(k)}).catch(k=>{o(k)})}else if(typeof a=="string"){let u="";if(r)switch(typeof r){case"string":u="text";break;case"object":u="content";break}Me({title:a,[u]:r||"",icon:t||"",className:"swalBoxX",buttons:{confirm:{text:n("r.confirm"),value:!0,visible:!0,className:"swalConfirmBt",closeModal:!0}}}).then(s=>{d(s)}).catch(s=>{o(s)})}else if(typeof a=="boolean")!a&&Me.close&&Me.close();else throw new TypeError("swal第一个参数类型有误，仅支持Object/String/false")})}function Xe(a){return a.replace(/_(\w)/g,function(r,t){return t.toUpperCase()})}function It(a){let r=document.createElement("div");return r.textContent!==void 0?r.textContent=a:r.innerText=a,r.innerHTML}function Ot(a){let r=document.createElement("div");return r.innerHTML=a,r.innerText||r.textContent}function Te(a){return new Promise(r=>{let t=new FileReader;t.readAsDataURL(a),t.onloadend=()=>{r(t.result)}})}function Ue(a){return(a==null?void 0:a.split(".").pop().toLocaleLowerCase())||""}function Ae(a){return R(a)==="String"&&a.indexOf("image")>-1}function Pe(a){const r=Ue(a);let t="ios-document-outline";return["gif","jpg","jpeg","png","bmp","webp"].indexOf(r)>-1?t="ios-image":["mp4","m3u8","rmvb","avi","swf","3gp","mkv","flv"].indexOf(r)>-1?t="ios-film":["mp3","wav","wma","ogg","aac","flac"].indexOf(r)>-1?t="ios-musical-notes":["doc","txt","docx","pages","epub","pdf"].indexOf(r)>-1?t="md-document":["numbers","csv","xls","xlsx"].indexOf(r)>-1?t="ios-stats":["keynote","ppt","pptx"].indexOf(r)>-1&&(t="ios-videocam"),t}function Qe(a,r){let t=document.createElement("a");t.href=r,t.download=a,Ze(t)}function Ze(a){let r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),a.dispatchEvent(r)}function xe({group:a,condition:r,pathKey:t,childKey:n="children",path:d=[]}){if(a&&L.isObject(a)){if(L.isFunction(r)){if(L.isPlainObject(a)){let o=a,u=L.cloneDeep(d);if(r(o))return t&&o[t]&&u.push(o[t]),u;if(o[n]&&!L.isEmpty(o[n])){t&&o[t]&&u.push(o[t]);let s=xe({group:o[n],condition:r,pathKey:t,childKey:n,path:u});if(!L.isEmpty(s))return s}}else if(Array.isArray(a))for(let o of a){let u=L.cloneDeep(d);if(r(o))return t&&o[t]?u.push(o[t]):u.push(String(a.indexOf(o))),u;if(o[n]&&o[n].length>0){t&&o[t]?u.push(o[t]):u.push(String(a.indexOf(o)));let s=xe({group:o[n],condition:r,pathKey:t,childKey:n,path:u});if(!L.isEmpty(s))return s}}}else if(Array.isArray(a))for(let o of a){let u=L.cloneDeep(d);if(o===r)return u.push(String(a.indexOf(o))),u}}return[]}function ve(a,r=12){if(R(a)==="String"&&a.length>0){let t=document.createElement("span");t.style.fontSize=r+"px",t.style.fontFamily="inherit",t.innerHTML=a,t.style.opacity="0",t.style.position="fixed",t.style.top="3000px",document.body.append(t);const n=t.clientWidth;return document.body.removeChild(t),n}return 0}function Dt(a){return a===""?null:a}function Mt(a){a=a||window.Event,a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}const $l=Object.freeze(Object.defineProperty({__proto__:null,downloadFileReaderFile:Qe,emptyInput:Dt,fakeALinkClick:Ze,findPath:xe,getFileSrc:Te,getFileTypeByName:Ue,getFileTypeIconByName:Pe,getStringWidth:ve,htmlDecode:Ot,htmlEncode:It,isImgByFile:Ae,stopBubbling:Mt,toHump:Xe},Symbol.toStringTag,{value:"Module"}));function R(a){return Object.prototype.toString.call(a).replace(/\[object |]/g,"")}function et(a){return a.replace(/([A-Z])/g,"_$1").toLowerCase()}function Ne(a){let r=R(a);if(r==="Object"){for(let t in a)if(a.hasOwnProperty(t)){let n=R(a[t]);n==="String"?a[t]=a[t].trim():(n==="Object"||n==="Array")&&Ne(a[t])}}else if(r==="Array")for(let t=0,n=a.length;t<n;t++){let d=R(a[t]);d==="String"?a[t]=a[t].trim():(d==="Array"||d==="Object")&&Ne(a[t])}return a}function Ke(a,r=[]){if(R(a)==="Array")return a.forEach((t,n)=>{switch(R(t)){case"Array":case"Object":Ke(t);break;default:a[n]=null}}),a;if(R(a)==="Object"){for(let t in a)if(a.hasOwnProperty(t)){let n=!0;for(let d of r)if(d===t){n=!1;break}if(n)switch(R(a[t])){case"Array":case"Object":Ke(a[t]);break;default:a[t]=null}}return a}else return a}const Ft={headers:{"Content-Type":"multipart/form-data"}};function Et(a){let r=new FormData;for(let t in a)a.hasOwnProperty(t)&&a[t]!==null&&r.append(t,a[t]);return r}function we(a,r,t=!1){if(!a||!r)return!1;let n,d="notFoundC",o=function(u,s){if(Array.isArray(u)){if(R(s)==="Function"&&s(u))return d=u,[];for(let m of u){if(d!=="notFoundC")break;if(R(s)==="Function"&&s(m)||m===s)return d=m,[u.indexOf(m)];if(R(m)==="Array"||R(m)==="Object"){let c=o(m,s);if(c!==void 0)return[u.indexOf(m),...c]}}}else if(R(u)==="Object"){if(R(s)==="Function"&&s(u))return d=u,[];for(let m in u){if(d!=="notFoundC")break;if(u.hasOwnProperty(m)){if(R(s)==="Function"&&s(m)||u[m]===s)return d=u[m],[m];if(R(u[m])==="Object"||R(u[m])==="Array"){let c=o(u[m],s);if(c!==void 0)return[m,...c]}}}}};return n=o(a,r),t?n||!1:d==="notFoundC"?!1:d}function Rt(a,r){for(let t=0,n=r.length;t<n;t++)if(a===r[t])return!0;return!1}function Ut(a,r=2){let t=new RegExp(`(^-?\\d+\\.\\d{${r}})(\\d+$)`),n=a&&String(a)||"";return t.test(n)?Number(n.replace(t,"$1")):a}function tt(a,r={},t="get"){let n=document.createElement("form"),d=document.getElementsByTagName("body")[0];d.appendChild(n),n.setAttribute("style","display:none"),n.setAttribute("target",""),n.setAttribute("method",t);let o=a;if(window&&window.hasOwnProperty("g")){let u=Object.keys(window.g).filter(s=>s.indexOf("URL")>-1).map(s=>s.replace("URL",""));for(let s of u){let m=new RegExp("^/"+s+"(?=/.*$)","i");if(m.test(a)&&window.g[s+"URL"]){o=window.g[s+"URL"]+a.replace(m,"");break}}}if(n.setAttribute("action",o),L.isPlainObject(r)){for(let s in r)if(r.hasOwnProperty(s)&&(r[s]||r[s]===0||r[s]===!1||r[s]==="")){let m=document.createElement("input");m.setAttribute("type","hidden"),m.setAttribute("name",s),m.setAttribute("value",r[s]),n.appendChild(m)}n.submit();let u=setTimeout(()=>{d.removeChild(n),clearTimeout(u),u=null},8e3)}else console.error("请求数据格式有误，无法下载文件")}function Pt(a,r={},t="get"){if(r.hasOwnProperty("columns")&&(r.columns===""||r.columns===null||r.columns===void 0)){ce.call(this,{title:"需要导出的列不能为空",type:"warning"});return}tt(a,r,t)}function Kt(a,r,t=!1){let n;if(a&&R(r)==="Array"){let d=localStorage.getItem(a);if(d){let o=JSON.parse(decodeURI(d));n=r.filter(u=>u.key&&o.indexOf(u.title)!==-1).map(u=>u.key)}else n=r.map(o=>o.key)}else n=[];return t||(n=String(n)),n}function le(a){return a!=null&&a!==""}function $t(a){return/^-?\d+(.\d+)?$/.test(a)}function lt(a,r=!1,t=""){return function(n,d){var m,c;let o;if(Array.isArray(a)){let f=[];for(let p of a)le((m=d.row)==null?void 0:m[p])&&f.push(d.row[p]);o=f.join(t)}else typeof a=="function"?o=a(d):o=(c=d.row)==null?void 0:c[a];let u=ve(o),s=d.column._width;return o&&u>s?e.h(re.Tooltip,{style:{width:"100%"},content:o,maxWidth:s*2},()=>e.h("span",{style:{width:"100%",display:"inline-block","text-overflow":"ellipsis","white-space":"nowrap",overflow:"hidden","vertical-align":"top"}},o)):e.h("span",r&&!le(o)?"--":o)}}function zt(a){if(L.isPlainObject(a)){for(let r in a)if(a.hasOwnProperty(r)&&le(a[r]))return!1;return!0}else if(Array.isArray(a)){for(let r of a)if(le(r))return!1;return!0}return!le(a)}function Gt(a){return R(a)==="String"?a.replace(/[^\x00-\xff]/g,"01").length:R(a)==="Number"?(a+="",a.replace(/[^\x00-\xff]/g,"01").length):0}function Ve({group:a,condition:r,key:t,val:n,childKey:d="children"}){if(R(a)!=="Array"||R(r)!=="Function"||R(t)!=="String"||R(d)!=="String")return!1;a.forEach(o=>{r(o)&&(R(n)==="Function"?o[t]=n(o[t]):o[t]=n),R(o[d])==="Array"&&o[d].length>0&&Ve({group:o[d],condition:r,key:t,val:n,childKey:d})})}function nt(a){let r=sessionStorage.getItem("btnPermissions");return r?r.split(",").indexOf(a)>-1:!1}function at(a){return R(a)==="Number"&&String(a)==="NaN"}function Ht(a,r=!1,t=!1){if(R(a)!=="Object")return a;let n=Object.assign(a,{}),d="";for(let o in n)if(n.hasOwnProperty(o)){let u=n[o];u===void 0||u===""||R(u)==="String"&&u.trim()===""||u===null||at(u)?t?r?d+=o+"=&":n[o]="":delete n[o]:r&&(d+=o+"="+u+"&")}return r?d.length>0?d.substring(0,d.length-1):"":n}function $e(a){let r={};if(Array.isArray(a)){r=[];for(let t of a)Array.isArray(t)||L.isPlainObject(t)?r.push($e(t)):le(t)&&r.push(t)}else if(L.isPlainObject(a))for(let t in a)a.hasOwnProperty(t)&&(Array.isArray(a[t])||L.isPlainObject(a[t])?r[t]=$e(a[t]):le(a[t])&&(r[t]=a[t]));return r}function Wt(a){const r=window.open();if(r){r.document.write(a);let t=setTimeout(()=>{r.print(),window.clearTimeout(t),t=null},10)}}function ot(a){let r=[],t=a;for(;a.previousSibling&&(a=a.previousSibling);)a.nodeType===1&&r.push(a);for(;t.nextSibling&&(t=t.nextSibling);)t.nodeType===1&&r.push(t);return r}const jt=Object.freeze(Object.defineProperty({__proto__:null,clearObj:Ke,dataFilterOrToUrl:Ht,decimalDigitsLimit:Ut,downloadFileByFormSubmit:tt,fileExport:Pt,findCollection:we,formDataHeadConfig:Ft,getColumnsKeys:Kt,hasPermission:nt,htmlPrint:Wt,isEmptyValue:zt,isNaN:at,isNumberValue:$t,isValidValue:le,myTypeof:R,oneOf:Rt,removeEmptyValue:$e,setValByOption:Ve,siblingElems:ot,stringLength:Gt,toFormData:Et,toLine:et,tooltipManual:lt,trimObj:Ne},Symbol.toStringTag,{value:"Module"})),zl={class:"groupBoxRP"},Gl=["onClick"],Hl=e.defineComponent({__name:"SideMenuGroup",props:{data:{default:()=>[]},pathName:{default:""}},setup(a){const r=a,t=Bt.useRouter();function n(o){return o.path===r.pathName?"active":""}function d(o,u){o.preventDefault();let s=o.target;if(!u.children&&!s.classList.contains("active")){t.push(u.path);return}let m=s.parentNode,c=ot(m);for(let f of c){f.classList.remove("open");const p=f.querySelectorAll(".open");for(let C of p)C.classList.remove("open")}m.classList.toggle("open")}return(o,u)=>{const s=e.resolveComponent("sideMenuGroup",!0);return e.openBlock(),e.createElementBlock("ul",zl,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.data,(m,c)=>(e.openBlock(),e.createElementBlock("li",{class:e.normalizeClass({dropItemRP:m.children}),key:m.path+c},[e.createElementVNode("div",{class:e.normalizeClass(["menuTxtR",n(m)]),onClick:f=>d(f,m),style:e.normalizeStyle({paddingLeft:m.level*20+"px"})},e.toDisplayString(m.name||"-- no name --"),15,Gl),m.children?(e.openBlock(),e.createBlock(s,{key:0,data:m.children,"path-name":r.pathName},null,8,["data","path-name"])):e.createCommentVNode("",!0)],2))),128))])}}}),Wl={class:"menuListR"},qt=e.defineComponent({__name:"SideMenu",props:{data:{default:()=>[]}},emits:["on-change"],setup(a,{emit:r}){const t=a,n=Bt.useRoute(),d=e.ref(!0),o=e.ref(),u=e.ref(),s=e.computed(()=>d.value?N("r.hideMenu"):N("r.showMenu")),m=e.computed(()=>d.value?"ios-arrow-back":"ios-arrow-forward");e.onBeforeMount(()=>{let p=localStorage.getItem("menuDisplayR")||"";p!==""?d.value=JSON.parse(p):(d.value=!0,localStorage.setItem("menuDisplayR",JSON.stringify(!0)))}),e.watch(()=>n.path,p=>{o.value=p,e.nextTick(f)},{immediate:!0});function c(){d.value=!d.value,localStorage.setItem("menuDisplayR",JSON.stringify(d.value)),r("on-change",d.value)}function f(){let p=u.value.querySelectorAll(".dropItemRP");for(let C of p)C.querySelector(".active")&&!C.classList.contains("open")&&C.classList.add("open")}return(p,C)=>{const k=e.resolveComponent("Icon");return e.openBlock(),e.createElementBlock("div",{ref_key:"menuRef",ref:u,class:"menuBoxRP"},[e.withDirectives(e.createElementVNode("div",Wl,[e.createVNode(Hl,{data:t.data,pathName:e.unref(o)},null,8,["data","pathName"])],512),[[e.vShow,e.unref(d)]]),e.createVNode(k,{type:e.unref(m),size:25,class:e.normalizeClass([{showIco:!e.unref(d)},"menuShowHideIco"]),title:e.unref(s),onClick:c,color:e.unref(d)?"#fff":"#333"},null,8,["type","class","title","color"])],512)}}}),jl=["title"],Jt=e.defineComponent({__name:"TableIconBtn",props:{icon:{default:"md-radio-button-on"},title:{},has:{default:""},disabled:{type:Boolean,default:!1},size:{default:24}},emits:["click"],setup(a,{emit:r}){const t=a;function n(d){t.disabled||r("click",d)}return(d,o)=>{const u=e.resolveComponent("Icon"),s=e.resolveDirective("has");return e.withDirectives((e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["tableBtnsG",{disabled:t.disabled}]),onClick:n,title:t.title||e.unref(N)("r.button")},[e.createVNode(u,{type:t.icon,size:t.size},null,8,["type","size"])],10,jl)),[[s,t.has]])}}}),ql={class:"contentX"},Jl={class:"arrowA"},ze=e.defineComponent({__name:"ShowHidePanel",props:{bg:{}},setup(a){const r=a,t=e.ref(!0),n=e.computed(()=>t?"background:"+r.bg||"transparent":"");return(d,o)=>{const u=e.resolveComponent("Icon");return e.openBlock(),e.createElementBlock("div",{style:e.normalizeStyle(e.unref(n))},[e.withDirectives(e.createElementVNode("div",ql,[e.renderSlot(d.$slots,"default")],512),[[e.vShow,e.unref(t)]]),e.createElementVNode("div",Jl,[e.createElementVNode("div",{class:"btA",onClick:o[0]||(o[0]=s=>t.value=!e.unref(t))},[e.createVNode(u,{type:e.unref(t)?"ios-arrow-up":"ios-arrow-down",size:"20"},null,8,["type"])])])],4)}}}),Yl={class:"contentZ"},Yt=e.defineComponent({__name:"ShowHidePanelB",props:{modelValue:{type:Boolean,default:!1},bg:{default:"transparent"}},emits:["update:modelValue"],setup(a,{emit:r}){const t=a,n=e.computed({get(){return t.modelValue},set(o){r("update:modelValue",o)}}),d=e.computed(()=>n.value?"background:"+t.bg:"");return(o,u)=>(e.openBlock(),e.createElementBlock("div",{style:e.normalizeStyle(e.unref(d))},[e.withDirectives(e.createElementVNode("div",Yl,[e.renderSlot(o.$slots,"default")],512),[[e.vShow,e.unref(n)]])],4))}});let it=[],rt=[];const Xl=function(a){a&&a.beforeEach?a.beforeEach(()=>{it.map(r=>{window.clearTimeout(r)}),rt.map(r=>{window.clearInterval(r)}),it.length=0,rt.length=0}):console.warn("安装库plug-r-qw时未传入router，调用该库的定时器方法产生的定时器将不能自动销毁，请传入router：Vue.use(plugRQw,{router,...})")},ie=function(a,r){let t=window.setTimeout(a,r);return it.push(t),t},st=function(a,r){let t=window.setInterval(a,r);return rt.push(t),t},Xt=e.defineComponent({__name:"TableSearch",props:{modelValue:{},open:{type:Boolean,default:!1},placeholder:{},showBtn:{type:Boolean,default:!0},fixed:{type:Boolean,default:!1},width:{default:"210px"},right:{default:"0"},top:{default:"0"},btnColor:{default:"inherit"}},emits:["update:modelValue","on-toggle","on-search"],setup(a,{emit:r}){const t=a;let n=!1;const d=e.computed({get(){return t.modelValue},set(m){r("update:modelValue",m)}}),o=e.computed({get(){return t.open},set(m){r("on-toggle",m)}}),u=e.computed(()=>o.value?"ios-arrow-up":"ios-arrow-down");function s(){n||(n=!0,r("on-search",d.value),ie(()=>{n=!1},2e3))}return(m,c)=>{const f=e.resolveComponent("Input"),p=e.resolveComponent("icon");return e.openBlock(),e.createElementBlock("div",{class:"tableSearchV",style:e.normalizeStyle({position:t.fixed?"fixed":"absolute",right:t.right,top:t.top})},[e.renderSlot(m.$slots,"default",{},()=>[e.createVNode(f,{modelValue:e.unref(d),"onUpdate:modelValue":c[0]||(c[0]=C=>e.isRef(d)?d.value=C:null),style:e.normalizeStyle({width:t.width}),search:"",onOnSearch:s,class:"searchInputC",placeholder:t.placeholder||e.unref(N)("r.pInput")},null,8,["modelValue","style","placeholder"])]),e.withDirectives(e.createElementVNode("span",{class:"sbt",onClick:c[1]||(c[1]=C=>o.value=!e.unref(o)),style:e.normalizeStyle({color:t.btnColor})},[e.createVNode(p,{type:e.unref(u),color:t.btnColor},null,8,["type","color"]),e.createTextVNode(e.toDisplayString(e.unref(N)("r.adSearch")),1)],4),[[e.vShow,t.showBtn]])],4)}}}),Ql={class:"tabSetF"},Zl={class:"topCheck"},Qt=e.defineComponent({__name:"TableSetting",props:{modelValue:{default:()=>[]},sKey:{},top:{default:"30px"},right:{default:"0"},width:{default:"150px"},bg:{default:"#ccc"},defaultCheck:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(a,{emit:r}){const t=a,n=e.ref(!0),d=e.ref(!1),o=e.ref(!1),u=e.ref([]),s=e.computed(()=>{let y=N("r.unknown");return t.modelValue.length>u.value.length&&(u.value=L.cloneDeep(t.modelValue)),u.value.map(B=>{let A={label:B&&B.title||y};return B&&B.disableShowSetting&&(A.disabled=!0),A})}),m=e.computed(()=>s.value.filter(y=>y.disabled)),c=e.computed({get(){return t.modelValue.map(y=>y&&y.title||N("r.unknown"))},set(y){let B=u.value.filter(A=>{for(let V of y)if(V===A.title)return!0;return!1});r("update:modelValue",B)}}),{locale:f}=Tl.useI18n();e.onMounted(()=>{let y=N("r.unknown"),B;f.value?B=localStorage.getItem(t.sKey+"_"+f.value):B=localStorage.getItem(t.sKey),B?c.value=JSON.parse(decodeURI(B)):t.defaultCheck&&(c.value=t.modelValue.filter(A=>A.showSettingCheck).map(A=>A&&A.title||y))});function p(y){y.length===s.value.length?(n.value=!1,d.value=!0):y.length>m.value.length?(n.value=!0,d.value=!1):(n.value=!1,d.value=!1)}e.watch(()=>c.value,p,{immediate:!0,deep:!0});function C(){o.value||(o.value=!0)}function k(){f.value?localStorage.setItem(t.sKey+"_"+f.value,encodeURI(JSON.stringify(c.value))):localStorage.setItem(t.sKey,encodeURI(JSON.stringify(c.value))),o.value=!1}function b(){n.value?d.value=!1:d.value=!d.value,n.value=!1,d.value?c.value=s.value.map(y=>y.label):c.value=m.value.map(y=>y.label)}return(y,B)=>{const A=e.resolveComponent("Icon"),V=e.resolveComponent("Checkbox"),S=e.resolveComponent("CheckboxGroup");return e.openBlock(),e.createElementBlock("div",Ql,[e.createElementVNode("div",{class:"tabSetBt",onClick:C},[e.createVNode(A,{type:"md-settings",size:"17"}),e.createElementVNode("span",null,e.toDisplayString(e.unref(N)("r.tabSetting")),1)]),e.withDirectives(e.createElementVNode("div",{class:"tabSetCard",style:e.normalizeStyle({top:t.top,right:t.right,width:t.width,backgroundColor:t.bg})},[e.createElementVNode("div",Zl,[e.createVNode(V,{indeterminate:e.unref(n),modelValue:e.unref(d),"onUpdate:modelValue":B[0]||(B[0]=T=>e.isRef(d)?d.value=T:null),onClick:e.withModifiers(b,["prevent"])},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(N)("r.all")),1)]),_:1},8,["indeterminate","modelValue","onClick"]),e.createElementVNode("span",{style:{cursor:"pointer",float:"right"},onClick:k},e.toDisplayString(e.unref(N)("r.confirm")),1)]),e.createVNode(S,{modelValue:e.unref(c),"onUpdate:modelValue":B[1]||(B[1]=T=>e.isRef(c)?c.value=T:null)},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(s),(T,I)=>(e.openBlock(),e.createBlock(V,{class:"setItem",label:T&&T.label,key:"tabSet_"+t.sKey+I,disabled:T&&T.disabled},null,8,["label","disabled"]))),128))]),_:1},8,["modelValue"])],4),[[e.vShow,e.unref(o)]])])}}});let Be=0,Le=document.createElement("div");Le.setAttribute("class","spinModal"),Le.innerHTML='<div class="loader"><svg class="circular" viewBox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="5" stroke-miterlimit="10" /></svg></div>',window.onload=function(){document.getElementsByTagName("body")[0].append(Le)};function Zt(a){a?Le.classList.add("show"):Le.classList.remove("show")}function vt(a){let r=Be;a?Be++:Be>0&&Be--,r!==Be&&(Be===0?Zt(!1):r===0&&Zt(!0))}const vl=window.location.origin;let Ce=null;const el=(...a)=>ye.apply(Ce,a);let fe=Je.create({baseURL:vl,withCredentials:!0});function en(){console.info("store为空，请在安装插件时传入store实例：Vue.use(plugRQw,{store:store})，Pinia传{store:useStore}")}fe.interceptors.request.use(a=>a,a=>Promise.reject(a));function tl(){var a,r;if(fe.store)if(typeof fe.store=="function"){const t=fe.store();t.logout&&t.logout()}else(r=(a=fe.store)==null?void 0:a.dispatch)==null||r.call(a,"logout");else en()}fe.interceptors.response.use(a=>{var r,t;return Ce&&(((r=a==null?void 0:a.data)==null?void 0:r.code)===403||((t=a==null?void 0:a.data)==null?void 0:t.code)===409)&&Ce.messageBox({content:el("r.http."+a.data.code),onOk:tl}),a},a=>{var r,t;return Ce&&(((r=a==null?void 0:a.response)==null?void 0:r.status)===403||((t=a==null?void 0:a.response)==null?void 0:t.status)===409)&&Ce.messageBox({content:el("r.http."+a.response.status),onOk:tl}),console.warn("请求出错：",a),Promise.reject(a)});function ge(a,r,t,n){n&&n.spin&&vt(!1);let d=!0,o=a&&a.data;if(o){t=t||[];for(let u of t)o=o[u],d=d&&o;return d?o:(r&&console.warn(r),!1)}return r&&console.warn(r),!1}function tn(a,r,t,n,d,o,u){return new Promise((s,m)=>{switch(a){case"get":fe.get(r,{params:t}).then(f=>{let p=ge(f,n,d,o);p?s(p):m(f)}).catch(f=>{ge({},n,d,o),m(f)});break;case"delete":let c=u?"params":"data";fe.delete(r,{[c]:t}).then(f=>{let p=ge(f,n,d,o);p?s(p):m(f)}).catch(f=>{ge({},n,d,o),m(f)});break;case"post":fe.post(r,t,o).then(f=>{let p=ge(f,n,d,o);p?s(p):m(f)}).catch(f=>{ge({},n,d,o),m(f)});break;case"put":fe.put(r,t,o).then(f=>{let p=ge(f,n,d,o);p?s(p):m(f)}).catch(f=>{ge({},n,d,o),m(f)});break}})}function Ge(a,r,t={},n,d,o,u){return new Promise((s,m)=>{var c;if(r){o&&o.spin&&vt(!0);let f=r;if(window&&window.hasOwnProperty("g")){const k=window.g;let b=Object.keys(k).filter(y=>y.indexOf("URL")>-1).map(y=>y.replace("URL",""));for(let y of b){let B=new RegExp("^/"+y+"(?=/.*$)","i");if(B.test(r)&&k[y+"URL"]){f=k[y+"URL"]+r.replace(B,"");break}}}let p;if(((c=o==null?void 0:o.headers)==null?void 0:c["Content-Type"])==="multipart/form-data")p=t;else if(t&&!L.isEmpty(t))if(Array.isArray(t)){p=[];for(let k of t)(k||k===0||k===!1||k===""&&o&&!o.noEmptyStr)&&p.push(k)}else{p={};for(let k in t)t.hasOwnProperty(k)&&(t[k]||t[k]===0||t[k]===!1||t[k]===""&&o&&!o.noEmptyStr)&&(p[k]=t[k])}let C=a.toLowerCase();tn(C,f,p,n,d,o,u).then(k=>{s(k)}).catch(k=>{m(k)})}else console.error("没有请求地址:url"),m("没有请求地址:url")})}const ue={init(a,r){fe.store=a,Ce=r.config.globalProperties},post(a,r,t,n,d){return new Promise((o,u)=>{Ge("post",a,r,t,n,d).then(s=>{o(s)}).catch(s=>{u(s)})})},put(a,r,t,n,d){return new Promise((o,u)=>{Ge("put",a,r,t,n,d).then(s=>{o(s)}).catch(s=>{u(s)})})},get(a,r,t,n,d){return new Promise((o,u)=>{Ge("get",a,r,t,n,d).then(s=>{o(s)}).catch(s=>{u(s)})})},delete(a,r,t,n,d,o=!0){return new Promise((u,s)=>{Ge("delete",a,r,t,n,d,o).then(m=>{u(m)}).catch(m=>{s(m)})})},all:Je.all,spread:Je.spread,config:fe},ln={class:"btTablePage fullHeight",ref:"tableBox"},nn={class:"topBtn"},an={class:"fullHeight relativeBox"},on={ref:"tableContainerLOI",class:"fullFlowContent"},rn={class:"pageContainer"},sn=300,He=e.defineComponent({__name:"BtTablePage",props:{url:{default:""},searchData:{default:()=>({})},columns:{default:()=>[]},dataHandler:{},selection:{type:Boolean,default:!1},radio:{type:Boolean,default:!1},selectionFixed:{type:[String,Boolean],default:!1},rowClickSelect:{type:Boolean,default:!0},data:{default:()=>[]},pageSize:{default:10},sortable:{default:""},initData:{type:Boolean,default:!0},highlightRow:{type:Boolean,default:!1},rowClickNum:{default:-1},tableEmptyTdHandle:{type:Boolean,default:!1},noBorderTable:{type:Boolean,default:!1},noPage:{type:Boolean,default:!1},orderDefault:{default:"desc"},orderKey:{default:"id"},orderKeyFormat:{default:"underline"},getDataLoading:{type:Boolean,default:!1},showTopRow:{type:Boolean,default:!1},lightHead:{type:Boolean,default:!1},pageComponentSize:{default:"default"},noElevator:{type:Boolean,default:!1}},emits:["on-selection-change","on-data-change"],setup(a,{expose:r,emit:t}){const n=a,{globalProperties:d}=e.getCurrentInstance().appContext.config;({...{showSettingCheck:!1,disableShowSetting:!1},...re.TableColumnConfig});const u=d.pageSizes||[10,20,30,40],s=e.ref(n.data),m=e.ref(localStorage.getItem("btPageSize")&&Number(localStorage.getItem("btPageSize"))||n.pageSize),c=e.ref(1),f=e.ref(0);let p=[],C,k,b=n.orderKey,y=n.orderDefault;const B=e.computed(()=>{for(let U of n.columns)if(U.fixed)return!0;return!1}),A=e.computed(()=>n.selectionFixed||B.value),V=e.computed(()=>{let U={...n.searchData,current:c.value,size:m.value};return n.sortable==="custom"&&(n.orderKeyFormat==="underline"?U[y]=et(b):n.orderKeyFormat==="camelcase"&&(U[y]=Xe(b))),U}),S=e.computed(()=>{let U=n.columns.filter(E=>E.type!=="selection");if(n.selection||n.radio){let E;n.radio?E={title:" ",width:65,render:(ee,v)=>e.h(re.Radio,{value:v.row.btChecked})}:E={type:"selection",width:60},n.selectionFixed&&(E.fixed=n.selectionFixed),U.unshift(E)}return U.forEach(E=>{n.sortable==="custom"?E.key&&E.sortable!==!0&&E.sortable!==!1&&(E.sortable="custom"):E.sortable=!1,E.align||(E.align="center")}),n.tableEmptyTdHandle&&U.forEach(E=>{E.key&&E.render===void 0&&(E.tooltip?E.render=lt(E.key,!0):E.render=(ee,v)=>{let ne=v.row[E.key];return ee("span",ne===""||ne===null||ne===void 0?"--":ne)})}),U}),T=e.computed({get(){return s.value.map((U,E)=>({btKey:"bt-"+E,btChecked:!1,...U}))},set(U){s.value=U}}),I=e.computed(()=>p.map(U=>U.id)),D=e.computed(()=>p.map(U=>U.btKey)),h=e.ref();e.watch(()=>n.searchData,O,{deep:!0});function O(){c.value=1,he()}function g(){n.initData&&he()}function F(U){s.value.unshift(L.cloneDeep(U)),ie(()=>{var E,ee;(ee=(E=h.value)==null?void 0:E.clickCurrentRow)==null||ee.call(E,0)},100)}function H(U,E,ee){let v=null;if(L.isBoolean(E)&&E?v=k:L.isNumber(E)&&(v=E),v!==null){let ne=s.value[v];for(let W in U)U.hasOwnProperty(W)&&(ne[W]=U[W]);ee&&ie(()=>{var W,pe;(pe=(W=h.value)==null?void 0:W.clickCurrentRow)==null||pe.call(W,v)},10)}}function $(U){s.value.splice(U,1),ie(()=>{var E,ee;(ee=(E=h.value)==null?void 0:E.clickCurrentRow)==null||ee.call(E,0)},100)}function J(U,E){var ee,v;U.btChecked&&n.radio||(n.selection||n.radio)&&n.rowClickSelect&&((v=(ee=h.value)==null?void 0:ee.toggleSelect)==null||v.call(ee,E))}function te(U,E){C=E.btKey,k=Number(E.btKey.split("-")[1]),n.radio&&(s.value[k].btChecked=!0)}function de(U){if(n.radio)for(let E of T.value)E.btKey!==C&&(s.value[Number(E.btKey.split("-")[1])].btChecked=!1);p=U,t("on-selection-change",U)}function ae(){return L.cloneDeep(p)}function K(U){c.value=U,he()}function Z(U){m.value=U,localStorage.setItem("btPageSize",String(U)),c.value===1&&he()}function X({key:U,order:E}){y==="normal"?(b=n.orderKey,y=n.orderDefault):(b=U,y=E),c.value=1,Q()}function M(){var U,E;if(n.radio){if(D.value.length>0&&T.value.length>0){let ee=D.value[0].split("-")[1];T.value[ee].btChecked=!1}}else(E=(U=h.value)==null?void 0:U.selectAll)==null||E.call(U,!1);p.length>0&&(p=[],t("on-selection-change",[])),C=null,k=null}function q(){s.value=[],M(),c.value=1,f.value=0}function Q(U,E,ee){return new Promise(v=>{U&&(y=U),E&&(b=E),n.url?ue.get(n.url,V.value,"",[],{spin:n.getDataLoading}).then(ne=>{var pe,qe;let W;ee||M(),typeof n.dataHandler=="function"?W=n.dataHandler(ne):W=ne,W.data?(W.data.records||W.data.records===null?s.value=W.data.records||[]:W.data.page?(W.data.page.records||W.data.page.records===null)&&(s.value=W.data.page.records||[]):W.data.data?(W.data.data.records||W.data.data.records===null)&&(s.value=W.data.data.records||[]):s.value=W.data,f.value=((pe=W.data.page)==null?void 0:pe.total)||((qe=W.data.data)==null?void 0:qe.total)||W.data.total||W.total||0,f.value===0&&c.value>1&&s.value&&s.value.length===0?c.value=1:c.value>1&&f.value<=(c.value-1)*m.value&&(c.value--,e.nextTick(function(){Q(U,E)})),t("on-data-change",W),v(W)):(console.warn("请求返回数据有误，无法使用"),q(),t("on-data-change",W))}).catch(ne=>{console.warn(ne),M(),q(),t("on-data-change",ne)}):console.warn("没有有效的请求地址，无法获取表格数据")})}function he(U,E,ee){n.radio&&(U||n.rowClickNum!==-1)?Q(E,ee,U).then(()=>{s.value.length>0&&ie(()=>{var v,ne,W,pe;U?(ne=(v=h.value)==null?void 0:v.clickCurrentRow)==null||ne.call(v,k||0):(pe=(W=h.value)==null?void 0:W.clickCurrentRow)==null||pe.call(W,n.rowClickNum)},10)}):Q()}return e.onMounted(g),r({selectedIds:I,addRow:F,setRowData:H,deleteRow:$,getSelected:ae,clearSelect:M,clearTableData:q,getTableData:Q,getDataAndClickRow:he}),(U,E)=>{const ee=e.resolveComponent("Table"),v=e.resolveComponent("Page");return e.openBlock(),e.createElementBlock("div",ln,[e.withDirectives(e.createElementVNode("div",nn,[e.renderSlot(U.$slots,"tableSetting"),e.renderSlot(U.$slots,"topMsg"),e.renderSlot(U.$slots,"topBtnGroup")],512),[[e.vShow,n.showTopRow]]),e.createElementVNode("div",{class:e.normalizeClass(["tableContainer fullHeight",{noTop:!n.showTopRow,noPage:n.noPage}])},[e.createElementVNode("div",an,[e.createElementVNode("div",on,[e.createVNode(ee,e.mergeProps({ref_key:"tableRef",ref:h},U.$attrs,{height:e.unref(A)&&sn||null,class:{noBorderTable:n.noBorderTable,fullHeightTable:!e.unref(A),lightHeadO:n.lightHead},columns:e.unref(S),data:e.unref(T),"highlight-row":n.radio||n.highlightRow,onOnSelect:te,onOnSelectionChange:de,onOnSortChange:X,onOnRowClick:J}),null,16,["height","class","columns","data","highlight-row"])],512)])],2),e.withDirectives(e.createElementVNode("div",rn,[e.createVNode(v,{modelValue:e.unref(c),"onUpdate:modelValue":E[0]||(E[0]=ne=>e.isRef(c)?c.value=ne:null),"page-size-opts":e.unref(u),total:e.unref(f),"page-size":e.unref(m),"show-sizer":"","show-total":"",showElevator:!n.noElevator,size:n.pageComponentSize,onOnChange:K,onOnPageSizeChange:Z},null,8,["modelValue","page-size-opts","total","page-size","showElevator","size"])],512),[[e.vShow,!n.noPage]])],512)}}}),ct=e.defineComponent({__name:"SelectInput",props:{modelValue:{default:()=>({key:null,val:null})},labelWidth:{default:160},labelTextAlign:{default:"right"},itemWidth:{default:200},selectOption:{default:()=>[]},placeholder:{},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","on-change"],setup(a,{emit:r}){const t=a,n=e.computed({get(){return t.modelValue&&t.modelValue.key||null},set(c){let f={key:c,val:null};n.value&&n.value!==c&&(f.beforeKey=n.value),r("update:modelValue",f),r("on-change",f)}}),d=e.computed({get(){return t.modelValue&&t.modelValue.val||null},set(c){r("update:modelValue",{key:n.value,val:c})}}),o=e.computed(()=>({width:t.labelWidth+"px",textAlign:t.labelTextAlign})),u=e.computed(()=>({width:t.itemWidth+"px"}));function s(c){var f;((f=c==null?void 0:c.target)==null?void 0:f.value)!==void 0&&m({key:n.value,val:c.target.value})}const m=L.debounce(c=>{r("on-change",c)},500);return(c,f)=>{const p=e.resolveComponent("Option"),C=e.resolveComponent("Select"),k=e.resolveComponent("Input");return e.openBlock(),e.createElementBlock("div",null,[e.createVNode(C,{modelValue:e.unref(n),"onUpdate:modelValue":f[0]||(f[0]=b=>e.isRef(n)?n.value=b:null),style:e.normalizeStyle(e.unref(o)),disabled:!!t.disabled,transfer:""},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.selectOption,(b,y)=>(e.openBlock(),e.createBlock(p,{value:b.val,key:"selectInputOp"+b.value+y,style:e.normalizeStyle({textAlign:t.labelTextAlign})},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(b.label),1)]),_:2},1032,["value","style"]))),128))]),_:1},8,["modelValue","style","disabled"]),e.createVNode(k,{modelValue:e.unref(d),"onUpdate:modelValue":f[1]||(f[1]=b=>e.isRef(d)?d.value=b:null),placeholder:t.placeholder||e.unref(N)("r.pInput"),style:e.normalizeStyle(e.unref(u)),clearable:t.clearable,disabled:!!t.disabled,onOnChange:s},null,8,["modelValue","placeholder","style","clearable","disabled"])])}}});var cn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dn(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var ll={exports:{}};(function(a,r){(function(t,n){a.exports=n()})(cn,function(){function t(p){var C=[];return p.AMapUI&&C.push(n(p.AMapUI)),p.Loca&&C.push(d(p.Loca)),Promise.all(C)}function n(p){return new Promise(function(C,k){var b=[];if(p.plugins)for(var y=0;y<p.plugins.length;y+=1)u.AMapUI.plugins.indexOf(p.plugins[y])==-1&&b.push(p.plugins[y]);if(s.AMapUI===o.failed)k("前次请求 AMapUI 失败");else if(s.AMapUI===o.notload){s.AMapUI=o.loading,u.AMapUI.version=p.version||u.AMapUI.version,y=u.AMapUI.version;var B=document.body||document.head,A=document.createElement("script");A.type="text/javascript",A.src="https://webapi.amap.com/ui/"+y+"/main.js",A.onerror=function(V){s.AMapUI=o.failed,k("请求 AMapUI 失败")},A.onload=function(){if(s.AMapUI=o.loaded,b.length)window.AMapUI.loadUI(b,function(){for(var V=0,S=b.length;V<S;V++){var T=b[V].split("/").slice(-1)[0];window.AMapUI[T]=arguments[V]}for(C();m.AMapUI.length;)m.AMapUI.splice(0,1)[0]()});else for(C();m.AMapUI.length;)m.AMapUI.splice(0,1)[0]()},B.appendChild(A)}else s.AMapUI===o.loaded?p.version&&p.version!==u.AMapUI.version?k("不允许多个版本 AMapUI 混用"):b.length?window.AMapUI.loadUI(b,function(){for(var V=0,S=b.length;V<S;V++){var T=b[V].split("/").slice(-1)[0];window.AMapUI[T]=arguments[V]}C()}):C():p.version&&p.version!==u.AMapUI.version?k("不允许多个版本 AMapUI 混用"):m.AMapUI.push(function(V){V?k(V):b.length?window.AMapUI.loadUI(b,function(){for(var S=0,T=b.length;S<T;S++){var I=b[S].split("/").slice(-1)[0];window.AMapUI[I]=arguments[S]}C()}):C()})})}function d(p){return new Promise(function(C,k){if(s.Loca===o.failed)k("前次请求 Loca 失败");else if(s.Loca===o.notload){s.Loca=o.loading,u.Loca.version=p.version||u.Loca.version;var b=u.Loca.version,y=u.AMap.version.startsWith("2"),B=b.startsWith("2");if(y&&!B||!y&&B)k("JSAPI 与 Loca 版本不对应！！");else{y=u.key,B=document.body||document.head;var A=document.createElement("script");A.type="text/javascript",A.src="https://webapi.amap.com/loca?v="+b+"&key="+y,A.onerror=function(V){s.Loca=o.failed,k("请求 AMapUI 失败")},A.onload=function(){for(s.Loca=o.loaded,C();m.Loca.length;)m.Loca.splice(0,1)[0]()},B.appendChild(A)}}else s.Loca===o.loaded?p.version&&p.version!==u.Loca.version?k("不允许多个版本 Loca 混用"):C():p.version&&p.version!==u.Loca.version?k("不允许多个版本 Loca 混用"):m.Loca.push(function(V){V?k(V):k()})})}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var o;(function(p){p.notload="notload",p.loading="loading",p.loaded="loaded",p.failed="failed"})(o||(o={}));var u={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},s={AMap:o.notload,AMapUI:o.notload,Loca:o.notload},m={AMap:[],AMapUI:[],Loca:[]},c=[],f=function(p){typeof p=="function"&&(s.AMap===o.loaded?p(window.AMap):c.push(p))};return{load:function(p){return new Promise(function(C,k){if(s.AMap==o.failed)k("");else if(s.AMap==o.notload){var b=p.key,y=p.version,B=p.plugins;b?(window.AMap&&location.host!=="lbs.amap.com"&&k("禁止多种API加载方式混用"),u.key=b,u.AMap.version=y||u.AMap.version,u.AMap.plugins=B||u.AMap.plugins,s.AMap=o.loading,y=document.body||document.head,window.___onAPILoaded=function(V){if(delete window.___onAPILoaded,V)s.AMap=o.failed,k(V);else for(s.AMap=o.loaded,t(p).then(function(){C(window.AMap)}).catch(k);c.length;)c.splice(0,1)[0]()},B=document.createElement("script"),B.type="text/javascript",B.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+u.AMap.version+"&key="+b+"&plugin="+u.AMap.plugins.join(","),B.onerror=function(V){s.AMap=o.failed,k(V)},y.appendChild(B)):k("请填写key")}else if(s.AMap==o.loaded)if(p.key&&p.key!==u.key)k("多个不一致的 key");else if(p.version&&p.version!==u.AMap.version)k("不允许多个版本 JSAPI 混用");else{if(b=[],p.plugins)for(y=0;y<p.plugins.length;y+=1)u.AMap.plugins.indexOf(p.plugins[y])==-1&&b.push(p.plugins[y]);b.length?window.AMap.plugin(b,function(){t(p).then(function(){C(window.AMap)}).catch(k)}):t(p).then(function(){C(window.AMap)}).catch(k)}else if(p.key&&p.key!==u.key)k("多个不一致的 key");else if(p.version&&p.version!==u.AMap.version)k("不允许多个版本 JSAPI 混用");else{var A=[];if(p.plugins)for(y=0;y<p.plugins.length;y+=1)u.AMap.plugins.indexOf(p.plugins[y])==-1&&A.push(p.plugins[y]);f(function(){A.length?window.AMap.plugin(A,function(){t(p).then(function(){C(window.AMap)}).catch(k)}):t(p).then(function(){C(window.AMap)}).catch(k)})}})},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,u={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},s={AMap:o.notload,AMapUI:o.notload,Loca:o.notload},m={AMap:[],AMapUI:[],Loca:[]}}}})})(ll);var fn=ll.exports;const We=dn(fn);let dt={securityJsCode:"",key:""};function un({securityJsCode:a,key:r}){dt.securityJsCode=a,dt.key=r}function pn(a){return dt[a]}const ft=e.defineComponent({__name:"InputMap",props:{modelValue:{default:()=>({})},width:{default:"100%"},height:{},placeholder:{},disabled:{type:Boolean,default:!1},showMap:{type:Boolean,default:!0}},emits:["update:modelValue","on-change"],setup(a,{emit:r}){const t=a,n=e.computed({get(){let S;return t.modelValue?t.modelValue.name?S=L.cloneDeep(t.modelValue):S={...t.modelValue,name:null}:S={name:null},S},set(S){r("update:modelValue",L.cloneDeep(S))}}),d=e.computed(()=>L.isNumber(t.width)?t.width+"px":t.width),o=e.computed(()=>L.isNumber(t.height)?t.height+"px":t.height?t.height:L.isNumber(t.width)?t.width*.66+"px":"200px"),u=e.computed(()=>({width:d.value,position:"relative"})),s=e.computed(()=>({width:d.value,height:o.value,marginTop:"6px",opacity:t.showMap?1:0,position:t.showMap?"relative":"absolute",top:t.showMap?0:"-10000px"}));e.watch(()=>t.modelValue,S=>{if(S&&S.lng&&S.lat){if(!b||!y)return;A({lng:S.lng,lat:S.lat,name:S.name})}});const m="mapId"+Math.floor(Math.random()*1e9),c=e.ref(null),f=e.ref(null);let p;function C(){f.value&&f.value.clientHeight<10||!f.value?ie(C,300):ie(B,100)}let k,b,y;function B(){We.load({key:pn("key"),version:"2.0",plugins:["AMap.AutoComplete","AMap.Geocoder"]}).then(S=>{k=S,b=new k.Map(m).on("complete",()=>{var I,D,h,O;y=new k.Geocoder,(I=t.modelValue)!=null&&I.lng&&((D=t.modelValue)!=null&&D.lat)&&A({lng:t.modelValue.lng,lat:t.modelValue.lat,name:t.modelValue.name});const T=(O=(h=c.value)==null?void 0:h.$el)==null?void 0:O.children;T&&T.length>1&&new k.AutoComplete({input:T[1]}).on("select",g=>{var F,H,$;(F=g==null?void 0:g.poi)!=null&&F.name&&((H=g.poi.location)!=null&&H.lng&&(($=g.poi.location)!=null&&$.lat)?(A({name:g.poi.name,lng:g.poi.location.lng,lat:g.poi.location.lat}),n.value={name:g.poi.name,lng:g.poi.location.lng,lat:g.poi.location.lat}):b.setCity(g.poi.name,()=>{let J=b.getCenter();A({name:g.poi.name,lng:J.lng,lat:J.lat}),n.value={name:g.poi.name,lng:J.lng,lat:J.lat}})),r("on-change",n.value)}),b.on("hotspotclick",g=>{A({name:g.name,lng:g.lnglat.lng,lat:g.lnglat.lat}),n.value={name:g.name,lng:g.lnglat.lng,lat:g.lnglat.lat}})})})}function A({lng:S,lat:T,name:I}){b.clearMap();let D=new k.LngLat(S,T),h=new k.Marker({map:b,position:D,draggable:!0});b.add(h),V(S,T),h.on("dragend",()=>{let O=h.getPosition();n.value={name:I||null,lng:O.lng,lat:O.lat},V(S,T)}),h.on("click",O=>{p&&p.open(b,O.target.getPosition())}),b.setFitView()}function V(S,T){y.getAddress([S,T],(I,D)=>{I==="complete"&&D.info==="OK"&&D.regeocode&&D.regeocode.formattedAddress?p=new k.InfoWindow({isCustom:!0,content:'<div class="mapInfoWindowIKJ">'+D.regeocode.formattedAddress+"</div>",offset:new k.Pixel(16,-45),closeWhenClickMap:!0}):(p=null,console.warn("地图获取位置信息失败",D))})}return e.onMounted(C),e.onUnmounted(()=>{b&&(b.destroy(),We==null||We.reset(),b=null,y=null,p=null)}),(S,T)=>(e.openBlock(),e.createElementBlock("div",{style:e.normalizeStyle(e.unref(u)),class:"containerIKJ"},[e.createVNode(e.unref(re.Input),{ref_key:"mapInputRef",ref:c,modelValue:e.unref(n).name,"onUpdate:modelValue":T[0]||(T[0]=I=>e.unref(n).name=I),class:e.normalizeClass({mapInputIKJ:t.showMap}),placeholder:t.placeholder||e.unref(N)("r.search"),disabled:t.disabled,icon:"ios-search"},null,8,["modelValue","class","placeholder","disabled"]),e.createElementVNode("div",{style:e.normalizeStyle(e.unref(s)),ref_key:"mapRef",ref:f,id:m},null,4)],4))}}),ut=e.defineComponent({__name:"AsyncCascader",props:{modelValue:{},url:{default:(pl=window==null?void 0:window.g)!=null&&pl.mgrURL?window.g.mgrURL+"/web/v1/umc/orgs":""},optionVal:{default:"id"},optionLabel:{default:"name"},optionFilter:{},separator:{default:"/"},onlyLastVal:{type:Boolean,default:!0},onlyLastLabel:{type:Boolean,default:!0},filterable:{type:Boolean,default:!1},placeholder:{default:""},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","on-label-change"],setup(a,{emit:r}){const t=a,n=e.ref([]),d=e.computed({get(){let c=t.modelValue;return Array.isArray(c)?L.cloneDeep(c):L.isNumber(c)?xe({group:n.value,condition:f=>f.value===c,pathKey:"value"}):L.isString(c)?c.split(t.separator):[]},set(c){if(t.onlyLastVal)L.isEmpty(c)?(r("update:modelValue",null),r("on-label-change",null)):r("update:modelValue",L.last(c));else{if(L.isEqual(t.modelValue,c))return;r("update:modelValue",L.cloneDeep(c))}}});function o(){if(!t.url){console.error("没有用于拉取级联数据的有效接口地址");return}ue.get(t.url).then(c=>{var p;let f=null;(p=c==null?void 0:c.data)!=null&&p.records?f=c.data.records:c!=null&&c.data?f=c.data:c&&(f=c),f?(typeof t.optionFilter=="function"&&R(t.optionFilter)==="Function"&&(f=t.optionFilter(f)),n.value=u(f)):console.warn("级联数据错误，不能使用")}).catch(()=>{console.warn("拉取级联数据出错")})}function u(c){let f=[];for(let p of c){let C={value:p[t.optionVal],label:p[t.optionLabel]};p.children&&!L.isEmpty(p.children)&&(C.children=u(p.children)),f.push(C)}return f}function s(c){return t.onlyLastLabel?L.last(c):c.join(t.separator)}function m(c,f){let p="";L.isEmpty(f)||(p=f.map(C=>C.label).join(t.separator)),r("on-label-change",p)}return e.onMounted(o),(c,f)=>{const p=e.resolveComponent("Cascader");return e.openBlock(),e.createBlock(p,{data:e.unref(n),modelValue:e.unref(d),"onUpdate:modelValue":f[0]||(f[0]=C=>e.isRef(d)?d.value=C:null),onOnChange:m,"change-on-select":"",transfer:"",disabled:t.disabled,"render-format":s,placeholder:t.placeholder||e.unref(N)("r.pSelect"),filterable:t.filterable},null,8,["data","modelValue","disabled","placeholder","filterable"])}}}),pt=e.defineComponent({__name:"AlCascaderMC",props:{modelValue:{},level:{default:2},disabled:{type:Boolean,default:!1},transfer:{type:Boolean,default:!0},filterable:{type:Boolean,default:!0},separator:{default:"/"},placeholder:{}},emits:["update:modelValue","on-name-change"],setup(a,{emit:r}){const t=a,n=e.ref(),d=e.computed({get(){if(t.modelValue&&(L.isNumber(t.modelValue)||L.isString(t.modelValue))){let u=String(t.modelValue).trim();if(/^\d*$/.test(u)){let m=u.substring(0,2)+"0000",c,f=o(u);return f.length<7?c=u.substring(0,4)+"00":c=u.substring(0,6),/^8\d+$/.test(u)?[m,f]:[m,c,f]}return u.indexOf(t.separator)!==-1?u.split(t.separator):[u]}else return Array.isArray(t.modelValue)?L.cloneDeep(t.modelValue):(n.value&&(n.value.select=[]),[])},set(u){if(L.isEmpty(u))r("update:modelValue",null),r("on-name-change",null);else{let s=L.last(u),m="",c="";if(s&&(m=s.code),m&&m.length<12){let f=[...m];for(;f.length<12;)f.push(0);m=f.join("")}if(Array.isArray(u)&&(c=u.map(f=>f.name).join(t.separator)),m){if(m===t.modelValue)return;r("update:modelValue",m)}c&&r("on-name-change",c)}}});function o(u){let s=[...u];for(;s[s.length-1]==="0";)s.pop();return s.join("")}return(u,s)=>(e.openBlock(),e.createBlock(e.unref(Al),e.mergeProps(u.$attrs,{class:"alCascaderMC",ref_key:"alCRef",ref:n,modelValue:e.unref(d),"onUpdate:modelValue":s[0]||(s[0]=m=>e.isRef(d)?d.value=m:null),level:t.level,disabled:t.disabled,placeholder:t.placeholder||e.unref(N)("r.pSelect"),transfer:t.transfer,searchable:t.filterable}),null,16,["modelValue","level","disabled","placeholder","transfer","searchable"]))}});function be(a){var u,s,m;const r=(...c)=>ye.apply(this,c),t=r("r.closePreview"),n=r("r.fullImg");let d=L.first(document.getElementsByTagName("body")),o=document.createElement("div");o.setAttribute("class","fullScreenImgByDom"),o.innerHTML=`<div class='previewInner'><img src='${a}' alt='${n}' ><i class='ivu-icon ivu-icon-md-close' title='${t}' ></i></div>`,(s=(u=o.querySelector(".ivu-icon-md-close"))==null?void 0:u.addEventListener)==null||s.call(u,"click",function(){var f;let c=L.first(document.getElementsByTagName("body"));(f=c==null?void 0:c.removeChild)==null||f.call(c,o)}),(m=d==null?void 0:d.appendChild)==null||m.call(d,o)}const mn={class:"previewBoxM"},hn={class:"imgLoading"},yn=[e.createElementVNode("div",{"data-loader":"circle-side",class:"loader-div"},null,-1)],gn=["src","alt"],bn={class:"deleteModal"},kn={class:"previewBoxM"},wn={key:0,class:"previewImg"},Vn=["src","alt"],Bn={class:"deleteModal"},Cn={class:"customFileListM"},Sn={key:0,class:"customFileListItem"},_n=["onClick","title"],Tn={class:"btBoxJ"},An={class:"customFileListM"},xn={key:0,class:"customFileListItem"},Nn={class:"listLoading"},Ln=[e.createElementVNode("div",{"data-loader":"circle-side",class:"loader-div"},null,-1)],In=["onClick","title"],On={class:"btBoxJ"},mt=e.defineComponent({__name:"UploadGroup",props:{modelValue:{default:()=>[]},url:{default:(ml=window==null?void 0:window.g)!=null&&ml.mgrURL?window.g.mgrURL+"/web/v1/fsc/file":""},data:{default:()=>({appId:0,moduleId:0,typeId:0})},manualUpload:{type:Boolean,default:!1},maxSize:{default:0},length:{default:0},showUploadList:{type:Boolean,default:!0},withCredentials:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},format:{default:()=>[]},showImg:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","on-change"],setup(a,{emit:r}){const t=a,n=e.shallowRef([]),d=e.shallowRef([]),o=e.computed(()=>!t.manualUpload&&t.showImg&&c.value?"img":t.manualUpload&&t.showImg&&c.value?"localImg":t.manualUpload&&t.showUploadList&&(!t.showImg||!c.value)?"localList":!t.manualUpload&&t.showUploadList&&(!t.showImg||!c.value)?"list":""),u=e.computed(()=>t.manualUpload?"//jsonplaceholder.typicode.com/posts/":t.url),s=e.computed({get(){return t.manualUpload?m.value:m.value.map(g=>({id:g}))},set(g){t.manualUpload?m.value=g||[]:m.value=(g==null?void 0:g.map(F=>F.id))||[]}}),m=e.computed({get(){switch(typeof t.modelValue){case"number":return[t.modelValue];case"string":return t.modelValue.indexOf("--")!==-1?[]:/^\d*$/.test(t.modelValue)?[Number(t.modelValue)]:[t.modelValue];case"object":return Array.isArray(t.modelValue)?t.modelValue.filter(g=>g!=="--"):R(t.modelValue)==="File"?[t.modelValue]:[];default:return[]}},set(g){if(t.length===1){let F=L.first(g);r("update:modelValue",F??null),r("on-change",F??null)}else r("update:modelValue",L.cloneDeep(g)),r("on-change",L.cloneDeep(g))}}),c=e.computed(()=>{let g;if(t.manualUpload?g=s.value:g=d.value,!g)return!1;for(let F of g){let H;if(t.manualUpload?H=F==null?void 0:F.type:H=F==null?void 0:F.mimeType,!H||H&&!(Ae(H)||H==="loading"))return!1}return!0});e.watch(()=>s.value,async g=>{if(o.value==="localImg")g!=null&&g.length?n.value=await p(g):n.value=[];else if(g!=null&&g.length&&o.value!=="localList"){let F=L.cloneDeep(g);const H=L.cloneDeep(d.value);for(let $ of F)if(($==null?void 0:$.name)===void 0)if($.id){const J=L.find(H,te=>te.id===$.id);J?($.name=J.name,$.mimeType=J.mimeType):($.mimeType="loading",ue.get(t.url+"/"+$.id).then(te=>{var de,ae,K,Z,X,M;$.name=((K=(ae=(de=te==null?void 0:te.data)==null?void 0:de.returnValue)==null?void 0:ae[0])==null?void 0:K.name)||N("r.file")+L.indexOf(g,$),$.mimeType=((M=(X=(Z=te==null?void 0:te.data)==null?void 0:Z.returnValue)==null?void 0:X[0])==null?void 0:M.mimeType)||"unknown",e.triggerRef(d)}).catch(()=>{$.name=N("r.file")+L.indexOf(F,$)}))}else $.name=N("r.unknown");d.value=F}else d.value=[]},{immediate:!0,deep:!0});function f(g){return(g==null?void 0:g.name)||(g==null?void 0:g.split)&&L.last(g.split("/"))||g}async function p(g){let F=[];for(let H of g){let $=await Te(H);F.push($)}return F}function C(g){if(!t.disabled){let F=s.value;F==null||F.splice(g,1),s.value=F}}function k(g){g!=null&&g.id&&window.open(t.url+"/"+g.id+"/download")}function b(g){return t.manualUpload?(g==null?void 0:g.type)&&Ae(g.type):(g==null?void 0:g.id)&&g.mimeType&&Ae(g.mimeType)}function y(g){if(t.manualUpload){if(!g)return;Te(g).then(F=>{be(F)})}else g!=null&&g.id&&be(t.url+"/"+g.id+"/download?preview=true")}function B(g){R(g)==="String"&&g.indexOf("http")>-1?window.open(g):R(g)==="File"&&Te(g).then(F=>{Qe(g.name,F)})}function A(g){var F,H;if(t.manualUpload){if(g){let $=Ue(g.name);if((F=t.format)!=null&&F.length&&t.format.indexOf($)<0)return ce(N("r.wrongFileType"),N("r.supportType")+(((H=t.format)==null?void 0:H.length)&&String(t.format)||N("r.none")),"warning"),!1;if(t.maxSize&&g.size>t.maxSize*1024)return ce(N("r.fileIsBig"),N("r.supportSize")+t.maxSize+"kb","warning"),!1;let J=s.value;J==null||J.push(g),s.value=J}return!1}else return!0}function V(g){console.warn(g),ce(N("r.uploadError"),"","error")}function S(g,F,H){var $,J,te,de,ae,K;if((g==null?void 0:g.code)===0){let Z=s.value;F.id=(J=($=g.data)==null?void 0:$[0])==null?void 0:J.id,F.name=(de=(te=g.data)==null?void 0:te[0])==null?void 0:de.name,F.mimeType=(K=(ae=g.data)==null?void 0:ae[0])==null?void 0:K.mimeType,Z==null||Z.push(F),s.value=Z}else ce(N("r.uploadFail"),(g==null?void 0:g.message)||"","error")}function T(){ce(N("r.fileIsBig"),N("r.supportSize")+t.maxSize+" kb","warning")}function I(){var g;ce(N("r.wrongFileType"),N("r.supportType")+(((g=t.format)==null?void 0:g.length)&&String(t.format)||N("r.none")),"warning")}function D(g){let F=g==null?void 0:g.id,H=g==null?void 0:g.mimeType;F&&(R(H)==="String"&&H.indexOf("image")>-1?be(t.url+"/"+F+"/download?preview=true"):window.open(t.url+"/"+F+"/download?preview=true"))}function h(g){var H,$,J;let F=(J=($=(H=g==null?void 0:g.response)==null?void 0:H.data)==null?void 0:$[0])==null?void 0:J.id;O(null,F)}function O(g,F){if(!(!F&&F!==0)&&!t.disabled&&m.value.indexOf(F)!==-1){const H=L.cloneDeep(m.value);let $=s.value;$==null||$.splice(H.indexOf(F),1),s.value=$}}return(g,F)=>{var te,de,ae,K,Z,X;const H=e.resolveComponent("Button"),$=e.resolveComponent("Upload"),J=e.resolveComponent("Icon");return e.openBlock(),e.createElementBlock("div",null,[e.createVNode($,{name:"files",action:e.unref(u),"before-upload":A,"on-error":V,"on-success":S,"on-exceeded-size":T,"on-preview":D,"on-remove":h,"on-format-error":I,data:t.data,"max-size":t.maxSize,"show-upload-list":!1,"with-credentials":t.withCredentials,format:t.format,multiple:t.multiple||!1,disabled:t.length&&((te=e.unref(s))==null?void 0:te.length)&&((de=e.unref(s))==null?void 0:de.length)>=t.length||!!t.disabled},{default:e.withCtx(()=>{var M,q;return[e.createVNode(H,{icon:"ios-cloud-upload-outline",class:e.normalizeClass({disabledR:t.length&&((M=e.unref(s))==null?void 0:M.length)&&((q=e.unref(s))==null?void 0:q.length)>=t.length||!!t.disabled})},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(N)("r.selectFile")),1)]),_:1},8,["class"])]}),_:1},8,["action","data","max-size","with-credentials","format","multiple","disabled"]),e.withDirectives(e.createElementVNode("div",mn,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(d),M=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:M==null?void 0:M.id},[!t.manualUpload&&(M==null?void 0:M.id)!==null?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(["previewImg",{previewLoading:M.mimeType==="loading"}])},[e.withDirectives(e.createElementVNode("div",hn,yn,512),[[e.vShow,M.mimeType==="loading"]]),e.withDirectives(e.createElementVNode("img",{src:g.url+"/"+M.id+"/download?preview=true",alt:M.name},null,8,gn),[[e.vShow,M.mimeType!=="loading"]]),e.withDirectives(e.createElementVNode("div",bn,[e.createVNode(J,{type:"ios-expand",size:"40",class:"previewExpand",title:e.unref(N)("r.fView"),onClick:q=>e.unref(be)(t.url+"/"+M.id+"/download?preview=true")},null,8,["title","onClick"]),e.createVNode(J,{type:"ios-trash-outline",size:"40",class:"previewDelete",onClick:q=>O(q,M.id),title:e.unref(N)("r.delete")},null,8,["onClick","title"])],512),[[e.vShow,M.mimeType!=="loading"]])],2)):e.createCommentVNode("",!0)],64))),128))],512),[[e.vShow,e.unref(o)==="img"&&((ae=e.unref(d))==null?void 0:ae.length)]]),e.withDirectives(e.createElementVNode("div",kn,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(n),(M,q)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:"manualImg"+q},[t.manualUpload&&M!==null?(e.openBlock(),e.createElementBlock("div",wn,[e.createElementVNode("img",{src:M,alt:"manualImg"+q},null,8,Vn),e.createElementVNode("div",Bn,[e.createVNode(J,{type:"ios-expand",size:"40",class:"previewExpand",onClick:Q=>e.unref(be)(M),title:e.unref(N)("r.fView")},null,8,["onClick","title"]),e.createVNode(J,{type:"ios-trash-outline",size:"40",class:"previewDelete",onClick:Q=>C(q),title:e.unref(N)("r.delete")},null,8,["onClick","title"])])])):e.createCommentVNode("",!0)],64))),128))],512),[[e.vShow,e.unref(o)==="localImg"&&((K=e.unref(n))==null?void 0:K.length)]]),e.withDirectives(e.createElementVNode("div",Cn,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(s),(M,q)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:"manualItem"+q},[t.manualUpload&&M!==null?(e.openBlock(),e.createElementBlock("p",Sn,[M.name?(e.openBlock(),e.createBlock(J,{key:0,type:e.unref(Pe)(M.name)},null,8,["type"])):e.createCommentVNode("",!0),e.createElementVNode("span",{class:e.normalizeClass(["upNameT",{previewName:b(M)}]),onClick:Q=>B(M),title:e.unref(N)("r.download")},e.toDisplayString(f(M)),11,_n),e.createElementVNode("span",Tn,[b(M)?(e.openBlock(),e.createBlock(J,{key:0,type:"md-qr-scanner",size:"14",class:"listBtH",onClick:Q=>y(M),title:e.unref(N)("r.fView")},null,8,["onClick","title"])):e.createCommentVNode("",!0),e.createVNode(J,{type:"ios-close",size:"22",class:"listBtH",onClick:Q=>C(q),title:e.unref(N)("r.delete")},null,8,["onClick","title"])])])):e.createCommentVNode("",!0)],64))),128))],512),[[e.vShow,e.unref(o)==="localList"&&((Z=e.unref(s))==null?void 0:Z.length)]]),e.withDirectives(e.createElementVNode("div",An,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(d),(M,q)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:"defaultItem"+q},[!t.manualUpload&&M!==null?(e.openBlock(),e.createElementBlock("div",xn,[e.withDirectives(e.createElementVNode("div",Nn,Ln,512),[[e.vShow,M.mimeType==="loading"]]),e.withDirectives(e.createVNode(J,{type:e.unref(Pe)(M.name)},null,8,["type"]),[[e.vShow,M.mimeType!=="loading"]]),e.withDirectives(e.createElementVNode("span",{class:e.normalizeClass(["upNameT",{previewName:b(M)}]),onClick:Q=>k(M),title:e.unref(N)("r.download")},e.toDisplayString(M.name||e.unref(N)("r.file")+(q+1)),11,In),[[e.vShow,M.mimeType!=="loading"]]),e.withDirectives(e.createElementVNode("span",On,[b(M)?(e.openBlock(),e.createBlock(J,{key:0,type:"md-qr-scanner",size:"14",class:"listBtH",onClick:Q=>y(M),title:e.unref(N)("r.fView")},null,8,["onClick","title"])):e.createCommentVNode("",!0),e.createVNode(J,{type:"ios-close",size:"22",class:"listBtH",onClick:Q=>C(q),title:e.unref(N)("r.delete")},null,8,["onClick","title"])],512),[[e.vShow,M.mimeType!=="loading"]])])):e.createCommentVNode("",!0)],64))),128))],512),[[e.vShow,e.unref(o)==="list"&&((X=e.unref(d))==null?void 0:X.length)]])])}}}),Dn=e.createElementVNode("div",{class:"bRoot"},null,-1),ht=e.defineComponent({__name:"MonthRange",props:{modelValue:{default:()=>["",""]},placement:{default:"bottom-start"},placeholder:{},options1:{},options2:{},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","on-change"],setup(a,{emit:r}){const t=a,n=e.ref(!1),d=e.ref(!1),o=e.ref(!1),u=e.computed({get(){return t.modelValue&&t.modelValue[0]||null},set(y){r("update:modelValue",[y,s.value]),r("on-change",[y,s.value])}}),s=e.computed({get(){return t.modelValue&&t.modelValue[1]||null},set(y){r("update:modelValue",[u.value,y]),r("on-change",[u.value,y])}}),m=e.computed(()=>(u.value||"")+((u.value||s.value)&&" - "||"")+(s.value||"")),c=e.ref();e.onMounted(()=>{c.value.querySelector(".aRoot .ivu-input-suffix").addEventListener("mouseover",()=>{o.value=!0}),c.value.querySelector(".aRoot .ivu-input-suffix").addEventListener("mouseout",()=>{o.value=!1}),c.value.querySelector(".aRoot .ivu-input-suffix").addEventListener("click",y=>{!t.disabled&&(u.value||s.value)&&(y.stopPropagation(),k())})});function f(){t.disabled||(n.value=!0)}function p(y){u.value=y,n.value=!1,d.value=!0}function C(y){s.value=y,d.value=!1}function k(){r("update:modelValue",[null,null]),r("on-change",[null,null])}function b(){n.value=!1,d.value=!1,u.value&&s.value===null&&(u.value=null)}return(y,B)=>{const A=e.resolveComponent("DatePicker"),V=e.resolveComponent("Icon"),S=e.resolveComponent("Input");return e.openBlock(),e.createElementBlock("div",{class:"monthRangeBoxR",ref_key:"mPickerRef",ref:c},[e.createVNode(A,{open:e.unref(d),modelValue:e.unref(s),transfer:"",type:"month",placement:t.placement,options:t.options2,onOnChange:C,onOnClickoutside:b},{default:e.withCtx(()=>[Dn]),_:1},8,["open","modelValue","placement","options"]),e.createVNode(A,{open:e.unref(n),modelValue:e.unref(u),transfer:"",type:"month",placement:t.placement,options:t.options1,onOnChange:p,onOnClickoutside:b},{default:e.withCtx(()=>[e.createElementVNode("div",{onClick:f},[e.createVNode(S,{class:"aRoot",modelValue:e.unref(m),"onUpdate:modelValue":B[0]||(B[0]=T=>e.isRef(m)?m.value=T:null),readonly:"",placeholder:t.placeholder||e.unref(N)("r.selectDate"),disabled:t.disabled},{suffix:e.withCtx(()=>[e.createVNode(V,{type:e.unref(o)&&(e.unref(u)||e.unref(s))&&!t.disabled?"ios-close-circle":"ios-calendar-outline"},null,8,["type"])]),_:1},8,["modelValue","placeholder","disabled"])])]),_:1},8,["open","modelValue","placement","options"])],512)}}}),Mn={class:"editor-pro-root"},yt=e.defineComponent({__name:"EditorPro",props:{modelValue:{default:"<p></p>"},toolbarConfig:{default:()=>({})},editorConfig:{default:()=>({})},mode:{default:"default"},height:{default:300},imgUploadUrl:{},videoUploadUrl:{},placeholder:{default:""},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","on-change"],setup(a,{emit:r}){const t=a,n=e.shallowRef(),d=e.computed({get(){return t.modelValue},set(c){r("update:modelValue",c),r("on-change",c)}}),o=e.computed(()=>Object.assign({placeholder:t.placeholder||N("r.pInput"),insertKeys:{index:31,keys:["previewX"]}},t.toolbarConfig)),u=e.computed(()=>Object.assign({readOnly:t.disabled,MENU_CONF:{uploadImage:{async customUpload(c,f){let p=new FormData;p.append("files",c);const C=c.name,k=t.imgUploadUrl??"/node-serve/file";ue.post(k,p,null,[],{spin:!0,headers:{"Content-Type":"multipart/form-data"}}).then(b=>{if(b&&b.data)if(Array.isArray(b.data))for(let y of b.data){const B=k+"/"+y.id+"/download";f(B,C,B)}else{const y=k+"/"+b.data.id+"/download";f(y,C,y)}}).catch(()=>{ce(N("r.uploadFail"),"","error")})}},uploadVideo:{async customUpload(c,f){let p=new FormData;p.append("files",c);const C=t.videoUploadUrl??"/node-serve/file";ue.post(C,p,null,[],{spin:!0,headers:{"Content-Type":"multipart/form-data"}}).then(k=>{if(k&&k.data)if(Array.isArray(k.data))for(let b of k.data){const y=C+"/"+b.id+"/download";f(y)}else{const b=C+"/"+k.data.id+"/download";f(b)}}).catch(()=>{ce(N("r.uploadFail"),"","error")})}}}},t.editorConfig)),s=e.computed(()=>({height:typeof t.height=="number"?t.height+"px":t.height}));function m(c){n.value=c}return e.watch(()=>t.disabled,c=>{c?n.value.disable():n.value.enable()}),e.onBeforeUnmount(()=>{n.value&&n.value.destroy()}),(c,f)=>(e.openBlock(),e.createElementBlock("div",Mn,[e.withDirectives(e.createVNode(e.unref(Ct.Toolbar),{class:"editor-pro-toolbar",editor:e.unref(n),defaultConfig:e.unref(o),mode:c.mode},null,8,["editor","defaultConfig","mode"]),[[e.vShow,!c.disabled]]),e.createVNode(e.unref(Ct.Editor),{class:"editor-pro-editor",modelValue:e.unref(d),"onUpdate:modelValue":f[0]||(f[0]=p=>e.isRef(d)?d.value=p:null),defaultConfig:e.unref(u),mode:c.mode,onOnCreated:m,style:e.normalizeStyle(e.unref(s))},null,8,["modelValue","defaultConfig","mode","style"])]))}}),Fn={key:19,class:"formInfoTxtXN"},En={key:20,class:"formTitleTxtXN"},nl=e.defineComponent({__name:"ItemR",props:{item:{},itemStyle:{},valGroup:{},tempKeys:{},inline:{type:Boolean},disabled:{type:Boolean},labelWidth:{},itemWidth:{},mgrUrl:{},uploadUrl:{}},emits:["item-change","re-validate","select-input-change","al-name-change","async-label-change"],setup(a,{emit:r}){const t=a;function n(c){return{withInfo:!!c.info,withTitle:!!c.title,inlineFormItemXN:t.inline,noLabel:c.type==="selectInput",[c.class]:c.class,slotInput:c.slotPosition}}function d(c,f){r("item-change",{e:c,root:f})}function o(c,f){r("re-validate",{e:c,root:f})}function u(c){r("select-input-change",c)}function s(c,f){r("al-name-change",{name:c,root:f})}function m(c,f){r("async-label-change",{label:c,root:f})}return(c,f)=>{const p=e.resolveComponent("InputNumber"),C=e.resolveComponent("Input"),k=e.resolveComponent("Option"),b=e.resolveComponent("Select"),y=e.resolveComponent("Radio"),B=e.resolveComponent("Icon"),A=e.resolveComponent("RadioGroup"),V=e.resolveComponent("Checkbox"),S=e.resolveComponent("CheckboxGroup"),T=e.resolveComponent("DatePicker"),I=e.resolveComponent("TimePicker"),D=e.resolveComponent("FormItem");return e.openBlock(),e.createBlock(D,{label:t.item.type!=="radio"&&t.item.type!=="checkbox"?t.item.label:" ",prop:t.item.key||"",class:e.normalizeClass(["relativeBox",n(t.item)])},{default:e.withCtx(()=>[t.item.type==="txt"?(e.openBlock(),e.createElementBlock("div",{key:0,style:e.normalizeStyle([t.itemStyle,{display:"inline-block"}]),class:e.normalizeClass({likeInputX:t.item.likeInput,disabled:!!t.item.disabled||t.disabled})},e.toDisplayString(t.item.valKey?t.valGroup[t.item.valKey]||"无":t.item.val),7)):t.item.type==="inputNumber"?(e.openBlock(),e.createBlock(p,{key:1,style:e.normalizeStyle(t.itemStyle),modelValue:t.tempKeys[t.item.tempKey],"onUpdate:modelValue":f[0]||(f[0]=h=>t.tempKeys[t.item.tempKey]=h),max:t.item.max||t.item.max===0?t.item.max:1/0,min:t.item.min||t.item.min===0?t.item.min:-1/0,precision:t.item.precision,step:t.item.step||1,placeholder:t.item.placeholder||e.unref(N)("r.pInput"),disabled:!!t.item.disabled||t.disabled,readonly:!!t.item.readonly,editable:t.item.editable!==!1,onOnBlur:f[1]||(f[1]=h=>d(h,t.item)),"active-change":!!t.item.activeChange,clearable:t.item.clearable!==!1},null,8,["style","modelValue","max","min","precision","step","placeholder","disabled","readonly","editable","active-change","clearable"])):t.item.type==="input"?(e.openBlock(),e.createBlock(C,{key:2,style:e.normalizeStyle(c.itemStyle),modelValue:t.tempKeys[t.item.tempKey],"onUpdate:modelValue":f[2]||(f[2]=h=>t.tempKeys[t.item.tempKey]=h),maxlength:t.item.maxLength||null,password:!!t.item.password,icon:t.item.icon,prefix:t.item.prefix,suffix:t.item.suffix,placeholder:t.item.placeholder||e.unref(N)("r.pInput"),disabled:!!t.item.disabled||t.disabled,onOnBlur:f[3]||(f[3]=h=>d(h,t.item)),clearable:t.item.clearable!==!1},e.createSlots({_:2},[t.item.slotPosition&&t.item.slotName?{name:t.item.slotPosition,fn:e.withCtx(()=>[e.renderSlot(c.$slots,t.item.slotName)]),key:"0"}:void 0,t.item.slotPosition!=="prepend"&&t.item.prepend?{name:"prepend",fn:e.withCtx(()=>[e.createElementVNode("span",null,e.toDisplayString(t.item.prepend),1)]),key:"1"}:void 0,t.item.slotPosition!=="append"&&t.item.append?{name:"append",fn:e.withCtx(()=>[e.createElementVNode("span",null,e.toDisplayString(t.item.append),1)]),key:"2"}:void 0]),1032,["style","modelValue","maxlength","password","icon","prefix","suffix","placeholder","disabled","clearable"])):t.item.type==="select"?(e.openBlock(),e.createBlock(b,{key:3,modelValue:c.tempKeys[t.item.tempKey],"onUpdate:modelValue":f[4]||(f[4]=h=>c.tempKeys[t.item.tempKey]=h),style:e.normalizeStyle(c.itemStyle),filterable:t.item.filterable===!0||t.item.filterable===!1?t.item.filterable:!1,disabled:!!t.item.disabled||t.disabled,multiple:!!t.item.multiple,placeholder:t.item.placeholder||e.unref(N)("r.pSelect"),onOnChange:f[5]||(f[5]=h=>d(h,t.item)),transfer:"",clearable:t.item.clearable!==!1},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.item.options,(h,O)=>(e.openBlock(),e.createBlock(k,{value:h.val,label:h.label||h.val,key:"option-"+t.item.key+O,disabled:!!h.disabled},null,8,["value","label","disabled"]))),128))]),_:1},8,["modelValue","style","filterable","disabled","multiple","placeholder","clearable"])):t.item.type==="selectInput"?(e.openBlock(),e.createBlock(ct,{key:4,modelValue:c.tempKeys[t.item.tempKey],"onUpdate:modelValue":f[6]||(f[6]=h=>c.tempKeys[t.item.tempKey]=h),"label-width":c.labelWidth,"item-width":c.itemWidth,"select-option":t.item.options||[],placeholder:t.item.placeholder||e.unref(N)("r.pInput"),clearable:t.item.clearable!==!1,disabled:!!t.item.disabled||t.disabled,onOnChange:u},null,8,["modelValue","label-width","item-width","select-option","placeholder","clearable","disabled"])):t.item.type==="alCascader"?(e.openBlock(),e.createBlock(pt,{key:5,style:e.normalizeStyle(c.itemStyle),class:"inlineBlock",modelValue:t.valGroup[t.item.key],"onUpdate:modelValue":f[7]||(f[7]=h=>t.valGroup[t.item.key]=h),level:t.item.level||t.item.level===0?t.item.level:2,disabled:!!t.item.disabled||t.disabled,filterable:t.item.filterable!==!1,placeholder:t.item.placeholder||e.unref(N)("r.pSelect"),"change-on-select":!!t.item.changeOnSelect,onOnNameChange:f[8]||(f[8]=h=>s(h,t.item))},null,8,["style","modelValue","level","disabled","filterable","placeholder","change-on-select"])):t.item.type==="asyncCascader"?(e.openBlock(),e.createBlock(ut,{key:6,style:e.normalizeStyle(c.itemStyle),modelValue:t.valGroup[t.item.key],"onUpdate:modelValue":f[9]||(f[9]=h=>t.valGroup[t.item.key]=h),url:t.item.url||c.mgrUrl+"/web/v1/umc/orgs","option-val":t.item.optionVal||"id","option-label":t.item.optionLabel||"name","option-filter":t.item.optionFilter||null,"only-last-val":t.item.onlyLastVal!==!1,"only-last-label":t.item.onlyLastLabel!==!1,separator:t.item.separator||"/",placeholder:t.item.placeholder||e.unref(N)("r.pSelect"),filterable:!!t.item.filterable,disabled:!!t.item.disabled||t.disabled,onOnLabelChange:f[10]||(f[10]=h=>m(h,t.item))},null,8,["style","modelValue","url","option-val","option-label","option-filter","only-last-val","only-last-label","separator","placeholder","filterable","disabled"])):t.item.type==="radio"?(e.openBlock(),e.createBlock(y,{key:7,modelValue:t.valGroup[t.item.key],"onUpdate:modelValue":f[11]||(f[11]=h=>t.valGroup[t.item.key]=h),disabled:!!t.item.disabled||t.disabled,onOnChange:f[12]||(f[12]=h=>d(h,t.item))},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(t.item.label),1)]),_:1},8,["modelValue","disabled"])):t.item.type==="radioGroup"?(e.openBlock(),e.createBlock(A,{key:8,style:e.normalizeStyle(c.itemStyle),onOnChange:f[13]||(f[13]=h=>o(h,t.item)),type:t.item.buttonType?"button":null,modelValue:c.tempKeys[t.item.tempKey],"onUpdate:modelValue":f[14]||(f[14]=h=>c.tempKeys[t.item.tempKey]=h)},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.item.options,h=>(e.openBlock(),e.createBlock(y,{key:"radioItem"+h.val,label:h.val,border:!!t.item.itemBorder,disabled:!!t.item.disabled||t.disabled||h.disabled},{default:e.withCtx(()=>[h.icon&&!t.item.buttonType?(e.openBlock(),e.createBlock(B,{key:0,type:h.icon},null,8,["type"])):e.createCommentVNode("",!0),e.createElementVNode("span",null,e.toDisplayString(h.label||h.val),1)]),_:2},1032,["label","border","disabled"]))),128))]),_:1},8,["style","type","modelValue"])):t.item.type==="checkbox"?(e.openBlock(),e.createBlock(V,{key:9,modelValue:t.valGroup[t.item.key],"onUpdate:modelValue":f[15]||(f[15]=h=>t.valGroup[t.item.key]=h),disabled:!!t.item.disabled,onOnChange:f[16]||(f[16]=h=>d(h,t.item))},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(t.item.label),1)]),_:1},8,["modelValue","disabled"])):t.item.type==="checkboxGroup"?(e.openBlock(),e.createBlock(S,{key:10,style:e.normalizeStyle(c.itemStyle),modelValue:c.tempKeys[t.item.tempKey],"onUpdate:modelValue":f[17]||(f[17]=h=>c.tempKeys[t.item.tempKey]=h),onOnChange:f[18]||(f[18]=h=>o(h,t.item))},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.item.options,h=>(e.openBlock(),e.createBlock(V,{key:"checkItem"+h.val,label:h.val,disabled:!!t.item.disabled||t.disabled||h.disabled},{default:e.withCtx(()=>[h.icon?(e.openBlock(),e.createBlock(B,{key:0,type:h.icon},null,8,["type"])):e.createCommentVNode("",!0),e.createElementVNode("span",null,e.toDisplayString(h.label||h.val),1)]),_:2},1032,["label","disabled"]))),128))]),_:1},8,["style","modelValue"])):t.item.type==="textarea"?(e.openBlock(),e.createBlock(C,{key:11,type:"textarea",modelValue:c.tempKeys[t.item.tempKey],"onUpdate:modelValue":f[19]||(f[19]=h=>c.tempKeys[t.item.tempKey]=h),autosize:t.item.autosize||{minRows:2},style:e.normalizeStyle(c.itemStyle),maxlength:t.item.maxLength||null,"show-word-limit":!!t.item.showWordLimit,placeholder:t.item.placeholder||e.unref(N)("r.pInput"),disabled:!!t.item.disabled||t.disabled,onOnBlur:f[20]||(f[20]=h=>d(h,t.item)),clearable:t.item.clearable!==!1},null,8,["modelValue","autosize","style","maxlength","show-word-limit","placeholder","disabled","clearable"])):t.item.type==="upload"?(e.openBlock(),e.createBlock(mt,{key:12,style:e.normalizeStyle(c.itemStyle),class:"inlineBlock",modelValue:t.valGroup[t.item.key],"onUpdate:modelValue":f[21]||(f[21]=h=>t.valGroup[t.item.key]=h),url:t.item.url||c.uploadUrl,"manual-upload":!!t.item.manualUpload,format:t.item.format||[],data:t.item.data,"max-size":t.item.maxSize||0,"show-img":!!t.item.showImg,length:t.item.length||0,disabled:!!t.item.disabled||t.disabled,"with-credentials":t.item.withCredentials!==!1,onOnFileIdChange:f[22]||(f[22]=h=>o(h,t.item))},null,8,["style","modelValue","url","manual-upload","format","data","max-size","show-img","length","disabled","with-credentials"])):t.item.type==="date"?(e.openBlock(),e.createBlock(T,{key:13,style:e.normalizeStyle(c.itemStyle),modelValue:c.tempKeys[t.item.tempKey],"onUpdate:modelValue":f[23]||(f[23]=h=>c.tempKeys[t.item.tempKey]=h),type:t.item.dateType,disabled:!!t.item.disabled||t.disabled,placement:"bottom-end",placeholder:t.item.placeholder||e.unref(N)("r.selectDate"),options:t.item.dateOptions||null,clearable:t.item.clearable!==!1,editable:!1,transfer:"",onOnChange:f[24]||(f[24]=h=>d(h,t.item))},null,8,["style","modelValue","type","disabled","placeholder","options","clearable"])):t.item.type==="time"?(e.openBlock(),e.createBlock(I,{key:14,style:e.normalizeStyle(c.itemStyle),modelValue:c.tempKeys[t.item.tempKey],"onUpdate:modelValue":f[25]||(f[25]=h=>c.tempKeys[t.item.tempKey]=h),type:t.item.dateType,disabled:!!t.item.disabled||t.disabled,placement:"bottom-end",placeholder:t.item.placeholder||e.unref(N)("r.selectTime"),steps:t.item.steps||[],clearable:t.item.clearable!==!1,editable:!1,format:t.item.format||"HH:mm:ss",transfer:"",onOnChange:f[26]||(f[26]=h=>d(h,t.item))},null,8,["style","modelValue","type","disabled","placeholder","steps","clearable","format"])):t.item.type==="monthRange"?(e.openBlock(),e.createBlock(ht,{key:15,style:e.normalizeStyle(c.itemStyle),modelValue:c.tempKeys[t.item.tempKey],"onUpdate:modelValue":f[27]||(f[27]=h=>c.tempKeys[t.item.tempKey]=h),disabled:!!t.item.disabled||t.disabled,placement:"bottom-end",placeholder:t.item.placeholder||e.unref(N)("r.selectDate"),options1:t.item.dateOptions1||null,options2:t.item.dateOptions2||null,onOnChange:f[28]||(f[28]=h=>d(h,t.item))},null,8,["style","modelValue","disabled","placeholder","options1","options2"])):t.item.type==="editorPro"?(e.openBlock(),e.createBlock(yt,{key:16,class:"inlineBlock",style:e.normalizeStyle(c.itemStyle),modelValue:t.valGroup[t.item.key],"onUpdate:modelValue":f[29]||(f[29]=h=>t.valGroup[t.item.key]=h),placeholder:t.item.placeholder||e.unref(N)("r.pInput"),disabled:!!t.item.disabled||t.disabled,"toolbar-config":t.item.toolbarConfig||{},"editor-config":t.item.editorConfig||{},mode:t.item.mode||"simple",height:t.item.height||300,onInput:f[30]||(f[30]=h=>d(h,t.item))},null,8,["style","modelValue","placeholder","disabled","toolbar-config","editor-config","mode","height"])):t.item.type==="inputMap"?(e.openBlock(),e.createBlock(ft,{key:17,modelValue:c.tempKeys[t.item.tempKey],"onUpdate:modelValue":f[31]||(f[31]=h=>c.tempKeys[t.item.tempKey]=h),style:e.normalizeStyle(c.itemStyle),placeholder:t.item.placeholder||e.unref(N)("r.search"),disabled:!!t.item.disabled||t.disabled,"show-map":t.item.showMap!==!1,height:t.item.mapHeight||"250px",onOnChange:f[32]||(f[32]=h=>d(h,t.item))},null,8,["modelValue","style","placeholder","disabled","show-map","height"])):t.item.type==="custom"?(e.openBlock(),e.createElementBlock("div",{key:18,class:"inlineBlock",style:e.normalizeStyle(c.itemStyle)},[e.renderSlot(c.$slots,t.item.slotName,{valGroup:t.valGroup})],4)):e.createCommentVNode("",!0),t.item.info?(e.openBlock(),e.createElementBlock("div",Fn,e.toDisplayString(t.item.info),1)):e.createCommentVNode("",!0),t.item.title?(e.openBlock(),e.createElementBlock("div",En,e.toDisplayString(t.item.title),1)):e.createCommentVNode("",!0)]),_:3},8,["label","prop","class"])}}}),Rn=e.createElementVNode("input",{type:"text"},null,-1),Un={class:"inlineBlock"},Ie=e.defineComponent({__name:"FormR",props:{formData:{default:()=>[]},formRules:{default:()=>({})},showMessage:{type:Boolean,default:!0},labelWidth:{default:160},contentWidth:{default:"70%"},itemWidth:{default:200},inline:{type:Boolean,default:!1},showLongOkBt:{type:Boolean,default:!1},longOkBtTxt:{},showInlineOkBt:{type:Boolean,default:!1},inlineOkBtTxt:{},showInlineClearBt:{type:Boolean,default:!1},inlineClearBtTxt:{},disabled:{type:Boolean,default:!1},btnLoading:{type:Boolean,default:!1},trim:{type:Boolean,default:!0},teamClass:{default:"formTeamBox"}},emits:["on-item-change","on-reset","on-re-render","on-submit"],setup(a,{expose:r,emit:t}){var Sl,_l;const n=a,d=e.ref(null),o=e.ref({}),u=e.ref([]),s=e.ref({});let m=[];const c=((Sl=window==null?void 0:window.g)==null?void 0:Sl.mgrURL)??"";let f=[],p=[];const C=e.ref(!1),k=e.ref(Math.random()*1e8+1e3),b=(_l=window==null?void 0:window.g)!=null&&_l.mgrURL?window.g.mgrURL+"/web/v1/fsc/file":"/file";let y=!1;const B=e.computed(()=>Array.isArray(n.formData.length?n.formData[0]:!1)),A=e.computed(()=>n.inline?{width:n.itemWidth+n.labelWidth+"px"}:{}),V=e.computed(()=>n.inline?{width:"100%"}:{width:n.contentWidth}),S=e.computed(()=>{let i=L.cloneDeep(n.formRules);for(let l in i)if(i.hasOwnProperty(l))if(Array.isArray(i[l]))for(let _ of i[l])_.message||_.validator||(_.message=N("r.required"));else R(i[l])==="Object"&&(i[l].message||i[l].validator||(i[l].message=N("r.required")));return i}),T=e.computed(()=>{let i=[];if(B.value)for(let l of u.value)h(l,i);else h(u.value,i);return i.concat(f,p)}),I=e.computed(()=>{let i=[];if(B.value)for(let l of u.value)O(l,i);else O(u.value,i);return i});function D(i){return i.filter(l=>l.slotName)}function h(i,l){for(let _ of i)if(_.showing===!0&&_.key&&_.type!=="selectInput"&&(l.push(_.key),_.key2&&l.push(_.key2),_.collectLabel)){if(!Array.isArray(_.collectLabel)&&_.collectLabel.key)l.push(_.collectLabel.key);else if(Array.isArray(_.collectLabel))for(let w of _.collectLabel)w.key&&l.push(w.key)}}function O(i,l){for(let _ of i)_.showing===!0&&_.key&&_.type!=="selectInput"&&l.push(_.key)}function g(){return new Promise(i=>{$(),H().then(()=>{t("on-reset"),i(!0)})})}function F(){return new Promise(i=>{for(let l of m)l();m=[],s.value={},E(),q(),H().then(()=>{t("on-re-render"),i(!0)})})}function H(){return new Promise(i=>{k.value=Math.floor(Math.random()*1e8+1e3),e.nextTick(function(){i(!0)})})}function $(){let i=de();for(let l in o.value)if(o.value.hasOwnProperty(l))if(le(i[l]))o.value[l]=i[l];else if(Array.isArray(o.value[l]))o.value[l]=[];else if(R(o.value[l])==="Boolean")o.value[l]=!1;else{const _=we(n.formData,w=>w.key===l);_&&(_.type==="editor"||_.type==="editorPro")?o.value[l]="":o.value[l]=null}J(i)}function J(i){for(let l in s.value)s.value.hasOwnProperty(l)&&(le(i[l])?s.value[l]=i[l]:Array.isArray(s.value[l])?s.value[l]=[]:R(s.value[l])==="Object"&&s.value[l].hasOwnProperty("key")&&s.value[l].hasOwnProperty("val")?s.value[l].val=null:s.value[l]=null)}function te(i){let l=de();le(l[i])?s.value[i]=l[i]:Array.isArray(s.value[i])?s.value[i]=[]:s.value[i]=null}function de(){let i={};if(B.value)for(let l of u.value)ae(l,i);else ae(u.value,i);return i}function ae(i,l){for(let _ of i)_.tempKey&&le(_.defaultVal)&&M(_,l),_.key&&le(_.defaultVal)&&(l[_.key]=_.defaultVal),_.key2&&le(_.defaultVal2)&&(l[_.key2]=_.defaultVal2)}function K(i){if(i.show){if(R(i.show)==="Object")return X(i,Z(i.show));if(Array.isArray(i.show))if(i.showOr){for(let l of i.show)if(Z(l)===!0)return X(i,!0);return X(i,!1)}else{for(let l of i.show)if(Z(l)===!1)return X(i,!1);return X(i,!0)}else if(R(i.show)==="Function")return X(i,i.show(o.value))}else i.showing||(i.showing=!0);return!0}function Z(i){if(i.reg&&typeof i.reg.test=="function")return i.reg.test(o.value[i.key]);if(Array.isArray(i.val)){for(let l of i.val){if((o.value[i.key]||o.value[i.key]===0||o.value[i.key]===!1)&&l===".")return!0;if(o.value[i.key]===l)return!0}return!1}else return!1}function X(i,l){return!i.showing&&l&&i.key?(i.showing=l,i.defaultVal!==void 0&&(i.tempKey?(s.value[i.tempKey]===null||s.value[i.tempKey]===void 0||(R(s.value[i.tempKey])==="Object"||Array.isArray(s.value[i.tempKey]))&&L.isEmpty(s.value[i.tempKey]))&&M(i,s.value):(o.value[i.key]===null||o.value[i.key]===void 0)&&(o.value[i.key]=i.defaultVal),i.key2&&i.deafultVal2!==void 0&&(o.value[i.key2]===null||o.value[i.key2]===void 0)&&i.type!=="inputMap"&&(o.value[i.key2]=i.defaultVal2)),i.tempKey&&v(s.value[i.tempKey],i)):i.showing=l,l}function M(i,l){switch(i.type){case"selectInput":l[i.tempKey]={key:i.key,val:i.defaultVal};break;case"inputMap":i.key3?l[i.tempKey]={lng:i.defaultVal||0,lat:i.defaultVal2||0,name:i.defaultVal3||""}:l[i.tempKey]={lng:i.defaultVal||0,lat:i.defaultVal2||0};break;case"input":case"inputNumber":case"textarea":l[i.tempKey]=i.defaultVal;break;case"radioGroup":case"select":case"checkboxGroup":i.booleanVal?l[i.tempKey]=i.defaultVal?1:0:l[i.tempKey]=i.defaultVal;break;case"date":case"time":case"monthRange":i.dateType==="date"||i.dateType==="datetime"||i.dateType==="time"||i.dateType==="year"||i.dateType==="month"?l[i.tempKey]=i.defaultVal:(i.dateType==="daterange"||i.dateType==="datetimerange"||i.dateType==="timerange"||i.type==="monthRange")&&(l[i.tempKey]=i.defaultVal&&i.defaultVal2&&[i.defaultVal,i.defaultVal2]||[]);break}}function q(){let i=L.cloneDeep(n.formData);if(B.value)for(let l of i)Q(l);else Q(i);u.value=i}function Q(i){for(let l of i)switch(l.type){case"selectInput":const _="selectInput"+Math.floor(Math.random()*1e8);l.tempKey=_,s.value[_]={key:l.key||null,val:l.defaultVal||null},m.push(e.watch(()=>s.value[_],P=>{v(P,l)},{immediate:!0}));break;case"inputMap":const w="inputMap"+Math.floor(Math.random()*1e8);l.key&&(l.tempKey=w,l.key3?s.value[w]=l.defaultVal!==void 0&&l.defaultVal2!==void 0?{lng:l.defaultVal,lat:l.defaultVal2,name:l.defaultVal3||""}:{lng:null,lat:null,name:null}:s.value[w]=l.defaultVal!==void 0&&l.defaultVal2!==void 0?{lng:l.defaultVal,lat:l.defaultVal2}:{lng:null,lat:null},m.push(e.watch(()=>s.value[w],P=>{v(P,l)},{immediate:!0})));break;case"input":case"inputNumber":case"textarea":const Y="inputT"+Math.floor(Math.random()*1e8);l.key&&(l.tempKey=Y,s.value[Y]=l.defaultVal!==void 0?l.defaultVal:null,m.push(e.watch(()=>s.value[Y],P=>{v(P,l)},{immediate:!0})));break;case"select":case"radioGroup":case"checkboxGroup":if(l.options||(l.options=[]),l.asyncOption)if(l.changeOption)if(Array.isArray(l.changeOption)){let P=!0;for(let z of l.changeOption)if(!z.valKey||!z.key){P=!1;break}P?m.push(e.watch(()=>{let z="";if(Array.isArray(l.changeOption))for(let oe of l.changeOption){let me=o.value[oe.valKey];if(me||me===0||me===!1)z+="&"+oe.key+"="+me;else if(!oe.notRequired)return!1}return z},z=>{let oe=L.cloneDeep(s.value[l.tempKey]);if(s.value[l.tempKey]=null,z&&l.optionUrl){let me=l.optionUrl.indexOf("?")!==-1?l.optionUrl:l.optionUrl+"?";he((me+z).replace(/\?&/,"?"),l,oe)}else l.options=[],l.localOption&&(l.options=[...l.localOption]),le(oe)&&U(oe,l)},{immediate:!0})):(l.options=[],l.localOption&&(l.options=[...l.localOption]))}else typeof l.changeOption=="object"?l.changeOption.valKey&&l.changeOption.key&&m.push(e.watch(()=>typeof l.changeOption=="object"&&!Array.isArray(l.changeOption)?o.value[l.changeOption.valKey]:!1,P=>{let z=L.cloneDeep(s.value[l.tempKey]);if(s.value[l.tempKey]=null,(P||P===0||P===!1)&&l.optionUrl&&typeof l.changeOption=="object"&&!Array.isArray(l.changeOption)){let oe=l.optionUrl.indexOf("?")!==-1?l.optionUrl:l.optionUrl+"?";he((oe+"&"+l.changeOption.key+"="+P).replace(/\?&/,"?"),l,z)}else l.options=[],l.localOption&&(l.options=[...l.localOption]),le(z)&&U(z,l)},{immediate:!0})):R(l.changeOption)==="Boolean"&&m.push(e.watch(()=>we(n.formData,P=>P.key===l.key).optionUrl,P=>{let z=L.cloneDeep(s.value[l.tempKey]);s.value[l.tempKey]=null,P?he(P,l,z):(l.options=[],l.localOption&&(l.options=[...l.localOption]),le(z)&&U(z,l))},{immediate:!0}));else l.optionUrl&&he(l.optionUrl,l);else R(l.borrowOption)==="String"&&(l.options=we(u.value,P=>P.key===l.borrowOption).options);const j="opEle"+Math.floor(Math.random()*1e8);l.key&&(l.tempKey=j,l.type==="select"&&l.multiple||l.type==="checkboxGroup"?s.value[j]=l.defaultVal!==void 0?l.defaultVal:[]:l.booleanVal?s.value[j]=l.defaultVal!==void 0?l.defaultVal?1:0:null:s.value[j]=l.defaultVal!==void 0?l.defaultVal:null,m.push(e.watch(()=>s.value[j],P=>{v(P,l)},{immediate:!0})));break;case"date":case"time":case"monthRange":const G="date"+Math.floor(Math.random()*1e8);l.tempKey=G,l.dateType==="date"||l.dateType==="datetime"||l.dateType==="time"||l.dateType==="year"||l.dateType==="month"?s.value[G]=l.defaultVal||null:(l.dateType==="daterange"||l.dateType==="datetimerange"||l.dateType==="timerange"||l.type==="monthRange")&&(s.value[G]=l.defaultVal&&l.defaultVal2&&[l.defaultVal,l.defaultVal2]||[]),m.push(e.watch(()=>s.value[G],P=>{v(P,l)}));break}}function he(i,l,_){ue.get(i).then(w=>{var j;if(!l.options)return;let Y=((j=w==null?void 0:w.data)==null?void 0:j.records)||(w==null?void 0:w.data)||w||[];Array.isArray(Y)?(l.optionFilter&&R(l.optionFilter)==="Function"&&(Y=l.optionFilter(Y)),l.optionLabel&&l.optionVal?(l.options.length=0,l.options.push(...Y.map(G=>{let P;if(Array.isArray(l.optionLabel)){let z="";l.optionLabel.forEach((oe,me)=>{let Vt=String(G[oe]);me===1?z+="（"+Vt:me>1?z+="、"+Vt:z+=Vt}),P={label:z+"）",val:l.optionVal&&G[l.optionVal]}}else P={label:l.optionLabel&&G[l.optionLabel],val:l.optionVal&&G[l.optionVal]};if(l.collectLabel)if(Array.isArray(l.collectLabel))for(let z of l.collectLabel)z.valKey&&z.valKey!=="label"&&(P[z.valKey]=G[z.valKey]);else l.collectLabel.valKey&&l.collectLabel.valKey!=="label"&&(P[l.collectLabel.valKey]=G[l.collectLabel.valKey]);if(P.val!==null&&P.val!==void 0)return P}))):(l.options.length=0,l.options.push(...Y))):l.options.length=0,l.localOption&&l.options.unshift(...l.localOption),le(_)&&U(_,l),l.disableOptionByOthers&&(R(l.disableOptionByOthers)==="String"?m.push(e.watch(()=>o.value[l.disableOptionByOthers],G=>{if(te(l.tempKey),!!l.options){for(let P of l.options)P.disabled&&(P.disabled=!1);if(G||G===0||G===!1)for(let P of l.options)P.val===G&&(P.disabled=!0)}},{immediate:!0})):Array.isArray(l.disableOptionByOthers)&&m.push(e.watch(()=>l.disableOptionByOthers.filter(G=>G).map(G=>o.value[G]),G=>{if(te(l.tempKey),!!l.options){for(let P of l.options)P.disabled&&(P.disabled=!1);if(G){for(let P of l.options)for(let z=0;z<G.length;z++)if(P.val===G[z]){P.disabled=!0,G.splice(z,1);break}}}},{immediate:!0})))}).catch(()=>{console.warn("拉取选项出错")})}function U(i,l){Array.isArray(l.options)&&L.findIndex(l.options,{val:i})!==-1&&(s.value[l.tempKey]=i)}function E(){if(o.value={},B.value)for(let i of n.formData)ee(i);else ee(n.formData)}function ee(i){for(let l of i)l.key&&(l.type==="checkboxGroup"||l.type==="select"&&l.multiple?o.value[l.key]=l.defaultVal!==void 0&&l.show===void 0?l.defaultVal:[]:l.type==="editor"||l.type==="editorPro"?o.value[l.key]=l.defaultVal!==void 0&&l.show===void 0?l.defaultVal:"":(o.value[l.key]=l.defaultVal!==void 0&&l.show===void 0?l.defaultVal:null,l.key2&&(o.value[l.key2]=l.defaultVal2!==void 0&&l.show===void 0?l.defaultVal2:null)))}function v(i,l){if(l.showing)switch(l.type){case"selectInput":i&&(i.beforeKey&&delete o.value[i.beforeKey],o.value[i.key]=i.val);break;case"inputMap":if(!l.key||!l.key2)return;i?(o.value[l.key]=i.lng,o.value[l.key2]=i.lat,l.key3&&(o.value[l.key3]=i.name)):(o.value[l.key]=null,o.value[l.key2]=null,l.key3&&(o.value[l.key3]=null));break;case"input":case"inputNumber":case"textarea":if(!l.key)return;if(i||i===0){let Y=/^-?\d+(.\d+)?$/;l.numberVal&&Y.test(i)?o.value[l.key]=Number(i):o.value[l.key]=i}else o.value[l.key]=null;break;case"select":case"radioGroup":case"checkboxGroup":if(!l.key)return;if(l.booleanVal&&!l.multiple?o.value[l.key]=i===void 0||i===""||i===null?null:!!i:l.multiple||l.type==="checkboxGroup"?o.value[l.key]=Object.assign([],i):o.value[l.key]=i,l.collectLabel){const Y=ne(l,i);if(Array.isArray(l.collectLabel)){for(let j of l.collectLabel)if(j.key&&j.valKey){const G=W(j.key);let P=null;Array.isArray(Y)?(P=Y.map(oe=>oe[j.valKey]),o.value[j.key]=P,G&&(s.value[G]=P)):(Y&&le(Y[j.valKey])&&(P=Y[j.valKey]),o.value[j.key]=P,G&&(s.value[G]=P));let z=we(u.value,oe=>oe.key===j.key);z&&z.tempKey&&(s.value[z.tempKey]=o.value[j.key])}}else if(typeof l.collectLabel=="object"&&l.collectLabel.key&&l.collectLabel.valKey){const j=W(l.collectLabel.key);let G=null;Array.isArray(Y)?(G=Y.map(z=>l.collectLabel&&!Array.isArray(l.collectLabel)&&z[l.collectLabel.valKey]),o.value[l.collectLabel.key]=G,j&&(s.value[j]=G)):(Y&&le(Y[l.collectLabel.valKey])&&(G=Y[l.collectLabel.valKey]),o.value[l.collectLabel.key]=G,j&&(s.value[j]=G));let P=we(u.value,z=>l.collectLabel&&!Array.isArray(l.collectLabel)&&z.key===l.collectLabel.key||!1);P&&P.tempKey&&(s.value[P.tempKey]=o.value[l.collectLabel.key])}}break;case"date":case"time":case"monthRange":if(!l.key)return;let _=l.dateType;const w={date:"YYYY-MM-DD",daterange:"YYYY-MM-DD",datetime:"YYYY-MM-DD HH:mm:ss",datetimerange:"YYYY-MM-DD HH:mm:ss",year:"YYYY",month:"MM"};if(_==="date"||_==="datetime"||_==="time"||_==="year"||_==="month")i?(_==="time"?o.value[l.key]=i:o.value[l.key]=_e(i).format(typeof l.format=="string"?l.format:w[_]),_==="date"&&l.addTime&&(o.value[l.key]+=" 00:00:00")):o.value[l.key]=null;else if(l.type==="monthRange"||_==="daterange"||_==="datetimerange"||_==="timerange"){if(!l.key2)return;i&&i[0]&&i[1]?(_==="timerange"?(o.value[l.key]=i[0],o.value[l.key2]=i[1]):l.type==="monthRange"?(o.value[l.key]=typeof l.format=="string"&&_e(i[0]).format(l.format)||i[0],o.value[l.key2]=typeof l.format=="string"&&l.format&&_e(i[1]).format(l.format)||i[1]):(o.value[l.key]=_e(i[0]).format(l.format||_&&w[_]),o.value[l.key2]=_e(i[1]).format(l.format||_&&w[_])),_==="daterange"&&l.addTime&&(o.value[l.key]+=" 00:00:00",o.value[l.key2]+=" 23:59:59")):(o.value[l.key]=null,o.value[l.key2]=null)}break}}function ne(i,l){if(i.options)if(i.multiple||i.type==="checkboxGroup"){if(l){let _=[];for(let w of i.options)l.indexOf(w.val)!==-1&&_.push(w);return _}return!1}else{if(l||l===0||l===!1){for(let _ of i.options)if(_.val===l)return _}return!1}}function W(i){if(B.value){for(let l of u.value){const _=pe(l,i);if(_)return _}return!1}return pe(u.value,i)}function pe(i,l){for(let _ of i)if(_.key===l)return _.tempKey;return!1}function qe(i,l){let _={};for(let w in o.value)o.value.hasOwnProperty(w)&&i[w]!==void 0&&(_[w]=i[w],delete i[w]);yl(_,l);for(let w in i)i.hasOwnProperty(w)&&(p.indexOf(w)<0&&p.push(w),o.value[w]=i[w])}function Ba(i){let l=L.cloneDeep(i);if(B.value){let _=[];for(let w of n.formData)_.push(...hl(w,l));return _}return hl(n.formData,l)}function hl(i,l){return i.filter(_=>{for(let w of Object.keys(l))if(_.key===w&&I.value.indexOf(w)>-1&&!(l[w]===null||(Array.isArray(l[w])||R(l[w])==="Object")&&L.isEmpty(l[w])))return delete l[w],!0;return!1}).map(_=>_.key)}function yl(i,l=!1){let _=L.cloneDeep(i);Ca(i,l);for(let w in o.value)if(o.value.hasOwnProperty(w)&&i[w]!==void 0&&i[w]!=="--"){if(Array.isArray(i[w]))i[w]=i[w].filter(Y=>Y!=="--");else if(R(i[w])==="Object")for(let Y in i[w])i[w].hasOwnProperty(Y)&&i[w][Y]==="--"&&(i[w][Y]=null);o.value[w]=i[w]}else l||(o.value[w]=Array.isArray(o.value[w])?[]:null);Aa(Ba(_))}function Ca(i,l=!1){if(B.value)for(let _ of u.value)gl(_,i,l);else gl(u.value,i,l)}function gl(i,l,_=!1){for(let w of i)if(w.key&&(_&&(l[w.key]!==void 0||w.key2&&l[w.key2]!==void 0)||!_)&&w.tempKey)switch(w.type){case"inputMap":if(!w.key2)continue;R(l[w.key])==="Number"&&R(l[w.key2]==="Number")?w.key3?s.value[w.tempKey]={lng:l[w.key],lat:l[w.key2],name:l[w.key3]}:s.value[w.tempKey]={lng:l[w.key],lat:l[w.key2]}:w.key3?s.value[w.tempKey]={lng:null,lat:null,name:null}:s.value[w.tempKey]={lng:null,lat:null};break;case"input":case"inputNumber":case"textarea":l[w.key]&&l[w.key]!=="--"||l[w.key]===0?s.value[w.tempKey]=l[w.key]:s.value[w.tempKey]=null;break;case"select":case"radioGroup":case"checkboxGroup":l[w.key]&&l[w.key]!=="--"||l[w.key]===0||l[w.key]===!1?w.multiple||w.type==="checkboxGroup"?s.value[w.tempKey]=[...l[w.key]]:w.booleanVal?s.value[w.tempKey]=l[w.key]?1:0:s.value[w.tempKey]=l[w.key]:w.multiple||w.type==="checkboxGroup"?s.value[w.tempKey]=[]:s.value[w.tempKey]=null;break;case"date":case"time":if(w.dateType==="date"||w.dateType==="datetime"||w.dateType==="year"||w.dateType==="month"||w.dateType==="time")s.value[w.tempKey]=l[w.key]&&l[w.key]!=="--"?l[w.key]:null;else if(w.dateType==="daterange"||w.dateType==="datetimerange"||w.dateType==="timerange"){if(!w.key2)continue;s.value[w.tempKey]=l[w.key]&&l[w.key]!=="--"&&l[w.key2]&&l[w.key2]!=="--"&&[l[w.key],l[w.key2]]||[]}break}}function Sa(i){if(Array.isArray(i))for(let l of i)bl(l);else R(i)==="Object"&&bl(i)}function bl(i){const{index:l,indexB:_,key:w,val:Y}=i;if(typeof l=="number")if(Array.isArray(u.value[l])){if(typeof _=="number")if(w&&i.hasOwnProperty("val"))u.value[l][_][w]=Y;else for(let j of Object.keys(i))j!=="index"&&w!=="indexB"&&(u.value[l][_][j]=i[j])}else if(w&&i.hasOwnProperty("val"))u.value[l][w]=Y;else for(let j of Object.keys(i))j!=="index"&&(u.value[l][j]=i[j])}function kl({label:i,root:l}){l.key2&&(o.value[l.key2]=i),Se({e:i,root:l})}function wl(i){i.beforeKey&&L.remove(f,l=>l===i.beforeKey),i.key&&(f.indexOf(i.key)===-1&&f.push(i.key),Se({e:null,root:i}))}function Vl({name:i,root:l}){l.key2&&(o.value[l.key2]=i),Se({e:i,root:l})}function Bl({e:i,root:l}){Se({e:i,root:l}),e.nextTick(function(){var _,w;(w=(_=d.value)==null?void 0:_.validateField)==null||w.call(_,l.key)})}function Se({e:i,root:l}){ie(()=>{let _={event:i};if(l.key&&(_[l.key]=o.value[l.key]),l.key2&&(_[l.key2]=o.value[l.key2]),Array.isArray(l.collectLabel))for(let w of l.collectLabel)_[w.key]=o.value[w.key];else l.collectLabel&&l.collectLabel.key&&(_[l.collectLabel.key]=o.value[l.collectLabel.key]);t("on-item-change",_)},500)}function Cl(){let i={};for(let l of T.value)i[l]=o.value[l];return n.trim&&(i=Ne(i)),i}function _a(){var i,l;(l=(i=d.value)==null?void 0:i.validate)==null||l.call(i)}function Ta(i){ie(()=>{var l,_;(_=(l=d.value)==null?void 0:l.validateField)==null||_.call(l,i,()=>{})},10)}function Aa(i){ie(()=>{var l,_;if(Array.isArray(i))for(let w of i)(_=(l=d.value)==null?void 0:l.validateField)==null||_.call(l,w,()=>{})},10)}function xa(i){i!==void 0&&(C.value=!!i)}function wt(){var i,l;n.disabled||(l=(i=d.value)==null?void 0:i.validate)==null||l.call(i,_=>{y||(y=!0,_&&(C.value=!0,t("on-submit",Cl())),ie(()=>{y=!1},2e3))})}return e.onMounted(()=>{E(),q()}),r({resetForm:g,refreshFormDom:H,reRenderForm:F,setItemToValGroup:qe,updateValGroup:yl,updateFormDataT:Sa,validate:_a,reValidate:Ta,changeLoading:xa,getValGroup:Cl,submit:wt}),(i,l)=>{const _=e.resolveComponent("FormItem"),w=e.resolveComponent("Button"),Y=e.resolveComponent("Form");return e.openBlock(),e.createBlock(Y,{ref_key:"formGroupXRef",ref:d,model:e.unref(o),rules:e.unref(S),"label-width":n.labelWidth,inline:n.inline,"show-message":n.showMessage,class:"formXN",key:e.unref(k)},{default:e.withCtx(()=>[e.createVNode(_,{style:{display:"none"}},{default:e.withCtx(()=>[Rn]),_:1}),e.unref(B)?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:0},e.renderList(e.unref(u),(j,G)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([i.teamClass,"formTeamBox"+G]),key:"formTeamBox"+G},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(j,(P,z)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:"formItem"+z},[K(P)?(e.openBlock(),e.createBlock(nl,{key:0,item:P,style:e.normalizeStyle(e.unref(A)),"item-style":e.unref(V),"val-group":e.unref(o),"temp-keys":e.unref(s),inline:n.inline,disabled:n.disabled,"label-width":n.labelWidth,"item-width":n.itemWidth,"mgr-url":e.unref(c),"upload-url":e.unref(b),onItemChange:Se,onReValidate:Bl,onClearTempKeyItem:te,onSelectInputChange:wl,onAlNameChange:Vl,onAsyncLabelChange:kl},e.createSlots({_:2},[e.renderList(D(j),oe=>({name:oe.slotName,fn:e.withCtx(me=>[e.renderSlot(i.$slots,oe.slotName,{valGroup:me.valGroup})])}))]),1032,["item","style","item-style","val-group","temp-keys","inline","disabled","label-width","item-width","mgr-url","upload-url"])):e.createCommentVNode("",!0)],64))),128))],2))),128)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(u),(j,G)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:"formItem"+G},[!e.unref(B)&&K(j)?(e.openBlock(),e.createBlock(nl,{key:0,item:j,style:e.normalizeStyle(e.unref(A)),"item-style":e.unref(V),"val-group":e.unref(o),"temp-keys":e.unref(s),inline:n.inline,disabled:n.disabled,"label-width":n.labelWidth,"item-width":n.itemWidth,"mgr-url":e.unref(c),"upload-url":e.unref(b),onItemChange:Se,onReValidate:Bl,onClearTempKeyItem:te,onSelectInputChange:wl,onAlNameChange:Vl,onAsyncLabelChange:kl},e.createSlots({_:2},[e.renderList(D(i.formData),P=>({name:P.slotName,fn:e.withCtx(z=>[e.renderSlot(i.$slots,P.slotName,{valGroup:z.valGroup})])}))]),1032,["item","style","item-style","val-group","temp-keys","inline","disabled","label-width","item-width","mgr-url","upload-url"])):e.createCommentVNode("",!0)],64))),128)),n.showLongOkBt?(e.openBlock(),e.createBlock(_,{key:1},{default:e.withCtx(()=>[e.createVNode(w,{onClick:wt,style:e.normalizeStyle(e.unref(V)),type:"primary",loading:n.btnLoading&&e.unref(C),disabled:n.disabled},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(n.longOkBtTxt||e.unref(N)("r.confirm")),1)]),_:1},8,["style","loading","disabled"])]),_:1})):e.createCommentVNode("",!0),e.createElementVNode("div",Un,[n.showInlineOkBt?(e.openBlock(),e.createBlock(w,{key:0,type:"primary",class:e.normalizeClass({inlineFormBtXN:n.inline,okBtnXN:!0}),onClick:wt,loading:n.btnLoading&&e.unref(C),disabled:n.disabled},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(n.inlineOkBtTxt||e.unref(N)("r.confirm")),1)]),_:1},8,["class","loading","disabled"])):e.createCommentVNode("",!0),n.showInlineClearBt?(e.openBlock(),e.createBlock(w,{key:1,onClick:g,class:e.normalizeClass({inlineFormBtXN:n.inline}),type:"dashed"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(n.inlineClearBtTxt||e.unref(N)("r.clear")),1)]),_:1},8,["class"])):e.createCommentVNode("",!0)])]),_:3},8,["model","rules","label-width","inline","show-message"])}}}),al=e.defineComponent({__name:"FormGroup",props:{formData:{default:()=>[]},with:{default:"100%"},labelWidth:{default:()=>Re().formGroupLabelWidth},contentWidth:{default:"70%"},itemWidth:{default:200},showOkBt:{type:Boolean,default:!0},showCancelBt:{type:Boolean,default:!0},okBtTxt:{},cancelBtTxt:{},btnLoading:{type:Boolean,default:!1}},emits:["on-cancel"],setup(a,{expose:r,emit:t}){const n=a,d=e.ref({width:n.with}),o=e.ref(!1),u=e.ref(),s=e.computed(()=>{if(Array.isArray(n.formData))if(Array.isArray(n.formData[0])){let I=[];for(let D of n.formData)I=I.concat(D.filter(h=>h.type==="custom"));return I}else return n.formData.filter(I=>I.type==="custom");return[]});function m(){return new Promise(I=>{var D,h;(h=(D=u.value).resetForm)==null||h.call(D).then(O=>{I(O)})})}function c(){return new Promise(I=>{var D,h;(h=(D=u.value).refreshFormDom)==null||h.call(D).then(O=>{I(O)})})}function f(){return new Promise(I=>{var D,h;(h=(D=u.value).reRenderForm)==null||h.call(D).then(O=>{I(O)})})}function p(I,D){var h,O;(O=(h=u.value).setItemToValGroup)==null||O.call(h,I,D)}function C(I,D){var h,O;(O=(h=u.value).updateValGroup)==null||O.call(h,I,D)}function k(I){var D,h;(h=(D=u.value).updateFormDataT)==null||h.call(D,I)}function b(){var I,D;(D=(I=u.value).validate)==null||D.call(I)}function y(I){var D,h;(h=(D=u.value).reValidate)==null||h.call(D,I)}function B(I){var D,h;I!==void 0&&(o.value=!!I,(h=(D=u.value).changeLoading)==null||h.call(D,o.value))}function A(){var I,D;return(D=(I=u.value).getValGroup)==null?void 0:D.call(I)}function V(){o.value=!0}function S(){var I,D;(D=(I=u.value).submit)==null||D.call(I)}function T(){t("on-cancel"),ie(()=>{var I,D;o.value=!1,(D=(I=u.value).changeLoading)==null||D.call(I,!1)},1e3)}return r({resetForm:m,refreshFormDom:c,reRenderForm:f,setItemToValGroup:p,updateValGroup:C,updateFormDataT:k,validate:b,reValidate:y,changeLoading:B,getValGroup:A,submit:S,close:T}),(I,D)=>{const h=e.resolveComponent("Button");return e.openBlock(),e.createElementBlock("div",{style:e.normalizeStyle(e.unref(d)),class:"formGroupBoxVM"},[e.createVNode(Ie,e.mergeProps({ref_key:"formRRef",ref:u},I.$attrs,{"form-data":n.formData,"label-width":n.labelWidth,"content-width":n.contentWidth,"item-width":n.itemWidth,btnLoading:n.btnLoading,onOnSubmit:V}),e.createSlots({_:2},[e.renderList(e.unref(s),O=>({name:O.slotName,fn:e.withCtx(({valGroup:g})=>[e.renderSlot(I.$slots,O.slotName,{valGroup:g})])}))]),1040,["form-data","label-width","content-width","item-width","btnLoading"]),e.withDirectives(e.createElementVNode("div",{class:"formFooterVM",style:e.normalizeStyle({marginLeft:n.labelWidth+"px"})},[e.createElementVNode("div",{style:e.normalizeStyle({width:n.contentWidth}),class:"btnBoxKAL"},[n.showOkBt?(e.openBlock(),e.createBlock(h,{key:0,onClick:S,class:"form-save-btn",loading:n.btnLoading&&e.unref(o)},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(n.okBtTxt||e.unref(N)("r.confirm")),1)]),_:1},8,["loading"])):e.createCommentVNode("",!0),n.showCancelBt?(e.openBlock(),e.createBlock(h,{key:1,onClick:T,class:"form-cancel-btn"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(n.cancelBtTxt||e.unref(N)("r.cancel")),1)]),_:1})):e.createCommentVNode("",!0)],4)],4),[[e.vShow,n.showOkBt||n.showCancelBt]])],4)}}}),je=e.defineComponent({__name:"SearchForm",props:{formData:{default:()=>[]},labelWidth:{default:()=>Re().searchFormLabelWidth},itemWidth:{default:202},showInlineOkBt:{type:Boolean,default:!0},showInlineClearBt:{type:Boolean,default:!0}},emits:["on-search"],setup(a,{expose:r,emit:t}){const n=a,d=e.ref(),o=e.computed(()=>{if(Array.isArray(n.formData[0])){let V=[];for(let S of n.formData)V=V.concat(S.filter(T=>T.type==="custom"));return V}return n.formData.filter(V=>V.type==="custom")});function u(){return new Promise(V=>{var S,T;(T=(S=d.value).resetForm)==null||T.call(S).then(()=>{V()})})}function s(){return new Promise(V=>{var S,T;(T=(S=d.value).refreshFormDom)==null||T.call(S).then(()=>{V()})})}function m(){return new Promise(V=>{var S,T;(T=(S=d.value).reRenderForm)==null||T.call(S).then(()=>{V()})})}function c(V,S){var T,I;(I=(T=d.value).setItemToValGroup)==null||I.call(T,V,S)}function f(V,S){var T,I;(I=(T=d.value).updateValGroup)==null||I.call(T,V,S)}function p(V){var S,T;(T=(S=d.value).updateFormDataT)==null||T.call(S,V)}function C(){var V,S;(S=(V=d.value).validate)==null||S.call(V)}function k(V){var S,T;(T=(S=d.value).reValidate)==null||T.call(S,V)}function b(V){var S,T;(T=(S=d.value).changeLoading)==null||T.call(S,V===void 0?!1:V)}function y(){var V,S;return(S=(V=d.value).getValGroup)==null?void 0:S.call(V)}function B(V){t("on-search",V)}function A(){var V,S;(S=(V=d.value).submit)==null||S.call(V)}return e.onMounted(()=>{const V=d.value.$el;V!=null&&V.parentNode&&V.parentNode.addEventListener("keyup",S=>{S.keyCode===13&&A()})}),r({resetForm:u,refreshFormDom:s,reRenderForm:m,setItemToValGroup:c,updateValGroup:f,updateFormDataT:p,validate:C,reValidate:k,changeLoading:b,getValGroup:y,submit:A}),(V,S)=>(e.openBlock(),e.createBlock(Ie,e.mergeProps({ref_key:"formRRef",ref:d},V.$attrs,{"form-data":n.formData,"label-width":n.labelWidth,"item-width":n.itemWidth,inline:"","show-long-ok-bt":!1,"show-inline-ok-bt":n.showInlineOkBt,"inline-ok-bt-txt":e.unref(N)("r.check"),"show-inline-clear-bt":n.showInlineClearBt,"show-message":!1,onOnSubmit:B}),e.createSlots({_:2},[e.renderList(e.unref(o),T=>({name:T.slotName,fn:e.withCtx(({valGroup:I})=>[e.renderSlot(V.$slots,T.slotName,{valGroup:I})])}))]),1040,["form-data","label-width","item-width","show-inline-ok-bt","inline-ok-bt-txt","show-inline-clear-bt"]))}}),ol=e.defineComponent({__name:"FormModal",props:{title:{},formData:{default:()=>[]},width:{default:520},labelWidth:{default:()=>Re().formModalLabelWidth},okBtTxt:{},cancelBtTxt:{},hideCancelBt:{type:Boolean,default:!1},hideFooter:{type:Boolean,default:!1},btnLoading:{type:Boolean,default:!1}},emits:["on-close","on-open"],setup(a,{expose:r,emit:t}){const n=a,d=e.ref(),o=e.ref(!1),u=e.ref(!1),s=e.computed(()=>{if(Array.isArray(n.formData[0])){let h=[];for(let O of n.formData)h=h.concat(O.filter(g=>g.type==="custom"));return h}return n.formData.filter(h=>h.type==="custom")});function m(){return new Promise(h=>{var O,g;(g=(O=d.value).resetForm)==null||g.call(O).then(()=>{h()})})}function c(){return new Promise(h=>{var O,g;(g=(O=d.value).refreshFormDom)==null||g.call(O).then(()=>{h()})})}function f(){return new Promise(h=>{var O,g;(g=(O=d.value).reRenderForm)==null||g.call(O).then(()=>{h()})})}function p(h,O){var g,F;(F=(g=d.value).setItemToValGroup)==null||F.call(g,h,O)}function C(h,O){var g,F;(F=(g=d.value).updateValGroup)==null||F.call(g,h,O)}function k(h){var O,g;(g=(O=d.value).updateFormDataT)==null||g.call(O,h)}function b(){var h,O;(O=(h=d.value).validate)==null||O.call(h)}function y(h){var O,g;(g=(O=d.value).reValidate)==null||g.call(O,h)}function B(h){var O,g;h!==void 0&&(u.value=!!h,(g=(O=d.value).changeLoading)==null||g.call(O,u.value))}function A(){var h,O;return(O=(h=d.value).getValGroup)==null?void 0:O.call(h)}function V(){u.value=!0}function S(){var h,O;n.hideCancelBt?I():(O=(h=d.value).submit)==null||O.call(h)}function T(){o.value=!0}function I(){o.value=!1,ie(()=>{var h,O;u.value=!1,(O=(h=d.value).changeLoading)==null||O.call(h,!1)},1e3)}function D(h){t(h?"on-open":"on-close")}return r({resetForm:m,refreshFormDom:c,reRenderForm:f,setItemToValGroup:p,updateValGroup:C,updateFormDataT:k,validate:b,reValidate:y,changeLoading:B,getValGroup:A,submit:S,open:T,close:I}),(h,O)=>{const g=e.resolveComponent("Button"),F=e.resolveComponent("Modal");return e.openBlock(),e.createBlock(F,{class:e.normalizeClass(["formModal",{hideFooter:n.hideFooter}]),title:n.title||e.unref(N)("r.title"),modelValue:e.unref(o),"onUpdate:modelValue":O[0]||(O[0]=H=>e.isRef(o)?o.value=H:null),"mask-closable":!1,"footer-hide":n.hideFooter,width:n.width,onOnVisibleChange:D},{footer:e.withCtx(()=>[e.createVNode(g,{onClick:S,class:"modal-save-btn",loading:n.btnLoading&&e.unref(u)},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(n.okBtTxt||e.unref(N)("r.confirm")),1)]),_:1},8,["loading"]),n.hideCancelBt?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(g,{key:0,onClick:I,class:"modal-cancel-btn"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(n.cancelBtTxt||e.unref(N)("r.cancel")),1)]),_:1}))]),default:e.withCtx(()=>[e.createVNode(Ie,e.mergeProps({ref_key:"formRRef",ref:d},h.$attrs,{"form-data":n.formData,"label-width":n.labelWidth,btnLoading:n.btnLoading,onOnSubmit:V}),e.createSlots({_:2},[e.renderList(e.unref(s),H=>({name:H.slotName,fn:e.withCtx(({valGroup:$})=>[e.renderSlot(h.$slots,H.slotName,{valGroup:$})])}))]),1040,["form-data","label-width","btnLoading"])]),_:3},8,["title","modelValue","footer-hide","class","width"])}}}),il=e.defineComponent({__name:"CheckboxTree",props:{modelValue:{default:()=>[]},data:{default:()=>[]},expandAll:{type:Boolean,default:!1},label:{default:"name"},collectVal:{default:"id"},leaf:{type:Boolean,default:!0},inlineLeaf:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","on-change"],setup(a,{emit:r}){const t=a,n=e.ref(!0),d=e.ref([]),o="CKT"+Math.floor(Math.random()*1e7+1e7);let u=[];const s=e.computed(()=>Array.isArray(t.collectVal)?t.collectVal:typeof t.collectVal=="string"?[t.collectVal]:[]),m=e.computed(()=>Array.isArray(t.modelValue)?t.modelValue:[]);e.watch(()=>t.data,b=>{n.value=!1;let y=[];c(b,y),d.value=y,e.nextTick(function(){n.value=!0,t.inlineLeaf&&e.nextTick(C)})},{immediate:!0,deep:!0}),e.watch(()=>m.value,b=>{let y,B="s";if(Array.isArray(t.collectVal)?(y=t.collectVal[0]||"",B="a"):y=t.collectVal,!y||JSON.stringify(b)===JSON.stringify(u)){u=[];return}Ve({group:d.value,condition:A=>A.checked===!0,key:"checked",val:!1}),Ve(B==="a"?{group:d.value,condition:A=>L.findIndex(b,[y,A[y]])!==-1,key:"checked",val:!0}:{group:d.value,condition:A=>b.indexOf(A[y])!==-1,key:"checked",val:!0})}),e.watch(()=>t.disabled,b=>{Ve({group:d.value,condition:y=>y.disableCheckbox!==b,key:"disableCheckbox",val:b}),t.inlineLeaf&&e.nextTick(C)},{immediate:!0});function c(b,y=[]){for(let B of b){let A=!1;s.value.length>1?A=L.find(m.value,S=>S[s.value[0]]===B[s.value[0]])!==void 0:A=s.value[0]?m.value.indexOf(B[s.value[0]])!==-1:!1;let V={name:B[t.label],expand:!!(t.expandAll||B.expand),checked:A,disableCheckbox:t.disabled};for(let S of s.value)V[S]=B[S];y.push(V),B.children&&B.children.length>0&&(V.children=[],f(B.children,V.children))}}function f(b,y=[]){for(let B of b){let A=!1;s.value.length>1?A=L.find(m.value,S=>S[s.value[0]]===B[s.value[0]])!==void 0:A=s.value[0]?m.value.indexOf(B[s.value[0]])!==-1:!1;let V={name:B[t.label],expand:!!(t.expandAll||B.expand),checked:A,disableCheckbox:t.disabled};for(let S of s.value)V[S]=B[S];y.push(V),B.children&&B.children.length>0&&(V.children=[],c(B.children,V.children))}}function p(b,{data:y}){let B="",A=!0;if(y.children&&y.children.length>0){for(let V of y.children)if(V.children!==void 0){A=!1;break}A&&t.inlineLeaf&&(B="inlineChildXA")}return b("div",{style:{display:"inline-block",width:"100%"},class:B},[b("span",{style:{fontWeight:y.children?"bold":"normal"}},y.name)])}function C(b){if(b){b.expand&&e.nextTick(C);return}let y=document.querySelectorAll("#"+o+" .inlineChildXA");if(y.length>0)for(let B of y){let A=B.parentElement,V=A==null?void 0:A.nextElementSibling;if(!V)return;if(V.tagName!=="BR"){let S=A==null?void 0:A.parentElement,T=document.createElement("br");S==null||S.insertBefore(T,V),V=T.nextElementSibling,(V==null?void 0:V.className.indexOf("inlineTreeNodeF"))===-1&&V.setAttribute("class",V.className+" inlineTreeNodeF")}for(;V!=null&&V.nextElementSibling;)V=V.nextElementSibling,V.className.indexOf("inlineTreeNodeF")===-1&&V.setAttribute("class",V.className+" inlineTreeNodeF")}}function k(b){let y=[];if(t.leaf){for(let B of b)if(!B.children)if(Array.isArray(t.collectVal)){let A={};for(let V of t.collectVal)A[V]=B[V];y.push(A)}else y.push(B[t.collectVal])}else for(let B of b)if(Array.isArray(t.collectVal)){let A={};for(let V of t.collectVal)A[V]=B[V];y.push(A)}else y.push(B[t.collectVal]);u=y,r("update:modelValue",y),r("on-change",L.cloneDeep(y))}return(b,y)=>{const B=e.resolveComponent("Tree");return e.unref(n)?(e.openBlock(),e.createBlock(B,{key:0,id:o,class:"checkboxTreeGA",data:e.unref(d),render:p,onOnCheckChange:k,onOnToggleExpand:C,"show-checkbox":""},null,8,["data"])):e.createCommentVNode("",!0)}}}),Pn={class:"transferBoxRL"},Kn={class:"leftBoxLLL"},$n={class:"fullHeight flexColumnBox"},zn={class:"notGrow"},Gn={class:"titleLLL"},Hn={class:"growFlexItem"},Wn={class:"middleBoxLLL"},jn={class:"rightBoxLLL"},qn={class:"fullHeight flexColumnBox"},Jn={class:"notGrow"},Yn={class:"titleLLL"},Xn={class:"growFlexItem"},rl=e.defineComponent({__name:"TransferBox",props:{titleLeft:{},titleRight:{},formDataLeft:{default:()=>[]},formDataRight:{default:()=>[]},formRulesLeft:{default:()=>({})},formRulesRight:{default:()=>({})},constSearchDataLeft:{default:()=>({})},constSearchDataRight:{default:()=>({})},leftTableColumns:{default:()=>[]},rightTableColumns:{default:()=>[]},leftTableUrl:{},rightTableUrl:{},addUrl:{},deleteUrl:{},addAllUrl:{},deleteAllUrl:{},addParamsHandle:{type:Function,default:a=>a.map(r=>r.id)},deleteParamsHandle:{type:Function,default:a=>a.map(r=>r.id)},addAllParamsHandle:{type:Function,default:a=>a},deleteAllParamsHandle:{type:Function,default:a=>a},addMethod:{default:"post"},addAllMethod:{default:"post"},deleteMethod:{default:"delete"},deleteAllMethod:{default:"delete"},searchFormLabelWith:{}},emits:["transferred"],setup(a,{expose:r,emit:t}){const n=a;let d=e.ref({}),o=e.ref({}),u=e.ref([]),s=e.ref([]),m=e.ref(0),c=e.ref(0);const f=e.computed(()=>({...n.constSearchDataLeft,...d.value})),p=e.computed(()=>({...n.constSearchDataRight,...o.value})),C=e.computed(()=>m.value<1),k=e.computed(()=>u.value.length<1),b=e.computed(()=>s.value.length<1),y=e.computed(()=>c.value<1),B=e.ref(),A=e.ref(),V=e.ref(),S=e.ref();function T(){B.value.resetForm(),A.value.resetForm(),L.isEmpty(d.value)||(d.value={}),L.isEmpty(o.value)||(o.value={}),V.value.clearSelect(),S.value.clearSelect()}function I(){V.value.search(),S.value.search()}function D(K){u.value=K}function h(K){s.value=K}function O(K){var Z,X,M,q,Q;m.value=((X=(Z=K==null?void 0:K.data)==null?void 0:Z.page)==null?void 0:X.total)||((q=(M=K==null?void 0:K.data)==null?void 0:M.data)==null?void 0:q.total)||((Q=K==null?void 0:K.data)==null?void 0:Q.total)||(K==null?void 0:K.total)||0}function g(K){var Z,X,M,q,Q;c.value=((X=(Z=K==null?void 0:K.data)==null?void 0:Z.page)==null?void 0:X.total)||((q=(M=K==null?void 0:K.data)==null?void 0:M.data)==null?void 0:q.total)||((Q=K==null?void 0:K.data)==null?void 0:Q.total)||(K==null?void 0:K.total)||0}function F(K){d.value=K}function H(K){o.value=K}function $(){n.addUrl&&ae("add")}function J(){n.deleteUrl&&ae("delete")}function te(){n.addAllUrl&&n.addUrl&&ae("addAll")}function de(){n.deleteAllUrl&&ae("deleteAll")}function ae(K){let Z,X,M={},q="";switch(K){case"add":Z=n.addMethod,X=n.addUrl,M=n.addParamsHandle(s.value),q=N("r.add");break;case"delete":Z=n.deleteMethod,X=n.deleteUrl,M=n.deleteParamsHandle(u.value),q=N("r.remove");break;case"addAll":Z=n.addAllMethod,X=n.addAllUrl,M=n.addAllParamsHandle(p.value),q=N("r.addAll");break;case"deleteAll":Z=n.deleteAllMethod,X=n.deleteAllUrl,M=n.deleteAllParamsHandle(f.value),q=N("r.removeAll");break}X&&Z&&ue[Z](X,M,null,[],{spin:!0},!1).then(Q=>{(Q==null?void 0:Q.code)===0?(ce(q+N("r.success"),(Q==null?void 0:Q.message)||"","success"),V.value&&V.value.getTableData(),S.value&&S.value.getTableData(),t("transferred")):ce(q+N("r.failed"),(Q==null?void 0:Q.message)||"","error")}).catch(()=>{ce(q+N("r.error"),"","error")})}return r({reset:T,search:I}),(K,Z)=>{const X=e.resolveComponent("Icon"),M=e.resolveComponent("Button");return e.openBlock(),e.createElementBlock("div",Pn,[e.createElementVNode("div",Kn,[e.createElementVNode("div",$n,[e.createElementVNode("div",zn,[e.createElementVNode("div",Gn,e.toDisplayString(n.titleLeft||e.unref(N)("r.added")),1),e.createVNode(ze,null,{default:e.withCtx(()=>[e.createVNode(je,{ref_key:"leftFormRef",ref:B,"form-data":n.formDataLeft,"form-rules":n.formRulesLeft,"label-width":n.searchFormLabelWith,onOnSearch:F},null,8,["form-data","form-rules","label-width"])]),_:1})]),e.createElementVNode("div",Hn,[e.createVNode(He,{ref_key:"lTabRef",ref:V,columns:n.leftTableColumns,url:n.leftTableUrl,"search-data":e.unref(f),onOnSelectionChange:D,onOnDataChange:O,"init-data":!!(e.unref(L.isEmpty)(n.constSearchDataLeft)&&n.leftTableUrl),"get-data-loading":"",selection:""},null,8,["columns","url","search-data","init-data"])])])]),e.createElementVNode("div",Wn,[e.createVNode(M,{class:"middleBtLLL",size:"large",type:"default",onClick:de,disabled:e.unref(C)},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(N)("r.removeAll"))+" ",1),e.createVNode(X,{type:"ios-arrow-forward"})]),_:1},8,["disabled"]),e.createVNode(M,{class:"middleBtLLL",size:"large",type:"default",onClick:J,disabled:e.unref(k)},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(N)("r.remove"))+" ",1),e.createVNode(X,{type:"ios-arrow-forward"})]),_:1},8,["disabled"]),e.createVNode(M,{class:"middleBtLLL",size:"large",type:"primary",onClick:$,disabled:e.unref(b)},{default:e.withCtx(()=>[e.createVNode(X,{type:"ios-arrow-back"}),e.createTextVNode(" "+e.toDisplayString(e.unref(N)("r.add")),1)]),_:1},8,["disabled"]),e.createVNode(M,{class:"middleBtLLL",size:"large",type:"primary",onClick:te,disabled:e.unref(y)},{default:e.withCtx(()=>[e.createVNode(X,{type:"ios-arrow-back"}),e.createTextVNode(" "+e.toDisplayString(e.unref(N)("r.addAll")),1)]),_:1},8,["disabled"])]),e.createElementVNode("div",jn,[e.createElementVNode("div",qn,[e.createElementVNode("div",Jn,[e.createElementVNode("div",Yn,e.toDisplayString(n.titleRight||e.unref(N)("r.notAdded")),1),e.createVNode(ze,null,{default:e.withCtx(()=>[e.createVNode(je,{ref_key:"rightFormRef",ref:A,"form-data":n.formDataRight,"form-rules":n.formRulesRight,"label-width":n.searchFormLabelWith,onOnSearch:H},null,8,["form-data","form-rules","label-width"])]),_:1})]),e.createElementVNode("div",Xn,[e.createVNode(He,{ref_key:"rTabRef",ref:S,columns:n.rightTableColumns,url:n.rightTableUrl,"search-data":e.unref(p),onOnSelectionChange:h,onOnDataChange:g,"init-data":!!(e.unref(L.isEmpty)(n.constSearchDataRight)&&n.rightTableUrl),"get-data-loading":"",selection:""},null,8,["columns","url","search-data","init-data"])])])])])}}}),Qn={class:"boxLPA"},Zn={class:"headerJ"},vn={class:"firstT borderBoxAS"},ea={class:"secondT borderBoxAS"},ta={class:"firstCol borderBoxAS"},la={class:"secondCol borderBoxAS"},sl=e.defineComponent({__name:"CheckboxGroupTwoClass",props:{modelValue:{default:()=>[]},data:{default:()=>[]},firstTitle:{},secondTitle:{},label:{default:"name"},collectVal:{default:"id"},leaf:{type:Boolean,default:!0},disabled:{type:Boolean}},emits:["update:modelValue","on-change"],setup(a,{emit:r}){const t=a,n=e.ref([]),d=e.computed(()=>{let m=L.cloneDeep(t.data),c=L.cloneDeep(n.value);for(let f of m){let p=0;if(f.children&&!L.isEmpty(f.children))for(let C of f.children){for(let k=0,b=c.length;k<b;k++)if(Array.isArray(t.collectVal)){let y=!0;for(let B of t.collectVal)if(c[k][B]!==C[B]){y=!1;break}if(y){C.checked=!0,p++,c.splice(k,1);break}}else if(c[k]===C[t.collectVal]){C.checked=!0,p++,c.splice(k,1);break}!C.checked&&(C.checked=!1)}p===0?(f.checked=!1,f.indeterminate=!1):f.children&&p===f.children.length?(f.checked=!0,f.indeterminate=!1):(f.checked=!1,f.indeterminate=!0)}return m});e.watch(()=>t.modelValue,(m,c)=>{L.isEqual(n.value,m)||L.isEqual(m,c)||(n.value=m)},{immediate:!0,deep:!0});function o(m,c){if(m.children)for(let f of m.children)f.checked=c;u()}function u(){s(d.value,!0)}function s(m,c){let f=[];for(let p of m){if(!c&&!t.leaf&&p.checked&&p.indeterminate===!1)if(Array.isArray(t.collectVal)){let C={};for(let k of t.collectVal)C[k]=p[k];f.push(C)}else R(t.collectVal)==="String"&&f.push(p[t.collectVal]);if(p.children){for(let C of p.children)if(C.checked)if(Array.isArray(t.collectVal)){let k={};for(let b of t.collectVal)k[b]=C[b];f.push(k)}else R(t.collectVal)==="String"&&f.push(C[t.collectVal])}}c?(n.value=f,t.leaf?(r("update:modelValue",f),r("on-change",L.cloneDeep(f))):e.nextTick(function(){s(d.value)})):(r("update:modelValue",f),r("on-change",L.cloneDeep(f)))}return(m,c)=>{const f=e.resolveComponent("Checkbox");return e.openBlock(),e.createElementBlock("div",Qn,[e.createElementVNode("div",Zn,[e.createElementVNode("div",vn,e.toDisplayString(m.firstTitle||e.unref(N)("r.level.1")),1),e.createElementVNode("div",ea,e.toDisplayString(m.secondTitle||e.unref(N)("r.level.2")),1)]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(d),(p,C)=>(e.openBlock(),e.createElementBlock("div",{class:"bodyJ",key:"checkboxJ"+C},[e.createElementVNode("div",ta,[e.createVNode(f,{modelValue:p.checked,"onUpdate:modelValue":k=>p.checked=k,indeterminate:p.indeterminate,onOnChange:k=>o(p,k),disabled:m.disabled},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(p[m.label]),1)]),_:2},1032,["modelValue","onUpdate:modelValue","indeterminate","onOnChange","disabled"])]),e.createElementVNode("div",la,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(p.children,(k,b)=>(e.openBlock(),e.createElementBlock("div",{class:"secItem",key:"secItem"+b},[e.createVNode(f,{modelValue:k.checked,"onUpdate:modelValue":y=>k.checked=y,onOnChange:u,disabled:m.disabled},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(k[m.label]),1)]),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])]))),128))])]))),128))])}}}),na={class:"boxLPB"},aa={class:"headerF"},oa={class:"firstT borderBoxKa"},ia={class:"secondT borderBoxKa"},ra={class:"thirdT borderBoxKa"},sa={class:"firstCol borderBoxKa"},ca={class:"rightBoxAL"},da={class:"secondCol borderBoxKa"},fa={class:"thirdCol borderBoxKa"},cl=e.defineComponent({__name:"CheckboxGroupThreeClass",props:{modelValue:{default:()=>[]},data:{default:()=>[]},firstTitle:{},secondTitle:{},thirdTitle:{},label:{default:"name"},collectVal:{default:"id"},leaf:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","on-change"],setup(a,{emit:r}){const t=a,n=e.ref([]),d=e.computed(()=>{let c=L.cloneDeep(t.data),f=L.cloneDeep(n.value);for(let p of c){let C=0,k=0;if(p.children&&!L.isEmpty(p.children))for(let b of p.children){let y=0;if(b.children&&!L.isEmpty(b.children))for(let B of b.children){for(let A=0,V=f.length;A<V;A++)if(Array.isArray(t.collectVal)){let S=!0;for(let T of t.collectVal)if(f[A][T]!==B[T]){S=!1;break}if(S){B.checked=!0,y++,f.splice(A,1);break}}else if(f[A]===B[t.collectVal]){B.checked=!0,y++,f.splice(A,1);break}!B.checked&&(B.checked=!1)}y===0?(b.checked=!1,b.indeterminate=!1):b.children&&y===b.children.length?(b.checked=!0,b.indeterminate=!1,C++):(b.checked=!1,b.indeterminate=!0,k++)}C===0&&k===0?(p.checked=!1,p.indeterminate=!1):p.children&&C===p.children.length?(p.checked=!0,p.indeterminate=!1):(p.checked=!1,p.indeterminate=!0)}return c});e.watch(()=>t.modelValue,(c,f)=>{L.isEqual(n.value,c)||L.isEqual(c,f)||(n.value=c)},{immediate:!0,deep:!0});function o(c,f){if(c.children){for(let p of c.children)if(p.checked=f,p.children)for(let C of p.children)C.checked=f}s()}function u(c,f){if(c.children)for(let p of c.children)p.checked=f;s()}function s(){m(d.value,!0)}function m(c,f){let p=[];for(let C of c){if(!f&&!t.leaf&&C.checked&&C.indeterminate===!1)if(Array.isArray(t.collectVal)){let k={};for(let b of t.collectVal)k[b]=C[b];p.push(k)}else R(t.collectVal)==="String"&&p.push(C[t.collectVal]);if(C.children)for(let k of C.children){if(!f&&!t.leaf&&k.checked&&k.indeterminate===!1)if(Array.isArray(t.collectVal)){let b={};for(let y of t.collectVal)b[y]=k[y];p.push(b)}else R(t.collectVal)==="String"&&p.push(k[t.collectVal]);if(k.children){for(let b of k.children)if(b.checked)if(Array.isArray(t.collectVal)){let y={};for(let B of t.collectVal)y[B]=b[B];p.push(y)}else R(t.collectVal)==="String"&&p.push(b[t.collectVal])}}}f?(n.value=p,t.leaf?(r("update:modelValue",p),r("on-change",L.cloneDeep(p))):e.nextTick(function(){m(d.value)})):(r("update:modelValue",p),r("on-change",L.cloneDeep(p)))}return(c,f)=>{const p=e.resolveComponent("Checkbox");return e.openBlock(),e.createElementBlock("div",na,[e.createElementVNode("div",aa,[e.createElementVNode("div",oa,e.toDisplayString(c.firstTitle||e.unref(N)("r.level.1")),1),e.createElementVNode("div",ia,e.toDisplayString(c.secondTitle||e.unref(N)("r.level.2")),1),e.createElementVNode("div",ra,e.toDisplayString(c.thirdTitle||e.unref(N)("r.level.3")),1)]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(d),(C,k)=>(e.openBlock(),e.createElementBlock("div",{class:"bodyF",key:"checkboxJ"+k},[e.createElementVNode("div",sa,[e.createVNode(p,{modelValue:C.checked,"onUpdate:modelValue":b=>C.checked=b,indeterminate:C.indeterminate,onOnChange:b=>o(C,b),disabled:c.disabled},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(C[c.label]),1)]),_:2},1032,["modelValue","onUpdate:modelValue","indeterminate","onOnChange","disabled"])]),e.createElementVNode("div",ca,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(C.children,(b,y)=>(e.openBlock(),e.createElementBlock("div",{class:"rightBoxInner",key:"secItem"+y},[e.createElementVNode("div",da,[e.createVNode(p,{modelValue:b.checked,"onUpdate:modelValue":B=>b.checked=B,indeterminate:b.indeterminate,onOnChange:B=>u(b,B),disabled:c.disabled},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(b[c.label]),1)]),_:2},1032,["modelValue","onUpdate:modelValue","indeterminate","onOnChange","disabled"])]),e.createElementVNode("div",fa,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(b.children,(B,A)=>(e.openBlock(),e.createElementBlock("div",{class:"thirdItem",key:"thirdItem"+A},[e.createVNode(p,{modelValue:B.checked,"onUpdate:modelValue":V=>B.checked=V,onOnChange:s,disabled:c.disabled},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(B[c.label]),1)]),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])]))),128))])]))),128))])]))),128))])}}}),ua={class:"flexColumnBox wellCardR"},pa={class:"panelHeader notGrow"},ma={class:"fl",style:{"font-weight":"bold"}},ha={class:"btsF"},ya={class:"growFlexItem relativeBox"},ga={class:"fullFlowContent"},dl=e.defineComponent({__name:"WellCard",props:{title:{},width:{default:"100%"},height:{default:"100%"},inline:{type:Boolean,default:!1}},setup(a){const r=a,t=e.computed(()=>{let n={width:r.width,height:r.height};r.inline&&(n.display="inline-block");for(let d in n)n.hasOwnProperty(d)&&typeof n[d]=="number"&&n[d]>0&&(n[d]+="px");return n});return(n,d)=>(e.openBlock(),e.createElementBlock("div",{style:e.normalizeStyle(e.unref(t))},[e.createElementVNode("div",ua,[e.createElementVNode("div",pa,[e.createElementVNode("div",ma,e.toDisplayString(r.title||e.unref(N)("r.title")),1),e.createElementVNode("div",ha,[e.renderSlot(n.$slots,"bts")])]),e.createElementVNode("div",ya,[e.createElementVNode("div",ga,[e.renderSlot(n.$slots,"default")])])])],4))}}),fl=Object.freeze(Object.defineProperty({__proto__:null,AlCascaderMC:pt,AsyncCascader:ut,BtTablePage:He,CheckboxGroupThreeClass:cl,CheckboxGroupTwoClass:sl,CheckboxTree:il,EditorPro:yt,FormGroup:al,FormModal:ol,FormR:Ie,FullPop:At,HeaderBt:Ye,Hello:xt,IconTxtBtn:Nt,InputMap:ft,MonthRange:ht,Page404:Lt,SearchForm:je,SelectInput:ct,ShowHidePanel:ze,ShowHidePanelB:Yt,SideMenu:qt,TableIconBtn:Jt,TableSearch:Xt,TableSetting:Qt,TransferBox:rl,UploadGroup:mt,WellCard:dl},Symbol.toStringTag,{value:"Module"}));function gt(a){const r=(...o)=>ye.apply(this,o),t=r("r.closePreview"),n=r("r.fullImg");let d="previewImg"+Math.floor(Math.random()*1e7);re.Modal.info({closable:!1,"transition-names":["linear","fade"],render:o=>e.h("div",{class:"previewModal",id:d},[e.h("div",{class:"previewModalInner"},[e.h("img",{src:a,alt:n}),e.h(re.Icon,{type:"md-close",size:20,title:t,class:"previewModalDelete",onClick(){re.Modal.remove()}})])])}),ie(()=>{var s,m,c,f,p,C;const o=(f=(c=(m=(s=document.getElementById(d))==null?void 0:s.parentElement)==null?void 0:m.parentElement)==null?void 0:c.parentElement)==null?void 0:f.parentElement,u=(C=(p=document.getElementById(d))==null?void 0:p.parentElement)==null?void 0:C.nextSibling;o&&(o.style.height="0"),o&&(o.style.padding="0"),u&&(u.style.display="none")},10)}let Oe=!1;function bt({height:a,width:r=416,title:t,content:n,onOk:d,onCancel:o,okText:u,cancelText:s,noWarnIcon:m,footerAlign:c,cancelBt:f=!0}){const p=(...y)=>ye.apply(this,y);let k=(a&&Number(a)-90>100?Number(a)-90+"px":0)||"100px",b=R(n)==="String";re.Modal.warning({width:r,footerHide:!0,render:()=>e.h("div",{class:"customMessageBox",style:{height:k}},[e.h("div",{class:"containerN"},[e.h("div",{class:"titleN"},[e.h("span",t||p("r.info.title")),e.h(re.Button,{class:"fr closeN",type:"text",onClick(){Oe||re.Modal.remove()}},()=>e.h("i",{class:"ivu-icon ivu-icon-ios-close",style:{fontSize:"30px"}}))]),e.h("div",{class:"contentN",style:{textAlign:b?"center":"left"}},[e.h("i",{class:b&&!m?"ivu-icon ivu-icon-ios-alert-outline":"hide",style:{fontSize:"60px",color:"#f8bb86"}}),e.h("div",{class:"msgBoxConO"},n||p("r.info.text"))]),e.h("div",{class:"footerN",style:{textAlign:c||"center"}},[e.h(re.Button,{class:"okBtN",onClick(y){var B,A,V,S,T,I,D,h,O;if(d&&typeof d=="function"){const g=d();if(g&&R(g)==="Promise"){Oe=!0;const F=(y==null?void 0:y.currentTarget)||(y==null?void 0:y.target);F&&((A=(B=F.classList)==null?void 0:B.add)==null||A.call(B,"ivu-btn-loading"),(S=(V=F.nextSibling)==null?void 0:V.setAttribute)==null||S.call(V,"disabled","disabled"),(O=(h=((D=(I=(T=F.parentElement)==null?void 0:T.parentElement)==null?void 0:I.querySelector)==null?void 0:D.call(I,".titleN .closeN")).classList)==null?void 0:h.add)==null||O.call(h,"disabled")),Promise.resolve(g).then(()=>{Oe=!1,re.Modal.remove()}).catch(()=>{Oe=!1,re.Modal.remove()})}else re.Modal.remove()}}},()=>[e.h("i",{class:"ivu-load-loop ivu-icon ivu-icon-ios-loading"}),e.h("span",u||p("r.confirm"))]),e.h(re.Button,{class:["cancelBtN",!f&&"hide"],onClick(){Oe||(re.Modal.remove(),R(o)==="Function"&&o&&o())}},()=>s||p("r.cancel"))])])])})}function kt(a,r,t,n){const d=(...o)=>ye.apply(this,o);ce.call(this,{title:a||d("r.info.title"),text:r||d("r.info.text"),icon:t||"warning",onOk:n,buttons:[d("r.cancel")]})}(()=>{if(window.wangeditorMenuInit)return;class a{constructor(){De(this,"title");De(this,"iconSvg");De(this,"tag");De(this,"alwaysEnable");this.title=ye("r.preview"),this.iconSvg='<svg t="1656644788547" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="12356" width="256" height="256"><path d="M512 1024H135.4C60.7 1024 0 963.3 0 888.6V135.4C0 60.7 60.7 0 135.4 0h753.2C963.3 0 1024 60.7 1024 135.4V512c0 24.9-20.1 45-45 45s-45-20.1-45-45V135.4c0-25-20.4-45.4-45.4-45.4H135.4c-25 0-45.4 20.4-45.4 45.4v753.2c0 25 20.4 45.4 45.4 45.4H512c24.9 0 45 20.1 45 45s-20.1 45-45 45z" p-id="12357"></path><path d="M512 802c-77.5 0-150.3-30.2-205.1-84.9C252.2 662.3 222 589.5 222 512s30.2-150.3 84.9-205.1S434.5 222 512 222s150.3 30.2 205.1 84.9C771.8 361.7 802 434.5 802 512s-30.2 150.3-84.9 205.1C662.3 771.8 589.5 802 512 802z m0-490c-110.3 0-200 89.7-200 200s89.7 200 200 200 200-89.7 200-200-89.7-200-200-200z" p-id="12358"></path><path d="M978.5 1023.5c-11.5 0-23-4.4-31.8-13.2L653.2 716.8c-17.6-17.6-17.6-46.1 0-63.6 17.6-17.6 46.1-17.6 63.6 0l293.5 293.5c17.6 17.6 17.6 46.1 0 63.6-8.8 8.8-20.3 13.2-31.8 13.2z" p-id="12359"></path></svg>',this.tag="button",this.alwaysEnable=!0}getValue(){return""}isActive(){return!1}isDisabled(){return!1}exec(n){const d=document.getElementById("editor-preview");let o=localStorage.getItem("editorPreviewW")||300,u=localStorage.getItem("editorPreviewH")||500;const s=n.getHtml();if(d){let m=d.children[0].children[1].children[0],c=d.children[0].children[1];m.innerHTML=s,m.style.width=o+"px",c.style.height=u+"px",d.style.display="block"}else{const m=document.body,c=document.createElement("div");c.setAttribute("id","editor-preview"),c.setAttribute("class","editor-preview-mask"),c.innerHTML=`<div class='editor-preview-body'><div class='editor-preview-head'><div><span>宽</span><input type='number' value='${o}' min='200'><span>高</span><input type='number' value='${u}' min='300'></div><i class='ivu-icon ivu-icon-md-close'></i></div><div class='editor-preview-out-wall'><div class='editor-preview-wall r-editor-view'></div></div></div>`;let f=c.children[0].children[1],p=c.children[0].children[1].children[0],C=c.children[0].children[0].children[0].children[1];const k=40,b=70,y=S=>{if(S&&S.type==="keyup"){let D=!1;if(S.key&&(D=S.key!=="Enter"),D)return}let T=S.target.value;if(T=Number(T),p.style&&p.style.width===T+"px")return;const I=m.clientWidth;T<250?(T=250,S.target.value=250):T>I-k&&(T=I-k,S.target.value=I-k),p.style.width=T+"px",localStorage.setItem("editorPreviewW",T)};C.addEventListener("blur",y),C.addEventListener("keyup",y);let B=c.children[0].children[0].children[0].children[3];const A=S=>{if(S&&S.type==="keyup"){let D=!1;if(S.key&&(D=S.key!=="Enter"),D)return}let T=S.target.value;if(T=Number(T),f.style&&f.style.height===T+"px")return;const I=m.clientHeight;T<300?(T=300,S.target.value=300):T>I-b&&(T=I-b,S.target.value=I-b),f.style.height=T+"px",localStorage.setItem("editorPreviewH",T)};B.addEventListener("blur",A),B.addEventListener("keyup",A),c.children[0].children[0].children[1].addEventListener("click",()=>{c.style.display="none"}),p.innerHTML=s,p.style.width=o+"px",f.style.height=u+"px",m.append(c)}}}const r={key:"previewX",factory(){return new a}};xl.Boot.registerMenu(r),window.wangeditorMenuInit=!0})();const ul={$fetch:ue,fullScreenImgByDom:be,fullScreenImgPreview:gt,$swal:ce,$swalConfirm:kt,messageBox:bt,setInterval:st,setTimeout:ie,...jt},ba=function(a,r={}){ue.init(r.useStore||r.store,a),r.locale&&Ee.use(r.locale),r.i18n&&Ee.i18n(r.i18n),r.router&&Xl(r.router),r.amap&&un(r.amap),r.notRegistryGlobal||(Object.keys(fl).forEach(t=>{a.component(t)||a.component(t,fl[t])}),Object.keys(ul).forEach(t=>{a.config.globalProperties[t]=ul[t]})),a.directive("has")||a.directive("has",(t,n)=>{n.value&&!nt(n.value)&&(t.style.display="none")}),a.directive("loadmore")||a.directive("loadmore",(t,n)=>{let d;n.arg?d=t.querySelector("."+n.arg):d=t.querySelector(".ivu-select-dropdown")||t,d.addEventListener("scroll",function(){d.scrollTop>0&&d.scrollHeight-d.scrollTop<=d.clientHeight&&n.value()})}),a.config.globalProperties.searchFormLabelWidth=84,a.config.globalProperties.formModalLabelWidth=140,a.config.globalProperties.formGroupLabelWidth=160,a.config.globalProperties.iconTxtBtnIconSize=17},ka=Ee.use,wa=Ee.i18n,Va={locale:ka,i18n:wa,install:ba,...jt,...$l,$fetch:ue,fullScreenImgByDom:be,fullScreenImgPreview:gt,$swal:ce,$swalConfirm:kt,messageBox:bt,setInterval:st,setTimeout:ie};x.$fetch=ue,x.$swal=ce,x.$swalConfirm=kt,x.AlCascaderMC=pt,x.AsyncCascader=ut,x.BtTablePage=He,x.CheckboxGroupThreeClass=cl,x.CheckboxGroupTwoClass=sl,x.CheckboxTree=il,x.EditorPro=yt,x.FormGroup=al,x.FormModal=ol,x.FormR=Ie,x.FullPop=At,x.HeaderBt=Ye,x.Hello=xt,x.IconTxtBtn=Nt,x.InputMap=ft,x.MonthRange=ht,x.Page404=Lt,x.SearchForm=je,x.SelectInput=ct,x.ShowHidePanel=ze,x.ShowHidePanelB=Yt,x.SideMenu=qt,x.TableIconBtn=Jt,x.TableSearch=Xt,x.TableSetting=Qt,x.TransferBox=rl,x.UploadGroup=mt,x.WellCard=dl,x.clearObj=Ke,x.dataFilterOrToUrl=Ht,x.decimalDigitsLimit=Ut,x.default=Va,x.downloadFileByFormSubmit=tt,x.downloadFileReaderFile=Qe,x.emptyInput=Dt,x.fakeALinkClick=Ze,x.fileExport=Pt,x.findCollection=we,x.findPath=xe,x.formDataHeadConfig=Ft,x.fullScreenImgByDom=be,x.fullScreenImgPreview=gt,x.getColumnsKeys=Kt,x.getFileSrc=Te,x.getFileTypeByName=Ue,x.getFileTypeIconByName=Pe,x.getStringWidth=ve,x.hasPermission=nt,x.htmlDecode=Ot,x.htmlEncode=It,x.htmlPrint=Wt,x.isEmptyValue=zt,x.isImgByFile=Ae,x.isNaN=at,x.isNumberValue=$t,x.isValidValue=le,x.messageBox=bt,x.myTypeof=R,x.oneOf=Rt,x.removeEmptyValue=$e,x.setInterval=st,x.setTimeout=ie,x.setValByOption=Ve,x.siblingElems=ot,x.stopBubbling=Mt,x.stringLength=Gt,x.toFormData=Et,x.toHump=Xe,x.toLine=et,x.tooltipManual=lt,x.trimObj=Ne,Object.defineProperties(x,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
//# sourceMappingURL=plugRQw.umd.cjs.map
