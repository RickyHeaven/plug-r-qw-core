(function(r,S){typeof exports=="object"&&typeof module<"u"?module.exports=S(require("vue"),require("deepmerge"),require("view-ui-plus"),require("lodash"),require("sweetalert"),require("axios")):typeof define=="function"&&define.amd?define(["vue","deepmerge","view-ui-plus","lodash","sweetalert","axios"],S):(r=typeof globalThis<"u"?globalThis:r||self,r.plugRQw=S(r.Vue,r.deepmerge,r.ViewUIPlus,r._,r.swal,r.axios))})(this,function(r,S,v,G,C,O){"use strict";const $={r:{locale:"zh-CN",testMsg:"测试国际化",confirm:"确定",cancel:"取消",clear:"清空",info:{title:"提示",text:"确定执行该操作？"},http:{403:"登录状态失效,请重新登录！",409:"该账号已在其他地方登录,点击确定退出。"},pSelect:"请选择",pInput:"请输入",selectDate:"选择日期",selectTime:"选择时间",search:"搜索",level:{1:"一级",2:"二级",3:"三级"},unknown:"未知",title:"标题",required:"该项为必填",back:"返回",button:"按钮",check:"查询",adSearch:"高级查询",all:"全选",tabSetting:" 列表显示设置",delete:"删除",fView:"全屏预览",download:"点击下载",file:"文件",selectFile:"选择文件",notImg:"文件不是图片，不可预览",wrongFileType:"文件类型不被允许",supportType:"支持类型：",none:"无",fileIsBig:"文件过大",supportSize:"支持最大：",uploadError:"上传出错",uploadFail:"上传失败",closePreview:"关闭预览",fullImg:"全屏图片",preview:"预览",searchFor:"当前搜索：",noMore:"没有更多数据了",optionLabel:"选项",getDataError:"拉取数据出错",add:"添加",remove:"移除",addAll:"全部添加",removeAll:"全部移除",added:"已添加",notAdded:"未添加",success:"成功",failed:"失败",error:"出错",pageNotFound:"页面没找到",notFoundMsg:"您访问的页面不存在，点击下面按钮返回上一个页面。",hideMenu:"隐藏菜单",showMenu:"显示菜单"}},Q=/(%|)\{([0-9a-zA-Z_]+)\}/g;function X(){function e(t,l){return Object.prototype.hasOwnProperty.call(t,l)}function n(t,...l){return l.length===1&&typeof l[0]=="object"&&(l=l[0]),(!l||!l.hasOwnProperty)&&(l={}),t===void 0?"":t.replace(Q,(o,s,i,c)=>{let u;return t[c-1]==="{"&&t[c+o.length]==="}"?i:(u=e(l,i)?l[i]:null,u??"")})}return n}const Y=X();let T=$;const Z={zh:$};let F=null,L={},m=null,J=function(){if(Reflect.has(this,"$t"))return this.$t(...arguments);if(m&&m.global)return m.global.t(...arguments);if(m&&m.locale){if(!L[m.locale]||F!=m.locale){L[m.locale]=!0;let e=m.getLocaleMessage(m.locale)||{},n={};S(n,Z[m.locale],e,{clone:!0}),T=n,m.setLocaleMessage(m.locale,n),F=m.locale}return m.hlang(...arguments)}};const _=function(e,n){let t=J.apply(this,arguments);if(t!=null)return t;const l=e.split(".");let o=T;for(let s=0,i=l.length;s<i;s++){const c=l[s];if(t=o[c],s===i-1)return Y(t,n);if(!t)return"";o=t}return""},z={use:function(e){T=e||T},t:_,i18n:function(e){m=e}};function R(...e){const n=r.getCurrentInstance().proxy;return _.apply(n,e)}const I=r.defineComponent({__name:"HeaderBt",props:{icon:{},withIcon:{type:Boolean,default:!1},iconSize:{default:18},color:{default:"inherit"},borderColor:{default:"#fff"},disabled:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:n}){const t=e;function l(){t.disabled||n("click")}return(o,s)=>{const i=r.resolveComponent("Icon");return r.openBlock(),r.createElementBlock("div",{class:r.normalizeClass({headerBtCTM:!0,withIconCTM:o.icon||o.withIcon,disabled:o.disabled}),style:r.normalizeStyle({color:o.color,borderLeftColor:o.borderColor}),onClick:l},[o.icon?(r.openBlock(),r.createBlock(i,{key:0,size:o.iconSize,type:o.icon},null,8,["size","type"])):r.createCommentVNode("",!0),r.renderSlot(o.$slots,"default")],6)}}}),K=Object.freeze(Object.defineProperty({__proto__:null,default:I},Symbol.toStringTag,{value:"Module"})),W={class:"headerTxtAM"},ee={class:"contentAM"},te=Object.freeze(Object.defineProperty({__proto__:null,default:r.defineComponent({__name:"FullPop",props:{title:{},headerColor:{},headerBg:{},headerFontSize:{default:12},zIndex:{default:1e3}},emits:["on-open","on-close"],setup(e,{expose:n,emit:t}){const l=e;let o=r.ref(!1);const s=r.computed(()=>typeof l.headerFontSize=="number"?l.headerFontSize+"px":l.headerFontSize),i=r.computed(()=>({zIndex:l.zIndex}));function c(){o.value=!0,t("on-open")}function u(h){o.value=!1,t("on-close",h===!0)}return n({open:c,close:u}),(h,a)=>r.withDirectives((r.openBlock(),r.createElementBlock("div",{class:"fullScreenPopBoxAM",style:r.normalizeStyle(i.value)},[r.createElementVNode("div",{class:"headerAM",style:r.normalizeStyle({color:h.headerColor,backgroundColor:h.headerBg,fontSize:s.value})},[r.createElementVNode("span",W,r.toDisplayString(h.title||r.unref(R)("r.title")),1),r.createVNode(I,{icon:"md-return-left",onClick:u},{default:r.withCtx(()=>[r.createTextVNode(r.toDisplayString(r.unref(R)("r.back")),1)]),_:1})],4),r.createElementVNode("div",ee,[r.renderSlot(h.$slots,"default")])],4)),[[r.vShow,r.unref(o)]])}})},Symbol.toStringTag,{value:"Module"})),ne={class:"msg"},le=Object.freeze(Object.defineProperty({__proto__:null,default:r.defineComponent({__name:"Hello",setup(e){let n=r.ref("Greetings from Ricky.");return(t,l)=>(r.openBlock(),r.createElementBlock("span",ne,r.toDisplayString(r.unref(n)),1))}})},Symbol.toStringTag,{value:"Module"}));function P(e,n,t){const l=(...o)=>_.apply(this,o);return new Promise((o,s)=>{if(typeof e=="object"&&!Array.isArray(e)){let i=l("r.confirm"),c=l("r.cancel"),u=!1,h="swalConfirmBt",a="swalCancelBt";const d=/^HTML.*Element$/;e.type&&(e.icon=e.type)&&delete e.type,e.content&&(e.text=e.content)&&delete e.content,e.className=e.className||"swalBoxX";let f="";e.text&&d.test(B(e.text))?f="content":e.text&&B(e.text)==="String"&&(f="text"),e.buttons&&(typeof e.buttons=="object"&&!Array.isArray(e.buttons)?e.buttons.cancel&&(e.buttons.cancel.text&&(c=e.buttons.cancel.text)&&(u=!0),e.buttons.cancel.className&&(a=e.buttons.cancel.className),e.buttons.confirm.text&&(i=e.buttons.confirm.text),e.buttons.confirm.className&&(h=e.buttons.confirm.className)):Array.isArray(e.buttons)&&(e.buttons[0]&&(c=e.buttons[0],u=!0),e.buttons[1]&&(i=e.buttons[1]))),C({title:e.title,icon:e.icon,className:e.className,[f]:e.text,buttons:{confirm:{text:i,value:!0,visible:!0,className:h},cancel:{text:c,value:null,visible:u,className:a}}}).then(g=>{g&&typeof e.onOk=="function"&&e.onOk(),o(g)}).catch(g=>{s(g)})}else if(typeof e=="string"){let i="";if(n)switch(typeof n){case"string":i="text";break;case"object":i="content";break}C({title:e,[i]:n||"",icon:t||"",className:"swalBoxX",buttons:{confirm:{text:l("r.confirm"),value:!0,visible:!0,className:"swalConfirmBt",closeModal:!0}}}).then(c=>{o(c)}).catch(c=>{s(c)})}else if(typeof e=="boolean")!e&&C.close&&C.close();else throw new TypeError("swal第一个参数类型有误，仅支持Object/String/false")})}function B(e){return Object.prototype.toString.call(e).replace(/\[object |]/g,"")}function oe({height:e,width:n=416,title:t,content:l,onOk:o,onCancel:s,okText:i,cancelText:c,noWarnIcon:u,footerAlign:h,cancelBt:a}){const d=(...p)=>_.apply(this,p);let g=(e&&Number(e)-90>100?Number(e)-90+"px":0)||"100px";l=l||d("r.info.text");let b=B(l)==="String";v.Modal.warning({width:n,footerHide:!0,render:p=>p("div",{class:"customMessageBox",style:{height:g}},[p("div",{class:"containerN"},[p("div",{class:"titleN"},[p("span",t||d("r.info.title")),p("Button",{class:"fr closeN ivu-btn ivu-btn-text",type:"text",onclick(){v.Modal.remove()}},[p("i",{class:"ivu-icon ivu-icon-ios-close",style:{fontSize:"30px"}})])]),p("div",{class:"contentN",style:{textAlign:b?"center":"left"}},[p("i",{class:b&&!u?"ivu-icon ivu-icon-ios-alert-outline":"hide",style:{fontSize:"60px",color:"#f8bb86"}}),p("div",{class:"msgBoxConO"},l)]),p("div",{class:"footerN",style:{textAlign:h||"center"}},[p("Button",{class:"okBtN ivu-btn ivu-btn-default",onclick(){v.Modal.remove(),o&&B(o)==="Function"&&o()}},[p("i",{class:"ivu-load-loop ivu-icon ivu-icon-ios-loading"}),p("span",i||d("r.confirm"))]),p("Button",{class:["cancelBtN ivu-btn ivu-btn-default",!a&&"hide"],onclick(){v.Modal.remove(),B(s)==="Function"&&s&&s()}},c||d("r.cancel"))])])])})}let x=0,N=document.createElement("div");N.setAttribute("class","spinModal"),N.innerHTML='<div class="loader"><svg class="circular" viewBox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="5" stroke-miterlimit="10" /></svg></div>',window.onload=function(){document.getElementsByTagName("body")[0].append(N)};function j(e){e?N.classList.add("show"):N.classList.remove("show")}function V(e){let n=x;e?x++:x>0&&x--,n!==x&&(x===0?j(!1):n===0&&j(!0))}const se=window.location.origin;let k=null;const q=(...e)=>_.apply(k,e);let y=O.create({baseURL:se,withCredentials:!0});function re(){console.info("store为空，请在安装插件时传入store实例：Vue.use(plugRQw,{store:store})，Pinia传{store:useStore}")}y.interceptors.request.use(e=>e,e=>Promise.reject(e));function H(){if(y.store)if(typeof y.store=="function"){const e=y.store();e.logout&&e.logout()}else y.store.dispatch("logout");else re()}y.interceptors.response.use(e=>(k&&e&&e.data&&(e.data.code===403||e.data.code===409)&&k.messageBox({content:q("r.http."+e.data.code),onOk:H}),e),e=>(k&&e&&e.response&&(e.response.status===403||e.response.status===409)&&k.messageBox({content:q("r.http."+e.response.status),onOk:H}),console.warn("请求出错：",e),Promise.reject(e)));function w(e,n,t,l){l&&l.spin&&V(!1);let o=!0,s=e&&e.data;if(s){t=t||[];for(let i of t)s=s[i],o=o&&s;return o?s:(n&&console.warn(n),!1)}return n&&console.warn(n),!1}function ce(e,n,t,l,o,s,i){return new Promise((c,u)=>{switch(e){case"get":y.get(n,{params:t}).then(a=>{let d=w(a,l,o,s);d?c(d):u(a)}).catch(a=>{w({},l,o,s),u(a)});break;case"delete":let h=i?"params":"data";y.delete(n,{[h]:t}).then(a=>{let d=w(a,l,o,s);d?c(d):u(a)}).catch(a=>{w({},l,o,s),u(a)});break;case"post":y.post(n,t,s).then(a=>{let d=w(a,l,o,s);d?c(d):u(a)}).catch(a=>{w({},l,o,s),u(a)});break;case"put":y.put(n,t,s).then(a=>{let d=w(a,l,o,s);d?c(d):u(a)}).catch(a=>{w({},l,o,s),u(a)});break}})}function M(e,n,t={},l,o,s,i){return new Promise((c,u)=>{if(n){s&&s.spin&&V(!0);let h=n;if(window&&window.hasOwnProperty("g")){const f=window.g;let g=Object.keys(f).filter(b=>b.indexOf("URL")>-1).map(b=>b.replace("URL",""));for(let b of g){let p=new RegExp("^/"+b+"(?=/.*$)","i");if(p.test(n)&&f[b+"URL"]){h=f[b+"URL"]+n.replace(p,"");break}}}let a;if(s&&s.headers&&s.headers["Content-Type"]==="multipart/form-data")a=t;else if(t&&!G.isEmpty(t))if(Array.isArray(t)){a=[];for(let f of t)(f||f===0||f===!1||f===""&&s&&!s.noEmptyStr)&&a.push(f)}else{a={};for(let f in t)t.hasOwnProperty(f)&&(t[f]||t[f]===0||t[f]===!1||t[f]===""&&s&&!s.noEmptyStr)&&(a[f]=t[f])}let d=e.toLowerCase();ce(d,h,a,l,o,s,i).then(f=>{c(f)}).catch(f=>{u(f)})}else console.error("没有请求地址:url"),u("没有请求地址:url")})}const D={init(e,n){y.store=e,k=n.config.globalProperties},post(e,n,t,l,o){return new Promise((s,i)=>{M("post",e,n,t,l,o).then(c=>{s(c)}).catch(c=>{i(c)})})},put(e,n,t,l,o){return new Promise((s,i)=>{M("put",e,n,t,l,o).then(c=>{s(c)}).catch(c=>{i(c)})})},get(e,n,t,l,o){return new Promise((s,i)=>{M("get",e,n,t,l,o).then(c=>{s(c)}).catch(c=>{i(c)})})},delete(e,n,t,l,o,s=!0){return new Promise((i,c)=>{M("delete",e,n,t,l,o,s).then(u=>{i(u)}).catch(u=>{c(u)})})},all:O.all,spread:O.spread,config:y};function ie(e,n,t,l){const o=(...s)=>_.apply(this,s);P.call(this,{title:e||o("r.info.title"),text:n||o("r.info.text"),icon:t||"warning",onOk:l,buttons:[o("r.cancel")]})}const E=Object.assign({"./components/FullPop/FullPop.vue":te,"./components/HeaderBt/HeaderBt.vue":K,"./components/Hello.vue":le});let A={};for(const e in E)if(E.hasOwnProperty(e)){const n=e.replace(/^\.\/.*\/(\w*)\/.*\.vue$|^\.\/.*\/(\w*)\.vue$/,"$1$2");A[n]=E[e].default}const U={$fetch:D,$swal:P,$swalConfirm:ie,messageBox:oe},ae=function(e,n={}){D.init(n.useStore||n.store,e),n.locale&&z.use(n.locale),n.i18n&&z.i18n(n.i18n),Object.keys(A).forEach(t=>{e.component(t,A[t])}),Object.keys(U).forEach(t=>{e.config.globalProperties[t]=U[t]})},ue=z.use,fe=z.i18n;return{locale:ue,i18n:fe,install:ae}});
