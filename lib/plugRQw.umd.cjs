(function(A,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue"),require("deepmerge"),require("lodash-es"),require("sweetalert"),require("view-ui-plus"),require("vue-router"),require("popper.js"),require("axios"),require("@amap/amap-jsapi-loader"),require("ar-cascader"),require("@wangeditor/editor-for-vue"),require("moment"),require("@wangeditor/editor"),require("vue-json-viewer")):typeof define=="function"&&define.amd?define(["exports","vue","deepmerge","lodash-es","sweetalert","view-ui-plus","vue-router","popper.js","axios","@amap/amap-jsapi-loader","ar-cascader","@wangeditor/editor-for-vue","moment","@wangeditor/editor","vue-json-viewer"],e):(A=typeof globalThis<"u"?globalThis:A||self,e(A.plugRQw={},A.Vue,A.deepmerge,A.lodash,A.swal,A.ViewUIPlus,A.VueRouter,A.Popper,A.axios,A.AMapLoader,A.ArCascader,A.WangEditorForVue,A.moment,A.wangEditor,A.JsonView))})(this,function(A,e,Oe,$,Ge,me,Le,Gl,rt,He,Hl,Et,Re,Wl,jl){"use strict";var wo=Object.defineProperty;var Vo=(A,e,Oe)=>e in A?wo(A,e,{enumerable:!0,configurable:!0,writable:!0,value:Oe}):A[e]=Oe;var Ue=(A,e,Oe)=>Vo(A,typeof e!="symbol"?e+"":e,Oe);var Il,El;const At={r:{locale:"zh-CN",testMsg:"测试国际化",confirm:"确定",save:"保存",cancel:"取消",clear:"清空",info:{title:"提示",text:"确定执行该操作？"},http:{403:"登录状态失效,请重新登录！",409:"该账号已在其他地方登录,点击确定退出。"},pSelect:"请选择",pInput:"请输入",selectDate:"选择日期",selectTime:"选择时间",search:"搜索",level:{1:"一级",2:"二级",3:"三级"},unknown:"未知",title:"标题",required:"该项为必填",back:"返回",button:"按钮",check:"查询",adSearch:"高级查询",all:"全选",tabSetting:" 列表显示设置",delete:"删除",fView:"全屏预览",download:"点击下载",file:"文件",selectFile:"选择文件",notImg:"文件不是图片，不可预览",wrongFileType:"文件类型不被允许",supportType:"支持类型：",none:"无",fileIsBig:"文件过大",supportSize:"支持最大：",uploadError:"上传出错",uploadFail:"上传失败",closePreview:"关闭预览",fullImg:"该文件不支持图片形式预览",preview:"预览",searchFor:"当前搜索：",noMore:"没有更多数据了",optionLabel:"选项",getDataError:"拉取数据出错",add:"添加",remove:"移除",addAll:"全部添加",removeAll:"全部移除",added:"已添加",notAdded:"未添加",success:"成功",failed:"失败",error:"出错",pageNotFound:"页面没找到",notFoundMsg:"您访问的页面不存在，点击下面按钮返回上一个页面。",hideMenu:"隐藏菜单",showMenu:"显示菜单",print:"打印",close:"关闭",help:"帮助",printGuide:{1:"鼠标停留在表头列右边框，出现拖动图标，按下鼠标拖动可设置列宽。",2:"点击“列表显示设置”，可选择需要打印的列，选择完需点击“确定”按钮。",3:"页面有A4灰色参考线，将打印内容右边缘调至参考线区间，打印机默认设置时可将表格内容铺满A4纸，表格越宽字体将越小。",4:"将此页面地址复制到浏览器地址栏，打开的页面将不可用。",5:"未到此线内容将无法铺满纸张",6:"超过此线打印内容将不完整",7:"A4 纵向参考线",8:"A4 横向参考线",9:"复制的页面无法使用该打印功能。",10:"鼠标停留在打印内容顶部矩形条右边框，出现拖动图标，按下鼠标拖动可设置打印内容宽度。"},page:"条/页",total:"共",items:"条",notSave:"您未保存，是否保存？",last:"上一张",next:"下一张"}},ql=/(%|){([0-9a-zA-Z_]+)}/g;function Xl(){function l(o,t){return Object.prototype.hasOwnProperty.call(o,t)}function c(o,...t){let n;return t.length===1&&typeof t[0]=="object"&&(n=t[0]),(!n||!n.hasOwnProperty)&&(n={}),o===void 0?"":o.replace(ql,(r,s,p,i)=>{let y;return o[i-1]==="{"&&o[i+r.length]==="}"?p:(y=l(n,p)?n[p]:null,y??"")})}return c}const Jl=Xl();let We=At;const Yl={zh:At};let Pt,Rt={},ue,Ql=function(l,c){if(typeof this=="object"&&Reflect.has(this,"$t"))return this.$t(l,c);if(ue&&ue.global)return ue.global.t(l,c);if(ue&&ue.locale){if(!Rt[ue.locale]||Pt!=ue.locale){Rt[ue.locale]=!0;let o=ue.getLocaleMessage(ue.locale)||{},t=Oe(Yl[ue.locale],o,{clone:!0});We=t,ue.setLocaleMessage(ue.locale,t),Pt=ue.locale}return ue.hlang(l,c)}};const Ce=function(l,c){let o=Ql.apply(this,[l,c]);if(o!=null)return o;const t=l.split(".");let n=We;for(let r=0,s=t.length;r<s;r++){const p=t[r];if(o=n[p],r===s-1)return Jl(o,c);if(!o)return"";n=o}return""},je={use:function(l){We=l||We},t:Ce,i18n:function(l){ue=l}};function D(l,c){var t,n,r;const o=(r=(n=(t=e.getCurrentInstance())==null?void 0:t.appContext)==null?void 0:n.config)==null?void 0:r.globalProperties;return Ce.apply(o,[l,c])}const st=e.defineComponent({__name:"HeaderBt",props:{icon:{},withIcon:{type:Boolean,default:!1},iconSize:{default:18},color:{default:"inherit"},borderColor:{default:"#fff"},disabled:{type:Boolean,default:!1}},emits:["click"],setup(l,{emit:c}){const o=l,t=c;function n(){o.disabled||t("click")}return(r,s)=>{const p=e.resolveComponent("Icon");return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass({headerBtCTM:!0,withIconCTM:o.icon||o.withIcon,disabled:o.disabled}),style:e.normalizeStyle({color:o.color,borderLeftColor:o.borderColor}),onClick:n},[o.icon?(e.openBlock(),e.createBlock(p,{key:0,size:o.iconSize,type:o.icon},null,8,["size","type"])):e.createCommentVNode("",!0),e.renderSlot(r.$slots,"default")],6)}}});function se(){var o,t;const l=(o=e.getCurrentInstance())==null?void 0:o.appContext;return((t=l==null?void 0:l.config)==null?void 0:t.globalProperties)||{}}const Zl={class:"headerTxtAM"},vl={class:"contentAM"},Ft=e.defineComponent({__name:"FullPop",props:{title:{},headerColor:{},headerBg:{},headerFontSize:{default:()=>{var l;return(l=se())==null?void 0:l.fontSizeBase}},zIndex:{default:1e3}},emits:["on-open","on-close"],setup(l,{expose:c,emit:o}){const t=l,n=o;let r=e.ref(!1);const s=e.computed(()=>typeof t.headerFontSize=="number"?t.headerFontSize+"px":t.headerFontSize),p=e.computed(()=>({zIndex:t.zIndex}));function i(){r.value=!0,n("on-open")}function y(m){r.value=!1,n("on-close",m===!0)}return c({open:i,close:y}),(m,u)=>e.withDirectives((e.openBlock(),e.createElementBlock("div",{class:"fullScreenPopBoxAM",style:e.normalizeStyle(e.unref(p))},[e.createElementVNode("div",{class:"headerAM",style:e.normalizeStyle({color:t.headerColor,backgroundColor:t.headerBg,fontSize:e.unref(s)})},[e.createElementVNode("span",Zl,e.toDisplayString(m.title||e.unref(D)("r.title")),1),e.createVNode(st,{icon:"md-return-left",onClick:y},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(D)("r.back")),1)]),_:1})],4),e.createElementVNode("div",vl,[e.renderSlot(m.$slots,"default")])],4)),[[e.vShow,e.unref(r)]])}}),en={class:"msg"},zt=e.defineComponent({__name:"Hello",setup(l){let c=e.ref("Greetings from Ricky.");return(o,t)=>(e.openBlock(),e.createElementBlock("span",en,e.toDisplayString(e.unref(c)),1))}}),qe=e.defineComponent({__name:"IconTxtBtn",props:{name:{},icon:{default:"md-download"},size:{default:()=>se().iconTxtBtnIconSize},disabled:{type:Boolean,default:!1},has:{default:""}},emits:["click"],setup(l,{emit:c}){const o=l,t=c,n=e.computed(()=>{var s;return Math.floor(o.size/17*((s=se())==null?void 0:s.fontSizeBase))+"px"});function r(s){o.disabled||t("click",s)}return(s,p)=>{const i=e.resolveComponent("Icon"),y=e.resolveDirective("has");return e.withDirectives((e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["tabTopBtnsT",{disabled:o.disabled}]),onClick:r,style:e.normalizeStyle({"font-size":e.unref(n)})},[e.createVNode(i,{type:o.icon,size:o.size},null,8,["type","size"]),e.createTextVNode(" "+e.toDisplayString(o.name||e.unref(D)("r.button")),1)],6)),[[y,s.has]])}}}),tn={class:"c404K"},ln={class:"ct404"},nn={class:"p404"},Mt=e.defineComponent({__name:"Page404",setup(l){const o=e.getCurrentInstance().appContext.config.globalProperties.$router;function t(){o.go(-1)}return(n,r)=>{const s=e.resolveComponent("Button");return e.openBlock(),e.createElementBlock("div",tn,[r[0]||(r[0]=e.createElementVNode("div",{class:"t404"},"404",-1)),e.createElementVNode("div",ln,"UH OH! "+e.toDisplayString(e.unref(D)("r.pageNotFound")),1),e.createElementVNode("div",nn,e.toDisplayString(e.unref(D)("r.notFoundMsg")),1),e.createVNode(s,{class:"bt404",onClick:t},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(D)("r.back")),1)]),_:1})])}}});function he(l,c,o,t=!0){const n=(...r)=>Ce.apply(this,r);return new Promise((r,s)=>{if(typeof l=="object"&&!Array.isArray(l)){let p=n("r.confirm"),i=n("r.cancel"),y=!1,m="swalConfirmBt",u="swalCancelBt";const d=/^HTML.*Element$/;l.type&&(l.icon=l.type)&&delete l.type,l.content&&(l.text=l.content)&&delete l.content,l.className=l.className||"swalBoxX";let g="";l.text&&d.test(H(l.text))?g="content":l.text&&H(l.text)==="String"&&(g="text"),l.buttons&&(typeof l.buttons=="object"&&!Array.isArray(l.buttons)?l.buttons.cancel&&(l.buttons.cancel.text&&(i=l.buttons.cancel.text)&&(y=!0),l.buttons.cancel.className&&(u=l.buttons.cancel.className),l.buttons.confirm.text&&(p=l.buttons.confirm.text),l.buttons.confirm.className&&(m=l.buttons.confirm.className)):Array.isArray(l.buttons)&&(l.buttons[0]&&(i=l.buttons[0],y=!0),l.buttons[1]&&(p=l.buttons[1]))),Ge({title:l.title,icon:l.icon,className:l.className,[g]:l.text,buttons:{confirm:{text:p,value:!0,visible:!0,className:m},cancel:{text:i,value:null,visible:y,className:u}},closeOnClickOutside:l.closeOnClickOutside??!0}).then(w=>{w&&typeof l.onOk=="function"&&l.onOk(),r(w)}).catch(w=>{s(w)})}else if(typeof l=="string"){let p="";if(c)switch(typeof c){case"string":p="text";break;case"object":p="content";break}Ge({title:l,[p]:c||"",icon:o||"",className:"swalBoxX",closeOnClickOutside:t,buttons:{confirm:{text:n("r.confirm"),value:!0,visible:!0,className:"swalConfirmBt",closeModal:!0}}}).then(i=>{r(i)}).catch(i=>{s(i)})}else if(typeof l=="boolean")!l&&Ge.close&&Ge.close();else throw new TypeError("swal第一个参数类型有误，仅支持Object/String/false")})}const an={class:"tableTooltip"},on=e.defineComponent({__name:"TableTooltip",props:{content:{type:[String,Number,Boolean,null]}},setup(l){const c=l,o=e.ref(),t=e.ref(),n=e.ref(!0);let r=null;const s=e.ref(200);function p(){const i=n.value?o.value:t.value;if(!i)return;let y=document.createRange();y.setStart(i,0),y.setEnd(i,i.childNodes.length);const m=y.getBoundingClientRect().width;s.value=i.offsetWidth*2,n.value=m<i.offsetWidth,y=null}return e.onMounted(()=>{p(),r=$.debounce(()=>{e.nextTick(function(){p()})},200),window.addEventListener("resize",r)}),e.onUpdated(p),e.onUnmounted(()=>{window.removeEventListener("resize",r)}),(i,y)=>(e.openBlock(),e.createElementBlock("div",an,[e.unref(n)?(e.openBlock(),e.createElementBlock("span",{key:0,ref_key:"spanRef",ref:o,class:"contentText"},e.toDisplayString(c.content),513)):(e.openBlock(),e.createBlock(e.unref(me.Tooltip),{key:1,content:typeof c.content=="boolean"?String(c.content):c.content??"","max-width":e.unref(s),transfer:""},{default:e.withCtx(()=>[e.createElementVNode("span",{ref_key:"contentRef",ref:t,class:"contentText"},e.toDisplayString(c.content),513)]),_:1},8,["content","max-width"]))]))}}),Xe=typeof window<"u";function Be(l,c,o){e.isRef(l[c])?l[c].value=o:l[c]=o}function H(l){return Object.prototype.toString.call(l).replace(/\[object |]/g,"")}function $t(l){return{style:{display:Ye(l)?"unset":"none"}}}function ct(l){return l.replace(/([A-Z])/g,"_$1").toLowerCase()}function Fe(l){let c=H(l);if(c==="Object"){for(let o in l)if(l.hasOwnProperty(o)){let t=H(l[o]);t==="String"?l[o]=l[o].trim():(t==="Object"||t==="Array")&&Fe(l[o])}}else if(c==="Array")for(let o=0,t=l.length;o<t;o++){let n=H(l[o]);n==="String"?l[o]=l[o].trim():(n==="Array"||n==="Object")&&Fe(l[o])}return l}function Je(l,c=[]){if(H(l)==="Array")return l.forEach((o,t)=>{switch(H(o)){case"Array":case"Object":Je(o);break;default:l[t]=null}}),l;if(H(l)==="Object"){for(let o in l)if(l.hasOwnProperty(o)){let t=!0;for(let n of c)if(n===o){t=!1;break}if(t)switch(H(l[o])){case"Array":case"Object":Je(l[o]);break;default:l[o]=null}}return l}else return l}const Kt={headers:{"Content-Type":"multipart/form-data"}};function Ut(l){let c=new FormData;for(let o in l)l.hasOwnProperty(o)&&l[o]!==null&&c.append(o,l[o]);return c}function ze(l,c,o=!1){if(!l||!c)return!1;let t,n="notFoundC",r=function(s,p){if(Array.isArray(s)){if(H(p)==="Function"&&p(s))return n=s,[];for(let i of s){if(n!=="notFoundC")break;if(H(p)==="Function"&&p(i)||i===p)return n=i,[s.indexOf(i)];if(H(i)==="Array"||H(i)==="Object"){let y=r(i,p);if(y!==void 0)return[s.indexOf(i),...y]}}}else if(H(s)==="Object"){if(H(p)==="Function"&&p(s))return n=s,[];for(let i in s){if(n!=="notFoundC")break;if(s.hasOwnProperty(i)){if(H(p)==="Function"&&p(i)||s[i]===p)return n=s[i],[i];if(H(s[i])==="Object"||H(s[i])==="Array"){let y=r(s[i],p);if(y!==void 0)return[i,...y]}}}}};return t=r(l,c),o?t||!1:n==="notFoundC"?!1:n}function Gt(l,c){for(let o=0,t=c.length;o<t;o++)if(l===c[o])return!0;return!1}function Ht(l,c=2){let o=new RegExp(`(^-?\\d+\\.\\d{${c}})(\\d+$)`),t=l&&String(l)||"";return o.test(t)?Number(t.replace(o,"$1")):l}function dt(l,c={},o="get"){let t=document.createElement("form"),n=document.getElementsByTagName("body")[0];n.appendChild(t),t.setAttribute("style","display:none"),t.setAttribute("target",""),t.setAttribute("method",o);let r=l;if(window&&window.hasOwnProperty("g")){let s=Object.keys(window.g).filter(p=>{var i;return((i=p==null?void 0:p.indexOf)==null?void 0:i.call(p,"URL"))>-1}).map(p=>{var i;return(i=p.replace)==null?void 0:i.call(p,"URL","")});for(let p of s){let i=new RegExp("^/"+p+"(?=/.*$)","i");if(i.test(l)&&window.g[p+"URL"]){r=window.g[p+"URL"]+l.replace(i,"");break}}}if(t.setAttribute("action",r),$.isPlainObject(c)){for(let p in c)if(c.hasOwnProperty(p)&&(c[p]||c[p]===0||c[p]===!1||c[p]==="")){let i=document.createElement("input");i.setAttribute("type","hidden"),i.setAttribute("name",p),i.setAttribute("value",c[p]),t.appendChild(i)}t.submit();let s=setTimeout(()=>{n.removeChild(t),clearTimeout(s),s=null},8e3)}else console.error("请求数据格式有误，无法下载文件")}function Wt(l,c={},o="get"){if(c.hasOwnProperty("columns")&&(c.columns===""||c.columns===null||c.columns===void 0)){he.call(this,{title:"需要导出的列不能为空",type:"warning"});return}dt(l,c,o)}function jt(l,c,o=!1){let t;if(l&&H(c)==="Array"){let n=localStorage.getItem(l);if(n){let r=JSON.parse(decodeURI(n));t=c.filter(s=>{var p;return(s==null?void 0:s.key)&&((p=r==null?void 0:r.indexOf)==null?void 0:p.call(r,s.title))!==-1}).map(s=>s.key)}else t=c.map(r=>r==null?void 0:r.key)}else t=[];return o||(t=String(t)),t}function ce(l){return l!=null&&l!==""}function qt(l){return/^-?\d+(.\d+)?$/.test(l)}function ft(l,c=!1,o=""){return function(t,n){var s,p;let r;if(Array.isArray(l)){let i=[];for(let y of l)ce((s=n.row)==null?void 0:s[y])&&i.push(n.row[y]);r=i.join(o)}else typeof l=="function"?r=l(n):r=(p=n.row)==null?void 0:p[l];return e.h(on,{content:c?r===""?"--":r??"--":r})}}function Xt(l){if($.isPlainObject(l)){for(let c in l)if(l.hasOwnProperty(c)&&ce(l[c]))return!1;return!0}else if(Array.isArray(l)){for(let c of l)if(ce(c))return!1;return!0}return!ce(l)}function Jt(l){return H(l)==="String"?l.replace(/[^\x00-\xff]/g,"01").length:H(l)==="Number"?(l+="",l.replace(/[^\x00-\xff]/g,"01").length):0}function De({group:l,condition:c,key:o,val:t,childKey:n="children"}){if(H(l)!=="Array"||H(c)!=="Function"||H(o)!=="String"||H(n)!=="String")return!1;l.forEach(r=>{c(r)&&(H(t)==="Function"?r[o]=t(r[o]):r[o]=t),H(r[n])==="Array"&&r[n].length>0&&De({group:r[n],condition:c,key:o,val:t,childKey:n})})}function Ye(l){let c=sessionStorage.getItem("btnPermissions");return c?c.split(",").indexOf(l)>-1:!1}function pt(l){return H(l)==="Number"&&String(l)==="NaN"}function Yt(l,c=!1,o=!1){if(H(l)!=="Object")return l;let t=Object.assign(l,{}),n="";for(let r in t)if(t.hasOwnProperty(r)){let s=t[r];s===void 0||s===""||H(s)==="String"&&s.trim()===""||s===null||pt(s)?o?c?n+=r+"=&":t[r]="":delete t[r]:c&&(n+=r+"="+s+"&")}return c?n.length>0?n.substring(0,n.length-1):"":t}function Qe(l){let c={};if(Array.isArray(l)){c=[];for(let o of l)Array.isArray(o)||$.isPlainObject(o)?c.push(Qe(o)):ce(o)&&c.push(o)}else if($.isPlainObject(l))for(let o in l)l.hasOwnProperty(o)&&(Array.isArray(l[o])||$.isPlainObject(l[o])?c[o]=Qe(l[o]):ce(l[o])&&(c[o]=l[o]));return c}function Qt(l){const c=window.open();if(c){c.document.write(l);let o=setTimeout(()=>{c.print(),window.clearTimeout(o),o=null},10)}}function Ze(l){let c=[],o=l;for(;l.previousSibling&&(l=l.previousSibling);)l.nodeType===1&&c.push(l);for(;o.nextSibling&&(o=o.nextSibling);)o.nodeType===1&&c.push(o);return c}const rn=Object.freeze(Object.defineProperty({__proto__:null,clearObj:Je,dataFilterOrToUrl:Yt,decimalDigitsLimit:Ht,downloadFileByFormSubmit:dt,fileExport:Wt,findCollection:ze,formDataHeadConfig:Kt,getColumnsKeys:jt,has:$t,hasPermission:Ye,htmlPrint:Qt,isClient:Xe,isEmptyValue:Xt,isNaN:pt,isNumberValue:qt,isValidValue:ce,myTypeof:H,oneOf:Gt,removeEmptyValue:Qe,setValByOption:De,setValue:Be,siblingElems:Ze,stringLength:Jt,toFormData:Ut,toLine:ct,tooltipManual:ft,trimObj:Fe},Symbol.toStringTag,{value:"Module"})),sn={class:"groupBoxRP"},cn=["onClick"],dn=e.defineComponent({__name:"SideMenuGroup",props:{data:{default:()=>[]},pathName:{default:""}},setup(l){const c=Le.useRouter(),o=l;function t(r){return(r==null?void 0:r.path)===o.pathName?"active":""}function n(r,s){var m,u,d,g,w,b,B,V;(m=r==null?void 0:r.preventDefault)==null||m.call(r);let p=r==null?void 0:r.target;if(s&&!s.children&&!p.classList.contains("active")){c.push(s.path);return}let i=p.parentNode,y=Ze(i);for(let S of y){(d=(u=S==null?void 0:S.classList)==null?void 0:u.remove)==null||d.call(u,"open");const N=(g=S==null?void 0:S.querySelectorAll)==null?void 0:g.call(S,".open");if(N&&Array.isArray(N))for(let _ of N)(b=(w=_==null?void 0:_.classList)==null?void 0:w.remove)==null||b.call(w,"open")}(V=(B=i==null?void 0:i.classList)==null?void 0:B.toggle)==null||V.call(B,"open")}return(r,s)=>{const p=e.resolveComponent("Icon"),i=e.resolveComponent("sideMenuGroup",!0);return e.openBlock(),e.createElementBlock("ul",sn,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.data,(y,m)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:(y==null?void 0:y.path)+m},[y?(e.openBlock(),e.createElementBlock("li",{key:0,class:e.normalizeClass({dropItemRP:y.children})},[e.createElementVNode("div",{class:e.normalizeClass(["menuTxtR",t(y)]),onClick:u=>n(u,y),style:e.normalizeStyle({paddingLeft:y.level*20+"px"})},[y!=null&&y.icon?(e.openBlock(),e.createBlock(p,{key:0,class:"menuIcoL",custom:"iconfont "+y.icon},null,8,["custom"])):e.createCommentVNode("",!0),e.createElementVNode("span",null,e.toDisplayString((y==null?void 0:y.name)||"-- no name --"),1)],14,cn),y.children?(e.openBlock(),e.createBlock(i,{key:0,data:y.children,"path-name":o.pathName},null,8,["data","path-name"])):e.createCommentVNode("",!0)],2)):e.createCommentVNode("",!0)],64))),128))])}}});let mt=[],ut=[];const fn=function(l){l&&l.beforeEach?l.beforeEach(()=>{mt.map(c=>{window.clearTimeout(c)}),ut.map(c=>{window.clearInterval(c)}),mt.length=0,ut.length=0}):console.warn("安装库plug-r-qw时未传入router，调用该库的定时器方法产生的定时器将不能自动销毁，请传入router：Vue.use(plugRQw,{router,...})")},fe=function(l,c){let o=window.setTimeout(l,c);return mt.push(o),o},Zt=function(l,c){let o=window.setInterval(l,c);return ut.push(o),o},pn={class:"menuListR"},vt=e.defineComponent({__name:"SideMenu",props:{data:{default:()=>[]},light:{type:Boolean}},emits:["on-change"],setup(l,{emit:c}){const o=l,t=c,n=Le.useRoute(),r=e.ref(!0),s=e.ref(),p=e.ref(),i=e.computed(()=>r.value?D("r.hideMenu"):D("r.showMenu")),y=e.computed(()=>r.value?"ios-arrow-back":"ios-arrow-forward");e.onBeforeMount(()=>{let d=localStorage.getItem("menuDisplayR")||"";d!==""?r.value=JSON.parse(d):(r.value=!0,localStorage.setItem("menuDisplayR",JSON.stringify(!0)))}),e.watch(()=>n.path,d=>{s.value=d,e.nextTick(()=>{fe(u,10)})},{immediate:!0});function m(){r.value=!r.value,localStorage.setItem("menuDisplayR",JSON.stringify(r.value)),t("on-change",r.value)}function u(){var g,w,b,B,V;let d=p.value.querySelectorAll(".dropItemRP");for(let S of d)(g=S==null?void 0:S.querySelector)!=null&&g.call(S,".active")&&!((b=(w=S.classList)==null?void 0:w.contains)!=null&&b.call(w,"open"))&&((V=(B=S.classList)==null?void 0:B.add)==null||V.call(B,"open"))}return(d,g)=>{const w=e.resolveComponent("Icon");return e.openBlock(),e.createElementBlock("div",{ref_key:"menuRef",ref:p,class:e.normalizeClass(["menuBoxRP","cannotSelect",{light:d.light}])},[e.withDirectives(e.createElementVNode("div",pn,[e.createVNode(dn,{data:o.data,pathName:e.unref(s)},null,8,["data","pathName"])],512),[[e.vShow,e.unref(r)]]),e.createVNode(w,{type:e.unref(y),size:25,class:e.normalizeClass([{showIco:!e.unref(r)},"menuShowHideIco"]),title:e.unref(i),onClick:m,color:e.unref(r)?"#fff":"#333"},null,8,["type","class","title","color"])],2)}}}),mn={class:"groupBoxRX"},un=["onMouseenter"],hn=["onClick"],yn=e.defineComponent({__name:"SideMenuProGroup",props:{data:{default:()=>[]},pathName:{default:""}},setup(l){const c=Le.useRouter(),o=l,t=e.ref("");function n(i){let y="menuTxtR ";return(i==null?void 0:i.path)===o.pathName&&(y+="active "),y}function r(i,y){var u;(u=i==null?void 0:i.preventDefault)==null||u.call(i);let m=i==null?void 0:i.target;y&&!y.children&&!m.classList.contains("active")&&c.push(y.path)}function s(i,y){var m;(m=i==null?void 0:i.preventDefault)==null||m.call(i),t.value=y==null?void 0:y.path}function p(i){var y;(y=i==null?void 0:i.preventDefault)==null||y.call(i),t.value=""}return(i,y)=>{const m=e.resolveComponent("Icon"),u=e.resolveComponent("SideMenuProGroup",!0);return e.openBlock(),e.createElementBlock("ul",mn,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.data,(d,g)=>{var w;return e.openBlock(),e.createElementBlock("li",{key:(d==null?void 0:d.path)+g,class:e.normalizeClass({dropItemRX:d==null?void 0:d.children}),onMouseenter:b=>s(b,d),onMouseleave:y[0]||(y[0]=b=>p(b))},[e.createElementVNode("div",{class:e.normalizeClass(n(d)),onClick:b=>r(b,d),style:e.normalizeStyle({paddingLeft:d.level*20+"px"})},[e.createTextVNode(e.toDisplayString((d==null?void 0:d.name)||"-- no name --")+" ",1),e.withDirectives(e.createVNode(m,{class:"dropIcoRX",type:"ios-arrow-forward",size:16},null,512),[[e.vShow,d.children&&d.children.length>0]])],14,hn),((w=d==null?void 0:d.children)==null?void 0:w.length)>0?e.withDirectives((e.openBlock(),e.createBlock(u,{key:0,class:"rightChildRX",data:d==null?void 0:d.children,"path-name":i.pathName},null,8,["data","path-name"])),[[e.vShow,e.unref(t)===(d==null?void 0:d.path)]]):e.createCommentVNode("",!0)],42,un)}),128))])}}}),gn={class:"groupBoxRX"},bn=["onClick"],el=e.defineComponent({__name:"SideMenuTwoLevel",props:{data:{default:()=>[]},pathName:{default:""},fromIcoMenu:{type:Boolean}},setup(l){const c=Le.useRouter(),o=l;function t(r){let s="menuTxtR ";return(r==null?void 0:r.path)===o.pathName&&(s+="active "),s}function n(r,s){var u,d,g,w,b,B,V,S,N,_,z,L,E,h;(u=r==null?void 0:r.preventDefault)==null||u.call(r);let p=r==null?void 0:r.target;if(s&&!s.children&&!p.classList.contains("active")){c.push(s.path);return}const i=(d=p==null?void 0:p.querySelector)==null?void 0:d.call(p,".dropIcoRX"),y=p.parentNode,m=Ze(y);for(let T of m){(w=(g=T==null?void 0:T.classList)==null?void 0:g.remove)==null||w.call(g,"open");const x=(b=T==null?void 0:T.querySelector)==null?void 0:b.call(T,".dropIcoRX");(V=(B=x==null?void 0:x.classList)==null?void 0:B.remove)==null||V.call(B,"open");const q=(S=T==null?void 0:T.querySelectorAll)==null?void 0:S.call(T,".open");for(let K of q)(_=(N=K==null?void 0:K.classList)==null?void 0:N.remove)==null||_.call(N,"open")}(L=(z=y==null?void 0:y.classList)==null?void 0:z.toggle)==null||L.call(z,"open"),(h=(E=i==null?void 0:i.classList)==null?void 0:E.toggle)==null||h.call(E,"open")}return(r,s)=>{const p=e.resolveComponent("Icon");return e.openBlock(),e.createElementBlock("ul",gn,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.data,(i,y)=>(e.openBlock(),e.createElementBlock("li",{key:(i==null?void 0:i.path)+y,class:e.normalizeClass({dropItemRX:i==null?void 0:i.children,open:o.fromIcoMenu,fromIcoMenu:o.fromIcoMenu})},[e.createElementVNode("div",{class:e.normalizeClass(t(i)),onClick:m=>n(m,i),style:e.normalizeStyle({paddingLeft:i.level*20+"px"})},[e.createVNode(p,{class:"menuIcoL",custom:"iconfont "+(i.icon||"icon-r-menu-default")},null,8,["custom"]),e.createElementVNode("span",null,e.toDisplayString((i==null?void 0:i.name)||"-- no name --"),1),e.withDirectives(e.createVNode(p,{class:e.normalizeClass(["dropIcoRX",{open:o.fromIcoMenu,fromIcoMenu:o.fromIcoMenu}]),type:"ios-arrow-forward"},null,8,["class"]),[[e.vShow,i.children&&i.children.length>0]])],14,bn),i.children?(e.openBlock(),e.createBlock(yn,{key:0,data:i.children,"path-name":o.pathName},null,8,["data","path-name"])):e.createCommentVNode("",!0)],2))),128))])}}}),kn={class:"groupBoxRX"},wn=["onMouseenter"],Vn=["onClick"],Bn=e.defineComponent({__name:"SideIcoMenu",props:{data:{default:()=>[]},pathName:{default:""}},setup(l){const c=Le.useRouter(),o=l,t=e.ref("");function n(i){let y="menuTxtR ";return(i==null?void 0:i.path)===o.pathName&&(y+="active "),y}function r(i,y){var u;(u=i==null?void 0:i.preventDefault)==null||u.call(i);let m=i==null?void 0:i.target;y&&!y.children&&!m.classList.contains("active")&&c.push(y.path)}function s(i,y){var m;(m=i==null?void 0:i.preventDefault)==null||m.call(i),t.value=y==null?void 0:y.path}function p(i){var y;(y=i==null?void 0:i.preventDefault)==null||y.call(i),t.value=""}return(i,y)=>{const m=e.resolveComponent("Icon");return e.openBlock(),e.createElementBlock("ul",kn,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.data,(u,d)=>(e.openBlock(),e.createElementBlock("li",{key:(u==null?void 0:u.path)+d,class:e.normalizeClass({dropItemRX:u.children}),onMouseenter:g=>s(g,u),onMouseleave:y[0]||(y[0]=g=>p(g))},[e.createElementVNode("div",{class:e.normalizeClass(n(u)),onClick:g=>r(g,u)},[e.createVNode(m,{class:"menuIcoM",custom:"iconfont "+(u.icon||"icon-r-menu-default"),size:"20"},null,8,["custom"])],10,Vn),e.withDirectives(e.createVNode(el,{class:"rightTwoMenu",data:[u],pathName:o.pathName,fromIcoMenu:""},null,8,["data","pathName"]),[[e.vShow,e.unref(t)===(u==null?void 0:u.path)]])],42,wn))),128))])}}}),Cn={class:"menuListR"},tl=e.defineComponent({__name:"SideMenuPro",props:{data:{default:()=>[]},light:{type:Boolean}},emits:["on-change"],setup(l,{emit:c}){const o=l,t=c,n=Le.useRoute(),r=e.ref(!0),s=e.ref(),p=e.ref(),i=e.computed(()=>r.value?D("r.hideMenu"):D("r.showMenu")),y=e.computed(()=>r.value?"iconfont icon-r-menu-hide":"iconfont icon-r-menu-open");e.onBeforeMount(()=>{let d=localStorage.getItem("menuDisplayRPro")||"";d!==""?r.value=JSON.parse(d):(r.value=!0,localStorage.setItem("menuDisplayRPro",JSON.stringify(!0)))}),e.watch(()=>n.path,d=>{s.value=d,e.nextTick(()=>{fe(u,10)})},{immediate:!0});function m(){r.value=!r.value,localStorage.setItem("menuDisplayRPro",JSON.stringify(r.value)),t("on-change",r.value)}function u(){var g,w,b,B,V,S,N,_,z,L,E,h,T,x,q,K,M,j,k,F,U,P,X,W,le,ne,te,de,I,R,Z,ae,oe,Y,pe,ke,_e,xe,we;let d=p.value.querySelectorAll(".dropItemRX");for(let ee of d){const ye=(w=(g=ee==null?void 0:ee.childNodes[0])==null?void 0:g.querySelector)==null?void 0:w.call(g,".dropIcoRX");(b=ee==null?void 0:ee.querySelector)!=null&&b.call(ee,".active")?(S=(V=(B=ee==null?void 0:ee.childNodes[1])==null?void 0:B.classList)==null?void 0:V.contains)!=null&&S.call(V,"rightChildRX")?(z=(_=(N=ee==null?void 0:ee.childNodes[0])==null?void 0:N.classList)==null?void 0:_.contains)!=null&&z.call(_,"activeR")||(E=ee==null?void 0:(L=ee.childNodes[0].classList).add)==null||E.call(L,"activeR"):((T=(h=ee==null?void 0:ee.classList)==null?void 0:h.contains)!=null&&T.call(h,"open")||(q=(x=ee.classList).add)==null||q.call(x,"open"),ye&&!((M=(K=ye==null?void 0:ye.classList)==null?void 0:K.contains)!=null&&M.call(K,"open"))&&((k=(j=ye.classList).add)==null||k.call(j,"open"))):(P=(U=(F=ee==null?void 0:ee.childNodes[1])==null?void 0:F.classList)==null?void 0:U.contains)!=null&&P.call(U,"rightChildRX")?(le=(W=(X=ee==null?void 0:ee.childNodes[0])==null?void 0:X.classList)==null?void 0:W.contains)!=null&&le.call(W,"activeR")&&((te=ee==null?void 0:(ne=ee.childNodes[0].classList).remove)==null||te.call(ne,"activeR")):((I=(de=ee==null?void 0:ee.classList)==null?void 0:de.contains)!=null&&I.call(de,"open")&&!((Z=(R=ee==null?void 0:ee.classList)==null?void 0:R.contains)!=null&&Z.call(R,"fromIcoMenu"))&&((oe=(ae=ee.classList).remove)==null||oe.call(ae,"open")),(pe=(Y=ye==null?void 0:ye.classList)==null?void 0:Y.contains)!=null&&pe.call(Y,"open")&&!((_e=(ke=ye==null?void 0:ye.classList)==null?void 0:ke.contains)!=null&&_e.call(ke,"fromIcoMenu"))&&((we=(xe=ye.classList).remove)==null||we.call(xe,"open")))}}return(d,g)=>{const w=e.resolveComponent("Icon");return e.openBlock(),e.createElementBlock("div",{ref_key:"menuProRef",ref:p,class:e.normalizeClass(["menuBoxRPro","cannotSelect",{light:d.light}])},[e.withDirectives(e.createElementVNode("div",Cn,[e.createVNode(el,{data:o.data,pathName:e.unref(s)},null,8,["data","pathName"])],512),[[e.vShow,e.unref(r)]]),e.withDirectives(e.createVNode(Bn,{class:"icoMenuR",data:d.data,pathName:e.unref(s)},null,8,["data","pathName"]),[[e.vShow,!e.unref(r)]]),e.createVNode(w,{custom:e.unref(y),size:14,class:e.normalizeClass([{showIco:!e.unref(r)},"menuShowHideIco"]),title:e.unref(i),onClick:m},null,8,["custom","class","title"])],2)}}}),Sn=["title"],ht=e.defineComponent({__name:"TableIconBtn",props:{icon:{default:"md-radio-button-on"},title:{},has:{default:""},disabled:{type:Boolean,default:!1},size:{default:24}},emits:["click"],setup(l,{emit:c}){const o=c,t=l;function n(r){t.disabled||o("click",r)}return(r,s)=>{const p=e.resolveComponent("Icon"),i=e.resolveDirective("has");return e.withDirectives((e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["tableBtnsG",{disabled:t.disabled}]),onClick:n,title:t.title||e.unref(D)("r.button")},[e.createVNode(p,{type:t.icon,size:t.size},null,8,["type","size"])],10,Sn)),[[i,t.has]])}}}),_n={class:"contentX"},Nn={class:"arrowA"},ve=e.defineComponent({__name:"ShowHidePanel",props:e.mergeModels({bg:{}},{modelValue:{type:Boolean,default:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(l){const c=e.useModel(l,"modelValue"),o=l,t=e.computed(()=>c?"background:"+o.bg||"transparent":"");return(n,r)=>{const s=e.resolveComponent("Icon");return e.openBlock(),e.createElementBlock("div",{style:e.normalizeStyle(e.unref(t))},[e.withDirectives(e.createElementVNode("div",_n,[e.renderSlot(n.$slots,"default")],512),[[e.vShow,c.value]]),e.createElementVNode("div",Nn,[e.createElementVNode("div",{class:"btA",onClick:r[0]||(r[0]=p=>c.value=!c.value)},[e.createVNode(s,{type:c.value?"ios-arrow-up":"ios-arrow-down",size:"20"},null,8,["type"])])])],4)}}}),Tn={class:"contentZ"},ll=e.defineComponent({__name:"ShowHidePanelB",props:{modelValue:{type:Boolean,default:!1},bg:{default:"transparent"}},emits:["update:modelValue"],setup(l,{emit:c}){const o=l,t=c,n=e.computed({get(){return o.modelValue},set(s){t("update:modelValue",s)}}),r=e.computed(()=>n.value?"background:"+o.bg:"");return(s,p)=>(e.openBlock(),e.createElementBlock("div",{style:e.normalizeStyle(e.unref(r))},[e.withDirectives(e.createElementVNode("div",Tn,[e.renderSlot(s.$slots,"default")],512),[[e.vShow,e.unref(n)]])],4))}}),nl=e.defineComponent({__name:"TableSearch",props:{modelValue:{},open:{type:Boolean,default:!1},placeholder:{},showBtn:{type:Boolean,default:!0},fixed:{type:Boolean,default:!1},width:{default:"210px"},right:{default:"0"},top:{default:"0"},btnColor:{default:"inherit"}},emits:["update:modelValue","on-toggle","on-search"],setup(l,{emit:c}){const o=c,t=l;let n=!1;const r=e.computed({get(){return t.modelValue},set(y){o("update:modelValue",y)}}),s=e.computed({get(){return t.open},set(y){o("on-toggle",y)}}),p=e.computed(()=>s.value?"ios-arrow-up":"ios-arrow-down");function i(){n||(n=!0,o("on-search",r.value),fe(()=>{n=!1},2e3))}return(y,m)=>{const u=e.resolveComponent("Input"),d=e.resolveComponent("icon");return e.openBlock(),e.createElementBlock("div",{class:"tableSearchV",style:e.normalizeStyle({position:t.fixed?"fixed":"absolute",right:t.right,top:t.top})},[e.renderSlot(y.$slots,"default",{},()=>[e.createVNode(u,{modelValue:e.unref(r),"onUpdate:modelValue":m[0]||(m[0]=g=>e.isRef(r)?r.value=g:null),style:e.normalizeStyle({width:t.width}),search:"",onOnSearch:i,class:"searchInputC",placeholder:t.placeholder||e.unref(D)("r.pInput")},null,8,["modelValue","style","placeholder"])]),e.withDirectives(e.createElementVNode("span",{class:"sbt",onClick:m[1]||(m[1]=g=>s.value=!e.unref(s)),style:e.normalizeStyle({color:t.btnColor})},[e.createVNode(d,{type:e.unref(p),color:t.btnColor},null,8,["type","color"]),e.createTextVNode(e.toDisplayString(e.unref(D)("r.adSearch")),1)],4),[[e.vShow,t.showBtn]])],4)}}}),al={beforeMount(l,c){function o(t){var n;if(l.contains(t.target))return!1;(n=c==null?void 0:c.value)==null||n.call(c,t)}l.__vueClickOutside__=o,Xe&&document.addEventListener("click",o)},unmounted(l){Xe&&document.removeEventListener("click",l.__vueClickOutside__),delete l.__vueClickOutside__}};function yt(l,c,o,t,n=!1){const r=(...s)=>Ce.apply(this,s);he.call(this,{title:l||r("r.info.title"),text:c||r("r.info.text"),icon:o||"warning",onOk:t,buttons:[r("r.cancel")],closeOnClickOutside:n})}const xn={class:"tabSetF"},Ln={class:"cannotSelect"},Dn={class:"topCheck"},gt=e.defineComponent({__name:"TableSetting",props:{modelValue:{default:()=>[]},sKey:{},width:{default:"240px"},bg:{default:()=>se().tableSettingBg},placement:{default:"bottom-end"},defaultCheck:{type:Boolean,default:!1},storage:{default:"localStorage"},transfer:{type:Boolean,default:()=>se().tableSettingTransfer},eventsEnabled:{type:Boolean,default:()=>se().tableSettingEventsEnabled}},emits:["update:modelValue"],setup(l,{emit:c}){var h,T,x,q,K;const o=c,t=l,n=e.ref(),r=e.ref(),s=e.ref(!0),p=e.ref(!1),i=e.ref(!1),y=e.ref([]),m=e.computed(()=>{var j;let M=D("r.unknown");return((j=t.modelValue)==null?void 0:j.length)>y.value.length&&(y.value=$.cloneDeep(t.modelValue)),y.value.map(k=>{let F={label:(k==null?void 0:k.title)||M};return k!=null&&k.disableShowSetting&&(F.disabled=!0),F})}),u=e.computed(()=>m.value.filter(M=>M==null?void 0:M.disabled)),d=e.computed({get(){var M,j;return(j=(M=t.modelValue)==null?void 0:M.map)==null?void 0:j.call(M,k=>(k==null?void 0:k.title)||D("r.unknown"))},set(M){let j=y.value.filter(k=>{for(let F of M)if(F===(k==null?void 0:k.title))return!0;return!1});o("update:modelValue",j)}}),g=(K=(q=(x=(T=(h=e.getCurrentInstance())==null?void 0:h.appContext)==null?void 0:T.config)==null?void 0:x.globalProperties)==null?void 0:q.$i18n)==null?void 0:K.locale;let w=null;e.onMounted(()=>{let M=D("r.unknown"),j=L();j?d.value=JSON.parse(decodeURI(j)):t.defaultCheck&&(d.value=t.modelValue.filter(k=>k==null?void 0:k.showSettingCheck).map(k=>(k==null?void 0:k.title)||M)),e.nextTick(function(){!n.value||!r.value||(w=new Gl(n.value,r.value,{placement:t.placement,eventsEnabled:t.eventsEnabled,modifiers:{computeStyle:{gpuAcceleration:!1},preventOverflow:{boundariesElement:"window"}},onUpdate:k=>{var F;if(k!=null&&k.popper&&((F=k.instance)!=null&&F.popper)){const U=b(k),{needChange:P}=U;if(P){const{height:X}=U,W=k.instance.popper;W.style&&(W.style.height=`${X}px`)}}}}))}),fe(()=>{var k;i.value=!0,(k=w==null?void 0:w.update)==null||k.call(w),e.nextTick(function(){i.value=!1})},0)}),e.onBeforeUnmount(function(){var M;(M=w==null?void 0:w.destroy)==null||M.call(w)});function b(M){var P,X;const{height:j}=M.popper,k=M.instance.popper,F=window.innerHeight;let U=0;if((P=k.childNodes)!=null&&P.length)for(let W=0;W<k.childNodes.length;W++)U+=(X=k.childNodes[W])==null?void 0:X.offsetHeight;return F<j-10||j<U?{needChange:!0,height:F-10<U?F-10:U}:{needChange:!1}}function B(M){M.length===m.value.length?(s.value=!1,p.value=!0):M.length>u.value.length?(s.value=!0,p.value=!1):(s.value=!1,p.value=!1)}e.watch(()=>d.value,B,{immediate:!0,deep:!0});function V(){i.value&&(E()&&yt(D("r.notSave"),"","warning",N),i.value=!1)}function S(){i.value?V():(i.value=!0,e.nextTick(function(){var M;(M=w==null?void 0:w.update)==null||M.call(w)}))}function N(){g?window[t.storage].setItem(t.sKey+"_"+g,encodeURI(JSON.stringify(d.value))):window[t.storage].setItem(t.sKey,encodeURI(JSON.stringify(d.value))),V()}function _(M){var j,k;if(i.value){if(t.transfer){const F=r.value;if(F===(M==null?void 0:M.target)||(j=F==null?void 0:F.contains)!=null&&j.call(F,M==null?void 0:M.target))return}(k=M==null?void 0:M.preventDefault)==null||k.call(M),V()}}function z(){s.value?p.value=!1:p.value=!p.value,s.value=!1,p.value?d.value=m.value.map(M=>M==null?void 0:M.label):d.value=u.value.map(M=>M==null?void 0:M.label)}function L(){let M;return g?M=window[t.storage].getItem(t.sKey+"_"+g):M=window[t.storage].getItem(t.sKey),M}function E(){var j;let M=L();if(M){if(M=JSON.parse(decodeURI(M)),(M==null?void 0:M.length)!==((j=d.value)==null?void 0:j.length))return!0;for(let k of M)if(d.value.indexOf(k)===-1)return!0}else return!0;return!1}return(M,j)=>{const k=e.resolveComponent("Icon"),F=e.resolveComponent("Checkbox"),U=e.resolveComponent("CheckboxGroup");return e.withDirectives((e.openBlock(),e.createElementBlock("div",xn,[e.createElementVNode("div",{ref_key:"buttonRef",ref:n,class:"tabSetBt",onClick:S},[e.createVNode(k,{type:"md-settings",size:"17"}),e.createElementVNode("span",Ln,e.toDisplayString(e.unref(D)("r.tabSetting")),1)],512),(e.openBlock(),e.createBlock(e.Teleport,{to:"body",disabled:!t.transfer},[e.withDirectives(e.createElementVNode("div",{ref_key:"popperRef",ref:r,class:"tabSetCard",style:e.normalizeStyle({width:t.width,backgroundColor:t.bg})},[e.createElementVNode("div",Dn,[e.createVNode(F,{indeterminate:e.unref(s),modelValue:e.unref(p),"onUpdate:modelValue":j[0]||(j[0]=P=>e.isRef(p)?p.value=P:null),onClick:e.withModifiers(z,["prevent"])},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(D)("r.all")),1)]),_:1},8,["indeterminate","modelValue"]),e.createElementVNode("div",{class:"btnR",style:{float:"right",display:"inline-block"},onClick:N},[j[2]||(j[2]=e.createElementVNode("span",{class:"iconfont icon-r-save"},null,-1)),e.createElementVNode("span",null,e.toDisplayString(e.unref(D)("r.save")),1)])]),e.createVNode(U,{modelValue:e.unref(d),"onUpdate:modelValue":j[1]||(j[1]=P=>e.isRef(d)?d.value=P:null)},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(m),(P,X)=>(e.openBlock(),e.createBlock(F,{class:"setItem",label:P&&P.label,key:"tabSet_"+t.sKey+X,disabled:P&&P.disabled},null,8,["label","disabled"]))),128))]),_:1},8,["modelValue"])],4),[[e.vShow,e.unref(i)]])],8,["disabled"]))])),[[e.unref(al),_]])}}});function ol(l){return l.replace(/_(\w)/g,function(c,o){return o.toUpperCase()})}function On(l){let c=document.createElement("div");return c.textContent!==void 0?c.textContent=l:c.innerText=l,c.innerHTML}function In(l){let c=document.createElement("div");return c.innerHTML=l,c.innerText||c.textContent}function bt(l){return new Promise(c=>{let o=new FileReader;o.readAsDataURL(l),o.onloadend=()=>{c(o.result)}})}function kt(l){return(l==null?void 0:l.split(".").pop().toLocaleLowerCase())||""}function Ie(l){return H(l)==="String"&&l.indexOf("image")>-1}function wt(l){const c=kt(l);let o="ios-document-outline";return["gif","jpg","jpeg","png","bmp","webp"].indexOf(c)>-1?o="ios-image":["mp4","m3u8","rmvb","avi","swf","3gp","mkv","flv"].indexOf(c)>-1?o="ios-film":["mp3","wav","wma","ogg","aac","flac"].indexOf(c)>-1?o="ios-musical-notes":["doc","txt","docx","pages","epub","pdf"].indexOf(c)>-1?o="md-document":["numbers","csv","xls","xlsx"].indexOf(c)>-1?o="ios-stats":["keynote","ppt","pptx"].indexOf(c)>-1&&(o="ios-videocam"),o}function il(l,c){let o=document.createElement("a");o.href=c,o.download=l,rl(o)}function rl(l){let c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),l.dispatchEvent(c)}function et({group:l,condition:c,pathKey:o,childKey:t="children",path:n=[]}){if(l&&$.isObject(l)){if($.isFunction(c)){if($.isPlainObject(l)){let r=l,s=$.cloneDeep(n);if(c(r))return o&&r[o]&&s.push(r[o]),s;if(r[t]&&!$.isEmpty(r[t])){o&&r[o]&&s.push(r[o]);let p=et({group:r[t],condition:c,pathKey:o,childKey:t,path:s});if(!$.isEmpty(p))return p}}else if(Array.isArray(l))for(let r of l){let s=$.cloneDeep(n);if(c(r))return o&&r[o]?s.push(r[o]):s.push(String(l.indexOf(r))),s;if(r[t]&&r[t].length>0){o&&r[o]?s.push(r[o]):s.push(String(l.indexOf(r)));let p=et({group:r[t],condition:c,pathKey:o,childKey:t,path:s});if(!$.isEmpty(p))return p}}}else if(Array.isArray(l))for(let r of l){let s=$.cloneDeep(n);if(r===c)return s.push(String(l.indexOf(r))),s}}return[]}function sl(l,c=12){if(H(l)==="String"&&l.length>0){let o=document.createElement("span");o.style.fontSize=c+"px",o.style.fontFamily="inherit",o.innerHTML=l,o.style.opacity="0",o.style.position="fixed",o.style.top="3000px",document.body.append(o);const t=o.clientWidth;return document.body.removeChild(o),t}return 0}function En(l){return l===""?null:l}function An(l){var c;l=l||window.Event,l!=null&&l.stopPropagation?(c=l.stopPropagation)==null||c.call(l):l&&(l.cancelBubble=!0)}let Me=!1;function tt({height:l,width:c=416,title:o,content:t,onOk:n,onCancel:r,onClose:s,okText:p,cancelText:i,noWarnIcon:y,footerAlign:m,cancelBt:u=!0}){const d=(...V)=>Ce.apply(this,V);let w=(l&&Number(l)-90>100?Number(l)-90+"px":0)||"100px",b=H(t)==="String";const B=typeof t=="function";me.Modal.warning({width:c,footerHide:!0,render:()=>e.h("div",{class:"customMessageBox",style:{height:w}},[e.h("div",{class:"containerN"},[e.h("div",{class:"titleN"},[e.h("span",o||d("r.info.title")),e.h(me.Button,{class:"fr closeN",type:"text",onClick(){Me||(me.Modal.remove(),s&&H(s)==="Function"&&s())}},()=>e.h("i",{class:"ivu-icon ivu-icon-ios-close",style:{fontSize:"30px"}}))]),e.h("div",{class:"contentN",style:{textAlign:b?"center":"left"}},[e.h("i",{class:b&&!y?"ivu-icon ivu-icon-ios-alert-outline":"hide",style:{fontSize:"60px",color:"#f8bb86"}}),e.h("div",{class:"msgBoxConO"},B?[t(e.h)]:t||d("r.info.text"))]),e.h("div",{class:"footerN",style:{textAlign:m||"center"}},[e.h(me.Button,{class:"okBtN",onClick(V){var S,N,_,z,L,E,h,T,x;if(n&&typeof n=="function"){const q=n();if(q&&H(q)==="Promise"){Me=!0;const K=(V==null?void 0:V.currentTarget)||(V==null?void 0:V.target);K&&((N=(S=K.classList)==null?void 0:S.add)==null||N.call(S,"ivu-btn-loading"),(z=(_=K.nextSibling)==null?void 0:_.setAttribute)==null||z.call(_,"disabled","disabled"),(x=(T=((h=(E=(L=K.parentElement)==null?void 0:L.parentElement)==null?void 0:E.querySelector)==null?void 0:h.call(E,".titleN .closeN")).classList)==null?void 0:T.add)==null||x.call(T,"disabled")),Promise.resolve(q).then(()=>{Me=!1,me.Modal.remove()}).catch(()=>{Me=!1,me.Modal.remove()})}else me.Modal.remove()}}},()=>[e.h("i",{class:"ivu-load-loop ivu-icon ivu-icon-ios-loading"}),e.h("span",p||d("r.confirm"))]),e.h(me.Button,{class:["cancelBtN",!u&&"hide"],onClick(){Me||(me.Modal.remove(),H(r)==="Function"&&r&&r())}},()=>i||d("r.cancel"))])])])})}let Ee=0,$e=document.createElement("div");$e.setAttribute("class","spinModal"),$e.innerHTML='<div class="loader"><svg class="circular" viewBox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="5" stroke-miterlimit="10" /></svg></div>',window.onload=function(){document.getElementsByTagName("body")[0].append($e)};function cl(l){l?$e.classList.add("show"):$e.classList.remove("show")}function dl(l){let c=Ee;l?Ee++:Ee>0&&Ee--,c!==Ee&&(Ee===0?cl(!1):c===0&&cl(!0))}const Pn=window.location.origin;let lt=null;const fl=(...l)=>Ce.apply(lt,l);let be=rt.create({baseURL:Pn,withCredentials:!0});function Rn(){console.info("store为空，请在安装插件时传入store实例，vuex：app.use(plugRQw,{store})，Pinia：app.use(plugRQw,{useStore})")}be.interceptors.request.use(l=>l,l=>Promise.reject(l));function pl(){var l,c;if(be.store)if(typeof be.store=="function"){const o=be.store();o.logout&&o.logout()}else(c=(l=be.store)==null?void 0:l.dispatch)==null||c.call(l,"logout");else Rn()}be.interceptors.response.use(l=>{var c,o;return lt&&(((c=l==null?void 0:l.data)==null?void 0:c.code)===403||((o=l==null?void 0:l.data)==null?void 0:o.code)===409)&&tt({content:fl("r.http."+l.data.code),onOk:pl}),l},l=>{var c,o;return lt&&(((c=l==null?void 0:l.response)==null?void 0:c.status)===403||((o=l==null?void 0:l.response)==null?void 0:o.status)===409)&&tt({content:fl("r.http."+l.response.status),onOk:pl}),console.warn("请求出错：",l),Promise.reject(l)});function Ne(l,c,o,t){t&&t.spin&&dl(!1);let n=!0,r=l&&l.data;if(r){o=o||[];for(let s of o)r=r[s],n=n&&r;return n?r:(c&&console.warn(c),!1)}return c&&console.warn(c),!1}function Fn(l,c,o,t,n,r,s){return new Promise((p,i)=>{switch(l){case"get":be.get(c,{params:o}).then(m=>{let u=Ne(m,t,n,r);u?p(u):i(m)}).catch(m=>{Ne({},t,n,r),i(m)});break;case"delete":let y=s?"params":"data";be.delete(c,{[y]:o}).then(m=>{let u=Ne(m,t,n,r);u?p(u):i(m)}).catch(m=>{Ne({},t,n,r),i(m)});break;case"post":be.post(c,o,r).then(m=>{let u=Ne(m,t,n,r);u?p(u):i(m)}).catch(m=>{Ne({},t,n,r),i(m)});break;case"put":be.put(c,o,r).then(m=>{let u=Ne(m,t,n,r);u?p(u):i(m)}).catch(m=>{Ne({},t,n,r),i(m)});break}})}function nt(l,c,o={},t,n,r,s){return new Promise((p,i)=>{var y;if(c){r&&r.spin&&dl(!0);let m=c;if(window&&window.hasOwnProperty("g")){const g=window.g;let w=Object.keys(g).filter(b=>{var B;return((B=b==null?void 0:b.indexOf)==null?void 0:B.call(b,"URL"))>-1}).map(b=>{var B;return(B=b.replace)==null?void 0:B.call(b,"URL","")});for(let b of w){let B=new RegExp("^/"+b+"(?=/.*$)","i");if(B.test(c)&&g[b+"URL"]){m=g[b+"URL"]+c.replace(B,"");break}}}let u;if(((y=r==null?void 0:r.headers)==null?void 0:y["Content-Type"])==="multipart/form-data")u=o;else if(Array.isArray(o)?u=[]:u={},o&&!$.isEmpty(o))if(Array.isArray(o)){u=[];for(let g of o)(g||g===0||g===!1||g===""&&r&&!r.noEmptyStr)&&u.push(g)}else{u={};for(let g in o)o.hasOwnProperty(g)&&(o[g]||o[g]===0||o[g]===!1||o[g]===""&&r&&!r.noEmptyStr)&&(u[g]=o[g])}let d=l.toLowerCase();Fn(d,m,u,t,n,r,s).then(g=>{p(g)}).catch(g=>{i(g)})}else console.error("没有请求地址:url"),i("没有请求地址:url")})}const Ve={init(l,c){be.store=l,lt=c.config.globalProperties},post(l,c,o,t,n){return new Promise((r,s)=>{nt("post",l,c,o,t,n).then(p=>{r(p)}).catch(p=>{s(p)})})},put(l,c,o,t,n){return new Promise((r,s)=>{nt("put",l,c,o,t,n).then(p=>{r(p)}).catch(p=>{s(p)})})},get(l,c,o,t,n){return new Promise((r,s)=>{nt("get",l,c,o,t,n).then(p=>{r(p)}).catch(p=>{s(p)})})},delete(l,c,o,t,n,r=!0){return new Promise((s,p)=>{nt("delete",l,c,o,t,n,r).then(i=>{s(i)}).catch(i=>{p(i)})})},all:rt.all,spread:rt.spread,config:be},zn={key:0,class:"pageTotal"},Mn={key:1,class:"pageProSize"},Vt=e.defineComponent({__name:"PagePro",props:{modelValue:{default:1},total:{default:0},pageSize:{default:10},size:{default:"default"},pageSizeOpts:{default:()=>{var l;return((l=se())==null?void 0:l.pageSizes)||[10,20,50,100]}},showTotal:{type:Boolean,default:()=>{var l;return(l=se())==null?void 0:l.pageShowTotal}},showSizer:{type:Boolean,default:()=>{var l;return(l=se())==null?void 0:l.pageShowSizer}},transfer:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","on-change","on-page-size-change"],setup(l,{emit:c}){var d;const o=c,t=e.ref(),n=l,r=((d=se==null?void 0:se())==null?void 0:d.fontSizeBase)||14,s=e.ref(16),p=e.computed({get(){return n.modelValue},set(g){o("update:modelValue",g),o("on-change",g)}}),i=e.computed({get(){return n.pageSize},set(g){o("on-page-size-change",g),p.value!==1&&(p.value=1)}}),y=e.computed(()=>{const g=sl(String(n.total||0),r)+s.value+2;return g<32?32:g});e.watch(y,g=>{e.nextTick(function(){u(g)})},{immediate:!0});function m(){var V,S,N;const g=(N=(S=(V=t.value)==null?void 0:V.$el)==null?void 0:S.querySelector)==null?void 0:N.call(S,"input");if(!g)return 16;const w=window.getComputedStyle(g),b=w==null?void 0:w.paddingLeft,B=w==null?void 0:w.paddingRight;return!b||!B?16:Number(b.replace("px",""))+Number(B.replace("px",""))}function u(g){var b,B,V;const w=(V=(B=(b=t.value)==null?void 0:b.$el)==null?void 0:B.querySelector)==null?void 0:V.call(B,"input");w!=null&&w.style&&(w.style.width=`${g}px`)}return e.onMounted(()=>{s.value=m()}),(g,w)=>{const b=e.resolveComponent("Page"),B=e.resolveComponent("Option"),V=e.resolveComponent("Select");return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["pagePro",{pageProDefault:n.size==="default"}])},[n.showTotal?(e.openBlock(),e.createElementBlock("span",zn,e.toDisplayString(e.unref(D)("r.total")+" ")+e.toDisplayString(n.total)+e.toDisplayString(" "+e.unref(D)("r.items")),1)):e.createCommentVNode("",!0),e.createVNode(b,{ref_key:"pageRef",ref:t,modelValue:e.unref(p),"onUpdate:modelValue":w[0]||(w[0]=S=>e.isRef(p)?p.value=S:null),"page-size":e.unref(i),total:n.total,size:n.size,"page-size-opts":n.pageSizeOpts,disabled:n.disabled,simple:""},null,8,["modelValue","page-size","total","size","page-size-opts","disabled"]),n.showSizer?(e.openBlock(),e.createElementBlock("div",Mn,[e.createVNode(V,{modelValue:e.unref(i),"onUpdate:modelValue":w[1]||(w[1]=S=>e.isRef(i)?i.value=S:null),size:n.size,transfer:n.transfer,disabled:n.disabled},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.pageSizeOpts,S=>(e.openBlock(),e.createBlock(B,{value:S,key:S},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(S)+" "+e.toDisplayString(e.unref(D)("r.page")),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","size","transfer","disabled"])])):e.createCommentVNode("",!0)],2)}}}),$n={class:"btTablePage fullHeight flexColumnBox",ref:"tableBox"},Kn={class:"topBtn"},Un={class:"tableContainer growFlexItem"},Gn={class:"fullHeight relativeBox"},Hn={ref:"tableContainerLOI",class:"fullFlowContent"},Wn={class:"pageContainer"},jn=300,at=e.defineComponent({__name:"BtTablePage",props:{url:{default:""},method:{default:"get"},searchData:{default:()=>({})},columns:{default:()=>[]},dataHandler:{},selection:{type:Boolean,default:!1},radio:{type:Boolean,default:!1},selectionFixed:{type:[String,Boolean],default:!1},rowClickSelect:{type:Boolean,default:!0},data:{default:()=>[]},sortable:{default:""},initData:{type:Boolean,default:!0},highlightRow:{type:Boolean,default:!1},rowClickNum:{default:-1},tableEmptyTdHandle:{type:Boolean,default:!1},noBorderTable:{type:Boolean,default:!1},orderDefault:{default:"desc"},orderKey:{default:"id"},orderKeyFormat:{default:"underline"},getDataLoading:{type:Boolean,default:!1},showTopRow:{type:Boolean,default:!1},lightHead:{type:Boolean,default:!1},noPage:{type:Boolean,default:!1},usePagePro:{type:Boolean,default:()=>{var l;return(l=se())==null?void 0:l.btTablePageUsePagePro}},showTotal:{type:Boolean,default:()=>{var l;return(l=se())==null?void 0:l.pageShowTotal}},showSizer:{type:Boolean,default:()=>{var l;return(l=se())==null?void 0:l.pageShowSizer}},pageSize:{default:10},pageComponentSize:{default:"default"},noElevator:{type:Boolean,default:!1}},emits:["on-selection-change","on-data-change"],setup(l,{expose:c,emit:o}){var de;const t=o;({...me.TableColumnConfig});const n=l,r=((de=se())==null?void 0:de.pageSizes)||[10,20,50,100],s=e.ref(n.data),p=e.ref(localStorage.getItem("btPageSize")&&Number(localStorage.getItem("btPageSize"))||n.pageSize),i=e.ref(1),y=e.ref(0);let m=[],u,d,g=e.ref(n.orderKey),w=e.ref(n.orderDefault);const b=e.computed(()=>{for(let I of n.columns)if(I!=null&&I.fixed)return!0;return!1}),B=e.computed(()=>n.selectionFixed||b.value),V=e.computed(()=>{let I={...n.searchData,current:i.value,size:p.value};return n.sortable==="custom"&&(n.orderKeyFormat==="underline"?I[w.value]=ct(g.value):n.orderKeyFormat==="camelcase"&&(I[w.value]=ol(g.value))),I}),S=e.computed(()=>{let I=n.columns.filter(R=>R&&R.type!=="selection");if(n.selection||n.radio){let R;n.radio?R={title:" ",width:65,render:(Z,ae)=>e.h(me.Radio,{modelValue:ae.row.btChecked})}:R={type:"selection",width:60},n.selectionFixed&&(R.fixed=n.selectionFixed),I.unshift(R)}return I.forEach(R=>{var Z;R&&(n.sortable==="custom"?R.key&&R.sortable!==!0&&R.sortable!==!1&&(R.sortable="custom"):R.sortable=!1,R.align||(R.align=((Z=se())==null?void 0:Z.btTablePageAlign)||"center"))}),I.forEach(R=>{R!=null&&R.key&&R.render===void 0&&(R.tooltip?R.render=ft(R.key,n.tableEmptyTdHandle):R.render=(Z,ae)=>{let oe="";return R!=null&&R.key&&(oe=ae.row[R.key]),n.tableEmptyTdHandle?e.h("span",oe===""?"--":oe??"--"):e.h("span",oe)})}),I}),N=e.computed({get(){return s.value.map((I,R)=>Object.assign({},I,{btKey:"bt-"+R,btChecked:!!I.btChecked}))},set(I){s.value=I}}),_=e.computed(()=>m.map(I=>I==null?void 0:I.id)),z=e.computed(()=>m.map(I=>I==null?void 0:I.btKey)),L=e.ref();e.watch(()=>n.searchData,E,{deep:!0}),e.watch(()=>n.orderDefault,I=>{w.value=I}),e.watch(()=>n.orderKey,I=>{g.value=I});function E(){i.value=1,te()}function h(){n.initData&&te()}function T(I){s.value.unshift($.cloneDeep(I)),fe(()=>{var R,Z;(Z=(R=L.value)==null?void 0:R.clickCurrentRow)==null||Z.call(R,0)},100)}function x(I,R,Z){let ae=null;if(typeof R=="number"?ae=R:R&&(ae=d),ae!==null){let oe=s.value[ae];for(let Y in I)I.hasOwnProperty(Y)&&(oe[Y]=I[Y]);Z&&fe(()=>{var Y,pe;(pe=(Y=L.value)==null?void 0:Y.clickCurrentRow)==null||pe.call(Y,ae)},10)}}function q(I){s.value.splice(I,1),fe(()=>{var R,Z;(Z=(R=L.value)==null?void 0:R.clickCurrentRow)==null||Z.call(R,0)},100)}function K(I,R){var Z,ae;I.btChecked&&n.radio||(n.selection||n.radio)&&n.rowClickSelect&&((ae=(Z=L.value)==null?void 0:Z.toggleSelect)==null||ae.call(Z,R))}function M(I,R){u=R.btKey,d=Number(R.btKey.split("-")[1]),n.radio&&(s.value[d].btChecked=!0)}function j(I){if(n.radio)for(let R of N.value)R!=null&&R.btKey&&R.btKey!==u&&(s.value[Number(R.btKey.split("-")[1])].btChecked=!1);m=I,t("on-selection-change",I)}function k(){return $.cloneDeep(m)}function F(){te()}function U(I){p.value=I,localStorage.setItem("btPageSize",String(I)),i.value===1&&te()}function P({key:I,order:R}){R==="normal"?(g.value=n.orderKey,w.value=n.orderDefault):(g.value=I,w.value=R),i.value=1,ne()}function X(I){var Z,ae,oe,Y,pe,ke,_e,xe;const R=I;if(typeof R=="number")W(),d=R,u=(ae=(Z=N.value)==null?void 0:Z[R])==null?void 0:ae.btKey,(Y=(oe=L.value)==null?void 0:oe.clickCurrentRow)==null||Y.call(oe,R);else if(Array.isArray(R)){if(n.radio||!n.selection)return;W();for(let we of R)(ke=(pe=L.value)==null?void 0:pe.clickCurrentRow)==null||ke.call(pe,we)}else if(typeof R=="function")for(let we=0;we<N.value.length;we++){const ee=N.value[we];R(ee)&&((xe=(_e=L.value)==null?void 0:_e.clickCurrentRow)==null||xe.call(_e,we))}}function W(){var I,R;if(n.radio){if(z.value.length>0&&N.value.length>0){let Z=z.value[0].split("-")[1];N.value[Z].btChecked=!1}}else(R=(I=L.value)==null?void 0:I.selectAll)==null||R.call(I,!1);m.length>0&&(m=[],t("on-selection-change",[])),u=null,d=null}function le(){s.value=[],W(),i.value=1,y.value=0}function ne(I,R,Z){return new Promise(ae=>{I&&(w.value=I),R&&(g.value=R),n.url?Ve[n.method](n.url,V.value,"",[],{spin:n.getDataLoading}).then(oe=>{var pe,ke;let Y;Z||W(),typeof n.dataHandler=="function"?Y=n.dataHandler(oe):Y=oe,Y.data?(Y.data.records||Y.data.records===null?s.value=Y.data.records||[]:Y.data.page?(Y.data.page.records||Y.data.page.records===null)&&(s.value=Y.data.page.records||[]):Y.data.data?(Y.data.data.records||Y.data.data.records===null)&&(s.value=Y.data.data.records||[]):s.value=Y.data,y.value=((pe=Y.data.page)==null?void 0:pe.total)||((ke=Y.data.data)==null?void 0:ke.total)||Y.data.total||Y.total||0,y.value===0&&i.value>1&&s.value&&s.value.length===0?i.value=1:i.value>1&&y.value<=(i.value-1)*p.value&&(i.value--,e.nextTick(function(){ne(I,R)})),t("on-data-change",Y),ae(Y)):(console.warn("请求返回数据有误，无法使用"),le(),t("on-data-change",Y))}).catch(oe=>{W(),le(),t("on-data-change",oe)}):console.warn("没有有效的请求地址，无法获取表格数据")})}function te(I,R,Z){n.radio&&(I||n.rowClickNum!==-1)?ne(R,Z,I).then(()=>{s.value.length>0&&fe(()=>{var ae,oe,Y,pe;I?(oe=(ae=L.value)==null?void 0:ae.clickCurrentRow)==null||oe.call(ae,d||0):(pe=(Y=L.value)==null?void 0:Y.clickCurrentRow)==null||pe.call(Y,n.rowClickNum)},10)}):ne()}return e.onMounted(h),c({dataS:N,selectedIds:_,addRow:T,setRowData:x,deleteRow:q,getSelected:k,selectRow:X,clearSelect:W,clearTableData:le,getTableData:ne,getDataAndClickRow:te}),(I,R)=>{const Z=e.resolveComponent("Table"),ae=e.resolveComponent("Page");return e.openBlock(),e.createElementBlock("div",$n,[e.withDirectives(e.createElementVNode("div",Kn,[e.renderSlot(I.$slots,"tableSetting"),e.renderSlot(I.$slots,"topMsg"),e.renderSlot(I.$slots,"topBtnGroup")],512),[[e.vShow,n.showTopRow]]),e.createElementVNode("div",Un,[e.createElementVNode("div",Gn,[e.createElementVNode("div",Hn,[e.createVNode(Z,e.mergeProps({ref_key:"tableRef",ref:L},I.$attrs,{height:e.unref(B)&&jn||null,class:{noBorderTable:n.noBorderTable,fullHeightTable:!e.unref(B),lightHeadO:n.lightHead},columns:e.unref(S),data:e.unref(N),"highlight-row":n.radio||n.highlightRow,onOnSelect:M,onOnSelectionChange:j,onOnSortChange:P,onOnRowClick:K}),null,16,["height","class","columns","data","highlight-row"])],512)])]),e.withDirectives(e.createElementVNode("div",Wn,[n.usePagePro?(e.openBlock(),e.createBlock(Vt,{key:0,modelValue:e.unref(i),"onUpdate:modelValue":R[0]||(R[0]=oe=>e.isRef(i)?i.value=oe:null),total:e.unref(y),showTotal:n.showTotal,pageSize:e.unref(p),showSizer:n.showSizer,pageSizeOpts:e.unref(r),size:n.pageComponentSize,onOnChange:F,onOnPageSizeChange:U},null,8,["modelValue","total","showTotal","pageSize","showSizer","pageSizeOpts","size"])):(e.openBlock(),e.createBlock(ae,{key:1,modelValue:e.unref(i),"onUpdate:modelValue":R[1]||(R[1]=oe=>e.isRef(i)?i.value=oe:null),total:e.unref(y),pageSize:e.unref(p),pageSizeOpts:e.unref(r),showSizer:n.showSizer,showTotal:n.showTotal,size:n.pageComponentSize,showElevator:!n.noElevator,onOnChange:F,onOnPageSizeChange:U},null,8,["modelValue","total","pageSize","pageSizeOpts","showSizer","showTotal","size","showElevator"]))],512),[[e.vShow,!n.noPage]])],512)}}}),Bt=e.defineComponent({__name:"SelectInput",props:{modelValue:{default:()=>({key:null,val:null})},labelWidth:{default:160},labelTextAlign:{default:"right"},itemWidth:{default:200},selectOption:{default:()=>[]},placeholder:{},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","on-change"],setup(l,{emit:c}){const o=c,t=l,n=e.computed({get(){var m;return(m=t.modelValue)==null?void 0:m.key},set(m){let u={key:m,val:null};n.value&&n.value!==m&&(u.beforeKey=n.value),o("update:modelValue",u),o("on-change",u)}}),r=e.computed({get(){return t.modelValue&&t.modelValue.val||null},set(m){o("update:modelValue",{key:n.value,val:m})}}),s=e.computed(()=>({width:t.labelWidth+"px",textAlign:t.labelTextAlign})),p=e.computed(()=>({width:typeof t.itemWidth=="number"?t.itemWidth+"px":t.itemWidth}));function i(m){m!=null&&m.target&&m.target.value!==void 0&&y({key:n.value,val:m.target.value})}const y=$.debounce(m=>{o("on-change",m)},500);return(m,u)=>{const d=e.resolveComponent("Option"),g=e.resolveComponent("Select"),w=e.resolveComponent("Input");return e.openBlock(),e.createElementBlock("div",null,[e.createVNode(g,{modelValue:e.unref(n),"onUpdate:modelValue":u[0]||(u[0]=b=>e.isRef(n)?n.value=b:null),style:e.normalizeStyle(e.unref(s)),disabled:!!t.disabled,transfer:""},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.selectOption,(b,B)=>(e.openBlock(),e.createBlock(d,{value:b==null?void 0:b.val,label:b==null?void 0:b.label,key:"selectInputOp"+(b==null?void 0:b.value)+B,style:e.normalizeStyle({textAlign:t.labelTextAlign})},null,8,["value","label","style"]))),128))]),_:1},8,["modelValue","style","disabled"]),e.createVNode(w,{modelValue:e.unref(r),"onUpdate:modelValue":u[1]||(u[1]=b=>e.isRef(r)?r.value=b:null),placeholder:t.placeholder||e.unref(D)("r.pInput"),style:e.normalizeStyle(e.unref(p)),clearable:t.clearable,disabled:!!t.disabled,onOnChange:i},null,8,["modelValue","placeholder","style","clearable","disabled"])])}}});let Ct={securityJsCode:"",key:""};function qn({securityJsCode:l,key:c}){Ct.securityJsCode=l,Ct.key=c}function Xn(l){return Ct[l]}const St=e.defineComponent({__name:"InputMap",props:{modelValue:{default:()=>({})},width:{default:"100%"},height:{},placeholder:{},disabled:{type:Boolean,default:!1},showMap:{type:Boolean,default:!0}},emits:["update:modelValue","on-change"],setup(l,{emit:c}){const o=c,t=l,n=e.computed({get(){let _;return t.modelValue?t.modelValue.name?_=$.cloneDeep(t.modelValue):_={...t.modelValue,name:null}:_={name:null},_},set(_){o("update:modelValue",$.cloneDeep(_))}}),r=e.computed(()=>$.isNumber(t.width)?t.width+"px":t.width),s=e.computed(()=>$.isNumber(t.height)?t.height+"px":t.height?t.height:$.isNumber(t.width)?t.width*.66+"px":"200px"),p=e.computed(()=>({width:r.value,position:"relative"})),i=e.computed(()=>({width:r.value,height:s.value,marginTop:"6px",opacity:t.showMap?1:0,position:t.showMap?"relative":"absolute",top:t.showMap?0:"-10000px"}));e.watch(()=>t.modelValue,_=>{if(_&&_.lng&&_.lat){if(!b||!B)return;S({lng:_.lng,lat:_.lat,name:_.name})}});const y="mapId"+Math.floor(Math.random()*1e9),m=e.ref(null),u=e.ref(null);let d;function g(){u.value&&u.value.clientHeight<10||!u.value?fe(g,300):fe(V,100)}let w,b,B;function V(){He.load({key:Xn("key"),version:"2.0",plugins:["AMap.AutoComplete","AMap.Geocoder"]}).then(_=>{w=_,b=new w.Map(y).on("complete",()=>{var L,E,h,T;B=new w.Geocoder,(L=t.modelValue)!=null&&L.lng&&((E=t.modelValue)!=null&&E.lat)&&S({lng:t.modelValue.lng,lat:t.modelValue.lat,name:t.modelValue.name});const z=(T=(h=m.value)==null?void 0:h.$el)==null?void 0:T.children;z&&z.length>1&&new w.AutoComplete({input:z[1]}).on("select",x=>{var q,K,M;(q=x==null?void 0:x.poi)!=null&&q.name&&((K=x.poi.location)!=null&&K.lng&&((M=x.poi.location)!=null&&M.lat)?(S({name:x.poi.name,lng:x.poi.location.lng,lat:x.poi.location.lat}),n.value={name:x.poi.name,lng:x.poi.location.lng,lat:x.poi.location.lat}):b==null||b.setCity(x.poi.name,()=>{let j=b.getCenter();S({name:x.poi.name,lng:j.lng,lat:j.lat}),n.value={name:x.poi.name,lng:j.lng,lat:j.lat}})),o("on-change",n.value)}),b==null||b.on("hotspotclick",x=>{S({name:x.name,lng:x.lnglat.lng,lat:x.lnglat.lat}),n.value={name:x.name,lng:x.lnglat.lng,lat:x.lnglat.lat}})})})}function S({lng:_,lat:z,name:L}){b==null||b.clearMap();let E=new w.LngLat(_,z),h=new w.Marker({map:b,position:E,draggable:!0});b==null||b.add(h),N(_,z),h.on("dragend",()=>{let T=h.getPosition();n.value={name:L||null,lng:T.lng,lat:T.lat},N(_,z)}),h.on("click",T=>{var x,q;d&&d.open(b,(q=(x=T==null?void 0:T.target)==null?void 0:x.getPosition)==null?void 0:q.call(x))}),b==null||b.setFitView()}function N(_,z){B==null||B.getAddress([_,z],(L,E)=>{L==="complete"&&E.info==="OK"&&E.regeocode&&E.regeocode.formattedAddress?d=new w.InfoWindow({isCustom:!0,content:'<div class="mapInfoWindowIKJ">'+E.regeocode.formattedAddress+"</div>",offset:new w.Pixel(16,-45),closeWhenClickMap:!0}):(d=null,console.warn("地图获取位置信息失败",E))})}return e.onMounted(g),e.onUnmounted(()=>{b&&(b.destroy(),He==null||He.reset(),b=null,B=null,d=null)}),(_,z)=>(e.openBlock(),e.createElementBlock("div",{style:e.normalizeStyle(e.unref(p)),class:"containerIKJ"},[e.createVNode(e.unref(me.Input),{ref_key:"mapInputRef",ref:m,modelValue:e.unref(n).name,"onUpdate:modelValue":z[0]||(z[0]=L=>e.unref(n).name=L),class:e.normalizeClass({mapInputIKJ:t.showMap}),placeholder:t.placeholder||e.unref(D)("r.search"),disabled:t.disabled,icon:"ios-search"},null,8,["modelValue","class","placeholder","disabled"]),e.createElementVNode("div",{style:e.normalizeStyle(e.unref(i)),ref_key:"mapRef",ref:u,id:y},null,4)],4))}}),_t=e.defineComponent({__name:"AsyncCascader",props:{modelValue:{},url:{default:(Il=window==null?void 0:window.g)!=null&&Il.mgrURL?window.g.mgrURL+"/web/v1/umc/orgs":""},optionVal:{default:"id"},optionLabel:{default:"name"},optionFilter:{},separator:{default:"/"},onlyLastVal:{type:Boolean,default:!0},onlyLastLabel:{type:Boolean,default:!0},filterable:{type:Boolean,default:!1},placeholder:{default:""},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","on-label-change"],setup(l,{emit:c}){const o=c,t=l,n=e.ref([]),r=e.computed({get(){let m=t.modelValue;return Array.isArray(m)?$.cloneDeep(m):$.isNumber(m)?et({group:n.value,condition:u=>(u==null?void 0:u.value)===m,pathKey:"value"}):$.isString(m)?m.split(t.separator):[]},set(m){if(t.onlyLastVal)$.isEmpty(m)?(o("update:modelValue",null),o("on-label-change",null)):o("update:modelValue",$.last(m));else{if($.isEqual(t.modelValue,m))return;o("update:modelValue",$.cloneDeep(m))}}});function s(){if(!t.url){console.error("没有用于拉取级联数据的有效接口地址");return}Ve.get(t.url).then(m=>{var d;let u=null;(d=m==null?void 0:m.data)!=null&&d.records?u=m.data.records:m!=null&&m.data?u=m.data:m&&(u=m),u?(typeof t.optionFilter=="function"&&H(t.optionFilter)==="Function"&&(u=t.optionFilter(u)),n.value=p(u)):console.warn("级联数据错误，不能使用")}).catch(()=>{console.warn("拉取级联数据出错")})}function p(m){let u=[];for(let d of m){let g={value:d[t.optionVal],label:d[t.optionLabel]};d!=null&&d.children&&!$.isEmpty(d.children)&&(g.children=p(d.children)),u.push(g)}return u}function i(m){return t.onlyLastLabel?$.last(m):m.join(t.separator)}function y(m,u){let d="";$.isEmpty(u)||(d=u.map(g=>g==null?void 0:g.label).join(t.separator)),o("on-label-change",d)}return e.onMounted(s),(m,u)=>{const d=e.resolveComponent("Cascader");return e.openBlock(),e.createBlock(d,{data:e.unref(n),modelValue:e.unref(r),"onUpdate:modelValue":u[0]||(u[0]=g=>e.isRef(r)?r.value=g:null),onOnChange:y,"change-on-select":"",transfer:"",disabled:t.disabled,"render-format":i,placeholder:t.placeholder||e.unref(D)("r.pSelect"),filterable:t.filterable},null,8,["data","modelValue","disabled","placeholder","filterable"])}}}),Nt=e.defineComponent({__name:"AlCascaderMC",props:{modelValue:{},level:{default:2},disabled:{type:Boolean,default:!1},transfer:{type:Boolean,default:!0},filterable:{type:Boolean,default:!0},separator:{default:"/"},placeholder:{}},emits:["update:modelValue","on-name-change"],setup(l,{emit:c}){const o=c,t=l,n=e.computed({get(){if(t.modelValue&&(typeof t.modelValue=="string"||typeof t.modelValue=="number")){let r=String(t.modelValue).trim();if(/^\d+$/.test(r)){let p=r.substring(0,2)+"0000000000",i=r.substring(0,4)+"00000000";return[p,i,r]}return r.indexOf(t.separator)!==-1?r.split(t.separator):[r]}else return Array.isArray(t.modelValue)?$.cloneDeep(t.modelValue):[]},set(r){if($.isEmpty(r))o("update:modelValue",null),o("on-name-change",null);else{let s=$.last(r),p="",i="";if(s&&(p=s.code),p&&p.length<12){let y=[...p];for(;y.length<12;)y.push(0);p=y.join("")}if(Array.isArray(r)&&(i=r.map(y=>y==null?void 0:y.name).join(t.separator)),p){if(p===t.modelValue)return;o("update:modelValue",p)}i&&o("on-name-change",i)}}});return(r,s)=>(e.openBlock(),e.createBlock(e.unref(Hl),e.mergeProps(r.$attrs,{class:"alCascaderMC",modelValue:e.unref(n),"onUpdate:modelValue":s[0]||(s[0]=p=>e.isRef(n)?n.value=p:null),level:t.level,disabled:t.disabled,placeholder:t.placeholder||e.unref(D)("r.pSelect"),transfer:t.transfer,searchable:t.filterable}),null,16,["modelValue","level","disabled","placeholder","transfer","searchable"]))}});let Se=0;function ml(l,c,o,t){var n,r,s;t&&(t.innerHTML=((n=l[c])==null?void 0:n.name)??"",(r=l[c])!=null&&r.name?t.classList.contains("hide")&&t.classList.remove("hide"):t.classList.contains("hide")||t.classList.add("hide")),o&&(o.src=((s=l[c])==null?void 0:s.src)??l[c],Se=c)}function ul(l,c,o,t){if(l){let n;Se-1<0?n=c.length-1:n=Se-1,ml(c,n,o,t)}}function hl(l,c,o,t){if(l){let n;Se+1>c.length-1?n=0:n=Se+1,ml(c,n,o,t)}}function Ae(l,c=0){var V,S,N,_,z,L,E;const o=(...h)=>Ce.apply(this,h),t=o("r.closePreview"),n=o("r.fullImg"),r=o("r.last"),s=o("r.next");let p,i,y;Se=c;const m=Array.isArray(l);m?(i=((V=l[Se])==null?void 0:V.src)??l[Se],y=(S=l[Se])==null?void 0:S.name):i=l,m&&l.length>1?p=`${r} ： ←, ↑, A, W | ${s} ： →, ↓, D, S | ${t} ： Esc`:p=`${t} ： Esc`;let u=$.first(document.getElementsByTagName("body")),d=document.createElement("div");d.setAttribute("class","fullScreenImgByDom"),d.innerHTML=`<div class='previewInner'><div class='pageFBt left${m&&l.length>1?"":" hide"}'><i class='ivu-icon ivu-icon-ios-arrow-back' title='${r}' ></i></div><img src='${i}' alt='${n}' ><div class='pageFBt right${m&&l.length>1?"":" hide"}'><i class='ivu-icon ivu-icon-ios-arrow-forward' title='${s}' ></i></div><i class='ivu-icon ivu-icon-md-close' title='${t}' ></i></div><p class='pNotice cannotSelect'>${p}</p><p class='pName ${y?"":"hide"}'>${y}</p>`;function g(){let h=$.first(document.getElementsByTagName("body"));h&&h.removeChild(d),document.removeEventListener("keyup",B)}(_=(N=d.querySelector(".ivu-icon-md-close"))==null?void 0:N.addEventListener)==null||_.call(N,"click",g);const w=d.querySelector("img"),b=d.querySelector(".pName");(z=d.querySelector(".pageFBt.left"))==null||z.addEventListener("click",function(){ul(m,l,w,b)}),(L=d.querySelector(".pageFBt.right"))==null||L.addEventListener("click",function(){hl(m,l,w,b)});function B(h){h.keyCode===37||h.keyCode===38||h.keyCode===87||h.keyCode===65?ul(m,l,w,b):h.keyCode===39||h.keyCode===40||h.keyCode===83||h.keyCode===68?hl(m,l,w,b):h.keyCode===27&&g()}document.addEventListener("keyup",B),(E=u==null?void 0:u.appendChild)==null||E.call(u,d),d.focus({preventScroll:!0})}const Jn={key:0,class:"previewBoxM"},Yn={class:"imgLoading"},Qn=["src","alt"],Zn={class:"deleteModal"},vn={key:1,class:"previewBoxM"},ea={key:0,class:"previewImg"},ta=["src","alt"],la={class:"deleteModal"},na={key:2,class:"customFileListM"},aa={key:0,class:"customFileListItem"},oa=["onClick","title"],ia={class:"btBoxJ"},ra={key:3,class:"customFileListM"},sa={key:0,class:"customFileListItem"},ca={class:"listLoading"},da=["onClick","title"],fa={class:"btBoxJ"},Tt=e.defineComponent({__name:"UploadGroup",props:{modelValue:{default:()=>[]},url:{default:(El=window==null?void 0:window.g)!=null&&El.mgrURL?window.g.mgrURL+"/web/v1/fsc/file":""},data:{default:()=>({appId:0,moduleId:0,typeId:0})},manualUpload:{type:Boolean,default:!1},maxSize:{default:0},length:{default:0},showUploadList:{type:Boolean,default:!0},withCredentials:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},format:{default:()=>[]},showImg:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","on-change"],setup(l,{emit:c}){const o=c,t=l,n=e.shallowRef([]),r=e.shallowRef([]),s=e.shallowRef([]);let p={};const i=e.computed(()=>!t.manualUpload&&t.showImg&&d.value?"img":t.manualUpload&&t.showImg&&d.value?"localImg":t.manualUpload&&t.showUploadList&&(!t.showImg||!d.value)?"localList":!t.manualUpload&&t.showUploadList&&(!t.showImg||!d.value)?"list":""),y=e.computed(()=>t.manualUpload?"//jsonplaceholder.typicode.com/posts/":t.url),m=e.computed({get(){return t.manualUpload?u.value:u.value.map(k=>({id:k}))},set(k){t.manualUpload?u.value=k||[]:u.value=(k==null?void 0:k.map(F=>F==null?void 0:F.id))||[]}}),u=e.computed({get(){switch(typeof t.modelValue){case"number":return[t.modelValue];case"string":return t.modelValue.indexOf("--")!==-1?[]:/^\d*$/.test(t.modelValue)?[Number(t.modelValue)]:[t.modelValue];case"object":return Array.isArray(t.modelValue)?t.modelValue.filter(k=>k!=="--"):H(t.modelValue)==="File"?[t.modelValue]:[];default:return[]}},set(k){if(t.length===1){let F=$.first(k);o("update:modelValue",F??null),o("on-change",F??null)}else o("update:modelValue",$.cloneDeep(k)),o("on-change",$.cloneDeep(k))}}),d=e.computed(()=>{let k;if(t.manualUpload?k=m.value:k=r.value,!k)return!1;for(let F of k){let U;if(t.manualUpload?U=F==null?void 0:F.type:U=F==null?void 0:F.mimeType,!U||U&&!(Ie(U)||U==="loading"))return!1}return!0}),g=e.computed(()=>r.value.filter(k=>Ie(k==null?void 0:k.mimeType))),w=e.computed(()=>g.value.map(k=>({src:t.url+"/"+(k==null?void 0:k.id)+"/download?preview=true",name:k==null?void 0:k.name}))),b=e.computed(()=>m.value.filter(k=>Ie(k==null?void 0:k.type)));e.watch(b,async k=>{s.value=await V(k)}),e.watch(()=>m.value,async k=>{if(i.value==="localImg")k!=null&&k.length?n.value=await V(k):n.value=[];else if(k!=null&&k.length&&i.value!=="localList"){let F=$.cloneDeep(k);const U=$.cloneDeep(r.value);for(let P of F)if((P==null?void 0:P.name)===void 0)if(P.id){const X=$.find(U,W=>(W==null?void 0:W.id)===P.id);X?(P.name=X.name,P.mimeType=X.mimeType):p.hasOwnProperty(P.id)?(P.name=p[P.id].name,P.mimeType=p[P.id].mimeType):(P.mimeType="loading",Ve.get(t.url+"/"+P.id).then(W=>{var le,ne,te,de,I,R;P.name=((te=(ne=(le=W==null?void 0:W.data)==null?void 0:le.returnValue)==null?void 0:ne[0])==null?void 0:te.name)||D("r.file")+$.indexOf(k,P),P.mimeType=((R=(I=(de=W==null?void 0:W.data)==null?void 0:de.returnValue)==null?void 0:I[0])==null?void 0:R.mimeType)||"unknown",e.triggerRef(r)}).catch(()=>{P.name=D("r.file")+$.indexOf(F,P)}))}else P.name=D("r.unknown");r.value=F}else r.value=[]},{immediate:!0,deep:!0});function B(k){return(k==null?void 0:k.name)||(k==null?void 0:k.split)&&$.last(k.split("/"))||k}async function V(k){let F=[];for(let U of k){let P=await bt(U);F.push(P)}return F}function S(k){if(!t.disabled){let F=m.value;F==null||F.splice(k,1),m.value=F}}function N(k){k!=null&&k.id&&window.open(t.url+"/"+k.id+"/download")}function _(k){return t.manualUpload?(k==null?void 0:k.type)&&Ie(k.type):(k==null?void 0:k.id)&&k.mimeType&&Ie(k.mimeType)}async function z(k){if(t.manualUpload){let F,U;if(typeof k=="number"?(F=k,U=n.value):k&&(F=$.findIndex(b.value,P=>P.size===k.size&&P.lastModified===k.lastModified),U=s.value),!U)return;Ae(U.map((P,X)=>{var W;return{src:P,name:(W=b.value[X])==null?void 0:W.name}}),F)}else if(k!=null&&k.id){const F=$.findIndex(g.value,U=>U.id===k.id);Ae(w.value,F)}}function L(k){H(k)==="String"&&k.indexOf("http")>-1?window.open(k):H(k)==="File"&&bt(k).then(F=>{il(k.name,F)})}function E(k){var F,U;if(t.manualUpload){if(k){let P=kt(k.name);if((F=t.format)!=null&&F.length&&t.format.indexOf(P)<0)return he(D("r.wrongFileType"),D("r.supportType")+(((U=t.format)==null?void 0:U.length)&&String(t.format)||D("r.none")),"warning"),!1;if(t.maxSize&&k.size>t.maxSize*1024)return he(D("r.fileIsBig"),D("r.supportSize")+t.maxSize+"kb","warning"),!1;let X=m.value;X==null||X.push(k),m.value=X}return!1}else return!0}function h(k){console.warn(k),he(D("r.uploadError"),"","error")}function T(k,F,U){var P,X,W,le,ne,te;if((k==null?void 0:k.code)===0){let de=m.value;F.id=(X=(P=k.data)==null?void 0:P[0])==null?void 0:X.id,F.name=(le=(W=k.data)==null?void 0:W[0])==null?void 0:le.name,F.mimeType=(te=(ne=k.data)==null?void 0:ne[0])==null?void 0:te.mimeType,p[F.id]={name:F.name,mimeType:F.mimeType},de==null||de.push(F),m.value=de}else he(D("r.uploadFail"),(k==null?void 0:k.message)||"","error")}function x(){he(D("r.fileIsBig"),D("r.supportSize")+t.maxSize+" kb","warning")}function q(){var k;he(D("r.wrongFileType"),D("r.supportType")+(((k=t.format)==null?void 0:k.length)&&String(t.format)||D("r.none")),"warning")}function K(k){let F=k==null?void 0:k.id,U=k==null?void 0:k.mimeType;F&&(H(U)==="String"&&U.indexOf("image")>-1?Ae(t.url+"/"+F+"/download?preview=true"):window.open(t.url+"/"+F+"/download?preview=true"))}function M(k){var U,P,X;let F=(X=(P=(U=k==null?void 0:k.response)==null?void 0:U.data)==null?void 0:P[0])==null?void 0:X.id;j(null,F)}function j(k,F){if(!(!F&&F!==0)&&!t.disabled&&u.value.indexOf(F)!==-1){const U=$.cloneDeep(u.value);let P=m.value;P==null||P.splice(U.indexOf(F),1),m.value=P}}return(k,F)=>{var W,le,ne,te,de;const U=e.resolveComponent("Button"),P=e.resolveComponent("Upload"),X=e.resolveComponent("Icon");return e.openBlock(),e.createElementBlock("div",null,[e.createVNode(P,{name:"files",action:e.unref(y),"before-upload":E,"on-error":h,"on-success":T,"on-exceeded-size":x,"on-preview":K,"on-remove":M,"on-format-error":q,data:t.data,"max-size":t.maxSize,"show-upload-list":!1,"with-credentials":t.withCredentials,format:t.format,multiple:t.multiple||!1,disabled:t.length>0&&((W=e.unref(m))==null?void 0:W.length)>=t.length||!!t.disabled},{default:e.withCtx(()=>{var I;return[e.createVNode(U,{icon:"md-cloud-upload",class:e.normalizeClass({disabledR:t.length>0&&((I=e.unref(m))==null?void 0:I.length)>=t.length||!!t.disabled})},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(D)("r.selectFile")),1)]),_:1},8,["class"])]}),_:1},8,["action","data","max-size","with-credentials","format","multiple","disabled"]),e.unref(i)==="img"&&((le=e.unref(r))==null?void 0:le.length)>0?(e.openBlock(),e.createElementBlock("div",Jn,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(r),(I,R)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:I==null?void 0:I.id},[!t.manualUpload&&(I==null?void 0:I.id)!==null?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(["previewImg",{previewLoading:I.mimeType==="loading"}])},[e.withDirectives(e.createElementVNode("div",Yn,F[0]||(F[0]=[e.createElementVNode("div",{"data-loader":"circle-side",class:"loader-div"},null,-1)]),512),[[e.vShow,I.mimeType==="loading"]]),e.withDirectives(e.createElementVNode("img",{src:k.url+"/"+I.id+"/download?preview=true",alt:I.name},null,8,Qn),[[e.vShow,I.mimeType!=="loading"]]),e.withDirectives(e.createElementVNode("div",Zn,[e.createVNode(X,{type:"ios-expand",size:"40",class:"previewExpand",title:e.unref(D)("r.fView"),onClick:Z=>e.unref(Ae)(e.unref(w),R)},null,8,["title","onClick"]),e.createVNode(X,{type:"ios-trash-outline",size:"40",class:"previewDelete",onClick:Z=>j(Z,I.id),title:e.unref(D)("r.delete")},null,8,["onClick","title"])],512),[[e.vShow,I.mimeType!=="loading"]])],2)):e.createCommentVNode("",!0)],64))),128))])):e.createCommentVNode("",!0),e.unref(i)==="localImg"&&((ne=e.unref(n))==null?void 0:ne.length)>0?(e.openBlock(),e.createElementBlock("div",vn,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(n),(I,R)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:"manualImg"+R},[t.manualUpload&&I!==null?(e.openBlock(),e.createElementBlock("div",ea,[e.createElementVNode("img",{src:I,alt:"manualImg"+R},null,8,ta),e.createElementVNode("div",la,[e.createVNode(X,{type:"ios-expand",size:"40",class:"previewExpand",onClick:Z=>z(R),title:e.unref(D)("r.fView")},null,8,["onClick","title"]),e.createVNode(X,{type:"ios-trash-outline",size:"40",class:"previewDelete",onClick:Z=>S(R),title:e.unref(D)("r.delete")},null,8,["onClick","title"])])])):e.createCommentVNode("",!0)],64))),128))])):e.createCommentVNode("",!0),e.unref(i)==="localList"&&((te=e.unref(m))==null?void 0:te.length)>0?(e.openBlock(),e.createElementBlock("div",na,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(m),(I,R)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:"manualItem"+R},[t.manualUpload&&I!==null?(e.openBlock(),e.createElementBlock("p",aa,[I.name?(e.openBlock(),e.createBlock(X,{key:0,class:"fileTypeIco",type:e.unref(wt)(I.name),size:"20"},null,8,["type"])):e.createCommentVNode("",!0),e.createElementVNode("span",{class:e.normalizeClass(["upNameT",{previewName:_(I)}]),onClick:Z=>L(I),title:e.unref(D)("r.download")},e.toDisplayString(B(I)),11,oa),e.createElementVNode("span",ia,[_(I)?(e.openBlock(),e.createBlock(X,{key:0,type:"md-qr-scanner",size:"22",class:"listBtH",onClick:Z=>z(I),title:e.unref(D)("r.fView")},null,8,["onClick","title"])):e.createCommentVNode("",!0),e.createVNode(X,{type:"md-close",size:"22",class:"listBtH",onClick:Z=>S(R),title:e.unref(D)("r.delete")},null,8,["onClick","title"])])])):e.createCommentVNode("",!0)],64))),128))])):e.createCommentVNode("",!0),e.unref(i)==="list"&&((de=e.unref(r))==null?void 0:de.length)>0?(e.openBlock(),e.createElementBlock("div",ra,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(r),(I,R)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:"defaultItem"+R},[!t.manualUpload&&I?(e.openBlock(),e.createElementBlock("div",sa,[e.withDirectives(e.createElementVNode("div",ca,F[1]||(F[1]=[e.createElementVNode("div",{"data-loader":"circle-side",class:"loader-div"},null,-1)]),512),[[e.vShow,I.mimeType==="loading"]]),e.withDirectives(e.createVNode(X,{type:e.unref(wt)(I.name),class:"fileTypeIco",size:"20"},null,8,["type"]),[[e.vShow,I.mimeType!=="loading"]]),e.withDirectives(e.createElementVNode("span",{class:"upNameT",onClick:Z=>N(I),title:e.unref(D)("r.download")},e.toDisplayString(I.name||e.unref(D)("r.file")+(R+1)),9,da),[[e.vShow,I.mimeType!=="loading"]]),e.withDirectives(e.createElementVNode("span",fa,[_(I)?(e.openBlock(),e.createBlock(X,{key:0,type:"md-qr-scanner",size:"22",class:"listBtH",onClick:Z=>z(I),title:e.unref(D)("r.fView")},null,8,["onClick","title"])):e.createCommentVNode("",!0),e.createVNode(X,{type:"md-close",size:"22",class:"listBtH",onClick:Z=>S(R),title:e.unref(D)("r.delete")},null,8,["onClick","title"])],512),[[e.vShow,I.mimeType!=="loading"]])])):e.createCommentVNode("",!0)],64))),128))])):e.createCommentVNode("",!0)])}}}),xt=e.defineComponent({__name:"MonthRange",props:{modelValue:{default:()=>["",""]},placement:{default:"bottom-start"},placeholder:{},options1:{},options2:{},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","on-change"],setup(l,{emit:c}){const o=c,t=l,n=e.ref(!1),r=e.ref(!1),s=e.ref(!1),p=e.computed({get(){return t.modelValue&&t.modelValue[0]||null},set(B){o("update:modelValue",[B,i.value]),o("on-change",[B,i.value])}}),i=e.computed({get(){return t.modelValue&&t.modelValue[1]||null},set(B){o("update:modelValue",[p.value,B]),o("on-change",[p.value,B])}}),y=e.computed(()=>(p.value||"")+((p.value||i.value)&&" - "||"")+(i.value||"")),m=e.ref();e.onMounted(()=>{m.value.querySelector(".aRoot .ivu-input-suffix").addEventListener("mouseover",()=>{s.value=!0}),m.value.querySelector(".aRoot .ivu-input-suffix").addEventListener("mouseout",()=>{s.value=!1}),m.value.querySelector(".aRoot .ivu-input-suffix").addEventListener("click",B=>{var V;!t.disabled&&(p.value||i.value)&&((V=B==null?void 0:B.stopPropagation)==null||V.call(B),w())})});function u(){t.disabled||(n.value=!0)}function d(B){p.value=B,n.value=!1,r.value=!0}function g(B){i.value=B,r.value=!1}function w(){o("update:modelValue",[null,null]),o("on-change",[null,null])}function b(){n.value=!1,r.value=!1,p.value&&i.value===null&&(p.value=null)}return(B,V)=>{const S=e.resolveComponent("DatePicker"),N=e.resolveComponent("Icon"),_=e.resolveComponent("Input");return e.openBlock(),e.createElementBlock("div",{class:"monthRangeBoxR",ref_key:"mPickerRef",ref:m},[e.createVNode(S,{open:e.unref(r),modelValue:e.unref(i),transfer:"",type:"month",placement:t.placement,options:t.options2,onOnChange:g,onOnClickoutside:b},{default:e.withCtx(()=>V[1]||(V[1]=[e.createElementVNode("div",{class:"bRoot"},null,-1)])),_:1,__:[1]},8,["open","modelValue","placement","options"]),e.createVNode(S,{open:e.unref(n),modelValue:e.unref(p),transfer:"",type:"month",placement:t.placement,options:t.options1,onOnChange:d,onOnClickoutside:b},{default:e.withCtx(()=>[e.createElementVNode("div",{onClick:u},[e.createVNode(_,{class:"aRoot",modelValue:e.unref(y),"onUpdate:modelValue":V[0]||(V[0]=z=>e.isRef(y)?y.value=z:null),readonly:"",placeholder:t.placeholder||e.unref(D)("r.selectDate"),disabled:t.disabled},{suffix:e.withCtx(()=>[e.createVNode(N,{type:e.unref(s)&&(e.unref(p)||e.unref(i))&&!t.disabled?"ios-close-circle":"ios-calendar-outline"},null,8,["type"])]),_:1},8,["modelValue","placeholder","disabled"])])]),_:1},8,["open","modelValue","placement","options"])],512)}}}),Lt=e.defineComponent({__name:"Date",props:{modelValue:{},type:{default:"date"},options:{default:()=>({})},placement:{default:"bottom-end"},placeholder:{},clearable:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(l,{emit:c}){const o=c,t=l,n=e.ref(),r="date-c-r-"+Math.floor(Math.random()*1e7+1e7),s=e.ref({}),p=e.computed({get(){return t.modelValue},set(m){o("update:modelValue",m)}}),i=e.computed(()=>{if(H(t.options)==="Object"){const{disabledDate:m,...u}=t.options;return u}return{}});function y(m){var d,g;const u=m.target;((g=(d=u.classList)==null?void 0:d.contains)!=null&&g.call(d,"ivu-date-picker-cells-cell")||u.tagName==="EM")&&fe(()=>{var b,B;const w=(B=(b=n==null?void 0:n.value)==null?void 0:b.$refs.pickerPanel)==null?void 0:B.rangeState;if(w){const V=w.from,S=w.selecting;s.value={...i.value,disabledDate:N=>{var _;return typeof((_=t.options)==null?void 0:_.disabledDate)=="function"?t.options.disabledDate(N,V,S):!1}}}},1)}return e.watch(()=>t.options,m=>{s.value=m},{immediate:!0}),e.onMounted(()=>{var u;const m=document.getElementsByClassName(r)[0];(u=m==null?void 0:m.addEventListener)==null||u.call(m,"click",y,!0)}),(m,u)=>{const d=e.resolveComponent("DatePicker");return e.openBlock(),e.createBlock(d,{ref_key:"dateC",ref:n,modelValue:e.unref(p),"onUpdate:modelValue":u[0]||(u[0]=g=>e.isRef(p)?p.value=g:null),type:m.type,options:e.unref(s),placement:m.placement,placeholder:m.placeholder,clearable:m.clearable,disabled:m.disabled,editable:!1,transferClassName:r,transfer:""},null,8,["modelValue","type","options","placement","placeholder","clearable","disabled"])}}}),pa={class:"editor-pro-root"},Dt=e.defineComponent({__name:"EditorPro",props:{modelValue:{default:"<p></p>"},toolbarConfig:{default:()=>({})},editorConfig:{default:()=>({})},mode:{default:"default"},height:{default:300},imgUploadUrl:{},videoUploadUrl:{},placeholder:{default:""},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","on-change"],setup(l,{emit:c}){const o=c,t=l,n=e.shallowRef(),r=e.computed({get(){return t.modelValue},set(m){o("update:modelValue",m),o("on-change",m)}}),s=e.computed(()=>Object.assign({placeholder:t.placeholder||D("r.pInput"),insertKeys:{index:31,keys:["previewX"]}},t.toolbarConfig)),p=e.computed(()=>Object.assign({readOnly:t.disabled,MENU_CONF:{uploadImage:{async customUpload(m,u){let d=new FormData;d.append("files",m);const g=m.name,w=t.imgUploadUrl??"/node-serve/file";Ve.post(w,d,null,[],{spin:!0,headers:{"Content-Type":"multipart/form-data"}}).then(b=>{if(b&&b.data)if(Array.isArray(b.data))for(let B of b.data){const V=w+"/"+(B==null?void 0:B.id)+"/download";u(V,g,V)}else{const B=w+"/"+b.data.id+"/download";u(B,g,B)}}).catch(()=>{he(D("r.uploadFail"),"","error")})}},uploadVideo:{async customUpload(m,u){let d=new FormData;d.append("files",m);const g=t.videoUploadUrl??"/node-serve/file";Ve.post(g,d,null,[],{spin:!0,headers:{"Content-Type":"multipart/form-data"}}).then(w=>{if(w&&w.data)if(Array.isArray(w.data))for(let b of w.data){const B=g+"/"+(b==null?void 0:b.id)+"/download";u(B)}else{const b=g+"/"+w.data.id+"/download";u(b)}}).catch(()=>{he(D("r.uploadFail"),"","error")})}}}},t.editorConfig)),i=e.computed(()=>({height:typeof t.height=="number"?t.height+"px":t.height}));function y(m){n.value=m}return e.watch(()=>t.disabled,m=>{m?n.value.disable():n.value.enable()}),e.onBeforeUnmount(()=>{n.value&&n.value.destroy()}),(m,u)=>(e.openBlock(),e.createElementBlock("div",pa,[e.withDirectives(e.createVNode(e.unref(Et.Toolbar),{class:"editor-pro-toolbar",editor:e.unref(n),defaultConfig:e.unref(s),mode:m.mode},null,8,["editor","defaultConfig","mode"]),[[e.vShow,!m.disabled]]),e.createVNode(e.unref(Et.Editor),{class:"editor-pro-editor",modelValue:e.unref(r),"onUpdate:modelValue":u[0]||(u[0]=d=>e.isRef(r)?r.value=d:null),defaultConfig:e.unref(p),mode:m.mode,onOnCreated:y,style:e.normalizeStyle(e.unref(i))},null,8,["modelValue","defaultConfig","mode","style"])]))}}),ma={key:19,class:"formInfoTxtXN"},ua={key:20,class:"formTitleTxtXN"},ha={key:21,style:{display:"inline-block",width:"4px"}},yl=e.defineComponent({__name:"ItemR",props:{item:{},itemStyle:{},valGroup:{},tempKeys:{},inline:{type:Boolean},disabled:{type:Boolean},labelWidth:{},itemWidth:{},mgrUrl:{},uploadUrl:{}},emits:["item-change","re-validate","select-input-change","al-name-change","async-label-change"],setup(l,{emit:c}){const o=c,t=l,n=e.computed(()=>{var u;if(t.inline)return t.itemWidth;{const d=(u=t.itemStyle)==null?void 0:u.width;if(d){if(d.indexOf("%")>-1){const g=Number(d.replace("%",""));return window.isNaN(g)?`calc(100% - ${t.labelWidth}px)`:`calc((100% - ${t.labelWidth}px)*${g/100})`}else if(d.indexOf("px")>-1)return d;return`calc(100% - ${t.labelWidth}px)`}return`calc(100% - ${t.labelWidth}px)`}});function r(u){return{withInfo:!!u.info,withTitle:!!u.title,inlineFormItemXN:t.inline,noLabel:u.type==="selectInput",[u.class]:u.class,slotInput:u.slotPosition}}function s(u,d){o("item-change",{e:u,root:d})}function p(u,d){o("re-validate",{e:u,root:d})}function i(u){o("select-input-change",u)}function y(u,d){o("al-name-change",{name:u,root:d})}function m(u,d){o("async-label-change",{label:u,root:d})}return(u,d)=>{const g=e.resolveComponent("InputNumber"),w=e.resolveComponent("Input"),b=e.resolveComponent("Option"),B=e.resolveComponent("Select"),V=e.resolveComponent("Radio"),S=e.resolveComponent("Icon"),N=e.resolveComponent("RadioGroup"),_=e.resolveComponent("Checkbox"),z=e.resolveComponent("CheckboxGroup"),L=e.resolveComponent("TimePicker"),E=e.resolveComponent("FormItem");return t.item?(e.openBlock(),e.createBlock(E,{key:0,label:t.item.type!=="radio"&&t.item.type!=="checkbox"?t.item.label:" ",prop:t.item.key||"",class:e.normalizeClass(["relativeBox",r(t.item)])},{default:e.withCtx(()=>[t.item.type==="txt"?(e.openBlock(),e.createElementBlock("div",{key:0,style:e.normalizeStyle([t.itemStyle,{display:"inline-block"}]),class:e.normalizeClass({likeInputX:t.item.likeInput,disabled:!!t.item.disabled||t.disabled})},e.toDisplayString(t.item.valKey?t.valGroup[t.item.valKey]||"无":t.item.val),7)):t.item.type==="inputNumber"?(e.openBlock(),e.createBlock(g,{key:1,style:e.normalizeStyle(t.itemStyle),modelValue:t.tempKeys[t.item.tempKey],"onUpdate:modelValue":d[0]||(d[0]=h=>t.tempKeys[t.item.tempKey]=h),max:t.item.max||t.item.max===0?t.item.max:1/0,min:t.item.min||t.item.min===0?t.item.min:-1/0,precision:t.item.precision,step:t.item.step||1,placeholder:t.item.placeholder||e.unref(D)("r.pInput"),disabled:!!t.item.disabled||t.disabled,readonly:!!t.item.readonly,editable:t.item.editable!==!1,onOnBlur:d[1]||(d[1]=h=>s(h,t.item)),"active-change":!!t.item.activeChange,clearable:t.item.clearable!==!1},null,8,["style","modelValue","max","min","precision","step","placeholder","disabled","readonly","editable","active-change","clearable"])):t.item.type==="input"?(e.openBlock(),e.createBlock(w,{key:2,style:e.normalizeStyle(u.itemStyle),modelValue:t.tempKeys[t.item.tempKey],"onUpdate:modelValue":d[2]||(d[2]=h=>t.tempKeys[t.item.tempKey]=h),type:t.item.inputType??(t.item.password?"password":"text"),maxlength:t.item.maxLength||null,password:!!t.item.password,icon:t.item.icon,prefix:t.item.prefix,suffix:t.item.suffix,placeholder:t.item.placeholder||e.unref(D)("r.pInput"),disabled:!!t.item.disabled||t.disabled,onOnBlur:d[3]||(d[3]=h=>s(h,t.item)),clearable:!t.item.password&&t.item.inputType==="text"&&t.item.clearable!==!1},e.createSlots({_:2},[t.item.slotPosition&&t.item.slotName?{name:t.item.slotPosition,fn:e.withCtx(()=>[e.renderSlot(u.$slots,t.item.slotName,{valGroup:t.valGroup})]),key:"0"}:void 0,t.item.slotPosition!=="prepend"&&t.item.prepend?{name:"prepend",fn:e.withCtx(()=>[e.createElementVNode("span",null,e.toDisplayString(t.item.prepend),1)]),key:"1"}:void 0,t.item.slotPosition!=="append"&&t.item.append?{name:"append",fn:e.withCtx(()=>[e.createElementVNode("span",null,e.toDisplayString(t.item.append),1)]),key:"2"}:void 0]),1032,["style","modelValue","type","maxlength","password","icon","prefix","suffix","placeholder","disabled","clearable"])):t.item.type==="select"?(e.openBlock(),e.createBlock(B,{key:3,modelValue:u.tempKeys[t.item.tempKey],"onUpdate:modelValue":d[4]||(d[4]=h=>u.tempKeys[t.item.tempKey]=h),style:e.normalizeStyle(u.itemStyle),filterable:t.item.filterable===!0||t.item.filterable===!1?t.item.filterable:!1,disabled:!!t.item.disabled||t.disabled,multiple:!!t.item.multiple,placeholder:t.item.placeholder||e.unref(D)("r.pSelect"),onOnChange:d[5]||(d[5]=h=>s(h,t.item)),transfer:"",clearable:t.item.clearable!==!1},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.item.options,(h,T)=>(e.openBlock(),e.createBlock(b,{value:h.val,label:h.label||h.val,key:"option-"+t.item.key+T,disabled:!!h.disabled},null,8,["value","label","disabled"]))),128))]),_:1},8,["modelValue","style","filterable","disabled","multiple","placeholder","clearable"])):t.item.type==="selectInput"?(e.openBlock(),e.createBlock(Bt,{key:4,modelValue:u.tempKeys[t.item.tempKey],"onUpdate:modelValue":d[6]||(d[6]=h=>u.tempKeys[t.item.tempKey]=h),"label-width":u.labelWidth,"item-width":e.unref(n),"select-option":t.item.options||[],placeholder:t.item.placeholder||e.unref(D)("r.pInput"),clearable:t.item.clearable!==!1,disabled:!!t.item.disabled||t.disabled,onOnChange:i},null,8,["modelValue","label-width","item-width","select-option","placeholder","clearable","disabled"])):t.item.type==="alCascader"?(e.openBlock(),e.createBlock(Nt,{key:5,style:e.normalizeStyle(u.itemStyle),class:"inlineBlock",modelValue:t.valGroup[t.item.key],"onUpdate:modelValue":d[7]||(d[7]=h=>t.valGroup[t.item.key]=h),level:t.item.level||t.item.level===0?t.item.level:2,disabled:!!t.item.disabled||t.disabled,filterable:t.item.filterable!==!1,placeholder:t.item.placeholder||e.unref(D)("r.pSelect"),"change-on-select":!!t.item.changeOnSelect,onOnNameChange:d[8]||(d[8]=h=>y(h,t.item))},null,8,["style","modelValue","level","disabled","filterable","placeholder","change-on-select"])):t.item.type==="asyncCascader"?(e.openBlock(),e.createBlock(_t,{key:6,style:e.normalizeStyle(u.itemStyle),modelValue:t.valGroup[t.item.key],"onUpdate:modelValue":d[9]||(d[9]=h=>t.valGroup[t.item.key]=h),url:t.item.url||u.mgrUrl+"/web/v1/umc/orgs","option-val":t.item.optionVal||"id","option-label":t.item.optionLabel||"name","option-filter":t.item.optionFilter||null,"only-last-val":t.item.onlyLastVal!==!1,"only-last-label":t.item.onlyLastLabel!==!1,separator:t.item.separator||"/",placeholder:t.item.placeholder||e.unref(D)("r.pSelect"),filterable:!!t.item.filterable,disabled:!!t.item.disabled||t.disabled,onOnLabelChange:d[10]||(d[10]=h=>m(h,t.item))},null,8,["style","modelValue","url","option-val","option-label","option-filter","only-last-val","only-last-label","separator","placeholder","filterable","disabled"])):t.item.type==="radio"?(e.openBlock(),e.createBlock(V,{key:7,modelValue:t.valGroup[t.item.key],"onUpdate:modelValue":d[11]||(d[11]=h=>t.valGroup[t.item.key]=h),disabled:!!t.item.disabled||t.disabled,onOnChange:d[12]||(d[12]=h=>s(h,t.item))},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(t.item.label),1)]),_:1},8,["modelValue","disabled"])):t.item.type==="radioGroup"?(e.openBlock(),e.createBlock(N,{key:8,style:e.normalizeStyle(u.itemStyle),onOnChange:d[13]||(d[13]=h=>p(h,t.item)),type:t.item.buttonType?"button":null,modelValue:u.tempKeys[t.item.tempKey],"onUpdate:modelValue":d[14]||(d[14]=h=>u.tempKeys[t.item.tempKey]=h)},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.item.options,h=>(e.openBlock(),e.createBlock(V,{key:"radioItem"+h.val,label:h.val,border:!!t.item.itemBorder,disabled:!!t.item.disabled||t.disabled||h.disabled},{default:e.withCtx(()=>[h.icon&&!t.item.buttonType?(e.openBlock(),e.createBlock(S,{key:0,type:h.icon},null,8,["type"])):e.createCommentVNode("",!0),e.createElementVNode("span",null,e.toDisplayString(h.label||h.val),1)]),_:2},1032,["label","border","disabled"]))),128))]),_:1},8,["style","type","modelValue"])):t.item.type==="checkbox"?(e.openBlock(),e.createBlock(_,{key:9,modelValue:t.valGroup[t.item.key],"onUpdate:modelValue":d[15]||(d[15]=h=>t.valGroup[t.item.key]=h),disabled:!!t.item.disabled,onOnChange:d[16]||(d[16]=h=>s(h,t.item))},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(t.item.label),1)]),_:1},8,["modelValue","disabled"])):t.item.type==="checkboxGroup"?(e.openBlock(),e.createBlock(z,{key:10,style:e.normalizeStyle(u.itemStyle),modelValue:u.tempKeys[t.item.tempKey],"onUpdate:modelValue":d[17]||(d[17]=h=>u.tempKeys[t.item.tempKey]=h),onOnChange:d[18]||(d[18]=h=>p(h,t.item))},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.item.options,h=>(e.openBlock(),e.createBlock(_,{key:"checkItem"+h.val,label:h.val,disabled:!!t.item.disabled||t.disabled||h.disabled},{default:e.withCtx(()=>[h.icon?(e.openBlock(),e.createBlock(S,{key:0,type:h.icon},null,8,["type"])):e.createCommentVNode("",!0),e.createElementVNode("span",null,e.toDisplayString(h.label||h.val),1)]),_:2},1032,["label","disabled"]))),128))]),_:1},8,["style","modelValue"])):t.item.type==="textarea"?(e.openBlock(),e.createBlock(w,{key:11,type:"textarea",modelValue:u.tempKeys[t.item.tempKey],"onUpdate:modelValue":d[19]||(d[19]=h=>u.tempKeys[t.item.tempKey]=h),autosize:t.item.autosize||{minRows:2},style:e.normalizeStyle(u.itemStyle),maxlength:t.item.maxLength||null,"show-word-limit":!!t.item.showWordLimit,placeholder:t.item.placeholder||e.unref(D)("r.pInput"),disabled:!!t.item.disabled||t.disabled,onOnBlur:d[20]||(d[20]=h=>s(h,t.item)),clearable:t.item.clearable!==!1},null,8,["modelValue","autosize","style","maxlength","show-word-limit","placeholder","disabled","clearable"])):t.item.type==="upload"?(e.openBlock(),e.createBlock(Tt,{key:12,style:e.normalizeStyle(u.itemStyle),class:"inlineBlock",modelValue:t.valGroup[t.item.key],"onUpdate:modelValue":d[21]||(d[21]=h=>t.valGroup[t.item.key]=h),url:t.item.url||u.uploadUrl,"manual-upload":!!t.item.manualUpload,format:t.item.format||[],data:t.item.data,"max-size":t.item.maxSize||0,"show-img":!!t.item.showImg,length:t.item.length||0,disabled:!!t.item.disabled||t.disabled,"with-credentials":t.item.withCredentials!==!1,onOnFileIdChange:d[22]||(d[22]=h=>p(h,t.item))},null,8,["style","modelValue","url","manual-upload","format","data","max-size","show-img","length","disabled","with-credentials"])):t.item.type==="date"?(e.openBlock(),e.createBlock(Lt,{key:13,style:e.normalizeStyle(u.itemStyle),modelValue:u.tempKeys[t.item.tempKey],"onUpdate:modelValue":d[23]||(d[23]=h=>u.tempKeys[t.item.tempKey]=h),type:t.item.dateType,disabled:!!t.item.disabled||t.disabled,placeholder:t.item.placeholder||e.unref(D)("r.selectDate"),options:t.item.dateOptions||{},"time-picker-options":u.item.timePickerOptions||{},clearable:t.item.clearable!==!1,onOnChange:d[24]||(d[24]=h=>s(h,t.item))},null,8,["style","modelValue","type","disabled","placeholder","options","time-picker-options","clearable"])):t.item.type==="time"?(e.openBlock(),e.createBlock(L,{key:14,style:e.normalizeStyle(u.itemStyle),modelValue:u.tempKeys[t.item.tempKey],"onUpdate:modelValue":d[25]||(d[25]=h=>u.tempKeys[t.item.tempKey]=h),type:t.item.dateType,disabled:!!t.item.disabled||t.disabled,placement:"bottom-end",placeholder:t.item.placeholder||e.unref(D)("r.selectTime"),steps:t.item.steps||[],clearable:t.item.clearable!==!1,editable:!1,format:t.item.format||"HH:mm:ss",transfer:"",onOnChange:d[26]||(d[26]=h=>s(h,t.item))},null,8,["style","modelValue","type","disabled","placeholder","steps","clearable","format"])):t.item.type==="monthRange"?(e.openBlock(),e.createBlock(xt,{key:15,style:e.normalizeStyle(u.itemStyle),modelValue:u.tempKeys[t.item.tempKey],"onUpdate:modelValue":d[27]||(d[27]=h=>u.tempKeys[t.item.tempKey]=h),disabled:!!t.item.disabled||t.disabled,placement:"bottom-end",placeholder:t.item.placeholder||e.unref(D)("r.selectDate"),options1:t.item.dateOptions1||null,options2:t.item.dateOptions2||null,onOnChange:d[28]||(d[28]=h=>s(h,t.item))},null,8,["style","modelValue","disabled","placeholder","options1","options2"])):t.item.type==="editorPro"?(e.openBlock(),e.createBlock(Dt,{key:16,class:"inlineBlock",style:e.normalizeStyle(u.itemStyle),modelValue:t.valGroup[t.item.key],"onUpdate:modelValue":d[29]||(d[29]=h=>t.valGroup[t.item.key]=h),placeholder:t.item.placeholder||e.unref(D)("r.pInput"),disabled:!!t.item.disabled||t.disabled,"toolbar-config":t.item.toolbarConfig||{},"editor-config":t.item.editorConfig||{},mode:t.item.mode||"simple",height:t.item.height||300,onInput:d[30]||(d[30]=h=>s(h,t.item))},null,8,["style","modelValue","placeholder","disabled","toolbar-config","editor-config","mode","height"])):t.item.type==="inputMap"?(e.openBlock(),e.createBlock(St,{key:17,modelValue:u.tempKeys[t.item.tempKey],"onUpdate:modelValue":d[31]||(d[31]=h=>u.tempKeys[t.item.tempKey]=h),style:e.normalizeStyle(u.itemStyle),placeholder:t.item.placeholder||e.unref(D)("r.search"),disabled:!!t.item.disabled||t.disabled,"show-map":t.item.showMap!==!1,height:t.item.mapHeight||"250px",onOnChange:d[32]||(d[32]=h=>s(h,t.item))},null,8,["modelValue","style","placeholder","disabled","show-map","height"])):t.item.type==="custom"?(e.openBlock(),e.createElementBlock("div",{key:18,class:"inlineBlock",style:e.normalizeStyle(u.itemStyle)},[e.renderSlot(u.$slots,t.item.slotName,{valGroup:t.valGroup})],4)):e.createCommentVNode("",!0),t.item.info?(e.openBlock(),e.createElementBlock("div",ma,e.toDisplayString(t.item.info),1)):e.createCommentVNode("",!0),t.item.title?(e.openBlock(),e.createElementBlock("div",ua,e.toDisplayString(t.item.title),1)):e.createCommentVNode("",!0),t.inline?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("span",ha))]),_:3},8,["label","prop","class"])):e.createCommentVNode("",!0)}}}),ya={class:"inlineBlock"},Ke=e.defineComponent({__name:"FormR",props:{formData:{default:()=>[]},formRules:{default:()=>({})},showMessage:{type:Boolean,default:!0},labelWidth:{default:160},contentWidth:{default:"70%"},itemWidth:{default:200},inline:{type:Boolean,default:!1},showLongOkBt:{type:Boolean,default:!1},longOkBtTxt:{},showInlineOkBt:{type:Boolean,default:!1},inlineOkBtTxt:{},showInlineClearBt:{type:Boolean,default:!1},inlineClearBtTxt:{},disabled:{type:Boolean,default:!1},btnLoading:{type:Boolean,default:!1},trim:{type:Boolean,default:!0},teamClass:{default:"formTeamBox"}},emits:["on-item-change","on-options-request-back","on-reset","on-re-render","on-submit"],setup(l,{expose:c,emit:o}){var $l,Kl;const t=o,n=l,r=e.ref(null),s=e.ref({}),p=e.ref([]),i=e.ref({});let y=[];const m=(($l=window==null?void 0:window.g)==null?void 0:$l.mgrURL)??"";let u=e.ref([]),d=[];const g=e.ref(!1),w=e.ref(Math.random()*1e8+1e3),b=(Kl=window==null?void 0:window.g)!=null&&Kl.mgrURL?window.g.mgrURL+"/web/v1/fsc/file":"/file";let B=!1;const V=e.computed(()=>Array.isArray(n.formData.length?n.formData[0]:!1)),S=e.computed(()=>n.inline?{width:n.itemWidth+n.labelWidth+"px"}:{}),N=e.computed(()=>n.inline?{width:"100%"}:{width:n.contentWidth}),_=e.computed(()=>{let f=$.cloneDeep(n.formRules);for(let a in f)if(f.hasOwnProperty(a))if(Array.isArray(f[a]))for(let O of f[a])O&&O&&!(O.message||O.validator)&&(O.message=D("r.required"));else H(f[a])==="Object"&&(f[a].message||f[a].validator||(f[a].message=D("r.required")));return f}),z=e.computed(()=>{let f=[];if(V.value)for(let a of p.value)h(a,f);else h(p.value,f);return f.concat(u.value,d)}),L=e.computed(()=>{let f=[];if(V.value)for(let a of p.value)T(a,f);else T(p.value,f);return f});function E(f){return f.filter(a=>a==null?void 0:a.slotName)}function h(f,a){for(let O of f)if((O==null?void 0:O.showing)===!0&&O.key&&O.type!=="selectInput"&&(a.push(O.key),O.key2&&a.push(O.key2),O.collectLabel)){if(!Array.isArray(O.collectLabel)&&O.collectLabel.key)a.push(O.collectLabel.key);else if(Array.isArray(O.collectLabel))for(let C of O.collectLabel)C.key&&a.push(C.key)}}function T(f,a){for(let O of f)(O==null?void 0:O.showing)===!0&&O.key&&O.type!=="selectInput"&&a.push(O.key)}function x(){return new Promise(f=>{M(),K().then(()=>{t("on-reset"),f(!0)})})}function q(){return new Promise(f=>{for(let a of y)a();y=[],i.value={},R(),ne(),K().then(()=>{t("on-re-render"),f(!0)})})}function K(){return new Promise(f=>{w.value=Math.floor(Math.random()*1e8+1e3),e.nextTick(function(){f(!0)})})}function M(){let f=F();for(let a in s.value)if(s.value.hasOwnProperty(a))if(ce(f[a]))s.value[a]=f[a];else if(Array.isArray(s.value[a]))s.value[a]=[];else if(H(s.value[a])==="Boolean")s.value[a]=!1;else{const O=ze(n.formData,C=>(C==null?void 0:C.key)===a);O&&(O.type==="editor"||O.type==="editorPro")?s.value[a]="":s.value[a]=null}j(f)}function j(f){for(let a in i.value)i.value.hasOwnProperty(a)&&(ce(f[a])?i.value[a]=f[a]:Array.isArray(i.value[a])?i.value[a]=[]:H(i.value[a])==="Object"&&i.value[a].hasOwnProperty("key")&&i.value[a].hasOwnProperty("val")?i.value[a].val=null:i.value[a]=null)}function k(f){let a=F();ce(a[f])?i.value[f]=a[f]:Array.isArray(i.value[f])?i.value[f]=[]:i.value[f]=null}function F(){let f={};if(V.value)for(let a of p.value)U(a,f);else U(p.value,f);return f}function U(f,a){for(let O of f)O.tempKey&&ce(O.defaultVal)&&le(O,a),O.key&&ce(O.defaultVal)&&(a[O.key]=O.defaultVal),O.key2&&ce(O.defaultVal2)&&(a[O.key2]=O.defaultVal2)}function P(f){if(f.show){if(H(f.show)==="Object")return W(f,X(f.show));if(Array.isArray(f.show))if(f.showOr){for(let a of f.show)if(X(a)===!0)return W(f,!0);return W(f,!1)}else{for(let a of f.show)if(X(a)===!1)return W(f,!1);return W(f,!0)}else if(typeof f.show=="function")return W(f,f.show(s.value))}else f.showing||(f.showing=!0);return!0}function X(f){if(f.reg&&typeof f.reg.test=="function")return f.reg.test(s.value[f.key]);if(Array.isArray(f.val)){for(let a of f.val){if((s.value[f.key]||s.value[f.key]===0||s.value[f.key]===!1)&&a===".")return!0;if(s.value[f.key]===a)return!0}return!1}else return!1}function W(f,a){return!(f!=null&&f.showing)&&a&&(f!=null&&f.key)?(f.showing=a,f.defaultVal!==void 0&&(f.tempKey?(i.value[f.tempKey]===null||i.value[f.tempKey]===void 0||(H(i.value[f.tempKey])==="Object"||Array.isArray(i.value[f.tempKey]))&&$.isEmpty(i.value[f.tempKey]))&&le(f,i.value):(s.value[f.key]===null||s.value[f.key]===void 0)&&(s.value[f.key]=f.defaultVal),f.key2&&f.deafultVal2!==void 0&&(s.value[f.key2]===null||s.value[f.key2]===void 0)&&f.type!=="inputMap"&&(s.value[f.key2]=f.defaultVal2)),f.tempKey&&ae(i.value[f.tempKey],f)):f.showing=a,a}function le(f,a){if(f!=null&&f.type)switch(f.type){case"selectInput":a[f.tempKey]={key:f.key,val:f.defaultVal};break;case"inputMap":f.key3?a[f.tempKey]={lng:f.defaultVal||0,lat:f.defaultVal2||0,name:f.defaultVal3||""}:a[f.tempKey]={lng:f.defaultVal||0,lat:f.defaultVal2||0};break;case"input":case"inputNumber":case"textarea":a[f.tempKey]=f.defaultVal;break;case"radioGroup":case"select":case"checkboxGroup":f.booleanVal?a[f.tempKey]=f.defaultVal?1:0:a[f.tempKey]=f.defaultVal;break;case"date":case"time":case"monthRange":f.dateType==="date"||f.dateType==="datetime"||f.dateType==="time"||f.dateType==="year"||f.dateType==="month"?a[f.tempKey]=f.defaultVal:(f.dateType==="daterange"||f.dateType==="datetimerange"||f.dateType==="timerange"||f.type==="monthRange")&&(a[f.tempKey]=f.defaultVal&&f.defaultVal2&&[f.defaultVal,f.defaultVal2]||[]);break}}function ne(){let f=$.cloneDeep(n.formData);if(V.value)for(let a of f)te(a);else te(f);p.value=f}function te(f){for(let a of f)if(a!=null&&a.type)switch(a.type){case"selectInput":const O="selectInput"+Math.floor(Math.random()*1e8);a.tempKey=O,i.value[O]=e.ref({key:a.key||null,val:a.defaultVal||null}),y.push(e.watch(()=>i.value[O],G=>{ae(G,a)},{immediate:!0}));break;case"inputMap":const C="inputMap"+Math.floor(Math.random()*1e8);a.key&&(a.tempKey=C,a.key3?i.value[C]=a.defaultVal!==void 0&&a.defaultVal2!==void 0?{lng:a.defaultVal,lat:a.defaultVal2,name:a.defaultVal3||""}:{lng:null,lat:null,name:null}:i.value[C]=a.defaultVal!==void 0&&a.defaultVal2!==void 0?{lng:a.defaultVal,lat:a.defaultVal2}:{lng:null,lat:null},y.push(e.watch(()=>i.value[C],G=>{ae(G,a)},{immediate:!0})));break;case"input":case"inputNumber":case"textarea":const J="inputT"+Math.floor(Math.random()*1e8);a.key&&(a.tempKey=J,i.value[J]=a.defaultVal!==void 0?a.defaultVal:null,y.push(e.watch(()=>i.value[J],G=>{ae(G,a)},{immediate:!0})));break;case"select":case"radioGroup":case"checkboxGroup":if(a.options||(a.options=[]),(a.type==="checkboxGroup"||a.type==="radioGroup")&&(a.options=e.ref($.cloneDeep(a.options))),a.asyncOption)if(a.changeOption)if(Array.isArray(a.changeOption)){let G=!0;for(let Q of a.changeOption)if(!Q.valKey||!Q.key){G=!1;break}G?y.push(e.watch(()=>{let Q="";if(Array.isArray(a.changeOption))for(let re of a.changeOption){let ge=s.value[re.valKey];if(ge&&!Array.isArray(ge)||Array.isArray(ge)&&ge.length||ge===0||ge===!1)Q+="&"+re.key+"="+ge;else if(!re.notRequired)return!1}return Q},Q=>{let re=$.cloneDeep(i.value[a.tempKey]);if(i.value[a.tempKey]=null,Q&&a.optionUrl){let ge=a.optionUrl.indexOf("?")!==-1?a.optionUrl:a.optionUrl+"?";de((ge+Q).replace(/\?&/,"?"),a,re)}else a.localOption?Be(a,"options",[...a.localOption]):Be(a,"options",[]),ce(re)&&I(re,a)},{immediate:!0})):a.localOption?Be(a,"options",[...a.localOption]):Be(a,"options",[])}else typeof a.changeOption=="object"?a.changeOption.valKey&&a.changeOption.key&&y.push(e.watch(()=>typeof a.changeOption=="object"&&!Array.isArray(a.changeOption)?s.value[a.changeOption.valKey]:!1,G=>{let Q=$.cloneDeep(i.value[a.tempKey]);if(i.value[a.tempKey]=null,(G&&!Array.isArray(G)||Array.isArray(G)&&G.length||G===0||G===!1)&&a.optionUrl&&typeof a.changeOption=="object"&&!Array.isArray(a.changeOption)){let re=a.optionUrl.indexOf("?")!==-1?a.optionUrl:a.optionUrl+"?";de((re+"&"+a.changeOption.key+"="+G).replace(/\?&/,"?"),a,Q)}else a.localOption?Be(a,"options",[...a.localOption]):Be(a,"options",[]),ce(Q)&&I(Q,a)},{immediate:!0})):H(a.changeOption)==="Boolean"&&y.push(e.watch(()=>{const G=ze(n.formData,Q=>(Q==null?void 0:Q.key)===a.key);return G.optionUrl=e.toRef(G.optionUrl),G.optionUrl.value},G=>{let Q=$.cloneDeep(i.value[a.tempKey]);i.value[a.tempKey]=null,G?de(G,a,Q):(a.localOption?Be(a,"options",[...a.localOption]):Be(a,"options",[]),ce(Q)&&I(Q,a))},{immediate:!0}));else a.optionUrl&&de(a.optionUrl,a);else H(a.borrowOption)==="String"&&e.nextTick(function(){a.options=ze(p.value,G=>(G==null?void 0:G.key)===a.borrowOption).options});const v="opEle"+Math.floor(Math.random()*1e8);a.key&&(a.tempKey=v,a.type==="select"&&a.multiple||a.type==="checkboxGroup"?i.value[v]=a.defaultVal!==void 0?a.defaultVal:[]:a.booleanVal?i.value[v]=a.defaultVal!==void 0?a.defaultVal?1:0:null:i.value[v]=a.defaultVal!==void 0?a.defaultVal:null,y.push(e.watch(()=>i.value[v],G=>{ae(G,a)},{immediate:!0})));break;case"date":case"time":case"monthRange":const ie="date"+Math.floor(Math.random()*1e8);a.tempKey=ie,a.dateType==="date"||a.dateType==="datetime"||a.dateType==="time"||a.dateType==="year"||a.dateType==="month"?i.value[ie]=a.defaultVal||null:(a.dateType==="daterange"||a.dateType==="datetimerange"||a.dateType==="timerange"||a.type==="monthRange")&&(i.value[ie]=a.defaultVal&&a.defaultVal2&&[a.defaultVal,a.defaultVal2]||[]),y.push(e.watch(()=>i.value[ie],G=>{ae(G,a)}));break}}function de(f,a,O){Ve.get(f).then(C=>{var ie;let J;if(e.isRef(a.options)?J=a.options.value:J=a.options,!J)return;let v=((ie=C==null?void 0:C.data)==null?void 0:ie.records)||(C==null?void 0:C.data)||C||[];Array.isArray(v)?(a.optionFilter&&H(a.optionFilter)==="Function"&&(v=a.optionFilter(v)),a.optionLabel&&a.optionVal?(J.length=0,J.push(...v.map(G=>{let Q;if(Array.isArray(a.optionLabel)){let re="";a.optionLabel.forEach((ge,Ul)=>{let It=String(G[ge]);Ul===1?re+="（"+It:Ul>1?re+="、"+It:re+=It}),Q={label:re+"）",val:a.optionVal&&G[a.optionVal]}}else Q={label:a.optionLabel&&G[a.optionLabel],val:a.optionVal&&G[a.optionVal]};if(a.collectLabel)if(Array.isArray(a.collectLabel))for(let re of a.collectLabel)re.valKey&&re.valKey!=="label"&&(Q[re.valKey]=G[re.valKey]);else a.collectLabel.valKey&&a.collectLabel.valKey!=="label"&&(Q[a.collectLabel.valKey]=G[a.collectLabel.valKey]);if(Q.val!==null&&Q.val!==void 0)return Q}))):(J.length=0,J.push(...v))):J.length=0,a.localOption&&J.unshift(...a.localOption),ce(O)&&I(O,a),a.disableOptionByOthers&&(H(a.disableOptionByOthers)==="String"?y.push(e.watch(()=>s.value[a.disableOptionByOthers],G=>{if(k(a.tempKey),!!J){for(let Q of J)Q.disabled&&(Q.disabled=!1);if(G||G===0||G===!1)for(let Q of J)Q.val===G&&(Q.disabled=!0)}},{immediate:!0})):Array.isArray(a.disableOptionByOthers)&&y.push(e.watch(()=>a.disableOptionByOthers.filter(G=>G).map(G=>s.value[G]),G=>{if(k(a.tempKey),!!J){for(let Q of J)Q.disabled&&(Q.disabled=!1);if(G){for(let Q of J)for(let re=0;re<G.length;re++)if(Q.val===G[re]){Q.disabled=!0,G.splice(re,1);break}}}},{immediate:!0}))),t("on-options-request-back",JSON.parse(JSON.stringify({e:a,valGroup:s.value})))}).catch(()=>{console.warn("拉取选项出错")})}function I(f,a){Array.isArray(e.toValue(a.options))&&$.findIndex(e.toValue(a.options),{val:f})!==-1&&(i.value[a.tempKey]=f)}function R(){if(s.value={},V.value)for(let f of n.formData)Z(f);else Z(n.formData)}function Z(f){for(let a of f)a!=null&&a.key&&(a.type==="checkboxGroup"||a.type==="select"&&a.multiple?s.value[a.key]=a.defaultVal!==void 0&&a.show===void 0?a.defaultVal:[]:a.type==="editor"||a.type==="editorPro"?s.value[a.key]=a.defaultVal!==void 0&&a.show===void 0?a.defaultVal:"":(s.value[a.key]=a.defaultVal!==void 0&&a.show===void 0?a.defaultVal:null,a.key2&&(s.value[a.key2]=a.defaultVal2!==void 0&&a.show===void 0?a.defaultVal2:null)))}function ae(f,a){if(a!=null&&a.showing)switch(a.type){case"selectInput":f&&(f.beforeKey&&delete s.value[f.beforeKey],s.value[f.key]=f.val);break;case"inputMap":if(!a.key||!a.key2)return;f?(s.value[a.key]=f.lng,s.value[a.key2]=f.lat,a.key3&&(s.value[a.key3]=f.name)):(s.value[a.key]=null,s.value[a.key2]=null,a.key3&&(s.value[a.key3]=null));break;case"input":case"inputNumber":case"textarea":if(!a.key)return;if(f||f===0){let J=/^-?\d+(.\d+)?$/;a.numberVal&&J.test(f)?s.value[a.key]=Number(f):s.value[a.key]=f}else s.value[a.key]=null;break;case"select":case"radioGroup":case"checkboxGroup":if(!a.key)return;if(a.booleanVal&&!a.multiple?s.value[a.key]=f===void 0||f===""||f===null?null:!!f:a.multiple||a.type==="checkboxGroup"?s.value[a.key]=Object.assign([],f):s.value[a.key]=f,a.collectLabel){const J=oe(a,f);if(Array.isArray(a.collectLabel)){for(let v of a.collectLabel)if(v!=null&&v.key&&v.valKey){const ie=Y(v.key);let G=null;Array.isArray(J)?(G=J.map(Q=>Q[v.valKey]),s.value[v.key]=G,ie&&(i.value[ie.tempKey]=G)):(J&&ce(J[v.valKey])&&(G=J[v.valKey]),s.value[v.key]=G,ie&&(ie.booleanVal&&typeof G=="boolean"?i.value[ie.tempKey]=G?1:0:i.value[ie.tempKey]=G))}}else if(typeof a.collectLabel=="object"&&a.collectLabel.key&&a.collectLabel.valKey){const v=Y(a.collectLabel.key);let ie=null;Array.isArray(J)?(ie=J.map(G=>a.collectLabel&&!Array.isArray(a.collectLabel)&&G[a.collectLabel.valKey]),s.value[a.collectLabel.key]=ie,v&&(i.value[v.tempKey]=ie)):(J&&ce(J[a.collectLabel.valKey])&&(ie=J[a.collectLabel.valKey]),s.value[a.collectLabel.key]=ie,v&&(v.booleanVal&&typeof ie=="boolean"?i.value[v.tempKey]=ie?1:0:i.value[v.tempKey]=ie))}}break;case"date":case"time":case"monthRange":if(!a.key)return;let O=a.dateType;const C={date:"YYYY-MM-DD",daterange:"YYYY-MM-DD",datetime:"YYYY-MM-DD HH:mm:ss",datetimerange:"YYYY-MM-DD HH:mm:ss",year:"YYYY",month:"YYYY-MM"};if(O==="date"||O==="datetime"||O==="time"||O==="year"||O==="month")f?(O==="time"?s.value[a.key]=f:s.value[a.key]=Re(f).format(typeof a.format=="string"?a.format:C[O]),O==="date"&&a.addTime&&(s.value[a.key]+=" 00:00:00")):s.value[a.key]=null;else if(a.type==="monthRange"||O==="daterange"||O==="datetimerange"||O==="timerange"){if(!a.key2)return;f&&f[0]&&f[1]?(O==="timerange"?(s.value[a.key]=f[0],s.value[a.key2]=f[1]):a.type==="monthRange"?(s.value[a.key]=typeof a.format=="string"&&Re(f[0]).format(a.format)||f[0],s.value[a.key2]=typeof a.format=="string"&&a.format&&Re(f[1]).format(a.format)||f[1]):(s.value[a.key]=Re(f[0]).format(a.format||O&&C[O]),s.value[a.key2]=Re(f[1]).format(a.format||O&&C[O])),O==="daterange"&&a.addTime&&(s.value[a.key]+=" 00:00:00",s.value[a.key2]+=" 23:59:59")):(s.value[a.key]=null,s.value[a.key2]=null)}break}}function oe(f,a){const O=e.toValue(f==null?void 0:f.options);if(O)if(f!=null&&f.multiple||(f==null?void 0:f.type)==="checkboxGroup"){if(a){let C=[];for(let J of O)a.indexOf(J==null?void 0:J.val)!==-1&&C.push(J);return C}return!1}else{if(a||a===0||a===!1){for(let C of O)if((C==null?void 0:C.val)===a)return C}return!1}}function Y(f){if(V.value){for(let a of p.value){const O=pe(a,f);if(O)return O}return!1}return pe(p.value,f)}function pe(f,a){for(let O of f)if(O.key===a)return O;return!1}function ke(f,a){let O={};for(let C in s.value)s.value.hasOwnProperty(C)&&f[C]!==void 0&&(O[C]=f[C],delete f[C]);we(O,a);for(let C in f)f.hasOwnProperty(C)&&(d.indexOf(C)<0&&d.push(C),s.value[C]=f[C])}function _e(f){let a=$.cloneDeep(f);if(V.value){let O=[];for(let C of n.formData)O.push(...xe(C,a));return O}return xe(n.formData,a)}function xe(f,a){return f.filter(O=>{for(let C of Object.keys(a))if((O==null?void 0:O.key)===C&&L.value.indexOf(C)>-1&&!(a[C]===null||(Array.isArray(a[C])||H(a[C])==="Object")&&$.isEmpty(a[C])))return delete a[C],!0;return!1}).map(O=>O==null?void 0:O.key)}function we(f,a=!1){let O=$.cloneDeep(f);ee(f,a);for(let C in s.value)if(s.value.hasOwnProperty(C)&&f[C]!==void 0&&f[C]!=="--"){if(Array.isArray(f[C]))f[C]=f[C].filter(J=>J!=="--");else if(H(f[C])==="Object")for(let J in f[C])f[C].hasOwnProperty(J)&&f[C][J]==="--"&&(f[C][J]=null);s.value[C]=f[C]}else a||(s.value[C]=Array.isArray(s.value[C])?[]:null);e.nextTick(function(){bo(_e(O))})}function ee(f,a=!1){if(V.value)for(let O of p.value)ye(O,f,a);else ye(p.value,f,a)}function ye(f,a,O=!1){for(let C of f)if(C!=null&&C.key&&(O&&(a[C.key]!==void 0||C.key2&&a[C.key2]!==void 0)||!O)&&C.tempKey)switch(C.type){case"inputMap":if(!C.key2)continue;H(a[C.key])==="Number"&&H(a[C.key2]==="Number")?C.key3?i.value[C.tempKey]={lng:a[C.key],lat:a[C.key2],name:a[C.key3]}:i.value[C.tempKey]={lng:a[C.key],lat:a[C.key2]}:C.key3?i.value[C.tempKey]={lng:null,lat:null,name:null}:i.value[C.tempKey]={lng:null,lat:null};break;case"input":case"inputNumber":case"textarea":a[C.key]&&a[C.key]!=="--"||a[C.key]===0?i.value[C.tempKey]=a[C.key]:i.value[C.tempKey]=null;break;case"select":case"radioGroup":case"checkboxGroup":a[C.key]&&a[C.key]!=="--"||a[C.key]===0||a[C.key]===!1?C.multiple||C.type==="checkboxGroup"?i.value[C.tempKey]=[...a[C.key]]:C.booleanVal?i.value[C.tempKey]=a[C.key]?1:0:i.value[C.tempKey]=a[C.key]:C.multiple||C.type==="checkboxGroup"?i.value[C.tempKey]=[]:i.value[C.tempKey]=null;break;case"date":case"time":if(C.dateType==="date"||C.dateType==="datetime"||C.dateType==="year"||C.dateType==="month"||C.dateType==="time")i.value[C.tempKey]=a[C.key]&&a[C.key]!=="--"?a[C.key]:null;else if(C.dateType==="daterange"||C.dateType==="datetimerange"||C.dateType==="timerange"){if(!C.key2)continue;i.value[C.tempKey]=a[C.key]&&a[C.key]!=="--"&&a[C.key2]&&a[C.key2]!=="--"&&[a[C.key],a[C.key2]]||[]}break}}function ho(f){if(Array.isArray(f))for(let a of f)Al(a);else H(f)==="Object"&&Al(f)}function Al(f){const{index:a,indexB:O,key:C,val:J}=f;if(typeof a=="number")if(Array.isArray(p.value[a])){if(typeof O=="number")if(C&&f.hasOwnProperty("val"))p.value[a][O][C]=J;else for(let v of Object.keys(f))v!=="index"&&C!=="indexB"&&(p.value[a][O][v]=f[v])}else if(C&&f.hasOwnProperty("val"))p.value[a][C]=J;else for(let v of Object.keys(f))v!=="index"&&(p.value[a][v]=f[v])}function Pl({label:f,root:a}){a.key2&&(s.value[a.key2]=f),Pe({e:f,root:a})}function Rl(f){f.beforeKey&&$.remove(u.value,a=>a===f.beforeKey),f.key&&(u.value.indexOf(f.key)===-1&&u.value.push(f.key),Pe({e:null,root:f}))}function Fl({name:f,root:a}){a.key2&&(s.value[a.key2]=f),Pe({e:f,root:a})}function zl({e:f,root:a}){Pe({e:f,root:a}),e.nextTick(function(){var O,C;(C=(O=r.value)==null?void 0:O.validateField)==null||C.call(O,a.key)})}function Pe({e:f,root:a}){fe(()=>{var C;let O={event:f};if(a.key&&(O[a.key]=s.value[a.key]),a.key2&&(O[a.key2]=s.value[a.key2]),Array.isArray(a.collectLabel))for(let J of a.collectLabel)O[J.key]=s.value[J.key];else(C=a.collectLabel)!=null&&C.key&&(O[a.collectLabel.key]=s.value[a.collectLabel.key]);t("on-item-change",O)},300)}function Ml(){let f={};for(let a of z.value)f[a]=s.value[a];return n.trim&&(f=Fe(f)),f}function yo(){var f,a;(a=(f=r.value)==null?void 0:f.validate)==null||a.call(f)}function go(f){fe(()=>{var a,O;(O=(a=r.value)==null?void 0:a.validateField)==null||O.call(a,f,()=>{})},10)}function bo(f){fe(()=>{var a,O;if(Array.isArray(f))for(let C of f)(O=(a=r.value)==null?void 0:a.validateField)==null||O.call(a,C,()=>{})},10)}function ko(f){f!==void 0&&(g.value=!!f)}function Ot(){var f,a;n.disabled||(a=(f=r.value)==null?void 0:f.validate)==null||a.call(f,O=>{B||(B=!0,O&&(g.value=!0,t("on-submit",Ml())),fe(()=>{B=!1},2e3))})}return e.onMounted(()=>{R(),ne()}),c({resetForm:x,refreshFormDom:K,reRenderForm:q,setItemToValGroup:ke,updateValGroup:we,updateFormDataT:ho,validate:yo,reValidate:go,changeLoading:ko,getValGroup:Ml,submit:Ot}),(f,a)=>{const O=e.resolveComponent("FormItem"),C=e.resolveComponent("Button"),J=e.resolveComponent("Form");return e.openBlock(),e.createBlock(J,{ref_key:"formGroupXRef",ref:r,model:e.unref(s),rules:e.unref(_),"label-width":n.labelWidth,inline:n.inline,"show-message":n.showMessage,class:"formXN",key:e.unref(w)},{default:e.withCtx(()=>[e.createVNode(O,{style:{display:"none"}},{default:e.withCtx(()=>a[0]||(a[0]=[e.createElementVNode("input",{type:"text"},null,-1)])),_:1,__:[0]}),e.unref(V)?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:0},e.renderList(e.unref(p),(v,ie)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([f.teamClass,"formTeamBox"+ie]),key:"formTeamBox"+ie},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(v,(G,Q)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:"formItem"+Q},[P(G)?(e.openBlock(),e.createBlock(yl,{key:0,item:G,style:e.normalizeStyle(e.unref(S)),"item-style":e.unref(N),"val-group":e.unref(s),"temp-keys":e.unref(i),inline:n.inline,disabled:n.disabled,"label-width":n.labelWidth,"item-width":n.itemWidth,"mgr-url":e.unref(m),"upload-url":e.unref(b),onItemChange:Pe,onReValidate:zl,onClearTempKeyItem:k,onSelectInputChange:Rl,onAlNameChange:Fl,onAsyncLabelChange:Pl},e.createSlots({_:2},[e.renderList(E(v),re=>({name:re.slotName,fn:e.withCtx(ge=>[e.renderSlot(f.$slots,re.slotName,{valGroup:ge.valGroup})])}))]),1032,["item","style","item-style","val-group","temp-keys","inline","disabled","label-width","item-width","mgr-url","upload-url"])):e.createCommentVNode("",!0)],64))),128))],2))),128)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(p),(v,ie)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:"formItem"+ie},[!e.unref(V)&&P(v)?(e.openBlock(),e.createBlock(yl,{key:0,item:v,style:e.normalizeStyle(e.unref(S)),"item-style":e.unref(N),"val-group":e.unref(s),"temp-keys":e.unref(i),inline:n.inline,disabled:n.disabled,"label-width":n.labelWidth,"item-width":n.itemWidth,"mgr-url":e.unref(m),"upload-url":e.unref(b),onItemChange:Pe,onReValidate:zl,onClearTempKeyItem:k,onSelectInputChange:Rl,onAlNameChange:Fl,onAsyncLabelChange:Pl},e.createSlots({_:2},[e.renderList(E(f.formData),G=>({name:G.slotName,fn:e.withCtx(Q=>[e.renderSlot(f.$slots,G.slotName,{valGroup:Q.valGroup})])}))]),1032,["item","style","item-style","val-group","temp-keys","inline","disabled","label-width","item-width","mgr-url","upload-url"])):e.createCommentVNode("",!0)],64))),128)),n.showLongOkBt?(e.openBlock(),e.createBlock(O,{key:1},{default:e.withCtx(()=>[e.createVNode(C,{onClick:Ot,style:e.normalizeStyle(e.unref(N)),type:"primary",loading:n.btnLoading&&e.unref(g),disabled:n.disabled},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(n.longOkBtTxt||e.unref(D)("r.confirm")),1)]),_:1},8,["style","loading","disabled"])]),_:1})):e.createCommentVNode("",!0),e.createElementVNode("div",ya,[n.showInlineOkBt?(e.openBlock(),e.createBlock(C,{key:0,type:"primary",class:e.normalizeClass({inlineFormBtXN:n.inline,okBtnXN:!0}),onClick:Ot,loading:n.btnLoading&&e.unref(g),disabled:n.disabled},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(n.inlineOkBtTxt||e.unref(D)("r.confirm")),1)]),_:1},8,["class","loading","disabled"])):e.createCommentVNode("",!0),n.showInlineClearBt?(e.openBlock(),e.createBlock(C,{key:1,onClick:x,class:e.normalizeClass({inlineFormBtXN:n.inline}),type:"dashed"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(n.inlineClearBtTxt||e.unref(D)("r.clear")),1)]),_:1},8,["class"])):e.createCommentVNode("",!0)])]),_:3},8,["model","rules","label-width","inline","show-message"])}}}),gl=e.defineComponent({__name:"FormGroup",props:{formData:{default:()=>[]},width:{default:()=>se().formGroupWidth},labelWidth:{default:()=>se().formGroupLabelWidth},contentWidth:{default:"70%"},itemWidth:{default:200},showOkBt:{type:Boolean,default:!0},showCancelBt:{type:Boolean,default:!0},okBtTxt:{},cancelBtTxt:{},btnLoading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["on-cancel"],setup(l,{expose:c,emit:o}){const t=o,n=l,r=e.ref({width:n.width}),s=e.ref(!1),p=e.ref(),i=e.computed(()=>{var L,E;if(Array.isArray(n.formData))if(Array.isArray(n.formData[0])){let h=[];for(let T of n.formData)T&&(h=h.concat(T.filter(x=>(x==null?void 0:x.type)==="custom"||(x==null?void 0:x.type)==="input"&&x.slotName&&x.slotPosition)));return h}else return(E=(L=n.formData)==null?void 0:L.filter)==null?void 0:E.call(L,h=>(h==null?void 0:h.type)==="custom"||(h==null?void 0:h.type)==="input"&&h.slotName&&h.slotPosition);return[]});function y(){return new Promise(L=>{var E,h;(h=(E=p.value).resetForm)==null||h.call(E).then(T=>{L(T)})})}function m(){return new Promise(L=>{var E,h;(h=(E=p.value).refreshFormDom)==null||h.call(E).then(T=>{L(T)})})}function u(){return new Promise(L=>{var E,h;(h=(E=p.value).reRenderForm)==null||h.call(E).then(T=>{L(T)})})}function d(L,E){var h,T;(T=(h=p.value).setItemToValGroup)==null||T.call(h,L,E)}function g(L,E){var h,T;(T=(h=p.value).updateValGroup)==null||T.call(h,L,E)}function w(L){var E,h;(h=(E=p.value).updateFormDataT)==null||h.call(E,L)}function b(){var L,E;(E=(L=p.value).validate)==null||E.call(L)}function B(L){var E,h;(h=(E=p.value).reValidate)==null||h.call(E,L)}function V(L){var E,h;L!==void 0&&(s.value=!!L,(h=(E=p.value).changeLoading)==null||h.call(E,s.value))}function S(){var L,E;return(E=(L=p.value).getValGroup)==null?void 0:E.call(L)}function N(){s.value=!0}function _(){var L,E;(E=(L=p.value).submit)==null||E.call(L)}function z(){t("on-cancel"),fe(()=>{var L,E;s.value=!1,(E=(L=p.value).changeLoading)==null||E.call(L,!1)},1e3)}return c({resetForm:y,refreshFormDom:m,reRenderForm:u,setItemToValGroup:d,updateValGroup:g,updateFormDataT:w,validate:b,reValidate:B,changeLoading:V,getValGroup:S,submit:_,close:z}),(L,E)=>{const h=e.resolveComponent("Button");return e.openBlock(),e.createElementBlock("div",{style:e.normalizeStyle(e.unref(r)),class:"formGroupBoxVM"},[e.createVNode(Ke,e.mergeProps({ref_key:"formRRef",ref:p},L.$attrs,{"form-data":n.formData,"label-width":n.labelWidth,"content-width":n.contentWidth,"item-width":n.itemWidth,btnLoading:n.btnLoading,disabled:n.disabled,onOnSubmit:N}),e.createSlots({_:2},[e.renderList(e.unref(i),T=>({name:T.slotName,fn:e.withCtx(({valGroup:x})=>[e.renderSlot(L.$slots,T.slotName,{valGroup:x})])}))]),1040,["form-data","label-width","content-width","item-width","btnLoading","disabled"]),e.withDirectives(e.createElementVNode("div",{class:"formFooterVM",style:e.normalizeStyle({marginLeft:n.labelWidth+"px"})},[e.createElementVNode("div",{style:e.normalizeStyle({width:n.contentWidth}),class:"btnBoxKAL"},[n.showOkBt?(e.openBlock(),e.createBlock(h,{key:0,onClick:_,class:"form-save-btn",loading:n.btnLoading&&e.unref(s),disabled:n.disabled},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(n.okBtTxt||e.unref(D)("r.confirm")),1)]),_:1},8,["loading","disabled"])):e.createCommentVNode("",!0),n.showCancelBt?(e.openBlock(),e.createBlock(h,{key:1,onClick:z,class:"form-cancel-btn"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(n.cancelBtTxt||e.unref(D)("r.cancel")),1)]),_:1})):e.createCommentVNode("",!0)],4)],4),[[e.vShow,n.showOkBt||n.showCancelBt]])],4)}}}),ot=e.defineComponent({__name:"SearchForm",props:{formData:{default:()=>[]},labelWidth:{default:()=>se().searchFormLabelWidth},itemWidth:{default:()=>se().searchFormItemWidth},showInlineOkBt:{type:Boolean,default:!0},showInlineClearBt:{type:Boolean,default:!0}},emits:["on-search"],setup(l,{expose:c,emit:o}){const t=o,n=l,r=e.ref(),s=e.computed(()=>{var N,_;if(Array.isArray(n.formData[0])){let z=[];for(let L of n.formData)L&&(z=z.concat(L.filter(E=>(E==null?void 0:E.type)==="custom"||(E==null?void 0:E.type)==="input"&&E.slotName&&E.slotPosition)));return z}return(_=(N=n.formData)==null?void 0:N.filter)==null?void 0:_.call(N,z=>(z==null?void 0:z.type)==="custom"||(z==null?void 0:z.type)==="input"&&z.slotName&&z.slotPosition)});function p(){return new Promise(N=>{var _,z;(z=(_=r.value).resetForm)==null||z.call(_).then(()=>{N()})})}function i(){return new Promise(N=>{var _,z;(z=(_=r.value).refreshFormDom)==null||z.call(_).then(()=>{N()})})}function y(){return new Promise(N=>{var _,z;(z=(_=r.value).reRenderForm)==null||z.call(_).then(()=>{N()})})}function m(N,_){var z,L;(L=(z=r.value).setItemToValGroup)==null||L.call(z,N,_)}function u(N,_){var z,L;(L=(z=r.value).updateValGroup)==null||L.call(z,N,_)}function d(N){var _,z;(z=(_=r.value).updateFormDataT)==null||z.call(_,N)}function g(){var N,_;(_=(N=r.value).validate)==null||_.call(N)}function w(N){var _,z;(z=(_=r.value).reValidate)==null||z.call(_,N)}function b(N){var _,z;(z=(_=r.value).changeLoading)==null||z.call(_,N===void 0?!1:N)}function B(){var N,_;return(_=(N=r.value).getValGroup)==null?void 0:_.call(N)}function V(N){t("on-search",N)}function S(){var N,_;(_=(N=r.value).submit)==null||_.call(N)}return e.onMounted(()=>{const N=r.value.$el;N!=null&&N.parentNode&&N.parentNode.addEventListener("keyup",_=>{(_==null?void 0:_.keyCode)===13&&S()})}),c({resetForm:p,refreshFormDom:i,reRenderForm:y,setItemToValGroup:m,updateValGroup:u,updateFormDataT:d,validate:g,reValidate:w,changeLoading:b,getValGroup:B,submit:S}),(N,_)=>(e.openBlock(),e.createBlock(Ke,e.mergeProps({ref_key:"formRRef",ref:r},N.$attrs,{"form-data":n.formData,"label-width":n.labelWidth,"item-width":n.itemWidth,inline:"","show-long-ok-bt":!1,"show-inline-ok-bt":n.showInlineOkBt,"inline-ok-bt-txt":e.unref(D)("r.check"),"show-inline-clear-bt":n.showInlineClearBt,"show-message":!1,onOnSubmit:V}),e.createSlots({_:2},[e.renderList(e.unref(s),z=>({name:z.slotName,fn:e.withCtx(({valGroup:L})=>[e.renderSlot(N.$slots,z.slotName,{valGroup:L})])}))]),1040,["form-data","label-width","item-width","show-inline-ok-bt","inline-ok-bt-txt","show-inline-clear-bt"]))}}),bl=e.defineComponent({__name:"FormModal",props:{title:{},formData:{default:()=>[]},width:{default:()=>se().formModalWidth},labelWidth:{default:()=>se().formModalLabelWidth},okBtTxt:{},cancelBtTxt:{},hideCancelBt:{type:Boolean,default:!1},hideFooter:{type:Boolean,default:!1},btnLoading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["on-close","on-open"],setup(l,{expose:c,emit:o}){const t=o,n=l,r=e.ref(),s=e.ref(!1),p=e.ref(!1),i=e.computed(()=>{var h,T;if(Array.isArray(n.formData[0])){let x=[];for(let q of n.formData)q&&(x=x.concat(q.filter(K=>(K==null?void 0:K.type)==="custom"||(K==null?void 0:K.type)==="input"&&K.slotName&&K.slotPosition)));return x}return(T=(h=n.formData)==null?void 0:h.filter)==null?void 0:T.call(h,x=>(x==null?void 0:x.type)==="custom"||(x==null?void 0:x.type)==="input"&&x.slotName&&x.slotPosition)});function y(){return new Promise(h=>{var T,x;(x=(T=r.value).resetForm)==null||x.call(T).then(()=>{h()})})}function m(){return new Promise(h=>{var T,x;(x=(T=r.value).refreshFormDom)==null||x.call(T).then(()=>{h()})})}function u(){return new Promise(h=>{var T,x;(x=(T=r.value).reRenderForm)==null||x.call(T).then(()=>{h()})})}function d(h,T){var x,q;(q=(x=r.value).setItemToValGroup)==null||q.call(x,h,T)}function g(h,T){var x,q;(q=(x=r.value).updateValGroup)==null||q.call(x,h,T)}function w(h){var T,x;(x=(T=r.value).updateFormDataT)==null||x.call(T,h)}function b(){var h,T;(T=(h=r.value).validate)==null||T.call(h)}function B(h){var T,x;(x=(T=r.value).reValidate)==null||x.call(T,h)}function V(h){var T,x;h!==void 0&&(p.value=!!h,(x=(T=r.value).changeLoading)==null||x.call(T,p.value))}function S(){var h,T;return(T=(h=r.value).getValGroup)==null?void 0:T.call(h)}function N(){p.value=!0}function _(){var h,T;n.hideCancelBt?L():(T=(h=r.value).submit)==null||T.call(h)}function z(){s.value=!0}function L(){s.value=!1,fe(()=>{var h,T;p.value=!1,(T=(h=r.value).changeLoading)==null||T.call(h,!1)},1e3)}function E(h){t(h?"on-open":"on-close")}return c({resetForm:y,refreshFormDom:m,reRenderForm:u,setItemToValGroup:d,updateValGroup:g,updateFormDataT:w,validate:b,reValidate:B,changeLoading:V,getValGroup:S,submit:_,open:z,close:L}),(h,T)=>{const x=e.resolveComponent("Button"),q=e.resolveComponent("Modal");return e.openBlock(),e.createBlock(q,{class:e.normalizeClass(["formModal",{hideFooter:n.hideFooter}]),title:n.title||e.unref(D)("r.title"),modelValue:e.unref(s),"onUpdate:modelValue":T[0]||(T[0]=K=>e.isRef(s)?s.value=K:null),"mask-closable":!1,"footer-hide":n.hideFooter,width:n.width,onOnVisibleChange:E},{footer:e.withCtx(()=>[e.createVNode(x,{onClick:_,class:"modal-save-btn",loading:n.btnLoading&&e.unref(p),disabled:n.disabled},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(n.okBtTxt||e.unref(D)("r.confirm")),1)]),_:1},8,["loading","disabled"]),n.hideCancelBt?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(x,{key:0,onClick:L,class:"modal-cancel-btn"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(n.cancelBtTxt||e.unref(D)("r.cancel")),1)]),_:1}))]),default:e.withCtx(()=>[e.createVNode(Ke,e.mergeProps({ref_key:"formRRef",ref:r},h.$attrs,{"form-data":n.formData,"label-width":n.labelWidth,btnLoading:n.btnLoading,disabled:n.disabled,onOnSubmit:N}),e.createSlots({_:2},[e.renderList(e.unref(i),K=>({name:K.slotName,fn:e.withCtx(({valGroup:M})=>[e.renderSlot(h.$slots,K.slotName,{valGroup:M})])}))]),1040,["form-data","label-width","btnLoading","disabled"])]),_:3},8,["title","modelValue","footer-hide","class","width"])}}}),kl=e.defineComponent({__name:"CheckboxTree",props:{modelValue:{default:()=>[]},data:{default:()=>[]},expandAll:{type:Boolean,default:!1},label:{default:"name"},collectVal:{default:"id"},leaf:{type:Boolean,default:!0},inlineLeaf:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","on-change"],setup(l,{emit:c}){const o=c,t=l,n=e.ref(!0),r=e.ref([]),s="CKT"+Math.floor(Math.random()*1e7+1e7);let p=[];const i=e.computed(()=>Array.isArray(t.collectVal)?t.collectVal:typeof t.collectVal=="string"?[t.collectVal]:[]),y=e.computed(()=>Array.isArray(t.modelValue)?t.modelValue:[]);e.watch(()=>t.data,b=>{n.value=!1;let B=[];m(b,B),r.value=B,e.nextTick(function(){n.value=!0,t.inlineLeaf&&e.nextTick(g)})},{immediate:!0,deep:!0}),e.watch(()=>y.value,b=>{let B,V="s";if(Array.isArray(t.collectVal)?(B=t.collectVal[0]||"",V="a"):B=t.collectVal,!B||JSON.stringify(b)===JSON.stringify(p)){p=[];return}De({group:r.value,condition:S=>(S==null?void 0:S.checked)===!0,key:"checked",val:!1}),De(V==="a"?{group:r.value,condition:S=>$.findIndex(b,[B,S==null?void 0:S[B]])!==-1,key:"checked",val:!0}:{group:r.value,condition:S=>b.indexOf(S==null?void 0:S[B])!==-1,key:"checked",val:!0})}),e.watch(()=>t.disabled,b=>{De({group:r.value,condition:B=>B&&B.disableCheckbox!==b,key:"disableCheckbox",val:b}),t.inlineLeaf&&e.nextTick(g)},{immediate:!0});function m(b,B=[]){for(let V of b){let S=!1;i.value.length>1?S=$.find(y.value,_=>_[i.value[0]]===V[i.value[0]])!==void 0:S=i.value[0]?y.value.indexOf(V[i.value[0]])!==-1:!1;let N={name:V==null?void 0:V[t.label],expand:!!(t.expandAll||V!=null&&V.expand),checked:S,disableCheckbox:t.disabled};for(let _ of i.value)N[_]=V[_];B.push(N),V!=null&&V.children&&V.children.length>0&&(N.children=[],u(V.children,N.children))}}function u(b,B=[]){for(let V of b){let S=!1;i.value.length>1?S=$.find(y.value,_=>_[i.value[0]]===V[i.value[0]])!==void 0:S=i.value[0]?y.value.indexOf(V[i.value[0]])!==-1:!1;let N={name:V==null?void 0:V[t.label],expand:!!(t.expandAll||V!=null&&V.expand),checked:S,disableCheckbox:t.disabled};for(let _ of i.value)N[_]=V[_];B.push(N),V!=null&&V.children&&V.children.length>0&&(N.children=[],m(V.children,N.children))}}function d(b,{data:B}){let V="",S=!0;if(B.children&&B.children.length>0){for(let N of B.children)if(N.children!==void 0){S=!1;break}S&&t.inlineLeaf&&(V="inlineChildXA")}return b("div",{style:{display:"inline-block",width:"100%"},class:V},[b("span",{style:{fontWeight:B.children?"bold":"normal"}},B.name)])}function g(b){if(b){b.expand&&e.nextTick(g);return}let B=document.querySelectorAll("#"+s+" .inlineChildXA");if(B.length>0)for(let V of B){let S=V==null?void 0:V.parentElement,N=S==null?void 0:S.nextElementSibling;if(!N)return;if(N.tagName!=="BR"){let _=S==null?void 0:S.parentElement,z=document.createElement("br");_==null||_.insertBefore(z,N);const L=z.nextElementSibling;if(L){const E=L.children;if(E)for(let h of E)(h==null?void 0:h.className.indexOf("inlineTreeNodeF"))===-1&&h.setAttribute("class",h.className+" inlineTreeNodeF")}}}}function w(b){let B=[];if(t.leaf){for(let V of b)if(!V.children)if(Array.isArray(t.collectVal)){let S={};for(let N of t.collectVal)S[N]=V[N];B.push(S)}else B.push(V[t.collectVal])}else for(let V of b)if(Array.isArray(t.collectVal)){let S={};for(let N of t.collectVal)S[N]=V[N];B.push(S)}else B.push(V[t.collectVal]);p=B,o("update:modelValue",B),o("on-change",$.cloneDeep(B))}return(b,B)=>{const V=e.resolveComponent("Tree");return e.unref(n)?(e.openBlock(),e.createBlock(V,{key:0,id:s,class:"checkboxTreeGA",data:e.unref(r),render:d,onOnCheckChange:w,onOnToggleExpand:g,"show-checkbox":""},null,8,["data"])):e.createCommentVNode("",!0)}}}),ga={class:"transferBoxRL"},ba={class:"leftBoxLLL"},ka={class:"fullHeight flexColumnBox"},wa={class:"notGrow"},Va={class:"titleLLL"},Ba={class:"growFlexItem"},Ca={class:"middleBoxLLL"},Sa={class:"rightBoxLLL"},_a={class:"fullHeight flexColumnBox"},Na={class:"notGrow"},Ta={class:"titleLLL"},xa={class:"growFlexItem"},wl=e.defineComponent({__name:"TransferBox",props:{titleLeft:{},titleRight:{},formDataLeft:{default:()=>[]},formDataRight:{default:()=>[]},formRulesLeft:{default:()=>({})},formRulesRight:{default:()=>({})},constSearchDataLeft:{default:()=>({})},constSearchDataRight:{default:()=>({})},leftTableColumns:{default:()=>[]},rightTableColumns:{default:()=>[]},leftTableUrl:{},rightTableUrl:{},addUrl:{},deleteUrl:{},addAllUrl:{},deleteAllUrl:{},addParamsHandle:{type:Function,default:l=>l.map(c=>c==null?void 0:c.id)},deleteParamsHandle:{type:Function,default:l=>l.map(c=>c==null?void 0:c.id)},addAllParamsHandle:{type:Function,default:l=>l},deleteAllParamsHandle:{type:Function,default:l=>l},addMethod:{default:"post"},addAllMethod:{default:"post"},deleteMethod:{default:"delete"},deleteAllMethod:{default:"delete"},searchFormLabelWith:{},usePagePro:{type:Boolean,default:()=>{var l;return(l=se())==null?void 0:l.btTablePageUsePagePro}},showTotal:{type:Boolean,default:()=>{var l;return(l=se())==null?void 0:l.pageShowTotal}},showSizer:{type:Boolean,default:()=>{var l;return(l=se())==null?void 0:l.pageShowSizer}},leftSearchDataFilter:{},rightSearchDataFilter:{}},emits:["transferred","on-data-change-l","on-data-change-r"],setup(l,{expose:c,emit:o}){const t=o,n=l;let r=e.ref({}),s=e.ref({}),p=e.ref([]),i=e.ref([]),y=e.ref(0),m=e.ref(0);const u=e.computed(()=>({...n.constSearchDataLeft,...r.value})),d=e.computed(()=>({...n.constSearchDataRight,...s.value})),g=e.computed(()=>y.value<1),w=e.computed(()=>p.value.length<1),b=e.computed(()=>i.value.length<1),B=e.computed(()=>m.value<1),V=e.ref(),S=e.ref(),N=e.ref(),_=e.ref();function z(){V.value.resetForm(),S.value.resetForm(),$.isEmpty(r.value)||(r.value={}),$.isEmpty(s.value)||(s.value={}),N.value.clearSelect(),_.value.clearSelect()}function L(){N.value.search(),_.value.search()}function E(P){p.value=P}function h(P){i.value=P}function T(P){var X,W,le,ne,te;y.value=((W=(X=P==null?void 0:P.data)==null?void 0:X.page)==null?void 0:W.total)||((ne=(le=P==null?void 0:P.data)==null?void 0:le.data)==null?void 0:ne.total)||((te=P==null?void 0:P.data)==null?void 0:te.total)||(P==null?void 0:P.total)||0,t("on-data-change-l",P)}function x(P){var X,W,le,ne,te;m.value=((W=(X=P==null?void 0:P.data)==null?void 0:X.page)==null?void 0:W.total)||((ne=(le=P==null?void 0:P.data)==null?void 0:le.data)==null?void 0:ne.total)||((te=P==null?void 0:P.data)==null?void 0:te.total)||(P==null?void 0:P.total)||0,t("on-data-change-r",P)}function q(P){typeof n.leftSearchDataFilter=="function"?r.value=n.leftSearchDataFilter(P):r.value=P}function K(P){typeof n.rightSearchDataFilter=="function"?s.value=n.rightSearchDataFilter(P):s.value=P}function M(){n.addUrl&&U("add")}function j(){n.deleteUrl&&U("delete")}function k(){n.addAllUrl&&n.addUrl&&U("addAll")}function F(){n.deleteAllUrl&&U("deleteAll")}function U(P){let X,W,le={},ne="";switch(P){case"add":X=n.addMethod,W=n.addUrl,le=n.addParamsHandle(i.value),ne=D("r.add");break;case"delete":X=n.deleteMethod,W=n.deleteUrl,le=n.deleteParamsHandle(p.value),ne=D("r.remove");break;case"addAll":X=n.addAllMethod,W=n.addAllUrl,le=n.addAllParamsHandle(d.value),ne=D("r.addAll");break;case"deleteAll":X=n.deleteAllMethod,W=n.deleteAllUrl,le=n.deleteAllParamsHandle(u.value),ne=D("r.removeAll");break}W&&X&&Ve[X](W,le,null,[],{spin:!0},!1).then(te=>{(te==null?void 0:te.code)===0?(he(ne+D("r.success"),(te==null?void 0:te.message)||"","success"),N.value&&N.value.getTableData(),_.value&&_.value.getTableData(),t("transferred")):he(ne+D("r.failed"),(te==null?void 0:te.message)||"","error")}).catch(()=>{he(ne+D("r.error"),"","error")})}return c({reset:z,search:L}),(P,X)=>{const W=e.resolveComponent("Icon"),le=e.resolveComponent("Button");return e.openBlock(),e.createElementBlock("div",ga,[e.createElementVNode("div",ba,[e.createElementVNode("div",ka,[e.createElementVNode("div",wa,[e.createElementVNode("div",Va,e.toDisplayString(n.titleLeft||e.unref(D)("r.added")),1),e.createVNode(ve,null,{default:e.withCtx(()=>[e.createVNode(ot,{ref_key:"leftFormRef",ref:V,"form-data":n.formDataLeft,"form-rules":n.formRulesLeft,"label-width":n.searchFormLabelWith,onOnSearch:q},null,8,["form-data","form-rules","label-width"])]),_:1})]),e.createElementVNode("div",Ba,[e.createVNode(at,{ref_key:"lTabRef",ref:N,columns:n.leftTableColumns,url:n.leftTableUrl,"search-data":e.unref(u),onOnSelectionChange:E,onOnDataChange:T,"init-data":!!(e.unref($.isEmpty)(n.constSearchDataLeft)&&n.leftTableUrl),"get-data-loading":"",selection:"",usePagePro:n.usePagePro,showTotal:n.showTotal,showSizer:n.showSizer},null,8,["columns","url","search-data","init-data","usePagePro","showTotal","showSizer"])])])]),e.createElementVNode("div",Ca,[e.createVNode(le,{class:"middleBtLLL",type:"default",onClick:F,disabled:e.unref(g)},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(D)("r.removeAll"))+" ",1),e.createVNode(W,{type:"ios-arrow-forward"})]),_:1},8,["disabled"]),e.createVNode(le,{class:"middleBtLLL",type:"default",onClick:j,disabled:e.unref(w)},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(D)("r.remove"))+" ",1),e.createVNode(W,{type:"ios-arrow-forward"})]),_:1},8,["disabled"]),e.createVNode(le,{class:"middleBtLLL",type:"primary",onClick:M,disabled:e.unref(b)},{default:e.withCtx(()=>[e.createVNode(W,{type:"ios-arrow-back"}),e.createTextVNode(" "+e.toDisplayString(e.unref(D)("r.add")),1)]),_:1},8,["disabled"]),e.createVNode(le,{class:"middleBtLLL",type:"primary",onClick:k,disabled:e.unref(B)},{default:e.withCtx(()=>[e.createVNode(W,{type:"ios-arrow-back"}),e.createTextVNode(" "+e.toDisplayString(e.unref(D)("r.addAll")),1)]),_:1},8,["disabled"])]),e.createElementVNode("div",Sa,[e.createElementVNode("div",_a,[e.createElementVNode("div",Na,[e.createElementVNode("div",Ta,e.toDisplayString(n.titleRight||e.unref(D)("r.notAdded")),1),e.createVNode(ve,null,{default:e.withCtx(()=>[e.createVNode(ot,{ref_key:"rightFormRef",ref:S,"form-data":n.formDataRight,"form-rules":n.formRulesRight,"label-width":n.searchFormLabelWith,onOnSearch:K},null,8,["form-data","form-rules","label-width"])]),_:1})]),e.createElementVNode("div",xa,[e.createVNode(at,{ref_key:"rTabRef",ref:_,columns:n.rightTableColumns,url:n.rightTableUrl,"search-data":e.unref(d),onOnSelectionChange:h,onOnDataChange:x,"init-data":!!(e.unref($.isEmpty)(n.constSearchDataRight)&&n.rightTableUrl),"get-data-loading":"",selection:"",usePagePro:n.usePagePro,showTotal:n.showTotal,showSizer:n.showSizer},null,8,["columns","url","search-data","init-data","usePagePro","showTotal","showSizer"])])])])])}}}),La={class:"boxLPA"},Da={class:"headerJ"},Oa={class:"firstT borderBoxAS"},Ia={class:"secondT borderBoxAS"},Ea={class:"firstCol borderBoxAS"},Aa={class:"secondCol borderBoxAS"},Vl=e.defineComponent({__name:"CheckboxGroupTwoClass",props:{modelValue:{default:()=>[]},data:{default:()=>[]},firstTitle:{},secondTitle:{},label:{default:"name"},collectVal:{default:"id"},leaf:{type:Boolean,default:!0},disabled:{type:Boolean}},emits:["update:modelValue","on-change"],setup(l,{emit:c}){const o=l,t=c,n=e.ref([]),r=e.computed(()=>{var u;let y=$.cloneDeep(o.data),m=$.cloneDeep(n.value);for(let d of y){let g=0;if(d!=null&&d.children&&!$.isEmpty(d.children))for(let w of d.children){for(let b=0,B=m==null?void 0:m.length;b<B;b++)if(Array.isArray(o.collectVal)){let V=!0;for(let S of o.collectVal)if(((u=m[b])==null?void 0:u[S])!==(w==null?void 0:w[S])){V=!1;break}if(V){w.checked=!0,g++,m.splice(b,1);break}}else if(m[b]===w[o.collectVal]){w.checked=!0,g++,m.splice(b,1);break}!w.checked&&(w.checked=!1)}g===0?(d.checked=!1,d.indeterminate=!1):d.children&&g===d.children.length?(d.checked=!0,d.indeterminate=!1):(d.checked=!1,d.indeterminate=!0)}return y});e.watch(()=>o.modelValue,(y,m)=>{$.isEqual(n.value,y)||$.isEqual(y,m)||(n.value=y)},{immediate:!0,deep:!0});function s(y,m){if(y.children)for(let u of y.children)u.checked=m;p()}function p(){i(r.value,!0)}function i(y,m){let u=[];for(let d of y){if(!m&&!o.leaf&&d.checked&&d.indeterminate===!1)if(Array.isArray(o.collectVal)){let g={};for(let w of o.collectVal)g[w]=d[w];u.push(g)}else H(o.collectVal)==="String"&&u.push(d[o.collectVal]);if(d.children){for(let g of d.children)if(g.checked)if(Array.isArray(o.collectVal)){let w={};for(let b of o.collectVal)w[b]=g[b];u.push(w)}else H(o.collectVal)==="String"&&u.push(g[o.collectVal])}}m?(n.value=u,o.leaf?(t("update:modelValue",u),t("on-change",$.cloneDeep(u))):e.nextTick(function(){i(r.value)})):(t("update:modelValue",u),t("on-change",$.cloneDeep(u)))}return(y,m)=>{const u=e.resolveComponent("Checkbox");return e.openBlock(),e.createElementBlock("div",La,[e.createElementVNode("div",Da,[e.createElementVNode("div",Oa,e.toDisplayString(y.firstTitle||e.unref(D)("r.level.1")),1),e.createElementVNode("div",Ia,e.toDisplayString(y.secondTitle||e.unref(D)("r.level.2")),1)]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(r),(d,g)=>(e.openBlock(),e.createElementBlock("div",{class:"bodyJ",key:"checkboxJ"+g},[e.createElementVNode("div",Ea,[e.createVNode(u,{modelValue:d.checked,"onUpdate:modelValue":w=>d.checked=w,indeterminate:d.indeterminate,onOnChange:w=>s(d,w),disabled:y.disabled},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(d[y.label]),1)]),_:2},1032,["modelValue","onUpdate:modelValue","indeterminate","onOnChange","disabled"])]),e.createElementVNode("div",Aa,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(d.children,(w,b)=>(e.openBlock(),e.createElementBlock("div",{class:"secItem",key:"secItem"+b},[e.createVNode(u,{modelValue:w.checked,"onUpdate:modelValue":B=>w.checked=B,onOnChange:p,disabled:y.disabled},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(w[y.label]),1)]),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])]))),128))])]))),128))])}}}),Pa={class:"boxLPB"},Ra={class:"headerF"},Fa={class:"firstT borderBoxKa"},za={class:"secondT borderBoxKa"},Ma={class:"thirdT borderBoxKa"},$a={class:"firstCol borderBoxKa"},Ka={class:"rightBoxAL"},Ua={class:"secondCol borderBoxKa"},Ga={class:"thirdCol borderBoxKa"},Bl=e.defineComponent({__name:"CheckboxGroupThreeClass",props:{modelValue:{default:()=>[]},data:{default:()=>[]},firstTitle:{},secondTitle:{},thirdTitle:{},label:{default:"name"},collectVal:{default:"id"},leaf:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","on-change"],setup(l,{emit:c}){const o=c,t=l,n=e.ref([]),r=e.computed(()=>{let m=$.cloneDeep(t.data),u=$.cloneDeep(n.value);for(let d of m){let g=0,w=0;if(d!=null&&d.children&&!$.isEmpty(d.children))for(let b of d.children){let B=0;if(b.children&&!$.isEmpty(b.children))for(let V of b.children){for(let S=0,N=u.length;S<N;S++)if(Array.isArray(t.collectVal)){let _=!0;for(let z of t.collectVal)if(u[S][z]!==V[z]){_=!1;break}if(_){V.checked=!0,B++,u.splice(S,1);break}}else if(u[S]===V[t.collectVal]){V.checked=!0,B++,u.splice(S,1);break}!V.checked&&(V.checked=!1)}B===0?(b.checked=!1,b.indeterminate=!1):b.children&&B===b.children.length?(b.checked=!0,b.indeterminate=!1,g++):(b.checked=!1,b.indeterminate=!0,w++)}g===0&&w===0?(d.checked=!1,d.indeterminate=!1):d.children&&g===d.children.length?(d.checked=!0,d.indeterminate=!1):(d.checked=!1,d.indeterminate=!0)}return m});e.watch(()=>t.modelValue,(m,u)=>{$.isEqual(n.value,m)||$.isEqual(m,u)||(n.value=m)},{immediate:!0,deep:!0});function s(m,u){if(m.children){for(let d of m.children)if(d.checked=u,d.children)for(let g of d.children)g.checked=u}i()}function p(m,u){if(m.children)for(let d of m.children)d.checked=u;i()}function i(){y(r.value,!0)}function y(m,u){let d=[];for(let g of m){if(!u&&!t.leaf&&(g!=null&&g.checked)&&g.indeterminate===!1)if(Array.isArray(t.collectVal)){let w={};for(let b of t.collectVal)w[b]=g[b];d.push(w)}else H(t.collectVal)==="String"&&d.push(g[t.collectVal]);if(g!=null&&g.children)for(let w of g.children){if(!u&&!t.leaf&&w.checked&&w.indeterminate===!1)if(Array.isArray(t.collectVal)){let b={};for(let B of t.collectVal)b[B]=w[B];d.push(b)}else H(t.collectVal)==="String"&&d.push(w[t.collectVal]);if(w.children){for(let b of w.children)if(b.checked)if(Array.isArray(t.collectVal)){let B={};for(let V of t.collectVal)B[V]=b[V];d.push(B)}else H(t.collectVal)==="String"&&d.push(b[t.collectVal])}}}u?(n.value=d,t.leaf?(o("update:modelValue",d),o("on-change",$.cloneDeep(d))):e.nextTick(function(){y(r.value)})):(o("update:modelValue",d),o("on-change",$.cloneDeep(d)))}return(m,u)=>{const d=e.resolveComponent("Checkbox");return e.openBlock(),e.createElementBlock("div",Pa,[e.createElementVNode("div",Ra,[e.createElementVNode("div",Fa,e.toDisplayString(m.firstTitle||e.unref(D)("r.level.1")),1),e.createElementVNode("div",za,e.toDisplayString(m.secondTitle||e.unref(D)("r.level.2")),1),e.createElementVNode("div",Ma,e.toDisplayString(m.thirdTitle||e.unref(D)("r.level.3")),1)]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(r),(g,w)=>(e.openBlock(),e.createElementBlock("div",{class:"bodyF",key:"checkboxJ"+w},[e.createElementVNode("div",$a,[e.createVNode(d,{modelValue:g.checked,"onUpdate:modelValue":b=>g.checked=b,indeterminate:g.indeterminate,onOnChange:b=>s(g,b),disabled:m.disabled},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(g[m.label]),1)]),_:2},1032,["modelValue","onUpdate:modelValue","indeterminate","onOnChange","disabled"])]),e.createElementVNode("div",Ka,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(g.children,(b,B)=>(e.openBlock(),e.createElementBlock("div",{class:"rightBoxInner",key:"secItem"+B},[e.createElementVNode("div",Ua,[e.createVNode(d,{modelValue:b.checked,"onUpdate:modelValue":V=>b.checked=V,indeterminate:b.indeterminate,onOnChange:V=>p(b,V),disabled:m.disabled},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(b[m.label]),1)]),_:2},1032,["modelValue","onUpdate:modelValue","indeterminate","onOnChange","disabled"])]),e.createElementVNode("div",Ga,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(b.children,(V,S)=>(e.openBlock(),e.createElementBlock("div",{class:"thirdItem",key:"thirdItem"+S},[e.createVNode(d,{modelValue:V.checked,"onUpdate:modelValue":N=>V.checked=N,onOnChange:i,disabled:m.disabled},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(V[m.label]),1)]),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])]))),128))])]))),128))])]))),128))])}}}),Ha={class:"fl",style:{"font-weight":"bold"}},Wa={class:"btsF"},ja={key:0},qa={key:1,class:"growFlexItem relativeBox"},Xa={class:"fullFlowContent"},Cl=e.defineComponent({__name:"WellCard",props:{title:{},fitToContent:{type:Boolean,default:!1},width:{default:"100%"},height:{default:"100%"},inline:{type:Boolean,default:!1}},setup(l){const c=l,o=e.computed(()=>{let n={width:c.fitToContent?"fit-content":t(c.width),height:c.fitToContent?"fit-content":t(c.height)};return c.inline&&(n.display="inline-block"),n});function t(n){const r=/^\d+$/;return typeof n=="number"||typeof n=="string"&&r.test(n)?n+"px":n}return(n,r)=>(e.openBlock(),e.createElementBlock("div",{style:e.normalizeStyle(e.unref(o))},[e.createElementVNode("div",{class:e.normalizeClass(["wellCardR",{flexColumnBox:!c.fitToContent}])},[e.createElementVNode("div",{class:e.normalizeClass(["panelHeader",{notGrow:!c.fitToContent}])},[e.createElementVNode("div",Ha,e.toDisplayString(c.title||e.unref(D)("r.title")),1),e.createElementVNode("div",Wa,[e.renderSlot(n.$slots,"bts")])],2),c.fitToContent?(e.openBlock(),e.createElementBlock("div",ja,[e.renderSlot(n.$slots,"default")])):(e.openBlock(),e.createElementBlock("div",qa,[e.createElementVNode("div",Xa,[e.renderSlot(n.$slots,"default")])]))],2)],4))}}),Sl=e.defineComponent({__name:"SelectScrollMore",props:{modelValue:{},url:{},searchData:{default:()=>({size:10})},getOptions:{type:Boolean,default:!0},optionFilter:{},optionsLabelKey:{default:"name"},optionsValKey:{default:"id"},searchKey:{default:"name"},searchWordsRequired:{type:Boolean,default:!1},collectLabel:{type:Boolean,default:!1},placeholder:{},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","on-change","update-option-finish"],setup(l,{emit:c}){const o=c,t=l;let n=e.ref(1),r=1;const s=e.ref(""),p=e.shallowRef([]);let i={},y=!0,m=!1;const u="scm"+Math.random(),d=e.computed(()=>s.value?D("r.searchFor")+s.value:t.placeholder||D("r.pInput")),g=e.computed({get(){return t.modelValue??""},set(L){if(o("update:modelValue",L??""),t.collectLabel&&L!==void 0){let E={};for(let h of p.value)if(h[t.optionsValKey]===L){E=JSON.parse(JSON.stringify(h));break}o("on-change",E)}}}),w=e.computed(()=>t.searchKey?{...t.searchData,current:n.value,[t.searchKey]:s.value}:{...t.searchData,current:n.value});e.watch(()=>t.getOptions,L=>{L?y&&z():V()},{immediate:!0}),e.watch(()=>t.url,L=>{L&&(m=!0)});const b=e.ref();function B(){b.value.$el.querySelector('.ivu-select-input[type="text"]').addEventListener("keyup",N)}function V(){y||(g.value="",y=!0,s.value="",p.value=[],n.value=1,r=1,i={},m=!1)}function S(L){for(let E of p.value)if((E==null?void 0:E.label)===L)return!0;return!1}const N=$.debounce(function(L){var h;const E=(h=L==null?void 0:L.target)==null?void 0:h.value;S(E)||(ce(E)?(m?V():($.isEmpty(i)&&(i.current=n.value,i.pages=r,i.options=$.cloneDeep(p.value)),ce(g.value)&&(g.value="")),s.value=String(E),p.value=[],n.value=1,y=!0,z()):m?(V(),z()):(g.value="",s.value="",i.current?(n.value=i.current,r=i.pages,p.value=$.cloneDeep(i.options),i={}):z()))},600);function _(){m&&V(),n.value<r?(++n.value,e.nextTick(function(){z()})):me.Message.warning({background:!0,content:D("r.noMore")})}function z(){return new Promise((L,E)=>{if(t.getOptions){if(t.searchWordsRequired&&!ce(s.value)){L(!1);return}Ve.get(t.url,w.value).then(h=>{var q;y=!1;let T=[];(q=h==null?void 0:h.data)!=null&&q.records?(T=h.data.records,r=h.data.pages):h!=null&&h.data&&H(h.data)==="Array"?(T=h.data,r=h.pages):h!=null&&h.data&&H(h.data)==="Object"&&(T=[h.data],r=1),typeof t.optionFilter=="function"&&H(t.optionFilter)==="Function"&&(T=t.optionFilter(T)),$.isEmpty(T)||(T=T.map((K,M)=>{let j=D("r.optionLabel")+M;if(Array.isArray(t.optionsLabelKey)){let k=[];for(let F=1,U=t.optionsLabelKey.length;F<U;F++)k.push(K[t.optionsLabelKey[F]]);j=`${K[t.optionsLabelKey[0]]}(${String(k)})`}else $.isString(t.optionsLabelKey)&&(j=K[t.optionsLabelKey]);if(t.collectLabel){let k=$.cloneDeep(K);return delete k.value,delete k.label,{value:K[t.optionsValKey],label:j,...k}}return{value:K[t.optionsValKey],label:j}})),p.value.push(...T);let x={};p.value=p.value.filter(K=>x[K==null?void 0:K.value]?!1:(x[K==null?void 0:K.value]=!0,!0)),e.nextTick(function(){o("update-option-finish")}),L(!0)}).catch(()=>{me.Message.error(D("r.getDataError")),E(D("r.getDataError"))})}else L(!1)})}return e.onMounted(B),(L,E)=>{const h=e.resolveComponent("Option"),T=e.resolveComponent("Select"),x=e.resolveDirective("loadmore");return e.withDirectives((e.openBlock(),e.createBlock(T,e.mergeProps({modelValue:e.unref(g),"onUpdate:modelValue":E[0]||(E[0]=q=>e.isRef(g)?g.value=q:null),ref_key:"selectScrollSourceRef",ref:b,"transfer-class-name":u},L.$attrs,{transfer:"",filterable:"",placeholder:e.unref(d),disabled:L.disabled}),{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(p),(q,K)=>(e.openBlock(),e.createBlock(h,{key:"op"+K,value:q==null?void 0:q.value,label:q==null?void 0:q.label,disabled:q==null?void 0:q.disabled},null,8,["value","label","disabled"]))),128))]),_:1},16,["modelValue","placeholder","disabled"])),[[x,_,u]])}}}),_l=Object.freeze(Object.defineProperty({__proto__:null,AlCascaderMC:Nt,AsyncCascader:_t,BtTablePage:at,CheckboxGroupThreeClass:Bl,CheckboxGroupTwoClass:Vl,CheckboxTree:kl,Date:Lt,EditorPro:Dt,FormGroup:gl,FormModal:bl,FormR:Ke,FullPop:Ft,HeaderBt:st,Hello:zt,IconTxtBtn:qe,InputMap:St,MonthRange:xt,Page404:Mt,PagePro:Vt,SearchForm:ot,SelectInput:Bt,SelectScrollMore:Sl,ShowHidePanel:ve,ShowHidePanelB:ll,SideMenu:vt,SideMenuPro:tl,TableIconBtn:ht,TableSearch:nl,TableSetting:gt,TransferBox:wl,UploadGroup:Tt,WellCard:Cl},Symbol.toStringTag,{value:"Module"})),Ja={class:"a4Line aL notPrint"},Ya={class:"a4Line aR notPrint"},Qa={class:"a4Line bL notPrint"},Za={class:"a4Line bR notPrint"},va={class:"topsL notPrint"},eo={class:"topsLTitle"},to={class:"topsLBtn"},lo={class:"topsLHelp"},no={key:0},ao={key:1},oo={key:2},io=["innerHTML"],ro=e.defineComponent({__name:"PrintModal",setup(l){const c=Le.useRoute(),o=e.ref(),t=e.ref(!1),n=e.ref(!1),r=e.ref(!1),s=e.ref(100),p=e.ref(),i=e.ref(715),y=e.ref(!1),m=e.ref(),u="tablePrint_"+Date.now().toString(),d=e.ref(""),g=e.ref([]),w=e.ref([]),b=e.ref(!1),B=e.computed(()=>({width:i.value+"px"})),V=()=>{m.value&&window.sessionStorage.removeItem("print_"+m.value),window.sessionStorage.removeItem(u),window.close()},S=()=>{y.value&&(y.value=!1)},N=()=>{b.value=!0},_=T=>{b.value&&(i.value=(T==null?void 0:T.layerX)-20)},z=()=>{b.value&&(b.value=!1)},L=()=>{y.value=!1;let T=window.setTimeout(()=>{window.clearTimeout(T),window.print()},100)},E=T=>{if(typeof p.value=="function")return p.value(T)},h=()=>{var T,x,q,K,M,j,k;if(m.value=(T=c==null?void 0:c.params)==null?void 0:T.isFrom,m.value){let F=window.sessionStorage.getItem("print_"+m.value);if(F){const U=JSON.parse(F);if(!U){t.value=!0;return}if(g.value=U.columns,w.value=U.data,o.value=U.title,d.value=((x=U.config)==null?void 0:x.customClass)||"",n.value=((q=U.config)==null?void 0:q.domPrint)||!1,r.value=((K=U.config)==null?void 0:K.autoPrint)||!1,s.value=((M=U.config)==null?void 0:M.autoPrintTimeout)||100,i.value=((j=U.config)==null?void 0:j.width)||715,document.title=(o.value||D("r.print"))+"_"+new Date().toLocaleString(),(k=U.funcArr)!=null&&k.length){for(let P of U.funcArr)if(P.name==="spanMethod"){p.value=new Function("return "+P.func)();break}}}else t.value=!0}};return e.onMounted(()=>{if(r.value){let T=window.setTimeout(()=>{window.clearTimeout(T),L()},s.value)}document.addEventListener("click",S),document.addEventListener("mousemove",_),document.addEventListener("mouseup",z)}),h(),(T,x)=>{const q=e.resolveComponent("Table");return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["tablePrintModal",[e.unref(d)]])},[e.withDirectives(e.createElementVNode("div",{class:"msgL notPrint"},e.toDisplayString(e.unref(D)("r.printGuide.9")),513),[[e.vShow,e.unref(t)]]),e.withDirectives(e.createElementVNode("div",Ja,[e.createElementVNode("p",null,e.toDisplayString(e.unref(D)("r.printGuide.7")),1),x[2]||(x[2]=e.createTextVNode()),e.createElementVNode("p",null,e.toDisplayString(e.unref(D)("r.printGuide.5")),1)],512),[[e.vShow,!e.unref(t)]]),e.withDirectives(e.createElementVNode("div",Ya,[e.createElementVNode("p",null,e.toDisplayString(e.unref(D)("r.printGuide.7")),1),x[3]||(x[3]=e.createTextVNode()),e.createElementVNode("p",null,e.toDisplayString(e.unref(D)("r.printGuide.6")),1)],512),[[e.vShow,!e.unref(t)]]),e.withDirectives(e.createElementVNode("div",Qa,[e.createElementVNode("p",null,e.toDisplayString(e.unref(D)("r.printGuide.8")),1),x[4]||(x[4]=e.createTextVNode()),e.createElementVNode("p",null,e.toDisplayString(e.unref(D)("r.printGuide.5")),1)],512),[[e.vShow,!e.unref(t)]]),e.withDirectives(e.createElementVNode("div",Za,[e.createElementVNode("p",null,e.toDisplayString(e.unref(D)("r.printGuide.8")),1),x[5]||(x[5]=e.createTextVNode()),e.createElementVNode("p",null,e.toDisplayString(e.unref(D)("r.printGuide.6")),1)],512),[[e.vShow,!e.unref(t)]]),e.withDirectives(e.createElementVNode("div",va,[e.createElementVNode("div",eo,e.toDisplayString(e.unref(o)||e.unref(D)("r.print")),1),e.createElementVNode("div",to,[e.createVNode(qe,{icon:"md-help-circle",name:e.unref(D)("r.help"),onClick:x[0]||(x[0]=e.withModifiers(K=>y.value=!e.unref(y),["stop"]))},null,8,["name"]),e.createVNode(qe,{icon:"md-print",name:e.unref(D)("r.preview"),onClick:L},null,8,["name"]),e.unref(n)?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(gt,{key:0,modelValue:e.unref(g),"onUpdate:modelValue":x[1]||(x[1]=K=>e.isRef(g)?g.value=K:null),"s-key":u,storage:"sessionStorage"},null,8,["modelValue"])),e.createVNode(ht,{icon:"md-close",onClick:V,title:e.unref(D)("r.close")},null,8,["title"])]),e.withDirectives(e.createElementVNode("div",lo,[e.unref(n)?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("p",no,[x[6]||(x[6]=e.createElementVNode("span",null,"1. ",-1)),e.createElementVNode("span",null,e.toDisplayString(e.unref(D)("r.printGuide.1")),1)])),e.unref(n)?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("p",ao,[x[7]||(x[7]=e.createElementVNode("span",null,"2. ",-1)),e.createElementVNode("span",null,e.toDisplayString(e.unref(D)("r.printGuide.2")),1)])),e.unref(n)?(e.openBlock(),e.createElementBlock("p",oo,[x[8]||(x[8]=e.createElementVNode("span",null,"1. ",-1)),e.createElementVNode("span",null,e.toDisplayString(e.unref(D)("r.printGuide.10")),1)])):e.createCommentVNode("",!0),e.createElementVNode("p",null,[e.createElementVNode("span",null,e.toDisplayString(e.unref(n)?"2. ":"3. "),1),e.createElementVNode("span",null,e.toDisplayString(e.unref(D)("r.printGuide.3")),1)]),e.createElementVNode("p",null,[e.createElementVNode("span",null,e.toDisplayString(e.unref(n)?"3. ":"4. "),1),e.createElementVNode("span",null,e.toDisplayString(e.unref(D)("r.printGuide.4")),1)])],512),[[e.vShow,e.unref(y)]])],512),[[e.vShow,!e.unref(t)]]),e.unref(n)?(e.openBlock(),e.createElementBlock("div",{key:0,class:"domPrintSetting notPrint",style:e.normalizeStyle(e.unref(B))},[e.createElementVNode("div",{class:"settingLine",onMousedown:e.withModifiers(N,["stop"])},null,32)],4)):e.createCommentVNode("",!0),e.unref(n)?(e.openBlock(),e.createElementBlock("div",{key:1,class:"domPrintContent",innerHTML:e.unref(w),style:e.normalizeStyle(e.unref(B))},null,12,io)):e.createCommentVNode("",!0),e.unref(n)?e.createCommentVNode("",!0):e.withDirectives((e.openBlock(),e.createBlock(q,{key:2,class:"tablePW",columns:e.unref(g),data:e.unref(w),"span-method":E,border:""},null,8,["columns","data"])),[[e.vShow,!e.unref(t)]])],2)}}});let Te=null;function Nl(){document.documentElement.style.setProperty("overflow","auto");const c=document.createElement("style");c.innerHTML="body,div[data-v-app]{height:100% !important}",document.head.appendChild(c)}function so(l){l!=null&&l.addRoute&&(l.hasRoute("tablePrint")||l.addRoute({name:"tablePrint",path:"/tablePrint/:isFrom",component:ro})),Te=l,location.pathname.indexOf("tablePrint")>-1?(Te.push(location.pathname),Nl()):location.hash.indexOf("tablePrint")>-1&&(Te.push(location.hash.replace(/^#/,"")),Nl())}function Tl(l){return H(l)==="Object"&&(l.width=l.minWidth||100,l.sortable=!1,delete l.minWidth,delete l.__id,l.resizable=!0,l.children&&H(l.children)==="Array"&&(l.children=l.children.map(Tl))),l}function co(l,c,o,t){var m,u,d;if(!Te)return;let n;if(!(t!=null&&t.domPrint)){let g=$.cloneDeep(l.filter(w=>(w==null?void 0:w.key)||(w==null?void 0:w.children)));g[0].type==="selection"&&g.shift(),g.length?n=g.map(Tl):n=[]}const r=[];t&&Object.entries(t).forEach(([g,w])=>{typeof w=="function"&&(r.push({name:g,func:w.toString().replaceAll(/[\r\n\t]/g,"").replaceAll(/\s{2,}/g," ")}),delete t[g])});let s=(u=(m=Te==null?void 0:Te.currentRoute)==null?void 0:m.value)==null?void 0:u.fullPath;s&&(s=(d=s.replace)==null?void 0:d.call(s,/\//g,"_"));let p={data:c,title:o,config:t,funcArr:r};t!=null&&t.domPrint||(p.columns=n),window.sessionStorage.setItem("print_"+s,JSON.stringify(p));const i=Te.resolve({name:"tablePrint",params:{isFrom:s}});window.open(i==null?void 0:i.href,"_blank")||console.log("请不要禁用浏览器弹出窗口，否则无法正常使用该打印功能。")}const it={print:co,init:so};function xl(l="",c="",o={}){o.domPrint=!0,o.width||(o.width=715),it.print([],l,c,o)}function Ll(l){var r,s;const c=(...p)=>Ce.apply(this,p),o=c("r.closePreview"),t=c("r.fullImg");let n="previewImg"+Math.floor(Math.random()*1e7);(s=(r=me.Modal)==null?void 0:r.info)==null||s.call(r,{closable:!1,"transition-names":["linear","fade"],render:p=>e.h("div",{class:"previewModal",id:n},[e.h("div",{class:"previewModalInner"},[e.h("img",{src:l,alt:t}),e.h(me.Icon,{type:"md-close",title:o,class:"previewModalDelete",onClick(){var i,y;(y=(i=me.Modal)==null?void 0:i.remove)==null||y.call(i)}})])])}),fe(()=>{var y,m,u,d,g,w;const p=(d=(u=(m=(y=document.getElementById(n))==null?void 0:y.parentElement)==null?void 0:m.parentElement)==null?void 0:u.parentElement)==null?void 0:d.parentElement,i=(w=(g=document.getElementById(n))==null?void 0:g.parentElement)==null?void 0:w.nextSibling;p&&(p.style.height="0"),p&&(p.style.padding="0"),i&&(i.style.display="none")},10)}const fo=Object.freeze(Object.defineProperty({__proto__:null,$fetch:Ve,$swal:he,$swalConfirm:yt,domPrint:xl,fullScreenImgByDom:Ae,fullScreenImgPreview:Ll,messageBox:tt,setInterval:Zt,setTimeout:fe,tablePrint:it},Symbol.toStringTag,{value:"Module"}));(()=>{if(window.wangeditorMenuInit)return;class l{constructor(){Ue(this,"title");Ue(this,"iconSvg");Ue(this,"tag");Ue(this,"alwaysEnable");this.title=Ce("r.preview"),this.iconSvg='<svg t="1656644788547" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="12356" width="256" height="256"><path d="M512 1024H135.4C60.7 1024 0 963.3 0 888.6V135.4C0 60.7 60.7 0 135.4 0h753.2C963.3 0 1024 60.7 1024 135.4V512c0 24.9-20.1 45-45 45s-45-20.1-45-45V135.4c0-25-20.4-45.4-45.4-45.4H135.4c-25 0-45.4 20.4-45.4 45.4v753.2c0 25 20.4 45.4 45.4 45.4H512c24.9 0 45 20.1 45 45s-20.1 45-45 45z" p-id="12357"></path><path d="M512 802c-77.5 0-150.3-30.2-205.1-84.9C252.2 662.3 222 589.5 222 512s30.2-150.3 84.9-205.1S434.5 222 512 222s150.3 30.2 205.1 84.9C771.8 361.7 802 434.5 802 512s-30.2 150.3-84.9 205.1C662.3 771.8 589.5 802 512 802z m0-490c-110.3 0-200 89.7-200 200s89.7 200 200 200 200-89.7 200-200-89.7-200-200-200z" p-id="12358"></path><path d="M978.5 1023.5c-11.5 0-23-4.4-31.8-13.2L653.2 716.8c-17.6-17.6-17.6-46.1 0-63.6 17.6-17.6 46.1-17.6 63.6 0l293.5 293.5c17.6 17.6 17.6 46.1 0 63.6-8.8 8.8-20.3 13.2-31.8 13.2z" p-id="12359"></path></svg>',this.tag="button",this.alwaysEnable=!0}getValue(){return""}isActive(){return!1}isDisabled(){return!1}exec(t){var i,y,m,u,d,g,w,b,B;const n=document.getElementById("editor-preview");let r=localStorage.getItem("editorPreviewW")||300,s=localStorage.getItem("editorPreviewH")||500;const p=(i=t==null?void 0:t.getHtml)==null?void 0:i.call(t);if(n){let V=(g=(d=(u=(m=(y=n.children)==null?void 0:y[0])==null?void 0:m.children)==null?void 0:u[1])==null?void 0:d.children)==null?void 0:g[0],S=(B=(b=(w=n.children)==null?void 0:w[0])==null?void 0:b.children)==null?void 0:B[1];V&&(V.innerHTML=p,V.style.width=r+"px"),S&&(S.style.height=s+"px"),n.style.display="block"}else{const V=document.body,S=document.createElement("div");S.setAttribute("id","editor-preview"),S.setAttribute("class","editor-preview-mask"),S.innerHTML=`<div class='editor-preview-body'><div class='editor-preview-head'><div><span>宽</span><input type='number' value='${r}' min='200'><span>高</span><input type='number' value='${s}' min='300'></div><i class='ivu-icon ivu-icon-md-close'></i></div><div class='editor-preview-out-wall'><div class='editor-preview-wall r-editor-view'></div></div></div>`;let N=S.children[0].children[1],_=S.children[0].children[1].children[0],z=S.children[0].children[0].children[0].children[1];const L=40,E=70,h=K=>{var k;if((K==null?void 0:K.type)==="keyup"){let F=!1;if(K.key&&(F=K.key!=="Enter"),F)return}let M=(k=K==null?void 0:K.target)==null?void 0:k.value;if(M=Number(M),_.style&&_.style.width===M+"px")return;const j=V.clientWidth;M<250?(M=250,K.target.value=250):M>j-L&&(M=j-L,K.target.value=j-L),_.style.width=M+"px",localStorage.setItem("editorPreviewW",M)};z.addEventListener("blur",h),z.addEventListener("keyup",h);let T=S.children[0].children[0].children[0].children[3];const x=K=>{var k;if((K==null?void 0:K.type)==="keyup"){let F=!1;if(K.key&&(F=K.key!=="Enter"),F)return}let M=(k=K==null?void 0:K.target)==null?void 0:k.value;if(M=Number(M),N.style&&N.style.height===M+"px")return;const j=V.clientHeight;M<300?(M=300,K.target.value=300):M>j-E&&(M=j-E,K.target.value=j-E),N.style.height=M+"px",localStorage.setItem("editorPreviewH",M)};T.addEventListener("blur",x),T.addEventListener("keyup",x),S.children[0].children[0].children[1].addEventListener("click",()=>{S.style.display="none"}),_.innerHTML=p,_.style.width=r+"px",N.style.height=s+"px",V.append(S)}}}const c={key:"previewX",factory(){return new l}};Wl.Boot.registerMenu(c),window.wangeditorMenuInit=!0})();const po=je.use,mo=je.i18n,Dl={...fo,...rn},Ol=function(l,c={}){Ve.init(c.useStore||c.store,l),l.use(jl),c.locale&&je.use(c.locale),c.i18n&&je.i18n(c.i18n),c.router&&(fn(c.router),it.init(c.router)),c.amap&&qn(c.amap),c.notRegistryGlobal||(Object.keys(_l).forEach(o=>{l.component(o)||l.component(o,_l[o])}),Object.keys(Dl).forEach(o=>{l.config.globalProperties[o]=Dl[o]})),l.directive("has")||l.directive("has",(o,t)=>{t.value&&!Ye(t.value)&&(o.style.display="none")}),l.directive("loadmore")||l.directive("loadmore",{mounted(o,t){var r;let n=o;t.arg&&(n=(r=document.getElementsByClassName(t.arg))==null?void 0:r[0]),n&&n.addEventListener("scroll",function(){n.scrollTop>0&&n.scrollHeight-n.scrollTop<=n.clientHeight&&t.value()})}}),l.directive("clickOutside")||l.directive("clickOutside",al),l.config.globalProperties.fontSizeBase=14,l.config.globalProperties.searchFormLabelWidth=84,l.config.globalProperties.searchFormItemWidth=202,l.config.globalProperties.formModalLabelWidth=140,l.config.globalProperties.formModalWidth=520,l.config.globalProperties.formGroupLabelWidth=160,l.config.globalProperties.formGroupWidth="100%",l.config.globalProperties.iconTxtBtnIconSize=17,l.config.globalProperties.pageSizes=[10,20,50,100],l.config.globalProperties.btTablePageUsePagePro=!0,l.config.globalProperties.btTablePageAlign="center",l.config.globalProperties.pageShowTotal=!0,l.config.globalProperties.pageShowSizer=!0,l.config.globalProperties.tableSettingBg="#fff",l.config.globalProperties.tableSettingTransfer=!0,l.config.globalProperties.tableSettingEventsEnabled=!0},uo={install:Ol};A.$fetch=Ve,A.$swal=he,A.$swalConfirm=yt,A.AlCascaderMC=Nt,A.AsyncCascader=_t,A.BtTablePage=at,A.CheckboxGroupThreeClass=Bl,A.CheckboxGroupTwoClass=Vl,A.CheckboxTree=kl,A.Date=Lt,A.EditorPro=Dt,A.FormGroup=gl,A.FormModal=bl,A.FormR=Ke,A.FullPop=Ft,A.HeaderBt=st,A.Hello=zt,A.IconTxtBtn=qe,A.InputMap=St,A.MonthRange=xt,A.Page404=Mt,A.PagePro=Vt,A.SearchForm=ot,A.SelectInput=Bt,A.SelectScrollMore=Sl,A.ShowHidePanel=ve,A.ShowHidePanelB=ll,A.SideMenu=vt,A.SideMenuPro=tl,A.TableIconBtn=ht,A.TableSearch=nl,A.TableSetting=gt,A.TransferBox=wl,A.UploadGroup=Tt,A.WellCard=Cl,A.clearObj=Je,A.dataFilterOrToUrl=Yt,A.decimalDigitsLimit=Ht,A.default=uo,A.domPrint=xl,A.downloadFileByFormSubmit=dt,A.downloadFileReaderFile=il,A.emptyInput=En,A.fakeALinkClick=rl,A.fileExport=Wt,A.findCollection=ze,A.findPath=et,A.formDataHeadConfig=Kt,A.fullScreenImgByDom=Ae,A.fullScreenImgPreview=Ll,A.getColumnsKeys=jt,A.getFileSrc=bt,A.getFileTypeByName=kt,A.getFileTypeIconByName=wt,A.getStringWidth=sl,A.has=$t,A.hasPermission=Ye,A.htmlDecode=In,A.htmlEncode=On,A.htmlPrint=Qt,A.i18n=mo,A.install=Ol,A.isClient=Xe,A.isEmptyValue=Xt,A.isImgByFile=Ie,A.isNaN=pt,A.isNumberValue=qt,A.isValidValue=ce,A.locale=po,A.messageBox=tt,A.myTypeof=H,A.oneOf=Gt,A.removeEmptyValue=Qe,A.setInterval=Zt,A.setTimeout=fe,A.setValByOption=De,A.setValue=Be,A.siblingElems=Ze,A.stopBubbling=An,A.stringLength=Jt,A.tablePrint=it,A.toFormData=Ut,A.toHump=ol,A.toLine=ct,A.tooltipManual=ft,A.trimObj=Fe,Object.defineProperties(A,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
//# sourceMappingURL=plugRQw.umd.cjs.map
