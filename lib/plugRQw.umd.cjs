(function(E,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue"),require("deepmerge"),require("lodash-es"),require("sweetalert"),require("view-ui-plus"),require("vue-router"),require("popper.js"),require("axios"),require("@amap/amap-jsapi-loader"),require("ar-cascader"),require("@wangeditor/editor-for-vue"),require("moment"),require("@wangeditor/editor"),require("vue-json-viewer")):typeof define=="function"&&define.amd?define(["exports","vue","deepmerge","lodash-es","sweetalert","view-ui-plus","vue-router","popper.js","axios","@amap/amap-jsapi-loader","ar-cascader","@wangeditor/editor-for-vue","moment","@wangeditor/editor","vue-json-viewer"],e):(E=typeof globalThis<"u"?globalThis:E||self,e(E.plugRQw={},E.Vue,E.deepmerge,E.lodash,E.swal,E.ViewUIPlus,E.VueRouter,E.Popper,E.axios,E.AMapLoader,E.ArCascader,E.WangEditorForVue,E.moment,E.wangEditor,E.JsonView))})(this,function(E,e,Ce,F,Me,ce,at,Il,ot,$e,Pl,Ot,Ae,Fl,zl){"use strict";var io=Object.defineProperty;var ro=(E,e,Ce)=>e in E?io(E,e,{enumerable:!0,configurable:!0,writable:!0,value:Ce}):E[e]=Ce;var Re=(E,e,Ce)=>(ro(E,typeof e!="symbol"?e+"":e,Ce),Ce);var Cl,Sl;const At={r:{locale:"zh-CN",testMsg:"测试国际化",confirm:"确定",save:"保存",cancel:"取消",clear:"清空",info:{title:"提示",text:"确定执行该操作？"},http:{403:"登录状态失效,请重新登录！",409:"该账号已在其他地方登录,点击确定退出。"},pSelect:"请选择",pInput:"请输入",selectDate:"选择日期",selectTime:"选择时间",search:"搜索",level:{1:"一级",2:"二级",3:"三级"},unknown:"未知",title:"标题",required:"该项为必填",back:"返回",button:"按钮",check:"查询",adSearch:"高级查询",all:"全选",tabSetting:" 列表显示设置",delete:"删除",fView:"全屏预览",download:"点击下载",file:"文件",selectFile:"选择文件",notImg:"文件不是图片，不可预览",wrongFileType:"文件类型不被允许",supportType:"支持类型：",none:"无",fileIsBig:"文件过大",supportSize:"支持最大：",uploadError:"上传出错",uploadFail:"上传失败",closePreview:"关闭预览",fullImg:"全屏图片",preview:"预览",searchFor:"当前搜索：",noMore:"没有更多数据了",optionLabel:"选项",getDataError:"拉取数据出错",add:"添加",remove:"移除",addAll:"全部添加",removeAll:"全部移除",added:"已添加",notAdded:"未添加",success:"成功",failed:"失败",error:"出错",pageNotFound:"页面没找到",notFoundMsg:"您访问的页面不存在，点击下面按钮返回上一个页面。",hideMenu:"隐藏菜单",showMenu:"显示菜单",print:"打印",close:"关闭",help:"帮助",printGuide:{1:"鼠标停留在表头列右边框，出现拖动图标，按下鼠标拖动可设置列宽。",2:"点击“列表显示设置”，可选择需要打印的列，选择完需点击“确定”按钮。",3:"页面有A4灰色参考线，将打印内容右边缘调至参考线区间，打印机默认设置时可将表格内容铺满A4纸，表格越宽字体将越小。",4:"将此页面地址复制到浏览器地址栏，打开的页面将不可用。",5:"未到此线内容将无法铺满纸张",6:"超过此线打印内容将不完整",7:"A4 纵向参考线",8:"A4 横向参考线",9:"复制的页面无法使用该打印功能。",10:"鼠标停留在打印内容顶部矩形条右边框，出现拖动图标，按下鼠标拖动可设置打印内容宽度。"},page:"条/页",total:"共",items:"条",notSave:"您未保存，是否保存？"}},Rl=/(%|){([0-9a-zA-Z_]+)}/g;function Ml(){function l(i,t){return Object.prototype.hasOwnProperty.call(i,t)}function s(i,...t){let o;return t.length===1&&typeof t[0]=="object"&&(o=t[0]),(!o||!o.hasOwnProperty)&&(o={}),i===void 0?"":i.replace(Rl,(a,r,m,d)=>{let g;return i[d-1]==="{"&&i[d+a.length]==="}"?m:(g=l(o,m)?o[m]:null,g??"")})}return s}const $l=Ml();let Ke=At;const Kl={zh:At};let Et,It={},fe,Ul=function(l,s){if(typeof this=="object"&&Reflect.has(this,"$t"))return this.$t(l,s);if(fe&&fe.global)return fe.global.t(l,s);if(fe&&fe.locale){if(!It[fe.locale]||Et!=fe.locale){It[fe.locale]=!0;let i=fe.getLocaleMessage(fe.locale)||{},t=Ce(Kl[fe.locale],i,{clone:!0});Ke=t,fe.setLocaleMessage(fe.locale,t),Et=fe.locale}return fe.hlang(l,s)}};const ke=function(l,s){let i=Ul.apply(this,[l,s]);if(i!=null)return i;const t=l.split(".");let o=Ke;for(let a=0,r=t.length;a<r;a++){const m=t[a];if(i=o[m],a===r-1)return $l(i,s);if(!i)return"";o=i}return""},Ue={use:function(l){Ke=l||Ke},t:ke,i18n:function(l){fe=l}};function N(l,s){var t,o,a;const i=(a=(o=(t=e.getCurrentInstance())==null?void 0:t.appContext)==null?void 0:o.config)==null?void 0:a.globalProperties;return ke.apply(i,[l,s])}const it=e.defineComponent({__name:"HeaderBt",props:{icon:{},withIcon:{type:Boolean,default:!1},iconSize:{default:18},color:{default:"inherit"},borderColor:{default:"#fff"},disabled:{type:Boolean,default:!1}},emits:["click"],setup(l,{emit:s}){const i=l,t=s;function o(){i.disabled||t("click")}return(a,r)=>{const m=e.resolveComponent("Icon");return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass({headerBtCTM:!0,withIconCTM:i.icon||i.withIcon,disabled:i.disabled}),style:e.normalizeStyle({color:i.color,borderLeftColor:i.borderColor}),onClick:o},[i.icon?(e.openBlock(),e.createBlock(m,{key:0,size:i.iconSize,type:i.icon},null,8,["size","type"])):e.createCommentVNode("",!0),e.renderSlot(a.$slots,"default")],6)}}});function oe(){const{appContext:l}=e.getCurrentInstance();return l.config.globalProperties}const Gl={class:"headerTxtAM"},Hl={class:"contentAM"},Pt=e.defineComponent({__name:"FullPop",props:{title:{},headerColor:{},headerBg:{},headerFontSize:{default:()=>{var l;return(l=oe())==null?void 0:l.fontSizeBase}},zIndex:{default:1e3}},emits:["on-open","on-close"],setup(l,{expose:s,emit:i}){const t=l,o=i;let a=e.ref(!1);const r=e.computed(()=>typeof t.headerFontSize=="number"?t.headerFontSize+"px":t.headerFontSize),m=e.computed(()=>({zIndex:t.zIndex}));function d(){a.value=!0,o("on-open")}function g(f){a.value=!1,o("on-close",f===!0)}return s({open:d,close:g}),(f,p)=>e.withDirectives((e.openBlock(),e.createElementBlock("div",{class:"fullScreenPopBoxAM",style:e.normalizeStyle(e.unref(m))},[e.createElementVNode("div",{class:"headerAM",style:e.normalizeStyle({color:t.headerColor,backgroundColor:t.headerBg,fontSize:e.unref(r)})},[e.createElementVNode("span",Gl,e.toDisplayString(f.title||e.unref(N)("r.title")),1),e.createVNode(it,{icon:"md-return-left",onClick:g},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(N)("r.back")),1)]),_:1})],4),e.createElementVNode("div",Hl,[e.renderSlot(f.$slots,"default")])],4)),[[e.vShow,e.unref(a)]])}}),Wl={class:"msg"},Ft=e.defineComponent({__name:"Hello",setup(l){let s=e.ref("Greetings from Ricky.");return(i,t)=>(e.openBlock(),e.createElementBlock("span",Wl,e.toDisplayString(e.unref(s)),1))}}),Ge=e.defineComponent({__name:"IconTxtBtn",props:{name:{},icon:{default:"md-download"},size:{default:()=>oe().iconTxtBtnIconSize},disabled:{type:Boolean,default:!1},has:{default:""}},emits:["click"],setup(l,{emit:s}){const i=l,t=s,o=e.computed(()=>{var r;return Math.floor(i.size/17*((r=oe())==null?void 0:r.fontSizeBase))+"px"});function a(r){i.disabled||t("click",r)}return(r,m)=>{const d=e.resolveComponent("Icon"),g=e.resolveDirective("has");return e.withDirectives((e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["tabTopBtnsT",{disabled:i.disabled}]),onClick:a,style:e.normalizeStyle({"font-size":e.unref(o)})},[e.createVNode(d,{type:i.icon,size:i.size},null,8,["type","size"]),e.createTextVNode(" "+e.toDisplayString(i.name||e.unref(N)("r.button")),1)],6)),[[g,r.has]])}}}),jl={class:"c404K"},ql=e.createElementVNode("div",{class:"t404"},"404",-1),Jl={class:"ct404"},Yl={class:"p404"},zt=e.defineComponent({__name:"Page404",setup(l){const i=e.getCurrentInstance().appContext.config.globalProperties.$router;function t(){i.go(-1)}return(o,a)=>{const r=e.resolveComponent("Button");return e.openBlock(),e.createElementBlock("div",jl,[ql,e.createElementVNode("div",Jl,"UH OH! "+e.toDisplayString(e.unref(N)("r.pageNotFound")),1),e.createElementVNode("div",Yl,e.toDisplayString(e.unref(N)("r.notFoundMsg")),1),e.createVNode(r,{class:"bt404",onClick:t},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(N)("r.back")),1)]),_:1})])}}});function me(l,s,i,t=!0){const o=(...a)=>ke.apply(this,a);return new Promise((a,r)=>{if(typeof l=="object"&&!Array.isArray(l)){let m=o("r.confirm"),d=o("r.cancel"),g=!1,f="swalConfirmBt",p="swalCancelBt";const y=/^HTML.*Element$/;l.type&&(l.icon=l.type)&&delete l.type,l.content&&(l.text=l.content)&&delete l.content,l.className=l.className||"swalBoxX";let k="";l.text&&y.test(G(l.text))?k="content":l.text&&G(l.text)==="String"&&(k="text"),l.buttons&&(typeof l.buttons=="object"&&!Array.isArray(l.buttons)?l.buttons.cancel&&(l.buttons.cancel.text&&(d=l.buttons.cancel.text)&&(g=!0),l.buttons.cancel.className&&(p=l.buttons.cancel.className),l.buttons.confirm.text&&(m=l.buttons.confirm.text),l.buttons.confirm.className&&(f=l.buttons.confirm.className)):Array.isArray(l.buttons)&&(l.buttons[0]&&(d=l.buttons[0],g=!0),l.buttons[1]&&(m=l.buttons[1]))),Me({title:l.title,icon:l.icon,className:l.className,[k]:l.text,buttons:{confirm:{text:m,value:!0,visible:!0,className:f},cancel:{text:d,value:null,visible:g,className:p}},closeOnClickOutside:l.closeOnClickOutside??!0}).then(C=>{C&&typeof l.onOk=="function"&&l.onOk(),a(C)}).catch(C=>{r(C)})}else if(typeof l=="string"){let m="";if(s)switch(typeof s){case"string":m="text";break;case"object":m="content";break}Me({title:l,[m]:s||"",icon:i||"",className:"swalBoxX",closeOnClickOutside:t,buttons:{confirm:{text:o("r.confirm"),value:!0,visible:!0,className:"swalConfirmBt",closeModal:!0}}}).then(d=>{a(d)}).catch(d=>{r(d)})}else if(typeof l=="boolean")!l&&Me.close&&Me.close();else throw new TypeError("swal第一个参数类型有误，仅支持Object/String/false")})}function Rt(l){return l.replace(/_(\w)/g,function(s,i){return i.toUpperCase()})}function Xl(l){let s=document.createElement("div");return s.textContent!==void 0?s.textContent=l:s.innerText=l,s.innerHTML}function Ql(l){let s=document.createElement("div");return s.innerHTML=l,s.innerText||s.textContent}function He(l){return new Promise(s=>{let i=new FileReader;i.readAsDataURL(l),i.onloadend=()=>{s(i.result)}})}function rt(l){return(l==null?void 0:l.split(".").pop().toLocaleLowerCase())||""}function We(l){return G(l)==="String"&&l.indexOf("image")>-1}function st(l){const s=rt(l);let i="ios-document-outline";return["gif","jpg","jpeg","png","bmp","webp"].indexOf(s)>-1?i="ios-image":["mp4","m3u8","rmvb","avi","swf","3gp","mkv","flv"].indexOf(s)>-1?i="ios-film":["mp3","wav","wma","ogg","aac","flac"].indexOf(s)>-1?i="ios-musical-notes":["doc","txt","docx","pages","epub","pdf"].indexOf(s)>-1?i="md-document":["numbers","csv","xls","xlsx"].indexOf(s)>-1?i="ios-stats":["keynote","ppt","pptx"].indexOf(s)>-1&&(i="ios-videocam"),i}function Mt(l,s){let i=document.createElement("a");i.href=s,i.download=l,$t(i)}function $t(l){let s=document.createEvent("MouseEvents");s.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),l.dispatchEvent(s)}function je({group:l,condition:s,pathKey:i,childKey:t="children",path:o=[]}){if(l&&F.isObject(l)){if(F.isFunction(s)){if(F.isPlainObject(l)){let a=l,r=F.cloneDeep(o);if(s(a))return i&&a[i]&&r.push(a[i]),r;if(a[t]&&!F.isEmpty(a[t])){i&&a[i]&&r.push(a[i]);let m=je({group:a[t],condition:s,pathKey:i,childKey:t,path:r});if(!F.isEmpty(m))return m}}else if(Array.isArray(l))for(let a of l){let r=F.cloneDeep(o);if(s(a))return i&&a[i]?r.push(a[i]):r.push(String(l.indexOf(a))),r;if(a[t]&&a[t].length>0){i&&a[i]?r.push(a[i]):r.push(String(l.indexOf(a)));let m=je({group:a[t],condition:s,pathKey:i,childKey:t,path:r});if(!F.isEmpty(m))return m}}}else if(Array.isArray(l))for(let a of l){let r=F.cloneDeep(o);if(a===s)return r.push(String(l.indexOf(a))),r}}return[]}function Kt(l,s=12){if(G(l)==="String"&&l.length>0){let i=document.createElement("span");i.style.fontSize=s+"px",i.style.fontFamily="inherit",i.innerHTML=l,i.style.opacity="0",i.style.position="fixed",i.style.top="3000px",document.body.append(i);const t=i.clientWidth;return document.body.removeChild(i),t}return 0}function Zl(l){return l===""?null:l}function vl(l){var s;l=l||window.Event,l!=null&&l.stopPropagation?(s=l.stopPropagation)==null||s.call(l):l&&(l.cancelBubble=!0)}const qe=typeof window<"u";function ye(l,s){e.isRef(l)?l.value=s:l=s}function G(l){return Object.prototype.toString.call(l).replace(/\[object |]/g,"")}function ct(l){return l.replace(/([A-Z])/g,"_$1").toLowerCase()}function Ee(l){let s=G(l);if(s==="Object"){for(let i in l)if(l.hasOwnProperty(i)){let t=G(l[i]);t==="String"?l[i]=l[i].trim():(t==="Object"||t==="Array")&&Ee(l[i])}}else if(s==="Array")for(let i=0,t=l.length;i<t;i++){let o=G(l[i]);o==="String"?l[i]=l[i].trim():(o==="Array"||o==="Object")&&Ee(l[i])}return l}function Je(l,s=[]){if(G(l)==="Array")return l.forEach((i,t)=>{switch(G(i)){case"Array":case"Object":Je(i);break;default:l[t]=null}}),l;if(G(l)==="Object"){for(let i in l)if(l.hasOwnProperty(i)){let t=!0;for(let o of s)if(o===i){t=!1;break}if(t)switch(G(l[i])){case"Array":case"Object":Je(l[i]);break;default:l[i]=null}}return l}else return l}const Ut={headers:{"Content-Type":"multipart/form-data"}};function Gt(l){let s=new FormData;for(let i in l)l.hasOwnProperty(i)&&l[i]!==null&&s.append(i,l[i]);return s}function Se(l,s,i=!1){if(!l||!s)return!1;let t,o="notFoundC",a=function(r,m){if(Array.isArray(r)){if(G(m)==="Function"&&m(r))return o=r,[];for(let d of r){if(o!=="notFoundC")break;if(G(m)==="Function"&&m(d)||d===m)return o=d,[r.indexOf(d)];if(G(d)==="Array"||G(d)==="Object"){let g=a(d,m);if(g!==void 0)return[r.indexOf(d),...g]}}}else if(G(r)==="Object"){if(G(m)==="Function"&&m(r))return o=r,[];for(let d in r){if(o!=="notFoundC")break;if(r.hasOwnProperty(d)){if(G(m)==="Function"&&m(d)||r[d]===m)return o=r[d],[d];if(G(r[d])==="Object"||G(r[d])==="Array"){let g=a(r[d],m);if(g!==void 0)return[d,...g]}}}}};return t=a(l,s),i?t||!1:o==="notFoundC"?!1:o}function Ht(l,s){for(let i=0,t=s.length;i<t;i++)if(l===s[i])return!0;return!1}function Wt(l,s=2){let i=new RegExp(`(^-?\\d+\\.\\d{${s}})(\\d+$)`),t=l&&String(l)||"";return i.test(t)?Number(t.replace(i,"$1")):l}function dt(l,s={},i="get"){let t=document.createElement("form"),o=document.getElementsByTagName("body")[0];o.appendChild(t),t.setAttribute("style","display:none"),t.setAttribute("target",""),t.setAttribute("method",i);let a=l;if(window&&window.hasOwnProperty("g")){let r=Object.keys(window.g).filter(m=>{var d;return((d=m==null?void 0:m.indexOf)==null?void 0:d.call(m,"URL"))>-1}).map(m=>{var d;return(d=m.replace)==null?void 0:d.call(m,"URL","")});for(let m of r){let d=new RegExp("^/"+m+"(?=/.*$)","i");if(d.test(l)&&window.g[m+"URL"]){a=window.g[m+"URL"]+l.replace(d,"");break}}}if(t.setAttribute("action",a),F.isPlainObject(s)){for(let m in s)if(s.hasOwnProperty(m)&&(s[m]||s[m]===0||s[m]===!1||s[m]==="")){let d=document.createElement("input");d.setAttribute("type","hidden"),d.setAttribute("name",m),d.setAttribute("value",s[m]),t.appendChild(d)}t.submit();let r=setTimeout(()=>{o.removeChild(t),clearTimeout(r),r=null},8e3)}else console.error("请求数据格式有误，无法下载文件")}function jt(l,s={},i="get"){if(s.hasOwnProperty("columns")&&(s.columns===""||s.columns===null||s.columns===void 0)){me.call(this,{title:"需要导出的列不能为空",type:"warning"});return}dt(l,s,i)}function qt(l,s,i=!1){let t;if(l&&G(s)==="Array"){let o=localStorage.getItem(l);if(o){let a=JSON.parse(decodeURI(o));t=s.filter(r=>{var m;return(r==null?void 0:r.key)&&((m=a==null?void 0:a.indexOf)==null?void 0:m.call(a,r.title))!==-1}).map(r=>r.key)}else t=s.map(a=>a==null?void 0:a.key)}else t=[];return i||(t=String(t)),t}function ie(l){return l!=null&&l!==""}function Jt(l){return/^-?\d+(.\d+)?$/.test(l)}function ft(l,s=!1,i="",t=12){return function(o,a){var g,f;let r;if(Array.isArray(l)){let p=[];for(let y of l)ie((g=a.row)==null?void 0:g[y])&&p.push(a.row[y]);r=p.join(i)}else typeof l=="function"?r=l(a):r=(f=a.row)==null?void 0:f[l];let m=Kt(r,t),d=a.column._width;return r&&m>d?e.h(ce.Tooltip,{style:{width:"100%"},content:r,maxWidth:d*2},()=>e.h("span",{style:{width:"100%",display:"inline-block","text-overflow":"ellipsis","white-space":"nowrap",overflow:"hidden","vertical-align":"top"}},r)):e.h("span",s&&!ie(r)?"--":r)}}function Yt(l){if(F.isPlainObject(l)){for(let s in l)if(l.hasOwnProperty(s)&&ie(l[s]))return!1;return!0}else if(Array.isArray(l)){for(let s of l)if(ie(s))return!1;return!0}return!ie(l)}function Xt(l){return G(l)==="String"?l.replace(/[^\x00-\xff]/g,"01").length:G(l)==="Number"?(l+="",l.replace(/[^\x00-\xff]/g,"01").length):0}function _e({group:l,condition:s,key:i,val:t,childKey:o="children"}){if(G(l)!=="Array"||G(s)!=="Function"||G(i)!=="String"||G(o)!=="String")return!1;l.forEach(a=>{s(a)&&(G(t)==="Function"?a[i]=t(a[i]):a[i]=t),G(a[o])==="Array"&&a[o].length>0&&_e({group:a[o],condition:s,key:i,val:t,childKey:o})})}function mt(l){let s=sessionStorage.getItem("btnPermissions");return s?s.split(",").indexOf(l)>-1:!1}function pt(l){return G(l)==="Number"&&String(l)==="NaN"}function Qt(l,s=!1,i=!1){if(G(l)!=="Object")return l;let t=Object.assign(l,{}),o="";for(let a in t)if(t.hasOwnProperty(a)){let r=t[a];r===void 0||r===""||G(r)==="String"&&r.trim()===""||r===null||pt(r)?i?s?o+=a+"=&":t[a]="":delete t[a]:s&&(o+=a+"="+r+"&")}return s?o.length>0?o.substring(0,o.length-1):"":t}function Ye(l){let s={};if(Array.isArray(l)){s=[];for(let i of l)Array.isArray(i)||F.isPlainObject(i)?s.push(Ye(i)):ie(i)&&s.push(i)}else if(F.isPlainObject(l))for(let i in l)l.hasOwnProperty(i)&&(Array.isArray(l[i])||F.isPlainObject(l[i])?s[i]=Ye(l[i]):ie(l[i])&&(s[i]=l[i]));return s}function Zt(l){const s=window.open();if(s){s.document.write(l);let i=setTimeout(()=>{s.print(),window.clearTimeout(i),i=null},10)}}function ut(l){let s=[],i=l;for(;l.previousSibling&&(l=l.previousSibling);)l.nodeType===1&&s.push(l);for(;i.nextSibling&&(i=i.nextSibling);)i.nodeType===1&&s.push(i);return s}const en=Object.freeze(Object.defineProperty({__proto__:null,clearObj:Je,dataFilterOrToUrl:Qt,decimalDigitsLimit:Wt,downloadFileByFormSubmit:dt,fileExport:jt,findCollection:Se,formDataHeadConfig:Ut,getColumnsKeys:qt,hasPermission:mt,htmlPrint:Zt,isClient:qe,isEmptyValue:Yt,isNaN:pt,isNumberValue:Jt,isValidValue:ie,myTypeof:G,oneOf:Ht,removeEmptyValue:Ye,setValByOption:_e,setValue:ye,siblingElems:ut,stringLength:Xt,toFormData:Gt,toLine:ct,tooltipManual:ft,trimObj:Ee},Symbol.toStringTag,{value:"Module"})),tn={class:"groupBoxRP"},ln=["onClick"],nn=e.defineComponent({__name:"SideMenuGroup",props:{data:{default:()=>[]},pathName:{default:""}},setup(l){const s=at.useRouter(),i=l;function t(a){return(a==null?void 0:a.path)===i.pathName?"active":""}function o(a,r){var f,p,y,k,C,b,B,V;(f=a==null?void 0:a.preventDefault)==null||f.call(a);let m=a==null?void 0:a.target;if(r&&!r.children&&!m.classList.contains("active")){s.push(r.path);return}let d=m.parentNode,g=ut(d);for(let L of g){(y=(p=L==null?void 0:L.classList)==null?void 0:p.remove)==null||y.call(p,"open");const T=(k=L==null?void 0:L.querySelectorAll)==null?void 0:k.call(L,".open");if(T&&Array.isArray(T))for(let S of T)(b=(C=S==null?void 0:S.classList)==null?void 0:C.remove)==null||b.call(C,"open")}(V=(B=d==null?void 0:d.classList)==null?void 0:B.toggle)==null||V.call(B,"open")}return(a,r)=>{const m=e.resolveComponent("sideMenuGroup",!0);return e.openBlock(),e.createElementBlock("ul",tn,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.data,(d,g)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:(d==null?void 0:d.path)+g},[d?(e.openBlock(),e.createElementBlock("li",{key:0,class:e.normalizeClass({dropItemRP:d.children})},[e.createElementVNode("div",{class:e.normalizeClass(["menuTxtR",t(d)]),onClick:f=>o(f,d),style:e.normalizeStyle({paddingLeft:d.level*20+"px"})},e.toDisplayString(d.name||"-- no name --"),15,ln),d.children?(e.openBlock(),e.createBlock(m,{key:0,data:d.children,"path-name":i.pathName},null,8,["data","path-name"])):e.createCommentVNode("",!0)],2)):e.createCommentVNode("",!0)],64))),128))])}}}),an={class:"menuListR"},vt=e.defineComponent({__name:"SideMenu",props:{data:{default:()=>[]}},emits:["on-change"],setup(l,{emit:s}){const i=l,t=s,o=at.useRoute(),a=e.ref(!0),r=e.ref(),m=e.ref(),d=e.computed(()=>a.value?N("r.hideMenu"):N("r.showMenu")),g=e.computed(()=>a.value?"ios-arrow-back":"ios-arrow-forward");e.onBeforeMount(()=>{let y=localStorage.getItem("menuDisplayR")||"";y!==""?a.value=JSON.parse(y):(a.value=!0,localStorage.setItem("menuDisplayR",JSON.stringify(!0)))}),e.watch(()=>o.path,y=>{r.value=y,e.nextTick(p)},{immediate:!0});function f(){a.value=!a.value,localStorage.setItem("menuDisplayR",JSON.stringify(a.value)),t("on-change",a.value)}function p(){var k,C,b,B,V;let y=m.value.querySelectorAll(".dropItemRP");for(let L of y)(k=L==null?void 0:L.querySelector)!=null&&k.call(L,".active")&&!((b=(C=L.classList)==null?void 0:C.contains)!=null&&b.call(C,"open"))&&((V=(B=L.classList)==null?void 0:B.add)==null||V.call(B,"open"))}return(y,k)=>{const C=e.resolveComponent("Icon");return e.openBlock(),e.createElementBlock("div",{ref_key:"menuRef",ref:m,class:"menuBoxRP"},[e.withDirectives(e.createElementVNode("div",an,[e.createVNode(nn,{data:i.data,pathName:e.unref(r)},null,8,["data","pathName"])],512),[[e.vShow,e.unref(a)]]),e.createVNode(C,{type:e.unref(g),size:25,class:e.normalizeClass([{showIco:!e.unref(a)},"menuShowHideIco"]),title:e.unref(d),onClick:f,color:e.unref(a)?"#fff":"#333"},null,8,["type","class","title","color"])],512)}}}),on=["title"],ht=e.defineComponent({__name:"TableIconBtn",props:{icon:{default:"md-radio-button-on"},title:{},has:{default:""},disabled:{type:Boolean,default:!1},size:{default:24}},emits:["click"],setup(l,{emit:s}){const i=s,t=l;function o(a){t.disabled||i("click",a)}return(a,r)=>{const m=e.resolveComponent("Icon"),d=e.resolveDirective("has");return e.withDirectives((e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["tableBtnsG",{disabled:t.disabled}]),onClick:o,title:t.title||e.unref(N)("r.button")},[e.createVNode(m,{type:t.icon,size:t.size},null,8,["type","size"])],10,on)),[[d,t.has]])}}}),rn={class:"contentX"},sn={class:"arrowA"},Xe=e.defineComponent({__name:"ShowHidePanel",props:{bg:{}},setup(l){const s=l,i=e.ref(!0),t=e.computed(()=>i?"background:"+s.bg||"transparent":"");return(o,a)=>{const r=e.resolveComponent("Icon");return e.openBlock(),e.createElementBlock("div",{style:e.normalizeStyle(e.unref(t))},[e.withDirectives(e.createElementVNode("div",rn,[e.renderSlot(o.$slots,"default")],512),[[e.vShow,e.unref(i)]]),e.createElementVNode("div",sn,[e.createElementVNode("div",{class:"btA",onClick:a[0]||(a[0]=m=>i.value=!e.unref(i))},[e.createVNode(r,{type:e.unref(i)?"ios-arrow-up":"ios-arrow-down",size:"20"},null,8,["type"])])])],4)}}}),cn={class:"contentZ"},el=e.defineComponent({__name:"ShowHidePanelB",props:{modelValue:{type:Boolean,default:!1},bg:{default:"transparent"}},emits:["update:modelValue"],setup(l,{emit:s}){const i=l,t=s,o=e.computed({get(){return i.modelValue},set(r){t("update:modelValue",r)}}),a=e.computed(()=>o.value?"background:"+i.bg:"");return(r,m)=>(e.openBlock(),e.createElementBlock("div",{style:e.normalizeStyle(e.unref(a))},[e.withDirectives(e.createElementVNode("div",cn,[e.renderSlot(r.$slots,"default")],512),[[e.vShow,e.unref(o)]])],4))}});let yt=[],gt=[];const dn=function(l){l&&l.beforeEach?l.beforeEach(()=>{yt.map(s=>{window.clearTimeout(s)}),gt.map(s=>{window.clearInterval(s)}),yt.length=0,gt.length=0}):console.warn("安装库plug-r-qw时未传入router，调用该库的定时器方法产生的定时器将不能自动销毁，请传入router：Vue.use(plugRQw,{router,...})")},de=function(l,s){let i=window.setTimeout(l,s);return yt.push(i),i},tl=function(l,s){let i=window.setInterval(l,s);return gt.push(i),i},ll=e.defineComponent({__name:"TableSearch",props:{modelValue:{},open:{type:Boolean,default:!1},placeholder:{},showBtn:{type:Boolean,default:!0},fixed:{type:Boolean,default:!1},width:{default:"210px"},right:{default:"0"},top:{default:"0"},btnColor:{default:"inherit"}},emits:["update:modelValue","on-toggle","on-search"],setup(l,{emit:s}){const i=s,t=l;let o=!1;const a=e.computed({get(){return t.modelValue},set(g){i("update:modelValue",g)}}),r=e.computed({get(){return t.open},set(g){i("on-toggle",g)}}),m=e.computed(()=>r.value?"ios-arrow-up":"ios-arrow-down");function d(){o||(o=!0,i("on-search",a.value),de(()=>{o=!1},2e3))}return(g,f)=>{const p=e.resolveComponent("Input"),y=e.resolveComponent("icon");return e.openBlock(),e.createElementBlock("div",{class:"tableSearchV",style:e.normalizeStyle({position:t.fixed?"fixed":"absolute",right:t.right,top:t.top})},[e.renderSlot(g.$slots,"default",{},()=>[e.createVNode(p,{modelValue:e.unref(a),"onUpdate:modelValue":f[0]||(f[0]=k=>e.isRef(a)?a.value=k:null),style:e.normalizeStyle({width:t.width}),search:"",onOnSearch:d,class:"searchInputC",placeholder:t.placeholder||e.unref(N)("r.pInput")},null,8,["modelValue","style","placeholder"])]),e.withDirectives(e.createElementVNode("span",{class:"sbt",onClick:f[1]||(f[1]=k=>r.value=!e.unref(r)),style:e.normalizeStyle({color:t.btnColor})},[e.createVNode(y,{type:e.unref(m),color:t.btnColor},null,8,["type","color"]),e.createTextVNode(e.toDisplayString(e.unref(N)("r.adSearch")),1)],4),[[e.vShow,t.showBtn]])],4)}}}),fn={beforeMount(l,s){function i(t){var o;if(l.contains(t.target))return!1;(o=s==null?void 0:s.value)==null||o.call(s,t)}l.__vueClickOutside__=i,qe&&document.addEventListener("click",i)},unmounted(l){qe&&document.removeEventListener("click",l.__vueClickOutside__),delete l.__vueClickOutside__}};function bt(l,s,i,t,o=!1){const a=(...r)=>ke.apply(this,r);me.call(this,{title:l||a("r.info.title"),text:s||a("r.info.text"),icon:i||"warning",onOk:t,buttons:[a("r.cancel")],closeOnClickOutside:o})}const mn={class:"tabSetF"},pn={class:"cannotSelect"},un={class:"topCheck"},hn=e.createElementVNode("span",{class:"iconfont icon-r-save"},null,-1),kt=e.defineComponent({__name:"TableSetting",props:{modelValue:{default:()=>[]},sKey:{},width:{default:"240px"},bg:{default:()=>oe().tableSettingBg},placement:{default:"bottom-end"},defaultCheck:{type:Boolean,default:!1},storage:{default:"localStorage"},transfer:{type:Boolean,default:()=>oe().tableSettingTransfer},eventsEnabled:{type:Boolean,default:()=>oe().tableSettingEventsEnabled}},emits:["update:modelValue"],setup(l,{emit:s}){var u,I,h,P,A;const i=s,t=l,o=e.ref(),a=e.ref(),r=e.ref(!0),m=e.ref(!1),d=e.ref(!1),g=e.ref([]),f=e.computed(()=>{var $;let _=N("r.unknown");return(($=t.modelValue)==null?void 0:$.length)>g.value.length&&(g.value=F.cloneDeep(t.modelValue)),g.value.map(R=>{let J={label:(R==null?void 0:R.title)||_};return R!=null&&R.disableShowSetting&&(J.disabled=!0),J})}),p=e.computed(()=>f.value.filter(_=>_==null?void 0:_.disabled)),y=e.computed({get(){var _,$;return($=(_=t.modelValue)==null?void 0:_.map)==null?void 0:$.call(_,R=>(R==null?void 0:R.title)||N("r.unknown"))},set(_){let $=g.value.filter(R=>{for(let J of _)if(J===(R==null?void 0:R.title))return!0;return!1});i("update:modelValue",$)}}),k=(A=(P=(h=(I=(u=e.getCurrentInstance())==null?void 0:u.appContext)==null?void 0:I.config)==null?void 0:h.globalProperties)==null?void 0:P.$i18n)==null?void 0:A.locale;let C=null;e.onMounted(()=>{let _=N("r.unknown"),$=D();$?y.value=JSON.parse(decodeURI($)):t.defaultCheck&&(y.value=t.modelValue.filter(R=>R==null?void 0:R.showSettingCheck).map(R=>(R==null?void 0:R.title)||_)),e.nextTick(function(){!o.value||!a.value||(C=new Il(o.value,a.value,{placement:t.placement,eventsEnabled:t.eventsEnabled,modifiers:{computeStyle:{gpuAcceleration:!1},preventOverflow:{boundariesElement:"window"}},onUpdate:R=>{var J;if(R!=null&&R.popper&&((J=R.instance)!=null&&J.popper)){const ne=b(R),{needChange:H}=ne;if(H){const{height:Z}=ne,Q=R.instance.popper;Q.style&&(Q.style.height=`${Z}px`)}}}}))}),de(()=>{var R;d.value=!0,(R=C==null?void 0:C.update)==null||R.call(C),e.nextTick(function(){d.value=!1})},0)}),e.onBeforeUnmount(function(){var _;(_=C==null?void 0:C.destroy)==null||_.call(C)});function b(_){var H,Z;const{height:$}=_.popper,R=_.instance.popper,J=window.innerHeight;let ne=0;if((H=R.childNodes)!=null&&H.length)for(let Q=0;Q<R.childNodes.length;Q++)ne+=(Z=R.childNodes[Q])==null?void 0:Z.offsetHeight;return J<$-10||$<ne?{needChange:!0,height:J-10<ne?J-10:ne}:{needChange:!1}}function B(_){_.length===f.value.length?(r.value=!1,m.value=!0):_.length>p.value.length?(r.value=!0,m.value=!1):(r.value=!1,m.value=!1)}e.watch(()=>y.value,B,{immediate:!0,deep:!0});function V(){d.value&&(O()&&bt(N("r.notSave"),"","warning",T),d.value=!1)}function L(){d.value?V():(d.value=!0,e.nextTick(function(){var _;(_=C==null?void 0:C.update)==null||_.call(C)}))}function T(){k?window[t.storage].setItem(t.sKey+"_"+k,encodeURI(JSON.stringify(y.value))):window[t.storage].setItem(t.sKey,encodeURI(JSON.stringify(y.value))),V()}function S(_){var $,R;if(d.value){if(t.transfer){const J=a.value;if(J===(_==null?void 0:_.target)||($=J==null?void 0:J.contains)!=null&&$.call(J,_==null?void 0:_.target))return}(R=_==null?void 0:_.preventDefault)==null||R.call(_),V()}}function z(){r.value?m.value=!1:m.value=!m.value,r.value=!1,m.value?y.value=f.value.map(_=>_==null?void 0:_.label):y.value=p.value.map(_=>_==null?void 0:_.label)}function D(){let _;return k?_=window[t.storage].getItem(t.sKey+"_"+k):_=window[t.storage].getItem(t.sKey),_}function O(){var $;let _=D();if(_){if(_=JSON.parse(decodeURI(_)),(_==null?void 0:_.length)!==(($=y.value)==null?void 0:$.length))return!0;for(let R of _)if(y.value.indexOf(R)===-1)return!0}else return!0;return!1}return(_,$)=>{const R=e.resolveComponent("Icon"),J=e.resolveComponent("Checkbox"),ne=e.resolveComponent("CheckboxGroup");return e.withDirectives((e.openBlock(),e.createElementBlock("div",mn,[e.createElementVNode("div",{ref_key:"buttonRef",ref:o,class:"tabSetBt",onClick:L},[e.createVNode(R,{type:"md-settings",size:"17"}),e.createElementVNode("span",pn,e.toDisplayString(e.unref(N)("r.tabSetting")),1)],512),(e.openBlock(),e.createBlock(e.Teleport,{to:"body",disabled:!t.transfer},[e.withDirectives(e.createElementVNode("div",{ref_key:"popperRef",ref:a,class:"tabSetCard",style:e.normalizeStyle({width:t.width,backgroundColor:t.bg})},[e.createElementVNode("div",un,[e.createVNode(J,{indeterminate:e.unref(r),modelValue:e.unref(m),"onUpdate:modelValue":$[0]||($[0]=H=>e.isRef(m)?m.value=H:null),onClick:e.withModifiers(z,["prevent"])},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(N)("r.all")),1)]),_:1},8,["indeterminate","modelValue"]),e.createElementVNode("div",{class:"btnR",style:{float:"right",display:"inline-block"},onClick:T},[hn,e.createElementVNode("span",null,e.toDisplayString(e.unref(N)("r.save")),1)])]),e.createVNode(ne,{modelValue:e.unref(y),"onUpdate:modelValue":$[1]||($[1]=H=>e.isRef(y)?y.value=H:null)},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(f),(H,Z)=>(e.openBlock(),e.createBlock(J,{class:"setItem",label:H&&H.label,key:"tabSet_"+t.sKey+Z,disabled:H&&H.disabled},null,8,["label","disabled"]))),128))]),_:1},8,["modelValue"])],4),[[e.vShow,e.unref(d)]])],8,["disabled"]))])),[[e.unref(fn),S]])}}});let Ie=!1;function Qe({height:l,width:s=416,title:i,content:t,onOk:o,onCancel:a,onClose:r,okText:m,cancelText:d,noWarnIcon:g,footerAlign:f,cancelBt:p=!0}){const y=(...V)=>ke.apply(this,V);let C=(l&&Number(l)-90>100?Number(l)-90+"px":0)||"100px",b=G(t)==="String";const B=typeof t=="function";ce.Modal.warning({width:s,footerHide:!0,render:()=>e.h("div",{class:"customMessageBox",style:{height:C}},[e.h("div",{class:"containerN"},[e.h("div",{class:"titleN"},[e.h("span",i||y("r.info.title")),e.h(ce.Button,{class:"fr closeN",type:"text",onClick(){Ie||(ce.Modal.remove(),r&&G(r)==="Function"&&r())}},()=>e.h("i",{class:"ivu-icon ivu-icon-ios-close",style:{fontSize:"30px"}}))]),e.h("div",{class:"contentN",style:{textAlign:b?"center":"left"}},[e.h("i",{class:b&&!g?"ivu-icon ivu-icon-ios-alert-outline":"hide",style:{fontSize:"60px",color:"#f8bb86"}}),e.h("div",{class:"msgBoxConO"},B?[t(e.h)]:t||y("r.info.text"))]),e.h("div",{class:"footerN",style:{textAlign:f||"center"}},[e.h(ce.Button,{class:"okBtN",onClick(V){var L,T,S,z,D,O,u,I,h;if(o&&typeof o=="function"){const P=o();if(P&&G(P)==="Promise"){Ie=!0;const A=(V==null?void 0:V.currentTarget)||(V==null?void 0:V.target);A&&((T=(L=A.classList)==null?void 0:L.add)==null||T.call(L,"ivu-btn-loading"),(z=(S=A.nextSibling)==null?void 0:S.setAttribute)==null||z.call(S,"disabled","disabled"),(h=(I=((u=(O=(D=A.parentElement)==null?void 0:D.parentElement)==null?void 0:O.querySelector)==null?void 0:u.call(O,".titleN .closeN")).classList)==null?void 0:I.add)==null||h.call(I,"disabled")),Promise.resolve(P).then(()=>{Ie=!1,ce.Modal.remove()}).catch(()=>{Ie=!1,ce.Modal.remove()})}else ce.Modal.remove()}}},()=>[e.h("i",{class:"ivu-load-loop ivu-icon ivu-icon-ios-loading"}),e.h("span",m||y("r.confirm"))]),e.h(ce.Button,{class:["cancelBtN",!p&&"hide"],onClick(){Ie||(ce.Modal.remove(),G(a)==="Function"&&a&&a())}},()=>d||y("r.cancel"))])])])})}let De=0,Pe=document.createElement("div");Pe.setAttribute("class","spinModal"),Pe.innerHTML='<div class="loader"><svg class="circular" viewBox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="5" stroke-miterlimit="10" /></svg></div>',window.onload=function(){document.getElementsByTagName("body")[0].append(Pe)};function nl(l){l?Pe.classList.add("show"):Pe.classList.remove("show")}function al(l){let s=De;l?De++:De>0&&De--,s!==De&&(De===0?nl(!1):s===0&&nl(!0))}const yn=window.location.origin;let Ze=null;const ol=(...l)=>ke.apply(Ze,l);let ue=ot.create({baseURL:yn,withCredentials:!0});function gn(){console.info("store为空，请在安装插件时传入store实例，vuex：app.use(plugRQw,{store})，Pinia：app.use(plugRQw,{useStore})")}ue.interceptors.request.use(l=>l,l=>Promise.reject(l));function il(){var l,s;if(ue.store)if(typeof ue.store=="function"){const i=ue.store();i.logout&&i.logout()}else(s=(l=ue.store)==null?void 0:l.dispatch)==null||s.call(l,"logout");else gn()}ue.interceptors.response.use(l=>{var s,i;return Ze&&(((s=l==null?void 0:l.data)==null?void 0:s.code)===403||((i=l==null?void 0:l.data)==null?void 0:i.code)===409)&&Qe({content:ol("r.http."+l.data.code),onOk:il}),l},l=>{var s,i;return Ze&&(((s=l==null?void 0:l.response)==null?void 0:s.status)===403||((i=l==null?void 0:l.response)==null?void 0:i.status)===409)&&Qe({content:ol("r.http."+l.response.status),onOk:il}),console.warn("请求出错：",l),Promise.reject(l)});function we(l,s,i,t){t&&t.spin&&al(!1);let o=!0,a=l&&l.data;if(a){i=i||[];for(let r of i)a=a[r],o=o&&a;return o?a:(s&&console.warn(s),!1)}return s&&console.warn(s),!1}function bn(l,s,i,t,o,a,r){return new Promise((m,d)=>{switch(l){case"get":ue.get(s,{params:i}).then(f=>{let p=we(f,t,o,a);p?m(p):d(f)}).catch(f=>{we({},t,o,a),d(f)});break;case"delete":let g=r?"params":"data";ue.delete(s,{[g]:i}).then(f=>{let p=we(f,t,o,a);p?m(p):d(f)}).catch(f=>{we({},t,o,a),d(f)});break;case"post":ue.post(s,i,a).then(f=>{let p=we(f,t,o,a);p?m(p):d(f)}).catch(f=>{we({},t,o,a),d(f)});break;case"put":ue.put(s,i,a).then(f=>{let p=we(f,t,o,a);p?m(p):d(f)}).catch(f=>{we({},t,o,a),d(f)});break}})}function ve(l,s,i={},t,o,a,r){return new Promise((m,d)=>{var g;if(s){a&&a.spin&&al(!0);let f=s;if(window&&window.hasOwnProperty("g")){const k=window.g;let C=Object.keys(k).filter(b=>{var B;return((B=b==null?void 0:b.indexOf)==null?void 0:B.call(b,"URL"))>-1}).map(b=>{var B;return(B=b.replace)==null?void 0:B.call(b,"URL","")});for(let b of C){let B=new RegExp("^/"+b+"(?=/.*$)","i");if(B.test(s)&&k[b+"URL"]){f=k[b+"URL"]+s.replace(B,"");break}}}let p;if(((g=a==null?void 0:a.headers)==null?void 0:g["Content-Type"])==="multipart/form-data")p=i;else if(i&&!F.isEmpty(i))if(Array.isArray(i)){p=[];for(let k of i)(k||k===0||k===!1||k===""&&a&&!a.noEmptyStr)&&p.push(k)}else{p={};for(let k in i)i.hasOwnProperty(k)&&(i[k]||i[k]===0||i[k]===!1||i[k]===""&&a&&!a.noEmptyStr)&&(p[k]=i[k])}let y=l.toLowerCase();bn(y,f,p,t,o,a,r).then(k=>{m(k)}).catch(k=>{d(k)})}else console.error("没有请求地址:url"),d("没有请求地址:url")})}const he={init(l,s){ue.store=l,Ze=s.config.globalProperties},post(l,s,i,t,o){return new Promise((a,r)=>{ve("post",l,s,i,t,o).then(m=>{a(m)}).catch(m=>{r(m)})})},put(l,s,i,t,o){return new Promise((a,r)=>{ve("put",l,s,i,t,o).then(m=>{a(m)}).catch(m=>{r(m)})})},get(l,s,i,t,o){return new Promise((a,r)=>{ve("get",l,s,i,t,o).then(m=>{a(m)}).catch(m=>{r(m)})})},delete(l,s,i,t,o,a=!0){return new Promise((r,m)=>{ve("delete",l,s,i,t,o,a).then(d=>{r(d)}).catch(d=>{m(d)})})},all:ot.all,spread:ot.spread,config:ue},kn={key:0,class:"pageTotal"},wn={key:1,class:"pageProSize"},wt=e.defineComponent({__name:"PagePro",props:{modelValue:{default:1},total:{default:0},pageSize:{default:10},size:{default:"default"},pageSizeOpts:{default:()=>{var l;return((l=oe())==null?void 0:l.pageSizes)||[10,20,50,100]}},showTotal:{type:Boolean,default:()=>{var l;return(l=oe())==null?void 0:l.pageShowTotal}},showSizer:{type:Boolean,default:()=>{var l;return(l=oe())==null?void 0:l.pageShowSizer}},transfer:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","on-change","on-page-size-change"],setup(l,{emit:s}){const i=s,t=l,o=e.computed({get(){return t.modelValue},set(r){i("update:modelValue",r),i("on-change",r)}}),a=e.computed({get(){return t.pageSize},set(r){i("on-page-size-change",r),o.value!==1&&(o.value=1)}});return(r,m)=>{const d=e.resolveComponent("Page"),g=e.resolveComponent("Option"),f=e.resolveComponent("Select");return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["pagePro",{pageProDefault:t.size==="default"}])},[t.showTotal?(e.openBlock(),e.createElementBlock("span",kn,e.toDisplayString(e.unref(N)("r.total")+" ")+e.toDisplayString(t.total)+e.toDisplayString(" "+e.unref(N)("r.items")),1)):e.createCommentVNode("",!0),e.createVNode(d,{modelValue:e.unref(o),"onUpdate:modelValue":m[0]||(m[0]=p=>e.isRef(o)?o.value=p:null),"page-size":e.unref(a),total:t.total,size:t.size,"page-size-opts":t.pageSizeOpts,disabled:t.disabled,simple:""},null,8,["modelValue","page-size","total","size","page-size-opts","disabled"]),t.showSizer?(e.openBlock(),e.createElementBlock("div",wn,[e.createVNode(f,{modelValue:e.unref(a),"onUpdate:modelValue":m[1]||(m[1]=p=>e.isRef(a)?a.value=p:null),size:t.size,transfer:t.transfer,disabled:t.disabled},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.pageSizeOpts,p=>(e.openBlock(),e.createBlock(g,{value:p,key:p},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(p)+" "+e.toDisplayString(e.unref(N)("r.page")),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","size","transfer","disabled"])])):e.createCommentVNode("",!0)],2)}}}),Vn={class:"btTablePage fullHeight flexColumnBox",ref:"tableBox"},Bn={class:"topBtn"},Cn={class:"tableContainer growFlexItem"},Sn={class:"fullHeight relativeBox"},_n={ref:"tableContainerLOI",class:"fullFlowContent"},Tn={class:"pageContainer"},Nn=300,et=e.defineComponent({__name:"BtTablePage",props:{url:{default:""},method:{default:"get"},searchData:{default:()=>({})},columns:{default:()=>[]},dataHandler:{},selection:{type:Boolean,default:!1},radio:{type:Boolean,default:!1},selectionFixed:{type:[String,Boolean],default:!1},rowClickSelect:{type:Boolean,default:!0},data:{default:()=>[]},sortable:{default:""},initData:{type:Boolean,default:!0},highlightRow:{type:Boolean,default:!1},rowClickNum:{default:-1},tableEmptyTdHandle:{type:Boolean,default:!1},noBorderTable:{type:Boolean,default:!1},orderDefault:{default:"desc"},orderKey:{default:"id"},orderKeyFormat:{default:"underline"},getDataLoading:{type:Boolean,default:!1},showTopRow:{type:Boolean,default:!1},lightHead:{type:Boolean,default:!1},noPage:{type:Boolean,default:!1},usePagePro:{type:Boolean,default:()=>{var l;return(l=oe())==null?void 0:l.btTablePageUsePagePro}},showTotal:{type:Boolean,default:()=>{var l;return(l=oe())==null?void 0:l.pageShowTotal}},showSizer:{type:Boolean,default:()=>{var l;return(l=oe())==null?void 0:l.pageShowSizer}},pageSize:{default:10},pageComponentSize:{default:"default"},noElevator:{type:Boolean,default:!1}},emits:["on-selection-change","on-data-change"],setup(l,{expose:s,emit:i}){var Ne;const t=i;({...{showSettingCheck:!1,disableShowSetting:!1},...ce.TableColumnConfig});const a=l,r=((Ne=oe())==null?void 0:Ne.pageSizes)||[10,20,50,100],m=e.ref(a.data),d=e.ref(localStorage.getItem("btPageSize")&&Number(localStorage.getItem("btPageSize"))||a.pageSize),g=e.ref(1),f=e.ref(0);let p=[],y,k,C=a.orderKey,b=a.orderDefault;const B=e.computed(()=>{for(let U of a.columns)if(U!=null&&U.fixed)return!0;return!1}),V=e.computed(()=>a.selectionFixed||B.value),L=e.computed(()=>{let U={...a.searchData,current:g.value,size:d.value};return a.sortable==="custom"&&(a.orderKeyFormat==="underline"?U[b]=ct(C):a.orderKeyFormat==="camelcase"&&(U[b]=Rt(C))),U}),T=e.computed(()=>{let U=a.columns.filter(M=>M&&M.type!=="selection");if(a.selection||a.radio){let M;a.radio?M={title:" ",width:65,render:(ee,ae)=>e.h(ce.Radio,{modelValue:ae.row.btChecked})}:M={type:"selection",width:60},a.selectionFixed&&(M.fixed=a.selectionFixed),U.unshift(M)}return U.forEach(M=>{var ee;M&&(a.sortable==="custom"?M.key&&M.sortable!==!0&&M.sortable!==!1&&(M.sortable="custom"):M.sortable=!1,M.align||(M.align=((ee=oe())==null?void 0:ee.btTablePageAlign)||"center"))}),a.tableEmptyTdHandle&&U.forEach(M=>{var ee;M!=null&&M.key&&M.render===void 0&&(M.tooltip?M.render=ft(M.key,!0,"",(ee=oe())==null?void 0:ee.fontSizeBase):M.render=(ae,se)=>{let Y=se.row[M.key];return ae("span",Y===""||Y===null||Y===void 0?"--":Y)})}),U}),S=e.computed({get(){return m.value.map((U,M)=>({btKey:"bt-"+M,btChecked:!1,...U}))},set(U){m.value=U}}),z=e.computed(()=>p.map(U=>U==null?void 0:U.id)),D=e.computed(()=>p.map(U=>U==null?void 0:U.btKey)),O=e.ref();e.watch(()=>a.searchData,u,{deep:!0}),e.watch(()=>a.orderDefault,U=>{b=U}),e.watch(()=>a.orderKey,U=>{C=U});function u(){g.value=1,ge()}function I(){a.initData&&ge()}function h(U){m.value.unshift(F.cloneDeep(U)),de(()=>{var M,ee;(ee=(M=O.value)==null?void 0:M.clickCurrentRow)==null||ee.call(M,0)},100)}function P(U,M,ee){let ae=null;if(M?ae=k:typeof M=="number"&&(ae=M),ae!==null){let se=m.value[ae];for(let Y in U)U.hasOwnProperty(Y)&&(se[Y]=U[Y]);ee&&de(()=>{var Y,pe;(pe=(Y=O.value)==null?void 0:Y.clickCurrentRow)==null||pe.call(Y,ae)},10)}}function A(U){m.value.splice(U,1),de(()=>{var M,ee;(ee=(M=O.value)==null?void 0:M.clickCurrentRow)==null||ee.call(M,0)},100)}function _(U,M){var ee,ae;U.btChecked&&a.radio||(a.selection||a.radio)&&a.rowClickSelect&&((ae=(ee=O.value)==null?void 0:ee.toggleSelect)==null||ae.call(ee,M))}function $(U,M){y=M.btKey,k=Number(M.btKey.split("-")[1]),a.radio&&(m.value[k].btChecked=!0)}function R(U){if(a.radio)for(let M of S.value)M!=null&&M.btKey&&M.btKey!==y&&(m.value[Number(M.btKey.split("-")[1])].btChecked=!1);p=U,t("on-selection-change",U)}function J(){return F.cloneDeep(p)}function ne(){ge()}function H(U){d.value=U,localStorage.setItem("btPageSize",String(U)),g.value===1&&ge()}function Z({key:U,order:M}){b==="normal"?(C=a.orderKey,b=a.orderDefault):(C=U,b=M),g.value=1,le()}function Q(U){var ee,ae,se,Y,pe,xe,Le,ze;const M=U;if(typeof M=="number")K(),k=M,y=(ae=(ee=S.value)==null?void 0:ee[M])==null?void 0:ae.btKey,(Y=(se=O.value)==null?void 0:se.clickCurrentRow)==null||Y.call(se,M);else if(Array.isArray(M)){if(a.radio||!a.selection)return;K();for(let Be of M)(xe=(pe=O.value)==null?void 0:pe.clickCurrentRow)==null||xe.call(pe,Be)}else if(typeof M=="function")for(let Be=0;Be<S.value.length;Be++){const nt=S.value[Be];M(nt)&&((ze=(Le=O.value)==null?void 0:Le.clickCurrentRow)==null||ze.call(Le,Be))}}function K(){var U,M;if(a.radio){if(D.value.length>0&&S.value.length>0){let ee=D.value[0].split("-")[1];S.value[ee].btChecked=!1}}else(M=(U=O.value)==null?void 0:U.selectAll)==null||M.call(U,!1);p.length>0&&(p=[],t("on-selection-change",[])),y=null,k=null}function v(){m.value=[],K(),g.value=1,f.value=0}function le(U,M,ee){return new Promise(ae=>{U&&(b=U),M&&(C=M),a.url?he[a.method](a.url,L.value,"",[],{spin:a.getDataLoading}).then(se=>{var pe,xe;let Y;ee||K(),typeof a.dataHandler=="function"?Y=a.dataHandler(se):Y=se,Y.data?(Y.data.records||Y.data.records===null?m.value=Y.data.records||[]:Y.data.page?(Y.data.page.records||Y.data.page.records===null)&&(m.value=Y.data.page.records||[]):Y.data.data?(Y.data.data.records||Y.data.data.records===null)&&(m.value=Y.data.data.records||[]):m.value=Y.data,f.value=((pe=Y.data.page)==null?void 0:pe.total)||((xe=Y.data.data)==null?void 0:xe.total)||Y.data.total||Y.total||0,f.value===0&&g.value>1&&m.value&&m.value.length===0?g.value=1:g.value>1&&f.value<=(g.value-1)*d.value&&(g.value--,e.nextTick(function(){le(U,M)})),t("on-data-change",Y),ae(Y)):(console.warn("请求返回数据有误，无法使用"),v(),t("on-data-change",Y))}).catch(se=>{K(),v(),t("on-data-change",se)}):console.warn("没有有效的请求地址，无法获取表格数据")})}function ge(U,M,ee){a.radio&&(U||a.rowClickNum!==-1)?le(M,ee,U).then(()=>{m.value.length>0&&de(()=>{var ae,se,Y,pe;U?(se=(ae=O.value)==null?void 0:ae.clickCurrentRow)==null||se.call(ae,k||0):(pe=(Y=O.value)==null?void 0:Y.clickCurrentRow)==null||pe.call(Y,a.rowClickNum)},10)}):le()}return e.onMounted(I),s({selectedIds:z,addRow:h,setRowData:P,deleteRow:A,getSelected:J,selectRow:Q,clearSelect:K,clearTableData:v,getTableData:le,getDataAndClickRow:ge}),(U,M)=>{const ee=e.resolveComponent("Table"),ae=e.resolveComponent("Page");return e.openBlock(),e.createElementBlock("div",Vn,[e.withDirectives(e.createElementVNode("div",Bn,[e.renderSlot(U.$slots,"tableSetting"),e.renderSlot(U.$slots,"topMsg"),e.renderSlot(U.$slots,"topBtnGroup")],512),[[e.vShow,a.showTopRow]]),e.createElementVNode("div",Cn,[e.createElementVNode("div",Sn,[e.createElementVNode("div",_n,[e.createVNode(ee,e.mergeProps({ref_key:"tableRef",ref:O},U.$attrs,{height:e.unref(V)&&Nn||null,class:{noBorderTable:a.noBorderTable,fullHeightTable:!e.unref(V),lightHeadO:a.lightHead},columns:e.unref(T),data:e.unref(S),"highlight-row":a.radio||a.highlightRow,onOnSelect:$,onOnSelectionChange:R,onOnSortChange:Z,onOnRowClick:_}),null,16,["height","class","columns","data","highlight-row"])],512)])]),e.withDirectives(e.createElementVNode("div",Tn,[a.usePagePro?(e.openBlock(),e.createBlock(wt,{key:0,modelValue:e.unref(g),"onUpdate:modelValue":M[0]||(M[0]=se=>e.isRef(g)?g.value=se:null),total:e.unref(f),showTotal:a.showTotal,pageSize:e.unref(d),showSizer:a.showSizer,pageSizeOpts:e.unref(r),size:a.pageComponentSize,onOnChange:ne,onOnPageSizeChange:H},null,8,["modelValue","total","showTotal","pageSize","showSizer","pageSizeOpts","size"])):(e.openBlock(),e.createBlock(ae,{key:1,modelValue:e.unref(g),"onUpdate:modelValue":M[1]||(M[1]=se=>e.isRef(g)?g.value=se:null),total:e.unref(f),pageSize:e.unref(d),pageSizeOpts:e.unref(r),showSizer:a.showSizer,showTotal:a.showTotal,size:a.pageComponentSize,showElevator:!a.noElevator,onOnChange:ne,onOnPageSizeChange:H},null,8,["modelValue","total","pageSize","pageSizeOpts","showSizer","showTotal","size","showElevator"]))],512),[[e.vShow,!a.noPage]])],512)}}}),Vt=e.defineComponent({__name:"SelectInput",props:{modelValue:{default:()=>({key:null,val:null})},labelWidth:{default:160},labelTextAlign:{default:"right"},itemWidth:{default:200},selectOption:{default:()=>[]},placeholder:{},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","on-change"],setup(l,{emit:s}){const i=s,t=l,o=e.computed({get(){return t.modelValue&&t.modelValue.key||null},set(f){let p={key:f,val:null};o.value&&o.value!==f&&(p.beforeKey=o.value),i("update:modelValue",p),i("on-change",p)}}),a=e.computed({get(){return t.modelValue&&t.modelValue.val||null},set(f){i("update:modelValue",{key:o.value,val:f})}}),r=e.computed(()=>({width:t.labelWidth+"px",textAlign:t.labelTextAlign})),m=e.computed(()=>({width:t.itemWidth+"px"}));function d(f){f!=null&&f.target&&f.target.value!==void 0&&g({key:o.value,val:f.target.value})}const g=F.debounce(f=>{i("on-change",f)},500);return(f,p)=>{const y=e.resolveComponent("Option"),k=e.resolveComponent("Select"),C=e.resolveComponent("Input");return e.openBlock(),e.createElementBlock("div",null,[e.createVNode(k,{modelValue:e.unref(o),"onUpdate:modelValue":p[0]||(p[0]=b=>e.isRef(o)?o.value=b:null),style:e.normalizeStyle(e.unref(r)),disabled:!!t.disabled,transfer:""},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.selectOption,(b,B)=>(e.openBlock(),e.createBlock(y,{value:b==null?void 0:b.val,label:b==null?void 0:b.label,key:"selectInputOp"+(b==null?void 0:b.value)+B,style:e.normalizeStyle({textAlign:t.labelTextAlign})},null,8,["value","label","style"]))),128))]),_:1},8,["modelValue","style","disabled"]),e.createVNode(C,{modelValue:e.unref(a),"onUpdate:modelValue":p[1]||(p[1]=b=>e.isRef(a)?a.value=b:null),placeholder:t.placeholder||e.unref(N)("r.pInput"),style:e.normalizeStyle(e.unref(m)),clearable:t.clearable,disabled:!!t.disabled,onOnChange:d},null,8,["modelValue","placeholder","style","clearable","disabled"])])}}});let Bt={securityJsCode:"",key:""};function xn({securityJsCode:l,key:s}){Bt.securityJsCode=l,Bt.key=s}function Ln(l){return Bt[l]}const Ct=e.defineComponent({__name:"InputMap",props:{modelValue:{default:()=>({})},width:{default:"100%"},height:{},placeholder:{},disabled:{type:Boolean,default:!1},showMap:{type:Boolean,default:!0}},emits:["update:modelValue","on-change"],setup(l,{emit:s}){const i=s,t=l,o=e.computed({get(){let S;return t.modelValue?t.modelValue.name?S=F.cloneDeep(t.modelValue):S={...t.modelValue,name:null}:S={name:null},S},set(S){i("update:modelValue",F.cloneDeep(S))}}),a=e.computed(()=>F.isNumber(t.width)?t.width+"px":t.width),r=e.computed(()=>F.isNumber(t.height)?t.height+"px":t.height?t.height:F.isNumber(t.width)?t.width*.66+"px":"200px"),m=e.computed(()=>({width:a.value,position:"relative"})),d=e.computed(()=>({width:a.value,height:r.value,marginTop:"6px",opacity:t.showMap?1:0,position:t.showMap?"relative":"absolute",top:t.showMap?0:"-10000px"}));e.watch(()=>t.modelValue,S=>{if(S&&S.lng&&S.lat){if(!b||!B)return;L({lng:S.lng,lat:S.lat,name:S.name})}});const g="mapId"+Math.floor(Math.random()*1e9),f=e.ref(null),p=e.ref(null);let y;function k(){p.value&&p.value.clientHeight<10||!p.value?de(k,300):de(V,100)}let C,b,B;function V(){$e.load({key:Ln("key"),version:"2.0",plugins:["AMap.AutoComplete","AMap.Geocoder"]}).then(S=>{C=S,b=new C.Map(g).on("complete",()=>{var D,O,u,I;B=new C.Geocoder,(D=t.modelValue)!=null&&D.lng&&((O=t.modelValue)!=null&&O.lat)&&L({lng:t.modelValue.lng,lat:t.modelValue.lat,name:t.modelValue.name});const z=(I=(u=f.value)==null?void 0:u.$el)==null?void 0:I.children;z&&z.length>1&&new C.AutoComplete({input:z[1]}).on("select",h=>{var P,A,_;(P=h==null?void 0:h.poi)!=null&&P.name&&((A=h.poi.location)!=null&&A.lng&&((_=h.poi.location)!=null&&_.lat)?(L({name:h.poi.name,lng:h.poi.location.lng,lat:h.poi.location.lat}),o.value={name:h.poi.name,lng:h.poi.location.lng,lat:h.poi.location.lat}):b.setCity(h.poi.name,()=>{let $=b.getCenter();L({name:h.poi.name,lng:$.lng,lat:$.lat}),o.value={name:h.poi.name,lng:$.lng,lat:$.lat}})),i("on-change",o.value)}),b.on("hotspotclick",h=>{L({name:h.name,lng:h.lnglat.lng,lat:h.lnglat.lat}),o.value={name:h.name,lng:h.lnglat.lng,lat:h.lnglat.lat}})})})}function L({lng:S,lat:z,name:D}){b.clearMap();let O=new C.LngLat(S,z),u=new C.Marker({map:b,position:O,draggable:!0});b.add(u),T(S,z),u.on("dragend",()=>{let I=u.getPosition();o.value={name:D||null,lng:I.lng,lat:I.lat},T(S,z)}),u.on("click",I=>{var h,P;y&&y.open(b,(P=(h=I==null?void 0:I.target)==null?void 0:h.getPosition)==null?void 0:P.call(h))}),b.setFitView()}function T(S,z){B.getAddress([S,z],(D,O)=>{D==="complete"&&O.info==="OK"&&O.regeocode&&O.regeocode.formattedAddress?y=new C.InfoWindow({isCustom:!0,content:'<div class="mapInfoWindowIKJ">'+O.regeocode.formattedAddress+"</div>",offset:new C.Pixel(16,-45),closeWhenClickMap:!0}):(y=null,console.warn("地图获取位置信息失败",O))})}return e.onMounted(k),e.onUnmounted(()=>{b&&(b.destroy(),$e==null||$e.reset(),b=null,B=null,y=null)}),(S,z)=>(e.openBlock(),e.createElementBlock("div",{style:e.normalizeStyle(e.unref(m)),class:"containerIKJ"},[e.createVNode(e.unref(ce.Input),{ref_key:"mapInputRef",ref:f,modelValue:e.unref(o).name,"onUpdate:modelValue":z[0]||(z[0]=D=>e.unref(o).name=D),class:e.normalizeClass({mapInputIKJ:t.showMap}),placeholder:t.placeholder||e.unref(N)("r.search"),disabled:t.disabled,icon:"ios-search"},null,8,["modelValue","class","placeholder","disabled"]),e.createElementVNode("div",{style:e.normalizeStyle(e.unref(d)),ref_key:"mapRef",ref:p,id:g},null,4)],4))}}),St=e.defineComponent({__name:"AsyncCascader",props:{modelValue:{},url:{default:(Cl=window==null?void 0:window.g)!=null&&Cl.mgrURL?window.g.mgrURL+"/web/v1/umc/orgs":""},optionVal:{default:"id"},optionLabel:{default:"name"},optionFilter:{},separator:{default:"/"},onlyLastVal:{type:Boolean,default:!0},onlyLastLabel:{type:Boolean,default:!0},filterable:{type:Boolean,default:!1},placeholder:{default:""},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","on-label-change"],setup(l,{emit:s}){const i=s,t=l,o=e.ref([]),a=e.computed({get(){let f=t.modelValue;return Array.isArray(f)?F.cloneDeep(f):F.isNumber(f)?je({group:o.value,condition:p=>(p==null?void 0:p.value)===f,pathKey:"value"}):F.isString(f)?f.split(t.separator):[]},set(f){if(t.onlyLastVal)F.isEmpty(f)?(i("update:modelValue",null),i("on-label-change",null)):i("update:modelValue",F.last(f));else{if(F.isEqual(t.modelValue,f))return;i("update:modelValue",F.cloneDeep(f))}}});function r(){if(!t.url){console.error("没有用于拉取级联数据的有效接口地址");return}he.get(t.url).then(f=>{var y;let p=null;(y=f==null?void 0:f.data)!=null&&y.records?p=f.data.records:f!=null&&f.data?p=f.data:f&&(p=f),p?(typeof t.optionFilter=="function"&&G(t.optionFilter)==="Function"&&(p=t.optionFilter(p)),o.value=m(p)):console.warn("级联数据错误，不能使用")}).catch(()=>{console.warn("拉取级联数据出错")})}function m(f){let p=[];for(let y of f){let k={value:y[t.optionVal],label:y[t.optionLabel]};y!=null&&y.children&&!F.isEmpty(y.children)&&(k.children=m(y.children)),p.push(k)}return p}function d(f){return t.onlyLastLabel?F.last(f):f.join(t.separator)}function g(f,p){let y="";F.isEmpty(p)||(y=p.map(k=>k==null?void 0:k.label).join(t.separator)),i("on-label-change",y)}return e.onMounted(r),(f,p)=>{const y=e.resolveComponent("Cascader");return e.openBlock(),e.createBlock(y,{data:e.unref(o),modelValue:e.unref(a),"onUpdate:modelValue":p[0]||(p[0]=k=>e.isRef(a)?a.value=k:null),onOnChange:g,"change-on-select":"",transfer:"",disabled:t.disabled,"render-format":d,placeholder:t.placeholder||e.unref(N)("r.pSelect"),filterable:t.filterable},null,8,["data","modelValue","disabled","placeholder","filterable"])}}}),_t=e.defineComponent({__name:"AlCascaderMC",props:{modelValue:{},level:{default:2},disabled:{type:Boolean,default:!1},transfer:{type:Boolean,default:!0},filterable:{type:Boolean,default:!0},separator:{default:"/"},placeholder:{}},emits:["update:modelValue","on-name-change"],setup(l,{emit:s}){const i=s,t=l,o=e.ref(),a=e.computed({get(){if(t.modelValue&&(F.isNumber(t.modelValue)||F.isString(t.modelValue))){let m=String(t.modelValue).trim();if(/^\d*$/.test(m)){let g=m.substring(0,2)+"0000",f,p=r(m);return p.length<7?f=m.substring(0,4)+"00":f=m.substring(0,6),/^8\d+$/.test(m)?[g,p]:[g,f,p]}return m.indexOf(t.separator)!==-1?m.split(t.separator):[m]}else return Array.isArray(t.modelValue)?F.cloneDeep(t.modelValue):(o.value&&(o.value.select=[]),[])},set(m){if(F.isEmpty(m))i("update:modelValue",null),i("on-name-change",null);else{let d=F.last(m),g="",f="";if(d&&(g=d.code),g&&g.length<12){let p=[...g];for(;p.length<12;)p.push(0);g=p.join("")}if(Array.isArray(m)&&(f=m.map(p=>p==null?void 0:p.name).join(t.separator)),g){if(g===t.modelValue)return;i("update:modelValue",g)}f&&i("on-name-change",f)}}});function r(m){let d=[...m];for(;d[d.length-1]==="0";)d.pop();return d.join("")}return(m,d)=>(e.openBlock(),e.createBlock(e.unref(Pl),e.mergeProps(m.$attrs,{class:"alCascaderMC",ref_key:"alCRef",ref:o,modelValue:e.unref(a),"onUpdate:modelValue":d[0]||(d[0]=g=>e.isRef(a)?a.value=g:null),level:t.level,disabled:t.disabled,placeholder:t.placeholder||e.unref(N)("r.pSelect"),transfer:t.transfer,searchable:t.filterable}),null,16,["modelValue","level","disabled","placeholder","transfer","searchable"]))}});function Te(l){var r,m,d;const s=(...g)=>ke.apply(this,g),i=s("r.closePreview"),t=s("r.fullImg");let o=F.first(document.getElementsByTagName("body")),a=document.createElement("div");a.setAttribute("class","fullScreenImgByDom"),a.innerHTML=`<div class='previewInner'><img src='${l}' alt='${t}' ><i class='ivu-icon ivu-icon-md-close' title='${i}' ></i></div>`,(m=(r=a.querySelector(".ivu-icon-md-close"))==null?void 0:r.addEventListener)==null||m.call(r,"click",function(){var f;let g=F.first(document.getElementsByTagName("body"));(f=g==null?void 0:g.removeChild)==null||f.call(g,a)}),(d=o==null?void 0:o.appendChild)==null||d.call(o,a)}const Dn={class:"previewBoxM"},On={class:"imgLoading"},An=[e.createElementVNode("div",{"data-loader":"circle-side",class:"loader-div"},null,-1)],En=["src","alt"],In={class:"deleteModal"},Pn={class:"previewBoxM"},Fn={key:0,class:"previewImg"},zn=["src","alt"],Rn={class:"deleteModal"},Mn={class:"customFileListM"},$n={key:0,class:"customFileListItem"},Kn=["onClick","title"],Un={class:"btBoxJ"},Gn={class:"customFileListM"},Hn={key:0,class:"customFileListItem"},Wn={class:"listLoading"},jn=[e.createElementVNode("div",{"data-loader":"circle-side",class:"loader-div"},null,-1)],qn=["onClick","title"],Jn={class:"btBoxJ"},Tt=e.defineComponent({__name:"UploadGroup",props:{modelValue:{default:()=>[]},url:{default:(Sl=window==null?void 0:window.g)!=null&&Sl.mgrURL?window.g.mgrURL+"/web/v1/fsc/file":""},data:{default:()=>({appId:0,moduleId:0,typeId:0})},manualUpload:{type:Boolean,default:!1},maxSize:{default:0},length:{default:0},showUploadList:{type:Boolean,default:!0},withCredentials:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},format:{default:()=>[]},showImg:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","on-change"],setup(l,{emit:s}){const i=s,t=l,o=e.shallowRef([]),a=e.shallowRef([]),r=e.computed(()=>!t.manualUpload&&t.showImg&&f.value?"img":t.manualUpload&&t.showImg&&f.value?"localImg":t.manualUpload&&t.showUploadList&&(!t.showImg||!f.value)?"localList":!t.manualUpload&&t.showUploadList&&(!t.showImg||!f.value)?"list":""),m=e.computed(()=>t.manualUpload?"//jsonplaceholder.typicode.com/posts/":t.url),d=e.computed({get(){return t.manualUpload?g.value:g.value.map(h=>({id:h}))},set(h){t.manualUpload?g.value=h||[]:g.value=(h==null?void 0:h.map(P=>P==null?void 0:P.id))||[]}}),g=e.computed({get(){switch(typeof t.modelValue){case"number":return[t.modelValue];case"string":return t.modelValue.indexOf("--")!==-1?[]:/^\d*$/.test(t.modelValue)?[Number(t.modelValue)]:[t.modelValue];case"object":return Array.isArray(t.modelValue)?t.modelValue.filter(h=>h!=="--"):G(t.modelValue)==="File"?[t.modelValue]:[];default:return[]}},set(h){if(t.length===1){let P=F.first(h);i("update:modelValue",P??null),i("on-change",P??null)}else i("update:modelValue",F.cloneDeep(h)),i("on-change",F.cloneDeep(h))}}),f=e.computed(()=>{let h;if(t.manualUpload?h=d.value:h=a.value,!h)return!1;for(let P of h){let A;if(t.manualUpload?A=P==null?void 0:P.type:A=P==null?void 0:P.mimeType,!A||A&&!(We(A)||A==="loading"))return!1}return!0});e.watch(()=>d.value,async h=>{if(r.value==="localImg")h!=null&&h.length?o.value=await y(h):o.value=[];else if(h!=null&&h.length&&r.value!=="localList"){let P=F.cloneDeep(h);const A=F.cloneDeep(a.value);for(let _ of P)if((_==null?void 0:_.name)===void 0)if(_.id){const $=F.find(A,R=>(R==null?void 0:R.id)===_.id);$?(_.name=$.name,_.mimeType=$.mimeType):(_.mimeType="loading",he.get(t.url+"/"+_.id).then(R=>{var J,ne,H,Z,Q,K;_.name=((H=(ne=(J=R==null?void 0:R.data)==null?void 0:J.returnValue)==null?void 0:ne[0])==null?void 0:H.name)||N("r.file")+F.indexOf(h,_),_.mimeType=((K=(Q=(Z=R==null?void 0:R.data)==null?void 0:Z.returnValue)==null?void 0:Q[0])==null?void 0:K.mimeType)||"unknown",e.triggerRef(a)}).catch(()=>{_.name=N("r.file")+F.indexOf(P,_)}))}else _.name=N("r.unknown");a.value=P}else a.value=[]},{immediate:!0,deep:!0});function p(h){return(h==null?void 0:h.name)||(h==null?void 0:h.split)&&F.last(h.split("/"))||h}async function y(h){let P=[];for(let A of h){let _=await He(A);P.push(_)}return P}function k(h){if(!t.disabled){let P=d.value;P==null||P.splice(h,1),d.value=P}}function C(h){h!=null&&h.id&&window.open(t.url+"/"+h.id+"/download")}function b(h){return t.manualUpload?(h==null?void 0:h.type)&&We(h.type):(h==null?void 0:h.id)&&h.mimeType&&We(h.mimeType)}function B(h){if(t.manualUpload){if(!h)return;He(h).then(P=>{Te(P)})}else h!=null&&h.id&&Te(t.url+"/"+h.id+"/download?preview=true")}function V(h){G(h)==="String"&&h.indexOf("http")>-1?window.open(h):G(h)==="File"&&He(h).then(P=>{Mt(h.name,P)})}function L(h){var P,A;if(t.manualUpload){if(h){let _=rt(h.name);if((P=t.format)!=null&&P.length&&t.format.indexOf(_)<0)return me(N("r.wrongFileType"),N("r.supportType")+(((A=t.format)==null?void 0:A.length)&&String(t.format)||N("r.none")),"warning"),!1;if(t.maxSize&&h.size>t.maxSize*1024)return me(N("r.fileIsBig"),N("r.supportSize")+t.maxSize+"kb","warning"),!1;let $=d.value;$==null||$.push(h),d.value=$}return!1}else return!0}function T(h){console.warn(h),me(N("r.uploadError"),"","error")}function S(h,P,A){var _,$,R,J,ne,H;if((h==null?void 0:h.code)===0){let Z=d.value;P.id=($=(_=h.data)==null?void 0:_[0])==null?void 0:$.id,P.name=(J=(R=h.data)==null?void 0:R[0])==null?void 0:J.name,P.mimeType=(H=(ne=h.data)==null?void 0:ne[0])==null?void 0:H.mimeType,Z==null||Z.push(P),d.value=Z}else me(N("r.uploadFail"),(h==null?void 0:h.message)||"","error")}function z(){me(N("r.fileIsBig"),N("r.supportSize")+t.maxSize+" kb","warning")}function D(){var h;me(N("r.wrongFileType"),N("r.supportType")+(((h=t.format)==null?void 0:h.length)&&String(t.format)||N("r.none")),"warning")}function O(h){let P=h==null?void 0:h.id,A=h==null?void 0:h.mimeType;P&&(G(A)==="String"&&A.indexOf("image")>-1?Te(t.url+"/"+P+"/download?preview=true"):window.open(t.url+"/"+P+"/download?preview=true"))}function u(h){var A,_,$;let P=($=(_=(A=h==null?void 0:h.response)==null?void 0:A.data)==null?void 0:_[0])==null?void 0:$.id;I(null,P)}function I(h,P){if(!(!P&&P!==0)&&!t.disabled&&g.value.indexOf(P)!==-1){const A=F.cloneDeep(g.value);let _=d.value;_==null||_.splice(A.indexOf(P),1),d.value=_}}return(h,P)=>{var R,J,ne,H,Z,Q;const A=e.resolveComponent("Button"),_=e.resolveComponent("Upload"),$=e.resolveComponent("Icon");return e.openBlock(),e.createElementBlock("div",null,[e.createVNode(_,{name:"files",action:e.unref(m),"before-upload":L,"on-error":T,"on-success":S,"on-exceeded-size":z,"on-preview":O,"on-remove":u,"on-format-error":D,data:t.data,"max-size":t.maxSize,"show-upload-list":!1,"with-credentials":t.withCredentials,format:t.format,multiple:t.multiple||!1,disabled:t.length&&((R=e.unref(d))==null?void 0:R.length)&&((J=e.unref(d))==null?void 0:J.length)>=t.length||!!t.disabled},{default:e.withCtx(()=>{var K,v;return[e.createVNode(A,{icon:"ios-cloud-upload-outline",class:e.normalizeClass({disabledR:t.length&&((K=e.unref(d))==null?void 0:K.length)&&((v=e.unref(d))==null?void 0:v.length)>=t.length||!!t.disabled})},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(N)("r.selectFile")),1)]),_:1},8,["class"])]}),_:1},8,["action","data","max-size","with-credentials","format","multiple","disabled"]),e.withDirectives(e.createElementVNode("div",Dn,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(a),K=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:K==null?void 0:K.id},[!t.manualUpload&&K&&K.id!==null?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(["previewImg",{previewLoading:K.mimeType==="loading"}])},[e.withDirectives(e.createElementVNode("div",On,An,512),[[e.vShow,K.mimeType==="loading"]]),e.withDirectives(e.createElementVNode("img",{src:h.url+"/"+K.id+"/download?preview=true",alt:K.name},null,8,En),[[e.vShow,K.mimeType!=="loading"]]),e.withDirectives(e.createElementVNode("div",In,[e.createVNode($,{type:"ios-expand",size:"40",class:"previewExpand",title:e.unref(N)("r.fView"),onClick:v=>e.unref(Te)(t.url+"/"+K.id+"/download?preview=true")},null,8,["title","onClick"]),e.createVNode($,{type:"ios-trash-outline",size:"40",class:"previewDelete",onClick:v=>I(v,K.id),title:e.unref(N)("r.delete")},null,8,["onClick","title"])],512),[[e.vShow,K.mimeType!=="loading"]])],2)):e.createCommentVNode("",!0)],64))),128))],512),[[e.vShow,e.unref(r)==="img"&&((ne=e.unref(a))==null?void 0:ne.length)]]),e.withDirectives(e.createElementVNode("div",Pn,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(o),(K,v)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:"manualImg"+v},[t.manualUpload&&K?(e.openBlock(),e.createElementBlock("div",Fn,[e.createElementVNode("img",{src:K,alt:"manualImg"+v},null,8,zn),e.createElementVNode("div",Rn,[e.createVNode($,{type:"ios-expand",size:"40",class:"previewExpand",onClick:le=>e.unref(Te)(K),title:e.unref(N)("r.fView")},null,8,["onClick","title"]),e.createVNode($,{type:"ios-trash-outline",size:"40",class:"previewDelete",onClick:le=>k(v),title:e.unref(N)("r.delete")},null,8,["onClick","title"])])])):e.createCommentVNode("",!0)],64))),128))],512),[[e.vShow,e.unref(r)==="localImg"&&((H=e.unref(o))==null?void 0:H.length)]]),e.withDirectives(e.createElementVNode("div",Mn,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(d),(K,v)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:"manualItem"+v},[t.manualUpload&&K?(e.openBlock(),e.createElementBlock("p",$n,[K.name?(e.openBlock(),e.createBlock($,{key:0,type:e.unref(st)(K.name)},null,8,["type"])):e.createCommentVNode("",!0),e.createElementVNode("span",{class:e.normalizeClass(["upNameT",{previewName:b(K)}]),onClick:le=>V(K),title:e.unref(N)("r.download")},e.toDisplayString(p(K)),11,Kn),e.createElementVNode("span",Un,[b(K)?(e.openBlock(),e.createBlock($,{key:0,type:"md-qr-scanner",size:"14",class:"listBtH",onClick:le=>B(K),title:e.unref(N)("r.fView")},null,8,["onClick","title"])):e.createCommentVNode("",!0),e.createVNode($,{type:"ios-close",size:"22",class:"listBtH",onClick:le=>k(v),title:e.unref(N)("r.delete")},null,8,["onClick","title"])])])):e.createCommentVNode("",!0)],64))),128))],512),[[e.vShow,e.unref(r)==="localList"&&((Z=e.unref(d))==null?void 0:Z.length)]]),e.withDirectives(e.createElementVNode("div",Gn,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(a),(K,v)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:"defaultItem"+v},[!t.manualUpload&&K?(e.openBlock(),e.createElementBlock("div",Hn,[e.withDirectives(e.createElementVNode("div",Wn,jn,512),[[e.vShow,K.mimeType==="loading"]]),e.withDirectives(e.createVNode($,{type:e.unref(st)(K.name)},null,8,["type"]),[[e.vShow,K.mimeType!=="loading"]]),e.withDirectives(e.createElementVNode("span",{class:e.normalizeClass(["upNameT",{previewName:b(K)}]),onClick:le=>C(K),title:e.unref(N)("r.download")},e.toDisplayString(K.name||e.unref(N)("r.file")+(v+1)),11,qn),[[e.vShow,K.mimeType!=="loading"]]),e.withDirectives(e.createElementVNode("span",Jn,[b(K)?(e.openBlock(),e.createBlock($,{key:0,type:"md-qr-scanner",size:"14",class:"listBtH",onClick:le=>B(K),title:e.unref(N)("r.fView")},null,8,["onClick","title"])):e.createCommentVNode("",!0),e.createVNode($,{type:"ios-close",size:"22",class:"listBtH",onClick:le=>k(v),title:e.unref(N)("r.delete")},null,8,["onClick","title"])],512),[[e.vShow,K.mimeType!=="loading"]])])):e.createCommentVNode("",!0)],64))),128))],512),[[e.vShow,e.unref(r)==="list"&&((Q=e.unref(a))==null?void 0:Q.length)]])])}}}),Yn=e.createElementVNode("div",{class:"bRoot"},null,-1),Nt=e.defineComponent({__name:"MonthRange",props:{modelValue:{default:()=>["",""]},placement:{default:"bottom-start"},placeholder:{},options1:{},options2:{},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","on-change"],setup(l,{emit:s}){const i=s,t=l,o=e.ref(!1),a=e.ref(!1),r=e.ref(!1),m=e.computed({get(){return t.modelValue&&t.modelValue[0]||null},set(B){i("update:modelValue",[B,d.value]),i("on-change",[B,d.value])}}),d=e.computed({get(){return t.modelValue&&t.modelValue[1]||null},set(B){i("update:modelValue",[m.value,B]),i("on-change",[m.value,B])}}),g=e.computed(()=>(m.value||"")+((m.value||d.value)&&" - "||"")+(d.value||"")),f=e.ref();e.onMounted(()=>{f.value.querySelector(".aRoot .ivu-input-suffix").addEventListener("mouseover",()=>{r.value=!0}),f.value.querySelector(".aRoot .ivu-input-suffix").addEventListener("mouseout",()=>{r.value=!1}),f.value.querySelector(".aRoot .ivu-input-suffix").addEventListener("click",B=>{var V;!t.disabled&&(m.value||d.value)&&((V=B==null?void 0:B.stopPropagation)==null||V.call(B),C())})});function p(){t.disabled||(o.value=!0)}function y(B){m.value=B,o.value=!1,a.value=!0}function k(B){d.value=B,a.value=!1}function C(){i("update:modelValue",[null,null]),i("on-change",[null,null])}function b(){o.value=!1,a.value=!1,m.value&&d.value===null&&(m.value=null)}return(B,V)=>{const L=e.resolveComponent("DatePicker"),T=e.resolveComponent("Icon"),S=e.resolveComponent("Input");return e.openBlock(),e.createElementBlock("div",{class:"monthRangeBoxR",ref_key:"mPickerRef",ref:f},[e.createVNode(L,{open:e.unref(a),modelValue:e.unref(d),transfer:"",type:"month",placement:t.placement,options:t.options2,onOnChange:k,onOnClickoutside:b},{default:e.withCtx(()=>[Yn]),_:1},8,["open","modelValue","placement","options"]),e.createVNode(L,{open:e.unref(o),modelValue:e.unref(m),transfer:"",type:"month",placement:t.placement,options:t.options1,onOnChange:y,onOnClickoutside:b},{default:e.withCtx(()=>[e.createElementVNode("div",{onClick:p},[e.createVNode(S,{class:"aRoot",modelValue:e.unref(g),"onUpdate:modelValue":V[0]||(V[0]=z=>e.isRef(g)?g.value=z:null),readonly:"",placeholder:t.placeholder||e.unref(N)("r.selectDate"),disabled:t.disabled},{suffix:e.withCtx(()=>[e.createVNode(T,{type:e.unref(r)&&(e.unref(m)||e.unref(d))&&!t.disabled?"ios-close-circle":"ios-calendar-outline"},null,8,["type"])]),_:1},8,["modelValue","placeholder","disabled"])])]),_:1},8,["open","modelValue","placement","options"])],512)}}}),Xn={class:"editor-pro-root"},xt=e.defineComponent({__name:"EditorPro",props:{modelValue:{default:"<p></p>"},toolbarConfig:{default:()=>({})},editorConfig:{default:()=>({})},mode:{default:"default"},height:{default:300},imgUploadUrl:{},videoUploadUrl:{},placeholder:{default:""},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","on-change"],setup(l,{emit:s}){const i=s,t=l,o=e.shallowRef(),a=e.computed({get(){return t.modelValue},set(f){i("update:modelValue",f),i("on-change",f)}}),r=e.computed(()=>Object.assign({placeholder:t.placeholder||N("r.pInput"),insertKeys:{index:31,keys:["previewX"]}},t.toolbarConfig)),m=e.computed(()=>Object.assign({readOnly:t.disabled,MENU_CONF:{uploadImage:{async customUpload(f,p){let y=new FormData;y.append("files",f);const k=f.name,C=t.imgUploadUrl??"/node-serve/file";he.post(C,y,null,[],{spin:!0,headers:{"Content-Type":"multipart/form-data"}}).then(b=>{if(b&&b.data)if(Array.isArray(b.data))for(let B of b.data){const V=C+"/"+(B==null?void 0:B.id)+"/download";p(V,k,V)}else{const B=C+"/"+b.data.id+"/download";p(B,k,B)}}).catch(()=>{me(N("r.uploadFail"),"","error")})}},uploadVideo:{async customUpload(f,p){let y=new FormData;y.append("files",f);const k=t.videoUploadUrl??"/node-serve/file";he.post(k,y,null,[],{spin:!0,headers:{"Content-Type":"multipart/form-data"}}).then(C=>{if(C&&C.data)if(Array.isArray(C.data))for(let b of C.data){const B=k+"/"+(b==null?void 0:b.id)+"/download";p(B)}else{const b=k+"/"+C.data.id+"/download";p(b)}}).catch(()=>{me(N("r.uploadFail"),"","error")})}}}},t.editorConfig)),d=e.computed(()=>({height:typeof t.height=="number"?t.height+"px":t.height}));function g(f){o.value=f}return e.watch(()=>t.disabled,f=>{f?o.value.disable():o.value.enable()}),e.onBeforeUnmount(()=>{o.value&&o.value.destroy()}),(f,p)=>(e.openBlock(),e.createElementBlock("div",Xn,[e.withDirectives(e.createVNode(e.unref(Ot.Toolbar),{class:"editor-pro-toolbar",editor:e.unref(o),defaultConfig:e.unref(r),mode:f.mode},null,8,["editor","defaultConfig","mode"]),[[e.vShow,!f.disabled]]),e.createVNode(e.unref(Ot.Editor),{class:"editor-pro-editor",modelValue:e.unref(a),"onUpdate:modelValue":p[0]||(p[0]=y=>e.isRef(a)?a.value=y:null),defaultConfig:e.unref(m),mode:f.mode,onOnCreated:g,style:e.normalizeStyle(e.unref(d))},null,8,["modelValue","defaultConfig","mode","style"])]))}}),Qn={key:19,class:"formInfoTxtXN"},Zn={key:20,class:"formTitleTxtXN"},rl=e.defineComponent({__name:"ItemR",props:{item:{},itemStyle:{},valGroup:{},tempKeys:{},inline:{type:Boolean},disabled:{type:Boolean},labelWidth:{},itemWidth:{},mgrUrl:{},uploadUrl:{}},emits:["item-change","re-validate","select-input-change","al-name-change","async-label-change"],setup(l,{emit:s}){const i=s,t=l;function o(f){return{withInfo:!!f.info,withTitle:!!f.title,inlineFormItemXN:t.inline,noLabel:f.type==="selectInput",[f.class]:f.class,slotInput:f.slotPosition}}function a(f,p){i("item-change",{e:f,root:p})}function r(f,p){i("re-validate",{e:f,root:p})}function m(f){i("select-input-change",f)}function d(f,p){i("al-name-change",{name:f,root:p})}function g(f,p){i("async-label-change",{label:f,root:p})}return(f,p)=>{const y=e.resolveComponent("InputNumber"),k=e.resolveComponent("Input"),C=e.resolveComponent("Option"),b=e.resolveComponent("Select"),B=e.resolveComponent("Radio"),V=e.resolveComponent("Icon"),L=e.resolveComponent("RadioGroup"),T=e.resolveComponent("Checkbox"),S=e.resolveComponent("CheckboxGroup"),z=e.resolveComponent("DatePicker"),D=e.resolveComponent("TimePicker"),O=e.resolveComponent("FormItem");return t.item?(e.openBlock(),e.createBlock(O,{key:0,label:t.item.type!=="radio"&&t.item.type!=="checkbox"?t.item.label:" ",prop:t.item.key||"",class:e.normalizeClass(["relativeBox",o(t.item)])},{default:e.withCtx(()=>[t.item.type==="txt"?(e.openBlock(),e.createElementBlock("div",{key:0,style:e.normalizeStyle([t.itemStyle,{display:"inline-block"}]),class:e.normalizeClass({likeInputX:t.item.likeInput,disabled:!!t.item.disabled||t.disabled})},e.toDisplayString(t.item.valKey?t.valGroup[t.item.valKey]||"无":t.item.val),7)):t.item.type==="inputNumber"?(e.openBlock(),e.createBlock(y,{key:1,style:e.normalizeStyle(t.itemStyle),modelValue:t.tempKeys[t.item.tempKey],"onUpdate:modelValue":p[0]||(p[0]=u=>t.tempKeys[t.item.tempKey]=u),max:t.item.max||t.item.max===0?t.item.max:1/0,min:t.item.min||t.item.min===0?t.item.min:-1/0,precision:t.item.precision,step:t.item.step||1,placeholder:t.item.placeholder||e.unref(N)("r.pInput"),disabled:!!t.item.disabled||t.disabled,readonly:!!t.item.readonly,editable:t.item.editable!==!1,onOnBlur:p[1]||(p[1]=u=>a(u,t.item)),"active-change":!!t.item.activeChange,clearable:t.item.clearable!==!1},null,8,["style","modelValue","max","min","precision","step","placeholder","disabled","readonly","editable","active-change","clearable"])):t.item.type==="input"?(e.openBlock(),e.createBlock(k,{key:2,style:e.normalizeStyle(f.itemStyle),modelValue:t.tempKeys[t.item.tempKey],"onUpdate:modelValue":p[2]||(p[2]=u=>t.tempKeys[t.item.tempKey]=u),type:t.item.inputType??(t.item.password?"password":"text"),maxlength:t.item.maxLength||null,password:!!t.item.password,icon:t.item.icon,prefix:t.item.prefix,suffix:t.item.suffix,placeholder:t.item.placeholder||e.unref(N)("r.pInput"),disabled:!!t.item.disabled||t.disabled,onOnBlur:p[3]||(p[3]=u=>a(u,t.item)),clearable:!t.item.password&&t.item.inputType==="text"&&t.item.clearable!==!1},e.createSlots({_:2},[t.item.slotPosition&&t.item.slotName?{name:t.item.slotPosition,fn:e.withCtx(()=>[e.renderSlot(f.$slots,t.item.slotName,{valGroup:t.valGroup})]),key:"0"}:void 0,t.item.slotPosition!=="prepend"&&t.item.prepend?{name:"prepend",fn:e.withCtx(()=>[e.createElementVNode("span",null,e.toDisplayString(t.item.prepend),1)]),key:"1"}:void 0,t.item.slotPosition!=="append"&&t.item.append?{name:"append",fn:e.withCtx(()=>[e.createElementVNode("span",null,e.toDisplayString(t.item.append),1)]),key:"2"}:void 0]),1032,["style","modelValue","type","maxlength","password","icon","prefix","suffix","placeholder","disabled","clearable"])):t.item.type==="select"?(e.openBlock(),e.createBlock(b,{key:3,modelValue:f.tempKeys[t.item.tempKey],"onUpdate:modelValue":p[4]||(p[4]=u=>f.tempKeys[t.item.tempKey]=u),style:e.normalizeStyle(f.itemStyle),filterable:t.item.filterable===!0||t.item.filterable===!1?t.item.filterable:!1,disabled:!!t.item.disabled||t.disabled,multiple:!!t.item.multiple,placeholder:t.item.placeholder||e.unref(N)("r.pSelect"),onOnChange:p[5]||(p[5]=u=>a(u,t.item)),transfer:"",clearable:t.item.clearable!==!1},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.item.options,(u,I)=>(e.openBlock(),e.createBlock(C,{value:u.val,label:u.label||u.val,key:"option-"+t.item.key+I,disabled:!!u.disabled},null,8,["value","label","disabled"]))),128))]),_:1},8,["modelValue","style","filterable","disabled","multiple","placeholder","clearable"])):t.item.type==="selectInput"?(e.openBlock(),e.createBlock(Vt,{key:4,modelValue:f.tempKeys[t.item.tempKey],"onUpdate:modelValue":p[6]||(p[6]=u=>f.tempKeys[t.item.tempKey]=u),"label-width":f.labelWidth,"item-width":f.itemWidth,"select-option":t.item.options||[],placeholder:t.item.placeholder||e.unref(N)("r.pInput"),clearable:t.item.clearable!==!1,disabled:!!t.item.disabled||t.disabled,onOnChange:m},null,8,["modelValue","label-width","item-width","select-option","placeholder","clearable","disabled"])):t.item.type==="alCascader"?(e.openBlock(),e.createBlock(_t,{key:5,style:e.normalizeStyle(f.itemStyle),class:"inlineBlock",modelValue:t.valGroup[t.item.key],"onUpdate:modelValue":p[7]||(p[7]=u=>t.valGroup[t.item.key]=u),level:t.item.level||t.item.level===0?t.item.level:2,disabled:!!t.item.disabled||t.disabled,filterable:t.item.filterable!==!1,placeholder:t.item.placeholder||e.unref(N)("r.pSelect"),"change-on-select":!!t.item.changeOnSelect,onOnNameChange:p[8]||(p[8]=u=>d(u,t.item))},null,8,["style","modelValue","level","disabled","filterable","placeholder","change-on-select"])):t.item.type==="asyncCascader"?(e.openBlock(),e.createBlock(St,{key:6,style:e.normalizeStyle(f.itemStyle),modelValue:t.valGroup[t.item.key],"onUpdate:modelValue":p[9]||(p[9]=u=>t.valGroup[t.item.key]=u),url:t.item.url||f.mgrUrl+"/web/v1/umc/orgs","option-val":t.item.optionVal||"id","option-label":t.item.optionLabel||"name","option-filter":t.item.optionFilter||null,"only-last-val":t.item.onlyLastVal!==!1,"only-last-label":t.item.onlyLastLabel!==!1,separator:t.item.separator||"/",placeholder:t.item.placeholder||e.unref(N)("r.pSelect"),filterable:!!t.item.filterable,disabled:!!t.item.disabled||t.disabled,onOnLabelChange:p[10]||(p[10]=u=>g(u,t.item))},null,8,["style","modelValue","url","option-val","option-label","option-filter","only-last-val","only-last-label","separator","placeholder","filterable","disabled"])):t.item.type==="radio"?(e.openBlock(),e.createBlock(B,{key:7,modelValue:t.valGroup[t.item.key],"onUpdate:modelValue":p[11]||(p[11]=u=>t.valGroup[t.item.key]=u),disabled:!!t.item.disabled||t.disabled,onOnChange:p[12]||(p[12]=u=>a(u,t.item))},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(t.item.label),1)]),_:1},8,["modelValue","disabled"])):t.item.type==="radioGroup"?(e.openBlock(),e.createBlock(L,{key:8,style:e.normalizeStyle(f.itemStyle),onOnChange:p[13]||(p[13]=u=>r(u,t.item)),type:t.item.buttonType?"button":null,modelValue:f.tempKeys[t.item.tempKey],"onUpdate:modelValue":p[14]||(p[14]=u=>f.tempKeys[t.item.tempKey]=u)},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.item.options,u=>(e.openBlock(),e.createBlock(B,{key:"radioItem"+u.val,label:u.val,border:!!t.item.itemBorder,disabled:!!t.item.disabled||t.disabled||u.disabled},{default:e.withCtx(()=>[u.icon&&!t.item.buttonType?(e.openBlock(),e.createBlock(V,{key:0,type:u.icon},null,8,["type"])):e.createCommentVNode("",!0),e.createElementVNode("span",null,e.toDisplayString(u.label||u.val),1)]),_:2},1032,["label","border","disabled"]))),128))]),_:1},8,["style","type","modelValue"])):t.item.type==="checkbox"?(e.openBlock(),e.createBlock(T,{key:9,modelValue:t.valGroup[t.item.key],"onUpdate:modelValue":p[15]||(p[15]=u=>t.valGroup[t.item.key]=u),disabled:!!t.item.disabled,onOnChange:p[16]||(p[16]=u=>a(u,t.item))},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(t.item.label),1)]),_:1},8,["modelValue","disabled"])):t.item.type==="checkboxGroup"?(e.openBlock(),e.createBlock(S,{key:10,style:e.normalizeStyle(f.itemStyle),modelValue:f.tempKeys[t.item.tempKey],"onUpdate:modelValue":p[17]||(p[17]=u=>f.tempKeys[t.item.tempKey]=u),onOnChange:p[18]||(p[18]=u=>r(u,t.item))},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.item.options,u=>(e.openBlock(),e.createBlock(T,{key:"checkItem"+u.val,label:u.val,disabled:!!t.item.disabled||t.disabled||u.disabled},{default:e.withCtx(()=>[u.icon?(e.openBlock(),e.createBlock(V,{key:0,type:u.icon},null,8,["type"])):e.createCommentVNode("",!0),e.createElementVNode("span",null,e.toDisplayString(u.label||u.val),1)]),_:2},1032,["label","disabled"]))),128))]),_:1},8,["style","modelValue"])):t.item.type==="textarea"?(e.openBlock(),e.createBlock(k,{key:11,type:"textarea",modelValue:f.tempKeys[t.item.tempKey],"onUpdate:modelValue":p[19]||(p[19]=u=>f.tempKeys[t.item.tempKey]=u),autosize:t.item.autosize||{minRows:2},style:e.normalizeStyle(f.itemStyle),maxlength:t.item.maxLength||null,"show-word-limit":!!t.item.showWordLimit,placeholder:t.item.placeholder||e.unref(N)("r.pInput"),disabled:!!t.item.disabled||t.disabled,onOnBlur:p[20]||(p[20]=u=>a(u,t.item)),clearable:t.item.clearable!==!1},null,8,["modelValue","autosize","style","maxlength","show-word-limit","placeholder","disabled","clearable"])):t.item.type==="upload"?(e.openBlock(),e.createBlock(Tt,{key:12,style:e.normalizeStyle(f.itemStyle),class:"inlineBlock",modelValue:t.valGroup[t.item.key],"onUpdate:modelValue":p[21]||(p[21]=u=>t.valGroup[t.item.key]=u),url:t.item.url||f.uploadUrl,"manual-upload":!!t.item.manualUpload,format:t.item.format||[],data:t.item.data,"max-size":t.item.maxSize||0,"show-img":!!t.item.showImg,length:t.item.length||0,disabled:!!t.item.disabled||t.disabled,"with-credentials":t.item.withCredentials!==!1,onOnFileIdChange:p[22]||(p[22]=u=>r(u,t.item))},null,8,["style","modelValue","url","manual-upload","format","data","max-size","show-img","length","disabled","with-credentials"])):t.item.type==="date"?(e.openBlock(),e.createBlock(z,{key:13,style:e.normalizeStyle(f.itemStyle),modelValue:f.tempKeys[t.item.tempKey],"onUpdate:modelValue":p[23]||(p[23]=u=>f.tempKeys[t.item.tempKey]=u),type:t.item.dateType,disabled:!!t.item.disabled||t.disabled,placement:"bottom-end",placeholder:t.item.placeholder||e.unref(N)("r.selectDate"),options:t.item.dateOptions||null,clearable:t.item.clearable!==!1,editable:!1,transfer:"",onOnChange:p[24]||(p[24]=u=>a(u,t.item))},null,8,["style","modelValue","type","disabled","placeholder","options","clearable"])):t.item.type==="time"?(e.openBlock(),e.createBlock(D,{key:14,style:e.normalizeStyle(f.itemStyle),modelValue:f.tempKeys[t.item.tempKey],"onUpdate:modelValue":p[25]||(p[25]=u=>f.tempKeys[t.item.tempKey]=u),type:t.item.dateType,disabled:!!t.item.disabled||t.disabled,placement:"bottom-end",placeholder:t.item.placeholder||e.unref(N)("r.selectTime"),steps:t.item.steps||[],clearable:t.item.clearable!==!1,editable:!1,format:t.item.format||"HH:mm:ss",transfer:"",onOnChange:p[26]||(p[26]=u=>a(u,t.item))},null,8,["style","modelValue","type","disabled","placeholder","steps","clearable","format"])):t.item.type==="monthRange"?(e.openBlock(),e.createBlock(Nt,{key:15,style:e.normalizeStyle(f.itemStyle),modelValue:f.tempKeys[t.item.tempKey],"onUpdate:modelValue":p[27]||(p[27]=u=>f.tempKeys[t.item.tempKey]=u),disabled:!!t.item.disabled||t.disabled,placement:"bottom-end",placeholder:t.item.placeholder||e.unref(N)("r.selectDate"),options1:t.item.dateOptions1||null,options2:t.item.dateOptions2||null,onOnChange:p[28]||(p[28]=u=>a(u,t.item))},null,8,["style","modelValue","disabled","placeholder","options1","options2"])):t.item.type==="editorPro"?(e.openBlock(),e.createBlock(xt,{key:16,class:"inlineBlock",style:e.normalizeStyle(f.itemStyle),modelValue:t.valGroup[t.item.key],"onUpdate:modelValue":p[29]||(p[29]=u=>t.valGroup[t.item.key]=u),placeholder:t.item.placeholder||e.unref(N)("r.pInput"),disabled:!!t.item.disabled||t.disabled,"toolbar-config":t.item.toolbarConfig||{},"editor-config":t.item.editorConfig||{},mode:t.item.mode||"simple",height:t.item.height||300,onInput:p[30]||(p[30]=u=>a(u,t.item))},null,8,["style","modelValue","placeholder","disabled","toolbar-config","editor-config","mode","height"])):t.item.type==="inputMap"?(e.openBlock(),e.createBlock(Ct,{key:17,modelValue:f.tempKeys[t.item.tempKey],"onUpdate:modelValue":p[31]||(p[31]=u=>f.tempKeys[t.item.tempKey]=u),style:e.normalizeStyle(f.itemStyle),placeholder:t.item.placeholder||e.unref(N)("r.search"),disabled:!!t.item.disabled||t.disabled,"show-map":t.item.showMap!==!1,height:t.item.mapHeight||"250px",onOnChange:p[32]||(p[32]=u=>a(u,t.item))},null,8,["modelValue","style","placeholder","disabled","show-map","height"])):t.item.type==="custom"?(e.openBlock(),e.createElementBlock("div",{key:18,class:"inlineBlock",style:e.normalizeStyle(f.itemStyle)},[e.renderSlot(f.$slots,t.item.slotName,{valGroup:t.valGroup})],4)):e.createCommentVNode("",!0),t.item.info?(e.openBlock(),e.createElementBlock("div",Qn,e.toDisplayString(t.item.info),1)):e.createCommentVNode("",!0),t.item.title?(e.openBlock(),e.createElementBlock("div",Zn,e.toDisplayString(t.item.title),1)):e.createCommentVNode("",!0)]),_:3},8,["label","prop","class"])):e.createCommentVNode("",!0)}}}),vn=e.createElementVNode("input",{type:"text"},null,-1),ea={class:"inlineBlock"},Fe=e.defineComponent({__name:"FormR",props:{formData:{default:()=>[]},formRules:{default:()=>({})},showMessage:{type:Boolean,default:!0},labelWidth:{default:160},contentWidth:{default:"70%"},itemWidth:{default:200},inline:{type:Boolean,default:!1},showLongOkBt:{type:Boolean,default:!1},longOkBtTxt:{},showInlineOkBt:{type:Boolean,default:!1},inlineOkBtTxt:{},showInlineClearBt:{type:Boolean,default:!1},inlineClearBtTxt:{},disabled:{type:Boolean,default:!1},btnLoading:{type:Boolean,default:!1},trim:{type:Boolean,default:!0},teamClass:{default:"formTeamBox"}},emits:["on-item-change","on-reset","on-re-render","on-submit"],setup(l,{expose:s,emit:i}){var Ol,Al;const t=i,o=l,a=e.ref(null),r=e.ref({}),m=e.ref([]),d=e.ref({});let g=[];const f=((Ol=window==null?void 0:window.g)==null?void 0:Ol.mgrURL)??"";let p=[],y=[];const k=e.ref(!1),C=e.ref(Math.random()*1e8+1e3),b=(Al=window==null?void 0:window.g)!=null&&Al.mgrURL?window.g.mgrURL+"/web/v1/fsc/file":"/file";let B=!1;const V=e.computed(()=>Array.isArray(o.formData.length?o.formData[0]:!1)),L=e.computed(()=>o.inline?{width:o.itemWidth+o.labelWidth+"px"}:{}),T=e.computed(()=>o.inline?{width:"100%"}:{width:o.contentWidth}),S=e.computed(()=>{let c=F.cloneDeep(o.formRules);for(let n in c)if(c.hasOwnProperty(n))if(Array.isArray(c[n]))for(let x of c[n])x&&x&&!(x.message||x.validator)&&(x.message=N("r.required"));else G(c[n])==="Object"&&(c[n].message||c[n].validator||(c[n].message=N("r.required")));return c}),z=e.computed(()=>{let c=[];if(V.value)for(let n of m.value)u(n,c);else u(m.value,c);return c.concat(p,y)}),D=e.computed(()=>{let c=[];if(V.value)for(let n of m.value)I(n,c);else I(m.value,c);return c});function O(c){return c.filter(n=>n==null?void 0:n.slotName)}function u(c,n){for(let x of c)if(x.showing===!0&&x.key&&x.type!=="selectInput"&&(n.push(x.key),x.key2&&n.push(x.key2),x.collectLabel)){if(!Array.isArray(x.collectLabel)&&x.collectLabel.key)n.push(x.collectLabel.key);else if(Array.isArray(x.collectLabel))for(let w of x.collectLabel)w.key&&n.push(w.key)}}function I(c,n){for(let x of c)x.showing===!0&&x.key&&x.type!=="selectInput"&&n.push(x.key)}function h(){return new Promise(c=>{_(),A().then(()=>{t("on-reset"),c(!0)})})}function P(){return new Promise(c=>{for(let n of g)n();g=[],d.value={},U(),v(),A().then(()=>{t("on-re-render"),c(!0)})})}function A(){return new Promise(c=>{C.value=Math.floor(Math.random()*1e8+1e3),e.nextTick(function(){c(!0)})})}function _(){let c=J();for(let n in r.value)if(r.value.hasOwnProperty(n))if(ie(c[n]))r.value[n]=c[n];else if(Array.isArray(r.value[n]))r.value[n]=[];else if(G(r.value[n])==="Boolean")r.value[n]=!1;else{const x=Se(o.formData,w=>(w==null?void 0:w.key)===n);x&&(x.type==="editor"||x.type==="editorPro")?r.value[n]="":r.value[n]=null}$(c)}function $(c){for(let n in d.value)d.value.hasOwnProperty(n)&&(ie(c[n])?d.value[n]=c[n]:Array.isArray(d.value[n])?d.value[n]=[]:G(d.value[n])==="Object"&&d.value[n].hasOwnProperty("key")&&d.value[n].hasOwnProperty("val")?d.value[n].val=null:d.value[n]=null)}function R(c){let n=J();ie(n[c])?d.value[c]=n[c]:Array.isArray(d.value[c])?d.value[c]=[]:d.value[c]=null}function J(){let c={};if(V.value)for(let n of m.value)ne(n,c);else ne(m.value,c);return c}function ne(c,n){for(let x of c)x.tempKey&&ie(x.defaultVal)&&K(x,n),x.key&&ie(x.defaultVal)&&(n[x.key]=x.defaultVal),x.key2&&ie(x.defaultVal2)&&(n[x.key2]=x.defaultVal2)}function H(c){if(c.show){if(G(c.show)==="Object")return Q(c,Z(c.show));if(Array.isArray(c.show))if(c.showOr){for(let n of c.show)if(Z(n)===!0)return Q(c,!0);return Q(c,!1)}else{for(let n of c.show)if(Z(n)===!1)return Q(c,!1);return Q(c,!0)}else if(typeof c.show=="function")return Q(c,c.show(r.value))}else c.showing||(c.showing=!0);return!0}function Z(c){if(c.reg&&typeof c.reg.test=="function")return c.reg.test(r.value[c.key]);if(Array.isArray(c.val)){for(let n of c.val){if((r.value[c.key]||r.value[c.key]===0||r.value[c.key]===!1)&&n===".")return!0;if(r.value[c.key]===n)return!0}return!1}else return!1}function Q(c,n){return!c.showing&&n&&c.key?(c.showing=n,c.defaultVal!==void 0&&(c.tempKey?(d.value[c.tempKey]===null||d.value[c.tempKey]===void 0||(G(d.value[c.tempKey])==="Object"||Array.isArray(d.value[c.tempKey]))&&F.isEmpty(d.value[c.tempKey]))&&K(c,d.value):(r.value[c.key]===null||r.value[c.key]===void 0)&&(r.value[c.key]=c.defaultVal),c.key2&&c.deafultVal2!==void 0&&(r.value[c.key2]===null||r.value[c.key2]===void 0)&&c.type!=="inputMap"&&(r.value[c.key2]=c.defaultVal2)),c.tempKey&&ee(d.value[c.tempKey],c)):c.showing=n,n}function K(c,n){switch(c.type){case"selectInput":n[c.tempKey]={key:c.key,val:c.defaultVal};break;case"inputMap":c.key3?n[c.tempKey]={lng:c.defaultVal||0,lat:c.defaultVal2||0,name:c.defaultVal3||""}:n[c.tempKey]={lng:c.defaultVal||0,lat:c.defaultVal2||0};break;case"input":case"inputNumber":case"textarea":n[c.tempKey]=c.defaultVal;break;case"radioGroup":case"select":case"checkboxGroup":c.booleanVal?n[c.tempKey]=c.defaultVal?1:0:n[c.tempKey]=c.defaultVal;break;case"date":case"time":case"monthRange":c.dateType==="date"||c.dateType==="datetime"||c.dateType==="time"||c.dateType==="year"||c.dateType==="month"?n[c.tempKey]=c.defaultVal:(c.dateType==="daterange"||c.dateType==="datetimerange"||c.dateType==="timerange"||c.type==="monthRange")&&(n[c.tempKey]=c.defaultVal&&c.defaultVal2&&[c.defaultVal,c.defaultVal2]||[]);break}}function v(){let c=F.cloneDeep(o.formData);if(V.value)for(let n of c)le(n);else le(c);m.value=c}function le(c){for(let n of c)switch(n.type){case"selectInput":const x="selectInput"+Math.floor(Math.random()*1e8);n.tempKey=x,d.value[x]={key:n.key||null,val:n.defaultVal||null},g.push(e.watch(()=>d.value[x],W=>{ee(W,n)},{immediate:!0}));break;case"inputMap":const w="inputMap"+Math.floor(Math.random()*1e8);n.key&&(n.tempKey=w,n.key3?d.value[w]=n.defaultVal!==void 0&&n.defaultVal2!==void 0?{lng:n.defaultVal,lat:n.defaultVal2,name:n.defaultVal3||""}:{lng:null,lat:null,name:null}:d.value[w]=n.defaultVal!==void 0&&n.defaultVal2!==void 0?{lng:n.defaultVal,lat:n.defaultVal2}:{lng:null,lat:null},g.push(e.watch(()=>d.value[w],W=>{ee(W,n)},{immediate:!0})));break;case"input":case"inputNumber":case"textarea":const q="inputT"+Math.floor(Math.random()*1e8);n.key&&(n.tempKey=q,d.value[q]=n.defaultVal!==void 0?n.defaultVal:null,g.push(e.watch(()=>d.value[q],W=>{ee(W,n)},{immediate:!0})));break;case"select":case"radioGroup":case"checkboxGroup":if(n.options||(n.options=[]),(n.type==="checkboxGroup"||n.type==="radioGroup")&&(n.options=e.ref(F.cloneDeep(n.options))),n.asyncOption)if(n.changeOption)if(Array.isArray(n.changeOption)){let W=!0;for(let j of n.changeOption)if(!j.valKey||!j.key){W=!1;break}W?g.push(e.watch(()=>{let j="";if(Array.isArray(n.changeOption))for(let te of n.changeOption){let be=r.value[te.valKey];if(be||be===0||be===!1)j+="&"+te.key+"="+be;else if(!te.notRequired)return!1}return j},j=>{let te=F.cloneDeep(d.value[n.tempKey]);if(d.value[n.tempKey]=null,j&&n.optionUrl){let be=n.optionUrl.indexOf("?")!==-1?n.optionUrl:n.optionUrl+"?";ge((be+j).replace(/\?&/,"?"),n,te)}else n.localOption?ye(n.options,[...n.localOption]):ye(n.options,[]),ie(te)&&Ne(te,n)},{immediate:!0})):n.localOption?ye(n.options,[...n.localOption]):ye(n.options,[])}else typeof n.changeOption=="object"?n.changeOption.valKey&&n.changeOption.key&&g.push(e.watch(()=>typeof n.changeOption=="object"&&!Array.isArray(n.changeOption)?r.value[n.changeOption.valKey]:!1,W=>{let j=F.cloneDeep(d.value[n.tempKey]);if(d.value[n.tempKey]=null,(W||W===0||W===!1)&&n.optionUrl&&typeof n.changeOption=="object"&&!Array.isArray(n.changeOption)){let te=n.optionUrl.indexOf("?")!==-1?n.optionUrl:n.optionUrl+"?";ge((te+"&"+n.changeOption.key+"="+W).replace(/\?&/,"?"),n,j)}else n.localOption?ye(n.options,[...n.localOption]):ye(n.options,[]),ie(j)&&Ne(j,n)},{immediate:!0})):G(n.changeOption)==="Boolean"&&g.push(e.watch(()=>{const W=Se(o.formData,j=>(j==null?void 0:j.key)===n.key);return W.optionUrl=e.toRef(W.optionUrl),W.optionUrl.value},W=>{let j=F.cloneDeep(d.value[n.tempKey]);d.value[n.tempKey]=null,W?ge(W,n,j):(n.localOption?ye(n.options,[...n.localOption]):ye(n.options,[]),ie(j)&&Ne(j,n))},{immediate:!0}));else n.optionUrl&&ge(n.optionUrl,n);else G(n.borrowOption)==="String"&&e.nextTick(function(){n.options=Se(m.value,W=>(W==null?void 0:W.key)===n.borrowOption).options});const X="opEle"+Math.floor(Math.random()*1e8);n.key&&(n.tempKey=X,n.type==="select"&&n.multiple||n.type==="checkboxGroup"?d.value[X]=n.defaultVal!==void 0?n.defaultVal:[]:n.booleanVal?d.value[X]=n.defaultVal!==void 0?n.defaultVal?1:0:null:d.value[X]=n.defaultVal!==void 0?n.defaultVal:null,g.push(e.watch(()=>d.value[X],W=>{ee(W,n)},{immediate:!0})));break;case"date":case"time":case"monthRange":const re="date"+Math.floor(Math.random()*1e8);n.tempKey=re,n.dateType==="date"||n.dateType==="datetime"||n.dateType==="time"||n.dateType==="year"||n.dateType==="month"?d.value[re]=n.defaultVal||null:(n.dateType==="daterange"||n.dateType==="datetimerange"||n.dateType==="timerange"||n.type==="monthRange")&&(d.value[re]=n.defaultVal&&n.defaultVal2&&[n.defaultVal,n.defaultVal2]||[]),g.push(e.watch(()=>d.value[re],W=>{ee(W,n)}));break}}function ge(c,n,x){he.get(c).then(w=>{var re;let q;if(e.isRef(n.options)?q=n.options.value:q=n.options,!q)return;let X=((re=w==null?void 0:w.data)==null?void 0:re.records)||(w==null?void 0:w.data)||w||[];Array.isArray(X)?(n.optionFilter&&G(n.optionFilter)==="Function"&&(X=n.optionFilter(X)),n.optionLabel&&n.optionVal?(q.length=0,q.push(...X.map(W=>{let j;if(Array.isArray(n.optionLabel)){let te="";n.optionLabel.forEach((be,El)=>{let Dt=String(W[be]);El===1?te+="（"+Dt:El>1?te+="、"+Dt:te+=Dt}),j={label:te+"）",val:n.optionVal&&W[n.optionVal]}}else j={label:n.optionLabel&&W[n.optionLabel],val:n.optionVal&&W[n.optionVal]};if(n.collectLabel)if(Array.isArray(n.collectLabel))for(let te of n.collectLabel)te.valKey&&te.valKey!=="label"&&(j[te.valKey]=W[te.valKey]);else n.collectLabel.valKey&&n.collectLabel.valKey!=="label"&&(j[n.collectLabel.valKey]=W[n.collectLabel.valKey]);if(j.val!==null&&j.val!==void 0)return j}))):(q.length=0,q.push(...X))):q.length=0,n.localOption&&q.unshift(...n.localOption),ie(x)&&Ne(x,n),n.disableOptionByOthers&&(G(n.disableOptionByOthers)==="String"?g.push(e.watch(()=>r.value[n.disableOptionByOthers],W=>{if(R(n.tempKey),!!q){for(let j of q)j.disabled&&(j.disabled=!1);if(W||W===0||W===!1)for(let j of q)j.val===W&&(j.disabled=!0)}},{immediate:!0})):Array.isArray(n.disableOptionByOthers)&&g.push(e.watch(()=>n.disableOptionByOthers.filter(W=>W).map(W=>r.value[W]),W=>{if(R(n.tempKey),!!q){for(let j of q)j.disabled&&(j.disabled=!1);if(W){for(let j of q)for(let te=0;te<W.length;te++)if(j.val===W[te]){j.disabled=!0,W.splice(te,1);break}}}},{immediate:!0})))}).catch(()=>{console.warn("拉取选项出错")})}function Ne(c,n){Array.isArray(e.toValue(n.options))&&F.findIndex(e.toValue(n.options),{val:c})!==-1&&(d.value[n.tempKey]=c)}function U(){if(r.value={},V.value)for(let c of o.formData)M(c);else M(o.formData)}function M(c){for(let n of c)n.key&&(n.type==="checkboxGroup"||n.type==="select"&&n.multiple?r.value[n.key]=n.defaultVal!==void 0&&n.show===void 0?n.defaultVal:[]:n.type==="editor"||n.type==="editorPro"?r.value[n.key]=n.defaultVal!==void 0&&n.show===void 0?n.defaultVal:"":(r.value[n.key]=n.defaultVal!==void 0&&n.show===void 0?n.defaultVal:null,n.key2&&(r.value[n.key2]=n.defaultVal2!==void 0&&n.show===void 0?n.defaultVal2:null)))}function ee(c,n){if(n.showing)switch(n.type){case"selectInput":c&&(c.beforeKey&&delete r.value[c.beforeKey],r.value[c.key]=c.val);break;case"inputMap":if(!n.key||!n.key2)return;c?(r.value[n.key]=c.lng,r.value[n.key2]=c.lat,n.key3&&(r.value[n.key3]=c.name)):(r.value[n.key]=null,r.value[n.key2]=null,n.key3&&(r.value[n.key3]=null));break;case"input":case"inputNumber":case"textarea":if(!n.key)return;if(c||c===0){let q=/^-?\d+(.\d+)?$/;n.numberVal&&q.test(c)?r.value[n.key]=Number(c):r.value[n.key]=c}else r.value[n.key]=null;break;case"select":case"radioGroup":case"checkboxGroup":if(!n.key)return;if(n.booleanVal&&!n.multiple?r.value[n.key]=c===void 0||c===""||c===null?null:!!c:n.multiple||n.type==="checkboxGroup"?r.value[n.key]=Object.assign([],c):r.value[n.key]=c,n.collectLabel){const q=ae(n,c);if(Array.isArray(n.collectLabel)){for(let X of n.collectLabel)if(X!=null&&X.key&&X.valKey){const re=se(X.key);let W=null;Array.isArray(q)?(W=q.map(te=>te[X.valKey]),r.value[X.key]=W,re&&(d.value[re]=W)):(q&&ie(q[X.valKey])&&(W=q[X.valKey]),r.value[X.key]=W,re&&(d.value[re]=W));let j=Se(m.value,te=>(te==null?void 0:te.key)===X.key);j&&j.tempKey&&(d.value[j.tempKey]=r.value[X.key])}}else if(typeof n.collectLabel=="object"&&n.collectLabel.key&&n.collectLabel.valKey){const X=se(n.collectLabel.key);let re=null;Array.isArray(q)?(re=q.map(j=>n.collectLabel&&!Array.isArray(n.collectLabel)&&j[n.collectLabel.valKey]),r.value[n.collectLabel.key]=re,X&&(d.value[X]=re)):(q&&ie(q[n.collectLabel.valKey])&&(re=q[n.collectLabel.valKey]),r.value[n.collectLabel.key]=re,X&&(d.value[X]=re));let W=Se(m.value,j=>n.collectLabel&&!Array.isArray(n.collectLabel)&&(j==null?void 0:j.key)===n.collectLabel.key||!1);W&&W.tempKey&&(d.value[W.tempKey]=r.value[n.collectLabel.key])}}break;case"date":case"time":case"monthRange":if(!n.key)return;let x=n.dateType;const w={date:"YYYY-MM-DD",daterange:"YYYY-MM-DD",datetime:"YYYY-MM-DD HH:mm:ss",datetimerange:"YYYY-MM-DD HH:mm:ss",year:"YYYY",month:"YYYY-MM"};if(x==="date"||x==="datetime"||x==="time"||x==="year"||x==="month")c?(x==="time"?r.value[n.key]=c:r.value[n.key]=Ae(c).format(typeof n.format=="string"?n.format:w[x]),x==="date"&&n.addTime&&(r.value[n.key]+=" 00:00:00")):r.value[n.key]=null;else if(n.type==="monthRange"||x==="daterange"||x==="datetimerange"||x==="timerange"){if(!n.key2)return;c&&c[0]&&c[1]?(x==="timerange"?(r.value[n.key]=c[0],r.value[n.key2]=c[1]):n.type==="monthRange"?(r.value[n.key]=typeof n.format=="string"&&Ae(c[0]).format(n.format)||c[0],r.value[n.key2]=typeof n.format=="string"&&n.format&&Ae(c[1]).format(n.format)||c[1]):(r.value[n.key]=Ae(c[0]).format(n.format||x&&w[x]),r.value[n.key2]=Ae(c[1]).format(n.format||x&&w[x])),x==="daterange"&&n.addTime&&(r.value[n.key]+=" 00:00:00",r.value[n.key2]+=" 23:59:59")):(r.value[n.key]=null,r.value[n.key2]=null)}break}}function ae(c,n){const x=e.toValue(c.options);if(x)if(c!=null&&c.multiple||c.type==="checkboxGroup"){if(n){let w=[];for(let q of x)n.indexOf(q==null?void 0:q.val)!==-1&&w.push(q);return w}return!1}else{if(n||n===0||n===!1){for(let w of x)if((w==null?void 0:w.val)===n)return w}return!1}}function se(c){if(V.value){for(let n of m.value){const x=Y(n,c);if(x)return x}return!1}return Y(m.value,c)}function Y(c,n){for(let x of c)if(x.key===n)return x.tempKey;return!1}function pe(c,n){let x={};for(let w in r.value)r.value.hasOwnProperty(w)&&c[w]!==void 0&&(x[w]=c[w],delete c[w]);ze(x,n);for(let w in c)c.hasOwnProperty(w)&&(y.indexOf(w)<0&&y.push(w),r.value[w]=c[w])}function xe(c){let n=F.cloneDeep(c);if(V.value){let x=[];for(let w of o.formData)x.push(...Le(w,n));return x}return Le(o.formData,n)}function Le(c,n){return c.filter(x=>{for(let w of Object.keys(n))if((x==null?void 0:x.key)===w&&D.value.indexOf(w)>-1&&!(n[w]===null||(Array.isArray(n[w])||G(n[w])==="Object")&&F.isEmpty(n[w])))return delete n[w],!0;return!1}).map(x=>x==null?void 0:x.key)}function ze(c,n=!1){let x=F.cloneDeep(c);Be(c,n);for(let w in r.value)if(r.value.hasOwnProperty(w)&&c[w]!==void 0&&c[w]!=="--"){if(Array.isArray(c[w]))c[w]=c[w].filter(q=>q!=="--");else if(G(c[w])==="Object")for(let q in c[w])c[w].hasOwnProperty(q)&&c[w][q]==="--"&&(c[w][q]=null);r.value[w]=c[w]}else n||(r.value[w]=Array.isArray(r.value[w])?[]:null);e.nextTick(function(){ao(xe(x))})}function Be(c,n=!1){if(V.value)for(let x of m.value)nt(x,c,n);else nt(m.value,c,n)}function nt(c,n,x=!1){for(let w of c)if(w.key&&(x&&(n[w.key]!==void 0||w.key2&&n[w.key2]!==void 0)||!x)&&w.tempKey)switch(w.type){case"inputMap":if(!w.key2)continue;G(n[w.key])==="Number"&&G(n[w.key2]==="Number")?w.key3?d.value[w.tempKey]={lng:n[w.key],lat:n[w.key2],name:n[w.key3]}:d.value[w.tempKey]={lng:n[w.key],lat:n[w.key2]}:w.key3?d.value[w.tempKey]={lng:null,lat:null,name:null}:d.value[w.tempKey]={lng:null,lat:null};break;case"input":case"inputNumber":case"textarea":n[w.key]&&n[w.key]!=="--"||n[w.key]===0?d.value[w.tempKey]=n[w.key]:d.value[w.tempKey]=null;break;case"select":case"radioGroup":case"checkboxGroup":n[w.key]&&n[w.key]!=="--"||n[w.key]===0||n[w.key]===!1?w.multiple||w.type==="checkboxGroup"?d.value[w.tempKey]=[...n[w.key]]:w.booleanVal?d.value[w.tempKey]=n[w.key]?1:0:d.value[w.tempKey]=n[w.key]:w.multiple||w.type==="checkboxGroup"?d.value[w.tempKey]=[]:d.value[w.tempKey]=null;break;case"date":case"time":if(w.dateType==="date"||w.dateType==="datetime"||w.dateType==="year"||w.dateType==="month"||w.dateType==="time")d.value[w.tempKey]=n[w.key]&&n[w.key]!=="--"?n[w.key]:null;else if(w.dateType==="daterange"||w.dateType==="datetimerange"||w.dateType==="timerange"){if(!w.key2)continue;d.value[w.tempKey]=n[w.key]&&n[w.key]!=="--"&&n[w.key2]&&n[w.key2]!=="--"&&[n[w.key],n[w.key2]]||[]}break}}function to(c){if(Array.isArray(c))for(let n of c)_l(n);else G(c)==="Object"&&_l(c)}function _l(c){const{index:n,indexB:x,key:w,val:q}=c;if(typeof n=="number")if(Array.isArray(m.value[n])){if(typeof x=="number")if(w&&c.hasOwnProperty("val"))m.value[n][x][w]=q;else for(let X of Object.keys(c))X!=="index"&&w!=="indexB"&&(m.value[n][x][X]=c[X])}else if(w&&c.hasOwnProperty("val"))m.value[n][w]=q;else for(let X of Object.keys(c))X!=="index"&&(m.value[n][X]=c[X])}function Tl({label:c,root:n}){n.key2&&(r.value[n.key2]=c),Oe({e:c,root:n})}function Nl(c){c.beforeKey&&F.remove(p,n=>n===c.beforeKey),c.key&&(p.indexOf(c.key)===-1&&p.push(c.key),Oe({e:null,root:c}))}function xl({name:c,root:n}){n.key2&&(r.value[n.key2]=c),Oe({e:c,root:n})}function Ll({e:c,root:n}){Oe({e:c,root:n}),e.nextTick(function(){var x,w;(w=(x=a.value)==null?void 0:x.validateField)==null||w.call(x,n.key)})}function Oe({e:c,root:n}){de(()=>{let x={event:c};if(n.key&&(x[n.key]=r.value[n.key]),n.key2&&(x[n.key2]=r.value[n.key2]),Array.isArray(n.collectLabel))for(let w of n.collectLabel)x[w.key]=r.value[w.key];else n.collectLabel&&n.collectLabel.key&&(x[n.collectLabel.key]=r.value[n.collectLabel.key]);t("on-item-change",x)},500)}function Dl(){let c={};for(let n of z.value)c[n]=r.value[n];return o.trim&&(c=Ee(c)),c}function lo(){var c,n;(n=(c=a.value)==null?void 0:c.validate)==null||n.call(c)}function no(c){de(()=>{var n,x;(x=(n=a.value)==null?void 0:n.validateField)==null||x.call(n,c,()=>{})},10)}function ao(c){de(()=>{var n,x;if(Array.isArray(c))for(let w of c)(x=(n=a.value)==null?void 0:n.validateField)==null||x.call(n,w,()=>{})},10)}function oo(c){c!==void 0&&(k.value=!!c)}function Lt(){var c,n;o.disabled||(n=(c=a.value)==null?void 0:c.validate)==null||n.call(c,x=>{B||(B=!0,x&&(k.value=!0,t("on-submit",Dl())),de(()=>{B=!1},2e3))})}return e.onMounted(()=>{U(),v()}),s({resetForm:h,refreshFormDom:A,reRenderForm:P,setItemToValGroup:pe,updateValGroup:ze,updateFormDataT:to,validate:lo,reValidate:no,changeLoading:oo,getValGroup:Dl,submit:Lt}),(c,n)=>{const x=e.resolveComponent("FormItem"),w=e.resolveComponent("Button"),q=e.resolveComponent("Form");return e.openBlock(),e.createBlock(q,{ref_key:"formGroupXRef",ref:a,model:e.unref(r),rules:e.unref(S),"label-width":o.labelWidth,inline:o.inline,"show-message":o.showMessage,class:"formXN",key:e.unref(C)},{default:e.withCtx(()=>[e.createVNode(x,{style:{display:"none"}},{default:e.withCtx(()=>[vn]),_:1}),e.unref(V)?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:0},e.renderList(e.unref(m),(X,re)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([c.teamClass,"formTeamBox"+re]),key:"formTeamBox"+re},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(X,(W,j)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:"formItem"+j},[H(W)?(e.openBlock(),e.createBlock(rl,{key:0,item:W,style:e.normalizeStyle(e.unref(L)),"item-style":e.unref(T),"val-group":e.unref(r),"temp-keys":e.unref(d),inline:o.inline,disabled:o.disabled,"label-width":o.labelWidth,"item-width":o.itemWidth,"mgr-url":e.unref(f),"upload-url":e.unref(b),onItemChange:Oe,onReValidate:Ll,onClearTempKeyItem:R,onSelectInputChange:Nl,onAlNameChange:xl,onAsyncLabelChange:Tl},e.createSlots({_:2},[e.renderList(O(X),te=>({name:te.slotName,fn:e.withCtx(be=>[e.renderSlot(c.$slots,te.slotName,{valGroup:be.valGroup})])}))]),1032,["item","style","item-style","val-group","temp-keys","inline","disabled","label-width","item-width","mgr-url","upload-url"])):e.createCommentVNode("",!0)],64))),128))],2))),128)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(m),(X,re)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:"formItem"+re},[!e.unref(V)&&H(X)?(e.openBlock(),e.createBlock(rl,{key:0,item:X,style:e.normalizeStyle(e.unref(L)),"item-style":e.unref(T),"val-group":e.unref(r),"temp-keys":e.unref(d),inline:o.inline,disabled:o.disabled,"label-width":o.labelWidth,"item-width":o.itemWidth,"mgr-url":e.unref(f),"upload-url":e.unref(b),onItemChange:Oe,onReValidate:Ll,onClearTempKeyItem:R,onSelectInputChange:Nl,onAlNameChange:xl,onAsyncLabelChange:Tl},e.createSlots({_:2},[e.renderList(O(c.formData),W=>({name:W.slotName,fn:e.withCtx(j=>[e.renderSlot(c.$slots,W.slotName,{valGroup:j.valGroup})])}))]),1032,["item","style","item-style","val-group","temp-keys","inline","disabled","label-width","item-width","mgr-url","upload-url"])):e.createCommentVNode("",!0)],64))),128)),o.showLongOkBt?(e.openBlock(),e.createBlock(x,{key:1},{default:e.withCtx(()=>[e.createVNode(w,{onClick:Lt,style:e.normalizeStyle(e.unref(T)),type:"primary",loading:o.btnLoading&&e.unref(k),disabled:o.disabled},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(o.longOkBtTxt||e.unref(N)("r.confirm")),1)]),_:1},8,["style","loading","disabled"])]),_:1})):e.createCommentVNode("",!0),e.createElementVNode("div",ea,[o.showInlineOkBt?(e.openBlock(),e.createBlock(w,{key:0,type:"primary",class:e.normalizeClass({inlineFormBtXN:o.inline,okBtnXN:!0}),onClick:Lt,loading:o.btnLoading&&e.unref(k),disabled:o.disabled},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(o.inlineOkBtTxt||e.unref(N)("r.confirm")),1)]),_:1},8,["class","loading","disabled"])):e.createCommentVNode("",!0),o.showInlineClearBt?(e.openBlock(),e.createBlock(w,{key:1,onClick:h,class:e.normalizeClass({inlineFormBtXN:o.inline}),type:"dashed"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(o.inlineClearBtTxt||e.unref(N)("r.clear")),1)]),_:1},8,["class"])):e.createCommentVNode("",!0)])]),_:3},8,["model","rules","label-width","inline","show-message"])}}}),sl=e.defineComponent({__name:"FormGroup",props:{formData:{default:()=>[]},with:{default:()=>oe().formGroupWidth},labelWidth:{default:()=>oe().formGroupLabelWidth},contentWidth:{default:"70%"},itemWidth:{default:200},showOkBt:{type:Boolean,default:!0},showCancelBt:{type:Boolean,default:!0},okBtTxt:{},cancelBtTxt:{},btnLoading:{type:Boolean,default:!1}},emits:["on-cancel"],setup(l,{expose:s,emit:i}){const t=i,o=l,a=e.ref({width:o.with}),r=e.ref(!1),m=e.ref(),d=e.computed(()=>{var D,O;if(Array.isArray(o.formData))if(Array.isArray(o.formData[0])){let u=[];for(let I of o.formData)I&&(u=u.concat(I.filter(h=>(h==null?void 0:h.type)==="custom"||(h==null?void 0:h.type)==="input"&&h.slotName&&h.slotPosition)));return u}else return(O=(D=o.formData)==null?void 0:D.filter)==null?void 0:O.call(D,u=>(u==null?void 0:u.type)==="custom"||(u==null?void 0:u.type)==="input"&&u.slotName&&u.slotPosition);return[]});function g(){return new Promise(D=>{var O,u;(u=(O=m.value).resetForm)==null||u.call(O).then(I=>{D(I)})})}function f(){return new Promise(D=>{var O,u;(u=(O=m.value).refreshFormDom)==null||u.call(O).then(I=>{D(I)})})}function p(){return new Promise(D=>{var O,u;(u=(O=m.value).reRenderForm)==null||u.call(O).then(I=>{D(I)})})}function y(D,O){var u,I;(I=(u=m.value).setItemToValGroup)==null||I.call(u,D,O)}function k(D,O){var u,I;(I=(u=m.value).updateValGroup)==null||I.call(u,D,O)}function C(D){var O,u;(u=(O=m.value).updateFormDataT)==null||u.call(O,D)}function b(){var D,O;(O=(D=m.value).validate)==null||O.call(D)}function B(D){var O,u;(u=(O=m.value).reValidate)==null||u.call(O,D)}function V(D){var O,u;D!==void 0&&(r.value=!!D,(u=(O=m.value).changeLoading)==null||u.call(O,r.value))}function L(){var D,O;return(O=(D=m.value).getValGroup)==null?void 0:O.call(D)}function T(){r.value=!0}function S(){var D,O;(O=(D=m.value).submit)==null||O.call(D)}function z(){t("on-cancel"),de(()=>{var D,O;r.value=!1,(O=(D=m.value).changeLoading)==null||O.call(D,!1)},1e3)}return s({resetForm:g,refreshFormDom:f,reRenderForm:p,setItemToValGroup:y,updateValGroup:k,updateFormDataT:C,validate:b,reValidate:B,changeLoading:V,getValGroup:L,submit:S,close:z}),(D,O)=>{const u=e.resolveComponent("Button");return e.openBlock(),e.createElementBlock("div",{style:e.normalizeStyle(e.unref(a)),class:"formGroupBoxVM"},[e.createVNode(Fe,e.mergeProps({ref_key:"formRRef",ref:m},D.$attrs,{"form-data":o.formData,"label-width":o.labelWidth,"content-width":o.contentWidth,"item-width":o.itemWidth,btnLoading:o.btnLoading,onOnSubmit:T}),e.createSlots({_:2},[e.renderList(e.unref(d),I=>({name:I.slotName,fn:e.withCtx(({valGroup:h})=>[e.renderSlot(D.$slots,I.slotName,{valGroup:h})])}))]),1040,["form-data","label-width","content-width","item-width","btnLoading"]),e.withDirectives(e.createElementVNode("div",{class:"formFooterVM",style:e.normalizeStyle({marginLeft:o.labelWidth+"px"})},[e.createElementVNode("div",{style:e.normalizeStyle({width:o.contentWidth}),class:"btnBoxKAL"},[o.showOkBt?(e.openBlock(),e.createBlock(u,{key:0,onClick:S,class:"form-save-btn",loading:o.btnLoading&&e.unref(r)},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(o.okBtTxt||e.unref(N)("r.confirm")),1)]),_:1},8,["loading"])):e.createCommentVNode("",!0),o.showCancelBt?(e.openBlock(),e.createBlock(u,{key:1,onClick:z,class:"form-cancel-btn"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(o.cancelBtTxt||e.unref(N)("r.cancel")),1)]),_:1})):e.createCommentVNode("",!0)],4)],4),[[e.vShow,o.showOkBt||o.showCancelBt]])],4)}}}),tt=e.defineComponent({__name:"SearchForm",props:{formData:{default:()=>[]},labelWidth:{default:()=>oe().searchFormLabelWidth},itemWidth:{default:()=>oe().searchFormItemWidth},showInlineOkBt:{type:Boolean,default:!0},showInlineClearBt:{type:Boolean,default:!0}},emits:["on-search"],setup(l,{expose:s,emit:i}){const t=i,o=l,a=e.ref(),r=e.computed(()=>{var T,S;if(Array.isArray(o.formData[0])){let z=[];for(let D of o.formData)D&&(z=z.concat(D.filter(O=>(O==null?void 0:O.type)==="custom"||(O==null?void 0:O.type)==="input"&&O.slotName&&O.slotPosition)));return z}return(S=(T=o.formData)==null?void 0:T.filter)==null?void 0:S.call(T,z=>(z==null?void 0:z.type)==="custom"||(z==null?void 0:z.type)==="input"&&z.slotName&&z.slotPosition)});function m(){return new Promise(T=>{var S,z;(z=(S=a.value).resetForm)==null||z.call(S).then(()=>{T()})})}function d(){return new Promise(T=>{var S,z;(z=(S=a.value).refreshFormDom)==null||z.call(S).then(()=>{T()})})}function g(){return new Promise(T=>{var S,z;(z=(S=a.value).reRenderForm)==null||z.call(S).then(()=>{T()})})}function f(T,S){var z,D;(D=(z=a.value).setItemToValGroup)==null||D.call(z,T,S)}function p(T,S){var z,D;(D=(z=a.value).updateValGroup)==null||D.call(z,T,S)}function y(T){var S,z;(z=(S=a.value).updateFormDataT)==null||z.call(S,T)}function k(){var T,S;(S=(T=a.value).validate)==null||S.call(T)}function C(T){var S,z;(z=(S=a.value).reValidate)==null||z.call(S,T)}function b(T){var S,z;(z=(S=a.value).changeLoading)==null||z.call(S,T===void 0?!1:T)}function B(){var T,S;return(S=(T=a.value).getValGroup)==null?void 0:S.call(T)}function V(T){t("on-search",T)}function L(){var T,S;(S=(T=a.value).submit)==null||S.call(T)}return e.onMounted(()=>{const T=a.value.$el;T!=null&&T.parentNode&&T.parentNode.addEventListener("keyup",S=>{(S==null?void 0:S.keyCode)===13&&L()})}),s({resetForm:m,refreshFormDom:d,reRenderForm:g,setItemToValGroup:f,updateValGroup:p,updateFormDataT:y,validate:k,reValidate:C,changeLoading:b,getValGroup:B,submit:L}),(T,S)=>(e.openBlock(),e.createBlock(Fe,e.mergeProps({ref_key:"formRRef",ref:a},T.$attrs,{"form-data":o.formData,"label-width":o.labelWidth,"item-width":o.itemWidth,inline:"","show-long-ok-bt":!1,"show-inline-ok-bt":o.showInlineOkBt,"inline-ok-bt-txt":e.unref(N)("r.check"),"show-inline-clear-bt":o.showInlineClearBt,"show-message":!1,onOnSubmit:V}),e.createSlots({_:2},[e.renderList(e.unref(r),z=>({name:z.slotName,fn:e.withCtx(({valGroup:D})=>[e.renderSlot(T.$slots,z.slotName,{valGroup:D})])}))]),1040,["form-data","label-width","item-width","show-inline-ok-bt","inline-ok-bt-txt","show-inline-clear-bt"]))}}),cl=e.defineComponent({__name:"FormModal",props:{title:{},formData:{default:()=>[]},width:{default:()=>oe().formModalWidth},labelWidth:{default:()=>oe().formModalLabelWidth},okBtTxt:{},cancelBtTxt:{},hideCancelBt:{type:Boolean,default:!1},hideFooter:{type:Boolean,default:!1},btnLoading:{type:Boolean,default:!1}},emits:["on-close","on-open"],setup(l,{expose:s,emit:i}){const t=i,o=l,a=e.ref(),r=e.ref(!1),m=e.ref(!1),d=e.computed(()=>{var u,I;if(Array.isArray(o.formData[0])){let h=[];for(let P of o.formData)P&&(h=h.concat(P.filter(A=>(A==null?void 0:A.type)==="custom"||(A==null?void 0:A.type)==="input"&&A.slotName&&A.slotPosition)));return h}return(I=(u=o.formData)==null?void 0:u.filter)==null?void 0:I.call(u,h=>(h==null?void 0:h.type)==="custom"||(h==null?void 0:h.type)==="input"&&h.slotName&&h.slotPosition)});function g(){return new Promise(u=>{var I,h;(h=(I=a.value).resetForm)==null||h.call(I).then(()=>{u()})})}function f(){return new Promise(u=>{var I,h;(h=(I=a.value).refreshFormDom)==null||h.call(I).then(()=>{u()})})}function p(){return new Promise(u=>{var I,h;(h=(I=a.value).reRenderForm)==null||h.call(I).then(()=>{u()})})}function y(u,I){var h,P;(P=(h=a.value).setItemToValGroup)==null||P.call(h,u,I)}function k(u,I){var h,P;(P=(h=a.value).updateValGroup)==null||P.call(h,u,I)}function C(u){var I,h;(h=(I=a.value).updateFormDataT)==null||h.call(I,u)}function b(){var u,I;(I=(u=a.value).validate)==null||I.call(u)}function B(u){var I,h;(h=(I=a.value).reValidate)==null||h.call(I,u)}function V(u){var I,h;u!==void 0&&(m.value=!!u,(h=(I=a.value).changeLoading)==null||h.call(I,m.value))}function L(){var u,I;return(I=(u=a.value).getValGroup)==null?void 0:I.call(u)}function T(){m.value=!0}function S(){var u,I;o.hideCancelBt?D():(I=(u=a.value).submit)==null||I.call(u)}function z(){r.value=!0}function D(){r.value=!1,de(()=>{var u,I;m.value=!1,(I=(u=a.value).changeLoading)==null||I.call(u,!1)},1e3)}function O(u){t(u?"on-open":"on-close")}return s({resetForm:g,refreshFormDom:f,reRenderForm:p,setItemToValGroup:y,updateValGroup:k,updateFormDataT:C,validate:b,reValidate:B,changeLoading:V,getValGroup:L,submit:S,open:z,close:D}),(u,I)=>{const h=e.resolveComponent("Button"),P=e.resolveComponent("Modal");return e.openBlock(),e.createBlock(P,{class:e.normalizeClass(["formModal",{hideFooter:o.hideFooter}]),title:o.title||e.unref(N)("r.title"),modelValue:e.unref(r),"onUpdate:modelValue":I[0]||(I[0]=A=>e.isRef(r)?r.value=A:null),"mask-closable":!1,"footer-hide":o.hideFooter,width:o.width,onOnVisibleChange:O},{footer:e.withCtx(()=>[e.createVNode(h,{onClick:S,class:"modal-save-btn",loading:o.btnLoading&&e.unref(m)},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(o.okBtTxt||e.unref(N)("r.confirm")),1)]),_:1},8,["loading"]),o.hideCancelBt?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(h,{key:0,onClick:D,class:"modal-cancel-btn"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(o.cancelBtTxt||e.unref(N)("r.cancel")),1)]),_:1}))]),default:e.withCtx(()=>[e.createVNode(Fe,e.mergeProps({ref_key:"formRRef",ref:a},u.$attrs,{"form-data":o.formData,"label-width":o.labelWidth,btnLoading:o.btnLoading,onOnSubmit:T}),e.createSlots({_:2},[e.renderList(e.unref(d),A=>({name:A.slotName,fn:e.withCtx(({valGroup:_})=>[e.renderSlot(u.$slots,A.slotName,{valGroup:_})])}))]),1040,["form-data","label-width","btnLoading"])]),_:3},8,["title","modelValue","footer-hide","class","width"])}}}),dl=e.defineComponent({__name:"CheckboxTree",props:{modelValue:{default:()=>[]},data:{default:()=>[]},expandAll:{type:Boolean,default:!1},label:{default:"name"},collectVal:{default:"id"},leaf:{type:Boolean,default:!0},inlineLeaf:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","on-change"],setup(l,{emit:s}){const i=s,t=l,o=e.ref(!0),a=e.ref([]),r="CKT"+Math.floor(Math.random()*1e7+1e7);let m=[];const d=e.computed(()=>Array.isArray(t.collectVal)?t.collectVal:typeof t.collectVal=="string"?[t.collectVal]:[]),g=e.computed(()=>Array.isArray(t.modelValue)?t.modelValue:[]);e.watch(()=>t.data,b=>{o.value=!1;let B=[];f(b,B),a.value=B,e.nextTick(function(){o.value=!0,t.inlineLeaf&&e.nextTick(k)})},{immediate:!0,deep:!0}),e.watch(()=>g.value,b=>{let B,V="s";if(Array.isArray(t.collectVal)?(B=t.collectVal[0]||"",V="a"):B=t.collectVal,!B||JSON.stringify(b)===JSON.stringify(m)){m=[];return}_e({group:a.value,condition:L=>(L==null?void 0:L.checked)===!0,key:"checked",val:!1}),_e(V==="a"?{group:a.value,condition:L=>F.findIndex(b,[B,L==null?void 0:L[B]])!==-1,key:"checked",val:!0}:{group:a.value,condition:L=>b.indexOf(L==null?void 0:L[B])!==-1,key:"checked",val:!0})}),e.watch(()=>t.disabled,b=>{_e({group:a.value,condition:B=>B&&B.disableCheckbox!==b,key:"disableCheckbox",val:b}),t.inlineLeaf&&e.nextTick(k)},{immediate:!0});function f(b,B=[]){for(let V of b){let L=!1;d.value.length>1?L=F.find(g.value,S=>S[d.value[0]]===V[d.value[0]])!==void 0:L=d.value[0]?g.value.indexOf(V[d.value[0]])!==-1:!1;let T={name:V==null?void 0:V[t.label],expand:!!(t.expandAll||V!=null&&V.expand),checked:L,disableCheckbox:t.disabled};for(let S of d.value)T[S]=V[S];B.push(T),V!=null&&V.children&&V.children.length>0&&(T.children=[],p(V.children,T.children))}}function p(b,B=[]){for(let V of b){let L=!1;d.value.length>1?L=F.find(g.value,S=>S[d.value[0]]===V[d.value[0]])!==void 0:L=d.value[0]?g.value.indexOf(V[d.value[0]])!==-1:!1;let T={name:V==null?void 0:V[t.label],expand:!!(t.expandAll||V!=null&&V.expand),checked:L,disableCheckbox:t.disabled};for(let S of d.value)T[S]=V[S];B.push(T),V!=null&&V.children&&V.children.length>0&&(T.children=[],f(V.children,T.children))}}function y(b,{data:B}){let V="",L=!0;if(B.children&&B.children.length>0){for(let T of B.children)if(T.children!==void 0){L=!1;break}L&&t.inlineLeaf&&(V="inlineChildXA")}return b("div",{style:{display:"inline-block",width:"100%"},class:V},[b("span",{style:{fontWeight:B.children?"bold":"normal"}},B.name)])}function k(b){if(b){b.expand&&e.nextTick(k);return}let B=document.querySelectorAll("#"+r+" .inlineChildXA");if(B.length>0)for(let V of B){let L=V==null?void 0:V.parentElement,T=L==null?void 0:L.nextElementSibling;if(!T)return;if(T.tagName!=="BR"){let S=L==null?void 0:L.parentElement,z=document.createElement("br");S==null||S.insertBefore(z,T),T=z.nextElementSibling,(T==null?void 0:T.className.indexOf("inlineTreeNodeF"))===-1&&T.setAttribute("class",T.className+" inlineTreeNodeF")}for(;T!=null&&T.nextElementSibling;)T=T.nextElementSibling,T.className.indexOf("inlineTreeNodeF")===-1&&T.setAttribute("class",T.className+" inlineTreeNodeF")}}function C(b){let B=[];if(t.leaf){for(let V of b)if(!V.children)if(Array.isArray(t.collectVal)){let L={};for(let T of t.collectVal)L[T]=V[T];B.push(L)}else B.push(V[t.collectVal])}else for(let V of b)if(Array.isArray(t.collectVal)){let L={};for(let T of t.collectVal)L[T]=V[T];B.push(L)}else B.push(V[t.collectVal]);m=B,i("update:modelValue",B),i("on-change",F.cloneDeep(B))}return(b,B)=>{const V=e.resolveComponent("Tree");return e.unref(o)?(e.openBlock(),e.createBlock(V,{key:0,id:r,class:"checkboxTreeGA",data:e.unref(a),render:y,onOnCheckChange:C,onOnToggleExpand:k,"show-checkbox":""},null,8,["data"])):e.createCommentVNode("",!0)}}}),ta={class:"transferBoxRL"},la={class:"leftBoxLLL"},na={class:"fullHeight flexColumnBox"},aa={class:"notGrow"},oa={class:"titleLLL"},ia={class:"growFlexItem"},ra={class:"middleBoxLLL"},sa={class:"rightBoxLLL"},ca={class:"fullHeight flexColumnBox"},da={class:"notGrow"},fa={class:"titleLLL"},ma={class:"growFlexItem"},fl=e.defineComponent({__name:"TransferBox",props:{titleLeft:{},titleRight:{},formDataLeft:{default:()=>[]},formDataRight:{default:()=>[]},formRulesLeft:{default:()=>({})},formRulesRight:{default:()=>({})},constSearchDataLeft:{default:()=>({})},constSearchDataRight:{default:()=>({})},leftTableColumns:{default:()=>[]},rightTableColumns:{default:()=>[]},leftTableUrl:{},rightTableUrl:{},addUrl:{},deleteUrl:{},addAllUrl:{},deleteAllUrl:{},addParamsHandle:{type:Function,default:l=>l.map(s=>s==null?void 0:s.id)},deleteParamsHandle:{type:Function,default:l=>l.map(s=>s==null?void 0:s.id)},addAllParamsHandle:{type:Function,default:l=>l},deleteAllParamsHandle:{type:Function,default:l=>l},addMethod:{default:"post"},addAllMethod:{default:"post"},deleteMethod:{default:"delete"},deleteAllMethod:{default:"delete"},searchFormLabelWith:{},usePagePro:{type:Boolean,default:()=>{var l;return(l=oe())==null?void 0:l.btTablePageUsePagePro}},showTotal:{type:Boolean,default:()=>{var l;return(l=oe())==null?void 0:l.pageShowTotal}},showSizer:{type:Boolean,default:()=>{var l;return(l=oe())==null?void 0:l.pageShowSizer}}},emits:["transferred","on-data-change-l","on-data-change-r"],setup(l,{expose:s,emit:i}){const t=i,o=l;let a=e.ref({}),r=e.ref({}),m=e.ref([]),d=e.ref([]),g=e.ref(0),f=e.ref(0);const p=e.computed(()=>({...o.constSearchDataLeft,...a.value})),y=e.computed(()=>({...o.constSearchDataRight,...r.value})),k=e.computed(()=>g.value<1),C=e.computed(()=>m.value.length<1),b=e.computed(()=>d.value.length<1),B=e.computed(()=>f.value<1),V=e.ref(),L=e.ref(),T=e.ref(),S=e.ref();function z(){V.value.resetForm(),L.value.resetForm(),F.isEmpty(a.value)||(a.value={}),F.isEmpty(r.value)||(r.value={}),T.value.clearSelect(),S.value.clearSelect()}function D(){T.value.search(),S.value.search()}function O(H){m.value=H}function u(H){d.value=H}function I(H){var Z,Q,K,v,le;g.value=((Q=(Z=H==null?void 0:H.data)==null?void 0:Z.page)==null?void 0:Q.total)||((v=(K=H==null?void 0:H.data)==null?void 0:K.data)==null?void 0:v.total)||((le=H==null?void 0:H.data)==null?void 0:le.total)||(H==null?void 0:H.total)||0,t("on-data-change-l",H)}function h(H){var Z,Q,K,v,le;f.value=((Q=(Z=H==null?void 0:H.data)==null?void 0:Z.page)==null?void 0:Q.total)||((v=(K=H==null?void 0:H.data)==null?void 0:K.data)==null?void 0:v.total)||((le=H==null?void 0:H.data)==null?void 0:le.total)||(H==null?void 0:H.total)||0,t("on-data-change-r",H)}function P(H){a.value=H}function A(H){r.value=H}function _(){o.addUrl&&ne("add")}function $(){o.deleteUrl&&ne("delete")}function R(){o.addAllUrl&&o.addUrl&&ne("addAll")}function J(){o.deleteAllUrl&&ne("deleteAll")}function ne(H){let Z,Q,K={},v="";switch(H){case"add":Z=o.addMethod,Q=o.addUrl,K=o.addParamsHandle(d.value),v=N("r.add");break;case"delete":Z=o.deleteMethod,Q=o.deleteUrl,K=o.deleteParamsHandle(m.value),v=N("r.remove");break;case"addAll":Z=o.addAllMethod,Q=o.addAllUrl,K=o.addAllParamsHandle(y.value),v=N("r.addAll");break;case"deleteAll":Z=o.deleteAllMethod,Q=o.deleteAllUrl,K=o.deleteAllParamsHandle(p.value),v=N("r.removeAll");break}Q&&Z&&he[Z](Q,K,null,[],{spin:!0},!1).then(le=>{(le==null?void 0:le.code)===0?(me(v+N("r.success"),(le==null?void 0:le.message)||"","success"),T.value&&T.value.getTableData(),S.value&&S.value.getTableData(),t("transferred")):me(v+N("r.failed"),(le==null?void 0:le.message)||"","error")}).catch(()=>{me(v+N("r.error"),"","error")})}return s({reset:z,search:D}),(H,Z)=>{const Q=e.resolveComponent("Icon"),K=e.resolveComponent("Button");return e.openBlock(),e.createElementBlock("div",ta,[e.createElementVNode("div",la,[e.createElementVNode("div",na,[e.createElementVNode("div",aa,[e.createElementVNode("div",oa,e.toDisplayString(o.titleLeft||e.unref(N)("r.added")),1),e.createVNode(Xe,null,{default:e.withCtx(()=>[e.createVNode(tt,{ref_key:"leftFormRef",ref:V,"form-data":o.formDataLeft,"form-rules":o.formRulesLeft,"label-width":o.searchFormLabelWith,onOnSearch:P},null,8,["form-data","form-rules","label-width"])]),_:1})]),e.createElementVNode("div",ia,[e.createVNode(et,{ref_key:"lTabRef",ref:T,columns:o.leftTableColumns,url:o.leftTableUrl,"search-data":e.unref(p),onOnSelectionChange:O,onOnDataChange:I,"init-data":!!(e.unref(F.isEmpty)(o.constSearchDataLeft)&&o.leftTableUrl),"get-data-loading":"",selection:"",usePagePro:o.usePagePro,showTotal:o.showTotal,showSizer:o.showSizer},null,8,["columns","url","search-data","init-data","usePagePro","showTotal","showSizer"])])])]),e.createElementVNode("div",ra,[e.createVNode(K,{class:"middleBtLLL",size:"large",type:"default",onClick:J,disabled:e.unref(k)},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(N)("r.removeAll"))+" ",1),e.createVNode(Q,{type:"ios-arrow-forward"})]),_:1},8,["disabled"]),e.createVNode(K,{class:"middleBtLLL",size:"large",type:"default",onClick:$,disabled:e.unref(C)},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(N)("r.remove"))+" ",1),e.createVNode(Q,{type:"ios-arrow-forward"})]),_:1},8,["disabled"]),e.createVNode(K,{class:"middleBtLLL",size:"large",type:"primary",onClick:_,disabled:e.unref(b)},{default:e.withCtx(()=>[e.createVNode(Q,{type:"ios-arrow-back"}),e.createTextVNode(" "+e.toDisplayString(e.unref(N)("r.add")),1)]),_:1},8,["disabled"]),e.createVNode(K,{class:"middleBtLLL",size:"large",type:"primary",onClick:R,disabled:e.unref(B)},{default:e.withCtx(()=>[e.createVNode(Q,{type:"ios-arrow-back"}),e.createTextVNode(" "+e.toDisplayString(e.unref(N)("r.addAll")),1)]),_:1},8,["disabled"])]),e.createElementVNode("div",sa,[e.createElementVNode("div",ca,[e.createElementVNode("div",da,[e.createElementVNode("div",fa,e.toDisplayString(o.titleRight||e.unref(N)("r.notAdded")),1),e.createVNode(Xe,null,{default:e.withCtx(()=>[e.createVNode(tt,{ref_key:"rightFormRef",ref:L,"form-data":o.formDataRight,"form-rules":o.formRulesRight,"label-width":o.searchFormLabelWith,onOnSearch:A},null,8,["form-data","form-rules","label-width"])]),_:1})]),e.createElementVNode("div",ma,[e.createVNode(et,{ref_key:"rTabRef",ref:S,columns:o.rightTableColumns,url:o.rightTableUrl,"search-data":e.unref(y),onOnSelectionChange:u,onOnDataChange:h,"init-data":!!(e.unref(F.isEmpty)(o.constSearchDataRight)&&o.rightTableUrl),"get-data-loading":"",selection:"",usePagePro:o.usePagePro,showTotal:o.showTotal,showSizer:o.showSizer},null,8,["columns","url","search-data","init-data","usePagePro","showTotal","showSizer"])])])])])}}}),pa={class:"boxLPA"},ua={class:"headerJ"},ha={class:"firstT borderBoxAS"},ya={class:"secondT borderBoxAS"},ga={class:"firstCol borderBoxAS"},ba={class:"secondCol borderBoxAS"},ml=e.defineComponent({__name:"CheckboxGroupTwoClass",props:{modelValue:{default:()=>[]},data:{default:()=>[]},firstTitle:{},secondTitle:{},label:{default:"name"},collectVal:{default:"id"},leaf:{type:Boolean,default:!0},disabled:{type:Boolean}},emits:["update:modelValue","on-change"],setup(l,{emit:s}){const i=l,t=s,o=e.ref([]),a=e.computed(()=>{var p;let g=F.cloneDeep(i.data),f=F.cloneDeep(o.value);for(let y of g){let k=0;if(y!=null&&y.children&&!F.isEmpty(y.children))for(let C of y.children){for(let b=0,B=f==null?void 0:f.length;b<B;b++)if(Array.isArray(i.collectVal)){let V=!0;for(let L of i.collectVal)if(((p=f[b])==null?void 0:p[L])!==(C==null?void 0:C[L])){V=!1;break}if(V){C.checked=!0,k++,f.splice(b,1);break}}else if(f[b]===C[i.collectVal]){C.checked=!0,k++,f.splice(b,1);break}!C.checked&&(C.checked=!1)}k===0?(y.checked=!1,y.indeterminate=!1):y.children&&k===y.children.length?(y.checked=!0,y.indeterminate=!1):(y.checked=!1,y.indeterminate=!0)}return g});e.watch(()=>i.modelValue,(g,f)=>{F.isEqual(o.value,g)||F.isEqual(g,f)||(o.value=g)},{immediate:!0,deep:!0});function r(g,f){if(g.children)for(let p of g.children)p.checked=f;m()}function m(){d(a.value,!0)}function d(g,f){let p=[];for(let y of g){if(!f&&!i.leaf&&y.checked&&y.indeterminate===!1)if(Array.isArray(i.collectVal)){let k={};for(let C of i.collectVal)k[C]=y[C];p.push(k)}else G(i.collectVal)==="String"&&p.push(y[i.collectVal]);if(y.children){for(let k of y.children)if(k.checked)if(Array.isArray(i.collectVal)){let C={};for(let b of i.collectVal)C[b]=k[b];p.push(C)}else G(i.collectVal)==="String"&&p.push(k[i.collectVal])}}f?(o.value=p,i.leaf?(t("update:modelValue",p),t("on-change",F.cloneDeep(p))):e.nextTick(function(){d(a.value)})):(t("update:modelValue",p),t("on-change",F.cloneDeep(p)))}return(g,f)=>{const p=e.resolveComponent("Checkbox");return e.openBlock(),e.createElementBlock("div",pa,[e.createElementVNode("div",ua,[e.createElementVNode("div",ha,e.toDisplayString(g.firstTitle||e.unref(N)("r.level.1")),1),e.createElementVNode("div",ya,e.toDisplayString(g.secondTitle||e.unref(N)("r.level.2")),1)]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(a),(y,k)=>(e.openBlock(),e.createElementBlock("div",{class:"bodyJ",key:"checkboxJ"+k},[e.createElementVNode("div",ga,[e.createVNode(p,{modelValue:y.checked,"onUpdate:modelValue":C=>y.checked=C,indeterminate:y.indeterminate,onOnChange:C=>r(y,C),disabled:g.disabled},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(y[g.label]),1)]),_:2},1032,["modelValue","onUpdate:modelValue","indeterminate","onOnChange","disabled"])]),e.createElementVNode("div",ba,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(y.children,(C,b)=>(e.openBlock(),e.createElementBlock("div",{class:"secItem",key:"secItem"+b},[e.createVNode(p,{modelValue:C.checked,"onUpdate:modelValue":B=>C.checked=B,onOnChange:m,disabled:g.disabled},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(C[g.label]),1)]),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])]))),128))])]))),128))])}}}),ka={class:"boxLPB"},wa={class:"headerF"},Va={class:"firstT borderBoxKa"},Ba={class:"secondT borderBoxKa"},Ca={class:"thirdT borderBoxKa"},Sa={class:"firstCol borderBoxKa"},_a={class:"rightBoxAL"},Ta={class:"secondCol borderBoxKa"},Na={class:"thirdCol borderBoxKa"},pl=e.defineComponent({__name:"CheckboxGroupThreeClass",props:{modelValue:{default:()=>[]},data:{default:()=>[]},firstTitle:{},secondTitle:{},thirdTitle:{},label:{default:"name"},collectVal:{default:"id"},leaf:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","on-change"],setup(l,{emit:s}){const i=s,t=l,o=e.ref([]),a=e.computed(()=>{let f=F.cloneDeep(t.data),p=F.cloneDeep(o.value);for(let y of f){let k=0,C=0;if(y!=null&&y.children&&!F.isEmpty(y.children))for(let b of y.children){let B=0;if(b.children&&!F.isEmpty(b.children))for(let V of b.children){for(let L=0,T=p.length;L<T;L++)if(Array.isArray(t.collectVal)){let S=!0;for(let z of t.collectVal)if(p[L][z]!==V[z]){S=!1;break}if(S){V.checked=!0,B++,p.splice(L,1);break}}else if(p[L]===V[t.collectVal]){V.checked=!0,B++,p.splice(L,1);break}!V.checked&&(V.checked=!1)}B===0?(b.checked=!1,b.indeterminate=!1):b.children&&B===b.children.length?(b.checked=!0,b.indeterminate=!1,k++):(b.checked=!1,b.indeterminate=!0,C++)}k===0&&C===0?(y.checked=!1,y.indeterminate=!1):y.children&&k===y.children.length?(y.checked=!0,y.indeterminate=!1):(y.checked=!1,y.indeterminate=!0)}return f});e.watch(()=>t.modelValue,(f,p)=>{F.isEqual(o.value,f)||F.isEqual(f,p)||(o.value=f)},{immediate:!0,deep:!0});function r(f,p){if(f.children){for(let y of f.children)if(y.checked=p,y.children)for(let k of y.children)k.checked=p}d()}function m(f,p){if(f.children)for(let y of f.children)y.checked=p;d()}function d(){g(a.value,!0)}function g(f,p){let y=[];for(let k of f){if(!p&&!t.leaf&&(k!=null&&k.checked)&&k.indeterminate===!1)if(Array.isArray(t.collectVal)){let C={};for(let b of t.collectVal)C[b]=k[b];y.push(C)}else G(t.collectVal)==="String"&&y.push(k[t.collectVal]);if(k!=null&&k.children)for(let C of k.children){if(!p&&!t.leaf&&C.checked&&C.indeterminate===!1)if(Array.isArray(t.collectVal)){let b={};for(let B of t.collectVal)b[B]=C[B];y.push(b)}else G(t.collectVal)==="String"&&y.push(C[t.collectVal]);if(C.children){for(let b of C.children)if(b.checked)if(Array.isArray(t.collectVal)){let B={};for(let V of t.collectVal)B[V]=b[V];y.push(B)}else G(t.collectVal)==="String"&&y.push(b[t.collectVal])}}}p?(o.value=y,t.leaf?(i("update:modelValue",y),i("on-change",F.cloneDeep(y))):e.nextTick(function(){g(a.value)})):(i("update:modelValue",y),i("on-change",F.cloneDeep(y)))}return(f,p)=>{const y=e.resolveComponent("Checkbox");return e.openBlock(),e.createElementBlock("div",ka,[e.createElementVNode("div",wa,[e.createElementVNode("div",Va,e.toDisplayString(f.firstTitle||e.unref(N)("r.level.1")),1),e.createElementVNode("div",Ba,e.toDisplayString(f.secondTitle||e.unref(N)("r.level.2")),1),e.createElementVNode("div",Ca,e.toDisplayString(f.thirdTitle||e.unref(N)("r.level.3")),1)]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(a),(k,C)=>(e.openBlock(),e.createElementBlock("div",{class:"bodyF",key:"checkboxJ"+C},[e.createElementVNode("div",Sa,[e.createVNode(y,{modelValue:k.checked,"onUpdate:modelValue":b=>k.checked=b,indeterminate:k.indeterminate,onOnChange:b=>r(k,b),disabled:f.disabled},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(k[f.label]),1)]),_:2},1032,["modelValue","onUpdate:modelValue","indeterminate","onOnChange","disabled"])]),e.createElementVNode("div",_a,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(k.children,(b,B)=>(e.openBlock(),e.createElementBlock("div",{class:"rightBoxInner",key:"secItem"+B},[e.createElementVNode("div",Ta,[e.createVNode(y,{modelValue:b.checked,"onUpdate:modelValue":V=>b.checked=V,indeterminate:b.indeterminate,onOnChange:V=>m(b,V),disabled:f.disabled},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(b[f.label]),1)]),_:2},1032,["modelValue","onUpdate:modelValue","indeterminate","onOnChange","disabled"])]),e.createElementVNode("div",Na,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(b.children,(V,L)=>(e.openBlock(),e.createElementBlock("div",{class:"thirdItem",key:"thirdItem"+L},[e.createVNode(y,{modelValue:V.checked,"onUpdate:modelValue":T=>V.checked=T,onOnChange:d,disabled:f.disabled},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(V[f.label]),1)]),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])]))),128))])]))),128))])]))),128))])}}}),xa={class:"fl",style:{"font-weight":"bold"}},La={class:"btsF"},Da={key:0},Oa={key:1,class:"growFlexItem relativeBox"},Aa={class:"fullFlowContent"},ul=e.defineComponent({__name:"WellCard",props:{title:{},fitToContent:{type:Boolean,default:!1},width:{default:"100%"},height:{default:"100%"},inline:{type:Boolean,default:!1}},setup(l){const s=l,i=e.computed(()=>{let t={width:s.fitToContent?"fit-content":s.width,height:s.fitToContent?"fit-content":s.height};s.inline&&(t.display="inline-block");for(let o in t)t.hasOwnProperty(o)&&typeof t[o]=="number"&&t[o]>0&&(t[o]+="px");return t});return(t,o)=>(e.openBlock(),e.createElementBlock("div",{style:e.normalizeStyle(e.unref(i))},[e.createElementVNode("div",{class:e.normalizeClass(["wellCardR",{flexColumnBox:!s.fitToContent}])},[e.createElementVNode("div",{class:e.normalizeClass(["panelHeader",{notGrow:!s.fitToContent}])},[e.createElementVNode("div",xa,e.toDisplayString(s.title||e.unref(N)("r.title")),1),e.createElementVNode("div",La,[e.renderSlot(t.$slots,"bts")])],2),s.fitToContent?(e.openBlock(),e.createElementBlock("div",Da,[e.renderSlot(t.$slots,"default")])):(e.openBlock(),e.createElementBlock("div",Oa,[e.createElementVNode("div",Aa,[e.renderSlot(t.$slots,"default")])]))],2)],4))}}),hl=e.defineComponent({__name:"SelectScrollMore",props:{modelValue:{},url:{},searchData:{default:()=>({size:10})},getOptions:{type:Boolean,default:!0},optionFilter:{},optionsLabelKey:{default:"name"},optionsValKey:{default:"id"},searchKey:{default:"name"},searchWordsRequired:{type:Boolean,default:!1},collectLabel:{type:Boolean,default:!1},placeholder:{},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","on-change","update-option-finish"],setup(l,{emit:s}){const i=s,t=l;let o=e.ref(1),a=1;const r=e.ref(""),m=e.shallowRef([]);let d={},g=!0,f=!1;const p="scm"+Math.random(),y=e.computed(()=>r.value?N("r.searchFor")+r.value:t.placeholder||N("r.pInput")),k=e.computed({get(){return t.modelValue??""},set(D){if(i("update:modelValue",D??""),t.collectLabel&&D!==void 0){let O={};for(let u of m.value)if(u[t.optionsValKey]===D){O=JSON.parse(JSON.stringify(u));break}i("on-change",O)}}}),C=e.computed(()=>t.searchKey?{...t.searchData,current:o.value,[t.searchKey]:r.value}:{...t.searchData,current:o.value});e.watch(()=>t.getOptions,D=>{D?g&&z():V()},{immediate:!0}),e.watch(()=>t.url,D=>{D&&(f=!0)});const b=e.ref();function B(){b.value.$el.querySelector('.ivu-select-input[type="text"]').addEventListener("keyup",T)}function V(){g||(k.value="",g=!0,r.value="",m.value=[],o.value=1,a=1,d={},f=!1)}function L(D){for(let O of m.value)if((O==null?void 0:O.label)===D)return!0;return!1}const T=F.debounce(function(D){var u;const O=(u=D==null?void 0:D.target)==null?void 0:u.value;L(O)||(ie(O)?(f?V():(F.isEmpty(d)&&(d.current=o.value,d.pages=a,d.options=F.cloneDeep(m.value)),ie(k.value)&&(k.value="")),r.value=String(O),m.value=[],o.value=1,g=!0,z()):f?(V(),z()):(k.value="",r.value="",d.current?(o.value=d.current,a=d.pages,m.value=F.cloneDeep(d.options),d={}):z()))},600);function S(){f&&V(),o.value<a?(++o.value,e.nextTick(function(){z()})):ce.Message.warning({background:!0,content:N("r.noMore")})}function z(){return new Promise((D,O)=>{if(t.getOptions){if(t.searchWordsRequired&&!ie(r.value)){D(!1);return}he.get(t.url,C.value).then(u=>{var P;g=!1;let I=[];(P=u==null?void 0:u.data)!=null&&P.records?(I=u.data.records,a=u.data.pages):u!=null&&u.data&&G(u.data)==="Array"?(I=u.data,a=u.pages):u!=null&&u.data&&G(u.data)==="Object"&&(I=[u.data],a=1),typeof t.optionFilter=="function"&&G(t.optionFilter)==="Function"&&(I=t.optionFilter(I)),F.isEmpty(I)||(I=I.map((A,_)=>{let $=N("r.optionLabel")+_;if(Array.isArray(t.optionsLabelKey)){let R=[];for(let J=1,ne=t.optionsLabelKey.length;J<ne;J++)R.push(A[t.optionsLabelKey[J]]);$=`${A[t.optionsLabelKey[0]]}(${String(R)})`}else F.isString(t.optionsLabelKey)&&($=A[t.optionsLabelKey]);if(t.collectLabel){let R=F.cloneDeep(A);return delete R.value,delete R.label,{value:A[t.optionsValKey],label:$,...R}}return{value:A[t.optionsValKey],label:$}})),m.value.push(...I);let h={};m.value=m.value.filter(A=>h[A==null?void 0:A.value]?!1:(h[A==null?void 0:A.value]=!0,!0)),e.nextTick(function(){i("update-option-finish")}),D(!0)}).catch(()=>{ce.Message.error(N("r.getDataError")),O(N("r.getDataError"))})}else D(!1)})}return e.onMounted(B),(D,O)=>{const u=e.resolveComponent("Option"),I=e.resolveComponent("Select"),h=e.resolveDirective("loadmore");return e.withDirectives((e.openBlock(),e.createBlock(I,e.mergeProps({modelValue:e.unref(k),"onUpdate:modelValue":O[0]||(O[0]=P=>e.isRef(k)?k.value=P:null),ref_key:"selectScrollSourceRef",ref:b,"transfer-class-name":p},D.$attrs,{transfer:"",filterable:"",placeholder:e.unref(y),disabled:D.disabled}),{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(m),(P,A)=>(e.openBlock(),e.createBlock(u,{key:"op"+A,value:P==null?void 0:P.value,label:P==null?void 0:P.label,disabled:P==null?void 0:P.disabled},null,8,["value","label","disabled"]))),128))]),_:1},16,["modelValue","placeholder","disabled"])),[[h,S,p]])}}}),yl=Object.freeze(Object.defineProperty({__proto__:null,AlCascaderMC:_t,AsyncCascader:St,BtTablePage:et,CheckboxGroupThreeClass:pl,CheckboxGroupTwoClass:ml,CheckboxTree:dl,EditorPro:xt,FormGroup:sl,FormModal:cl,FormR:Fe,FullPop:Pt,HeaderBt:it,Hello:Ft,IconTxtBtn:Ge,InputMap:Ct,MonthRange:Nt,Page404:zt,PagePro:wt,SearchForm:tt,SelectInput:Vt,SelectScrollMore:hl,ShowHidePanel:Xe,ShowHidePanelB:el,SideMenu:vt,TableIconBtn:ht,TableSearch:ll,TableSetting:kt,TransferBox:fl,UploadGroup:Tt,WellCard:ul},Symbol.toStringTag,{value:"Module"})),Ea={class:"a4Line aL notPrint"},Ia={class:"a4Line aR notPrint"},Pa={class:"a4Line bL notPrint"},Fa={class:"a4Line bR notPrint"},za={class:"topsL notPrint"},Ra={class:"topsLTitle"},Ma={class:"topsLBtn"},$a={class:"topsLHelp"},Ka={key:0},Ua=e.createElementVNode("span",null,"1. ",-1),Ga={key:1},Ha=e.createElementVNode("span",null,"2. ",-1),Wa={key:2},ja=e.createElementVNode("span",null,"1. ",-1),qa=["innerHTML"],Ja=e.defineComponent({__name:"PrintModal",setup(l){const s=at.useRoute(),i=e.ref(),t=e.ref(!1),o=e.ref(!1),a=e.ref(!1),r=e.ref(715),m=e.ref(!1),d=e.ref(),g="tablePrint_"+Date.now().toString(),f=e.ref(""),p=e.ref([]),y=e.ref([]),k=e.ref(!1),C=e.computed(()=>({width:r.value+"px"})),b=()=>{d.value&&window.sessionStorage.removeItem("print_"+d.value),window.sessionStorage.removeItem(g),window.close()},B=()=>{m.value&&(m.value=!1)},V=()=>{k.value=!0},L=D=>{k.value&&(r.value=(D==null?void 0:D.layerX)-20)},T=()=>{k.value&&(k.value=!1)},S=()=>{m.value=!1;let D=window.setTimeout(()=>{window.clearTimeout(D),window.print()},100)},z=()=>{var D,O,u,I,h;if(d.value=(D=s==null?void 0:s.params)==null?void 0:D.isFrom,d.value){let P=window.sessionStorage.getItem("print_"+d.value);if(P){const A=JSON.parse(P);if(!A){t.value=!0;return}p.value=A.columns,y.value=A.data,i.value=A.title,f.value=((O=A==null?void 0:A.config)==null?void 0:O.customClass)||"",o.value=((u=A==null?void 0:A.config)==null?void 0:u.domPrint)||!1,a.value=((I=A==null?void 0:A.config)==null?void 0:I.autoPrint)||!1,r.value=((h=A==null?void 0:A.config)==null?void 0:h.width)||715,document.title=(i.value||N("r.print"))+"_"+new Date().toLocaleString()}else t.value=!0}};return e.onMounted(()=>{if(a.value){let D=window.setTimeout(()=>{window.clearTimeout(D),S()},100)}document.addEventListener("click",B),document.addEventListener("mousemove",L),document.addEventListener("mouseup",T)}),z(),(D,O)=>{const u=e.resolveComponent("Table");return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["tablePrintModal",[e.unref(f)]])},[e.withDirectives(e.createElementVNode("div",{class:"msgL notPrint"},e.toDisplayString(e.unref(N)("r.printGuide.9")),513),[[e.vShow,e.unref(t)]]),e.withDirectives(e.createElementVNode("div",Ea,[e.createElementVNode("p",null,e.toDisplayString(e.unref(N)("r.printGuide.7")),1),e.createTextVNode(),e.createElementVNode("p",null,e.toDisplayString(e.unref(N)("r.printGuide.5")),1)],512),[[e.vShow,!e.unref(t)]]),e.withDirectives(e.createElementVNode("div",Ia,[e.createElementVNode("p",null,e.toDisplayString(e.unref(N)("r.printGuide.7")),1),e.createTextVNode(),e.createElementVNode("p",null,e.toDisplayString(e.unref(N)("r.printGuide.6")),1)],512),[[e.vShow,!e.unref(t)]]),e.withDirectives(e.createElementVNode("div",Pa,[e.createElementVNode("p",null,e.toDisplayString(e.unref(N)("r.printGuide.8")),1),e.createTextVNode(),e.createElementVNode("p",null,e.toDisplayString(e.unref(N)("r.printGuide.5")),1)],512),[[e.vShow,!e.unref(t)]]),e.withDirectives(e.createElementVNode("div",Fa,[e.createElementVNode("p",null,e.toDisplayString(e.unref(N)("r.printGuide.8")),1),e.createTextVNode(),e.createElementVNode("p",null,e.toDisplayString(e.unref(N)("r.printGuide.6")),1)],512),[[e.vShow,!e.unref(t)]]),e.withDirectives(e.createElementVNode("div",za,[e.createElementVNode("div",Ra,e.toDisplayString(e.unref(i)||e.unref(N)("r.print")),1),e.createElementVNode("div",Ma,[e.createVNode(Ge,{icon:"md-help-circle",name:e.unref(N)("r.help"),onClick:O[0]||(O[0]=e.withModifiers(I=>m.value=!e.unref(m),["stop"]))},null,8,["name"]),e.createVNode(Ge,{icon:"md-print",name:e.unref(N)("r.preview"),onClick:S},null,8,["name"]),e.unref(o)?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(kt,{key:0,modelValue:e.unref(p),"onUpdate:modelValue":O[1]||(O[1]=I=>e.isRef(p)?p.value=I:null),"s-key":g,storage:"sessionStorage"},null,8,["modelValue"])),e.createVNode(ht,{icon:"md-close",onClick:b,title:e.unref(N)("r.close")},null,8,["title"])]),e.withDirectives(e.createElementVNode("div",$a,[e.unref(o)?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("p",Ka,[Ua,e.createElementVNode("span",null,e.toDisplayString(e.unref(N)("r.printGuide.1")),1)])),e.unref(o)?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("p",Ga,[Ha,e.createElementVNode("span",null,e.toDisplayString(e.unref(N)("r.printGuide.2")),1)])),e.unref(o)?(e.openBlock(),e.createElementBlock("p",Wa,[ja,e.createElementVNode("span",null,e.toDisplayString(e.unref(N)("r.printGuide.10")),1)])):e.createCommentVNode("",!0),e.createElementVNode("p",null,[e.createElementVNode("span",null,e.toDisplayString(e.unref(o)?"2. ":"3. "),1),e.createElementVNode("span",null,e.toDisplayString(e.unref(N)("r.printGuide.3")),1)]),e.createElementVNode("p",null,[e.createElementVNode("span",null,e.toDisplayString(e.unref(o)?"3. ":"4. "),1),e.createElementVNode("span",null,e.toDisplayString(e.unref(N)("r.printGuide.4")),1)])],512),[[e.vShow,e.unref(m)]])],512),[[e.vShow,!e.unref(t)]]),e.unref(o)?(e.openBlock(),e.createElementBlock("div",{key:0,class:"domPrintSetting notPrint",style:e.normalizeStyle(e.unref(C))},[e.createElementVNode("div",{class:"settingLine",onMousedown:e.withModifiers(V,["stop"])},null,32)],4)):e.createCommentVNode("",!0),e.unref(o)?(e.openBlock(),e.createElementBlock("div",{key:1,class:"domPrintContent",innerHTML:e.unref(y),style:e.normalizeStyle(e.unref(C))},null,12,qa)):e.createCommentVNode("",!0),e.unref(o)?e.createCommentVNode("",!0):e.withDirectives((e.openBlock(),e.createBlock(u,{key:2,class:"tablePW",columns:e.unref(p),data:e.unref(y),border:""},null,8,["columns","data"])),[[e.vShow,!e.unref(t)]])],2)}}});let Ve=null;function gl(){document.documentElement.style.setProperty("overflow","auto");const s=document.createElement("style");s.innerHTML="body,div[data-v-app]{height:100% !important}",document.head.appendChild(s)}function Ya(l){l!=null&&l.addRoute&&(l.hasRoute("tablePrint")||l.addRoute({name:"tablePrint",path:"/tablePrint/:isFrom",component:Ja})),Ve=l,location.pathname.indexOf("tablePrint")>-1?(Ve.push(location.pathname),gl()):location.hash.indexOf("tablePrint")>-1&&(Ve.push(location.hash.replace(/^#/,"")),gl())}function bl(l){return G(l)==="Object"&&(l.width=l.minWidth||100,l.sortable=!1,delete l.minWidth,delete l.__id,l.resizable=!0,l.children&&G(l.children)==="Array"&&(l.children=l.children.map(bl))),l}function Xa(l,s,i,t){var g,f,p;if(!Ve)return;let o;if(!(t!=null&&t.domPrint)){let y=F.cloneDeep(l.filter(k=>(k==null?void 0:k.key)||(k==null?void 0:k.children)));y[0].type==="selection"&&y.shift(),y.length?o=y.map(bl):o=[]}let a=(f=(g=Ve==null?void 0:Ve.currentRoute)==null?void 0:g.value)==null?void 0:f.fullPath;a&&(a=(p=a.replace)==null?void 0:p.call(a,/\//g,"_"));let r={data:s,title:i,config:t};t!=null&&t.domPrint||(r.columns=o),window.sessionStorage.setItem("print_"+a,JSON.stringify(r));const m=Ve.resolve({name:"tablePrint",params:{isFrom:a}});window.open(m==null?void 0:m.href,"_blank")||console.log("请不要禁用浏览器弹出窗口，否则无法正常使用该打印功能。")}const lt={print:Xa,init:Ya};function kl(l="",s="",i={}){i.domPrint=!0,i.width||(i.width=715),lt.print([],l,s,i)}function wl(l){const s=(...a)=>ke.apply(this,a),i=s("r.closePreview"),t=s("r.fullImg");let o="previewImg"+Math.floor(Math.random()*1e7);ce.Modal.info({closable:!1,"transition-names":["linear","fade"],render:a=>e.h("div",{class:"previewModal",id:o},[e.h("div",{class:"previewModalInner"},[e.h("img",{src:l,alt:t}),e.h(ce.Icon,{type:"md-close",size:20,title:i,class:"previewModalDelete",onClick(){ce.Modal.remove()}})])])}),de(()=>{var m,d,g,f,p,y;const a=(f=(g=(d=(m=document.getElementById(o))==null?void 0:m.parentElement)==null?void 0:d.parentElement)==null?void 0:g.parentElement)==null?void 0:f.parentElement,r=(y=(p=document.getElementById(o))==null?void 0:p.parentElement)==null?void 0:y.nextSibling;a&&(a.style.height="0"),a&&(a.style.padding="0"),r&&(r.style.display="none")},10)}const Qa=Object.freeze(Object.defineProperty({__proto__:null,$fetch:he,$swal:me,$swalConfirm:bt,domPrint:kl,fullScreenImgByDom:Te,fullScreenImgPreview:wl,messageBox:Qe,setInterval:tl,setTimeout:de,tablePrint:lt},Symbol.toStringTag,{value:"Module"}));(()=>{if(window.wangeditorMenuInit)return;class l{constructor(){Re(this,"title");Re(this,"iconSvg");Re(this,"tag");Re(this,"alwaysEnable");this.title=ke("r.preview"),this.iconSvg='<svg t="1656644788547" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="12356" width="256" height="256"><path d="M512 1024H135.4C60.7 1024 0 963.3 0 888.6V135.4C0 60.7 60.7 0 135.4 0h753.2C963.3 0 1024 60.7 1024 135.4V512c0 24.9-20.1 45-45 45s-45-20.1-45-45V135.4c0-25-20.4-45.4-45.4-45.4H135.4c-25 0-45.4 20.4-45.4 45.4v753.2c0 25 20.4 45.4 45.4 45.4H512c24.9 0 45 20.1 45 45s-20.1 45-45 45z" p-id="12357"></path><path d="M512 802c-77.5 0-150.3-30.2-205.1-84.9C252.2 662.3 222 589.5 222 512s30.2-150.3 84.9-205.1S434.5 222 512 222s150.3 30.2 205.1 84.9C771.8 361.7 802 434.5 802 512s-30.2 150.3-84.9 205.1C662.3 771.8 589.5 802 512 802z m0-490c-110.3 0-200 89.7-200 200s89.7 200 200 200 200-89.7 200-200-89.7-200-200-200z" p-id="12358"></path><path d="M978.5 1023.5c-11.5 0-23-4.4-31.8-13.2L653.2 716.8c-17.6-17.6-17.6-46.1 0-63.6 17.6-17.6 46.1-17.6 63.6 0l293.5 293.5c17.6 17.6 17.6 46.1 0 63.6-8.8 8.8-20.3 13.2-31.8 13.2z" p-id="12359"></path></svg>',this.tag="button",this.alwaysEnable=!0}getValue(){return""}isActive(){return!1}isDisabled(){return!1}exec(t){var d,g,f,p,y,k,C,b,B;const o=document.getElementById("editor-preview");let a=localStorage.getItem("editorPreviewW")||300,r=localStorage.getItem("editorPreviewH")||500;const m=(d=t==null?void 0:t.getHtml)==null?void 0:d.call(t);if(o){let V=(k=(y=(p=(f=(g=o.children)==null?void 0:g[0])==null?void 0:f.children)==null?void 0:p[1])==null?void 0:y.children)==null?void 0:k[0],L=(B=(b=(C=o.children)==null?void 0:C[0])==null?void 0:b.children)==null?void 0:B[1];V&&(V.innerHTML=m,V.style.width=a+"px"),L&&(L.style.height=r+"px"),o.style.display="block"}else{const V=document.body,L=document.createElement("div");L.setAttribute("id","editor-preview"),L.setAttribute("class","editor-preview-mask"),L.innerHTML=`<div class='editor-preview-body'><div class='editor-preview-head'><div><span>宽</span><input type='number' value='${a}' min='200'><span>高</span><input type='number' value='${r}' min='300'></div><i class='ivu-icon ivu-icon-md-close'></i></div><div class='editor-preview-out-wall'><div class='editor-preview-wall r-editor-view'></div></div></div>`;let T=L.children[0].children[1],S=L.children[0].children[1].children[0],z=L.children[0].children[0].children[0].children[1];const D=40,O=70,u=A=>{var R;if((A==null?void 0:A.type)==="keyup"){let J=!1;if(A.key&&(J=A.key!=="Enter"),J)return}let _=(R=A==null?void 0:A.target)==null?void 0:R.value;if(_=Number(_),S.style&&S.style.width===_+"px")return;const $=V.clientWidth;_<250?(_=250,A.target.value=250):_>$-D&&(_=$-D,A.target.value=$-D),S.style.width=_+"px",localStorage.setItem("editorPreviewW",_)};z.addEventListener("blur",u),z.addEventListener("keyup",u);let I=L.children[0].children[0].children[0].children[3];const h=A=>{var R;if((A==null?void 0:A.type)==="keyup"){let J=!1;if(A.key&&(J=A.key!=="Enter"),J)return}let _=(R=A==null?void 0:A.target)==null?void 0:R.value;if(_=Number(_),T.style&&T.style.height===_+"px")return;const $=V.clientHeight;_<300?(_=300,A.target.value=300):_>$-O&&(_=$-O,A.target.value=$-O),T.style.height=_+"px",localStorage.setItem("editorPreviewH",_)};I.addEventListener("blur",h),I.addEventListener("keyup",h),L.children[0].children[0].children[1].addEventListener("click",()=>{L.style.display="none"}),S.innerHTML=m,S.style.width=a+"px",T.style.height=r+"px",V.append(L)}}}const s={key:"previewX",factory(){return new l}};Fl.Boot.registerMenu(s),window.wangeditorMenuInit=!0})();const Za=Ue.use,va=Ue.i18n,Vl={...Qa,...en},Bl=function(l,s={}){he.init(s.useStore||s.store,l),l.use(zl),s.locale&&Ue.use(s.locale),s.i18n&&Ue.i18n(s.i18n),s.router&&(dn(s.router),lt.init(s.router)),s.amap&&xn(s.amap),s.notRegistryGlobal||(Object.keys(yl).forEach(i=>{l.component(i)||l.component(i,yl[i])}),Object.keys(Vl).forEach(i=>{l.config.globalProperties[i]=Vl[i]})),l.directive("has")||l.directive("has",(i,t)=>{t.value&&!mt(t.value)&&(i.style.display="none")}),l.directive("loadmore")||l.directive("loadmore",{mounted(i,t){var a;let o=i;t.arg&&(o=(a=document.getElementsByClassName(t.arg))==null?void 0:a[0]),o&&o.addEventListener("scroll",function(){o.scrollTop>0&&o.scrollHeight-o.scrollTop<=o.clientHeight&&t.value()})}}),l.config.globalProperties.fontSizeBase=14,l.config.globalProperties.searchFormLabelWidth=84,l.config.globalProperties.searchFormItemWidth=202,l.config.globalProperties.formModalLabelWidth=140,l.config.globalProperties.formModalWidth=520,l.config.globalProperties.formGroupLabelWidth=160,l.config.globalProperties.formGroupWidth="100%",l.config.globalProperties.iconTxtBtnIconSize=17,l.config.globalProperties.pageSizes=[10,20,50,100],l.config.globalProperties.btTablePageUsePagePro=!0,l.config.globalProperties.btTablePageAlign="center",l.config.globalProperties.pageShowTotal=!0,l.config.globalProperties.pageShowSizer=!0,l.config.globalProperties.tableSettingBg="#fff",l.config.globalProperties.tableSettingTransfer=!0,l.config.globalProperties.tableSettingEventsEnabled=!0},eo={install:Bl};E.$fetch=he,E.$swal=me,E.$swalConfirm=bt,E.AlCascaderMC=_t,E.AsyncCascader=St,E.BtTablePage=et,E.CheckboxGroupThreeClass=pl,E.CheckboxGroupTwoClass=ml,E.CheckboxTree=dl,E.EditorPro=xt,E.FormGroup=sl,E.FormModal=cl,E.FormR=Fe,E.FullPop=Pt,E.HeaderBt=it,E.Hello=Ft,E.IconTxtBtn=Ge,E.InputMap=Ct,E.MonthRange=Nt,E.Page404=zt,E.PagePro=wt,E.SearchForm=tt,E.SelectInput=Vt,E.SelectScrollMore=hl,E.ShowHidePanel=Xe,E.ShowHidePanelB=el,E.SideMenu=vt,E.TableIconBtn=ht,E.TableSearch=ll,E.TableSetting=kt,E.TransferBox=fl,E.UploadGroup=Tt,E.WellCard=ul,E.clearObj=Je,E.dataFilterOrToUrl=Qt,E.decimalDigitsLimit=Wt,E.default=eo,E.domPrint=kl,E.downloadFileByFormSubmit=dt,E.downloadFileReaderFile=Mt,E.emptyInput=Zl,E.fakeALinkClick=$t,E.fileExport=jt,E.findCollection=Se,E.findPath=je,E.formDataHeadConfig=Ut,E.fullScreenImgByDom=Te,E.fullScreenImgPreview=wl,E.getColumnsKeys=qt,E.getFileSrc=He,E.getFileTypeByName=rt,E.getFileTypeIconByName=st,E.getStringWidth=Kt,E.hasPermission=mt,E.htmlDecode=Ql,E.htmlEncode=Xl,E.htmlPrint=Zt,E.i18n=va,E.install=Bl,E.isClient=qe,E.isEmptyValue=Yt,E.isImgByFile=We,E.isNaN=pt,E.isNumberValue=Jt,E.isValidValue=ie,E.locale=Za,E.messageBox=Qe,E.myTypeof=G,E.oneOf=Ht,E.removeEmptyValue=Ye,E.setInterval=tl,E.setTimeout=de,E.setValByOption=_e,E.setValue=ye,E.siblingElems=ut,E.stopBubbling=vl,E.stringLength=Xt,E.tablePrint=lt,E.toFormData=Gt,E.toHump=Rt,E.toLine=ct,E.tooltipManual=ft,E.trimObj=Ee,Object.defineProperties(E,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
//# sourceMappingURL=plugRQw.umd.cjs.map
