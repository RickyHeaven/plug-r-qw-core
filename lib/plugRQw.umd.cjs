(function(C,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue"),require("deepmerge"),require("lodash-es"),require("sweetalert"),require("view-ui-plus"),require("vue-router"),require("vue-i18n"),require("axios"),require("ar-cascader"),require("@wangeditor/editor-for-vue"),require("moment"),require("@wangeditor/editor")):typeof define=="function"&&define.amd?define(["exports","vue","deepmerge","lodash-es","sweetalert","view-ui-plus","vue-router","vue-i18n","axios","ar-cascader","@wangeditor/editor-for-vue","moment","@wangeditor/editor"],e):(C=typeof globalThis<"u"?globalThis:C||self,e(C.plugRQw={},C.Vue,C.deepmerge,C.lodashEs,C.swal,C.ViewUIPlus,C.VueRouter,C.VueI18n,C.axios,C.ArCascader,C.editorForVue,C.moment,C.editor))})(this,function(C,e,ke,D,Oe,le,bt,wl,Ge,Bl,kt,Se,Vl){var rl,sl;"use strict";var $n=Object.defineProperty;var Gn=(C,e,ke)=>e in C?$n(C,e,{enumerable:!0,configurable:!0,writable:!0,value:ke}):C[e]=ke;var Me=(C,e,ke)=>(Gn(C,typeof e!="symbol"?e+"":e,ke),ke);const wt={r:{locale:"zh-CN",testMsg:"测试国际化",confirm:"确定",cancel:"取消",clear:"清空",info:{title:"提示",text:"确定执行该操作？"},http:{403:"登录状态失效,请重新登录！",409:"该账号已在其他地方登录,点击确定退出。"},pSelect:"请选择",pInput:"请输入",selectDate:"选择日期",selectTime:"选择时间",search:"搜索",level:{1:"一级",2:"二级",3:"三级"},unknown:"未知",title:"标题",required:"该项为必填",back:"返回",button:"按钮",check:"查询",adSearch:"高级查询",all:"全选",tabSetting:" 列表显示设置",delete:"删除",fView:"全屏预览",download:"点击下载",file:"文件",selectFile:"选择文件",notImg:"文件不是图片，不可预览",wrongFileType:"文件类型不被允许",supportType:"支持类型：",none:"无",fileIsBig:"文件过大",supportSize:"支持最大：",uploadError:"上传出错",uploadFail:"上传失败",closePreview:"关闭预览",fullImg:"全屏图片",preview:"预览",searchFor:"当前搜索：",noMore:"没有更多数据了",optionLabel:"选项",getDataError:"拉取数据出错",add:"添加",remove:"移除",addAll:"全部添加",removeAll:"全部移除",added:"已添加",notAdded:"未添加",success:"成功",failed:"失败",error:"出错",pageNotFound:"页面没找到",notFoundMsg:"您访问的页面不存在，点击下面按钮返回上一个页面。",hideMenu:"隐藏菜单",showMenu:"显示菜单"}},Cl=/(%|){([0-9a-zA-Z_]+)}/g;function Sl(){function n(t,a){return Object.prototype.hasOwnProperty.call(t,a)}function r(t,...a){let c;return a.length===1&&typeof a[0]=="object"&&(c=a[0]),(!c||!c.hasOwnProperty)&&(c={}),t===void 0?"":t.replace(Cl,(o,f,s,m)=>{let d;return t[m-1]==="{"&&t[m+o.length]==="}"?s:(d=n(c,s)?c[s]:null,d??"")})}return r}const _l=Sl();let De=wt;const Al={zh:wt};let Bt,Vt={},ne,Il=function(n,r){if(typeof this=="object"&&Reflect.has(this,"$t"))return this.$t(n,r);if(ne&&ne.global)return ne.global.t(n,r);if(ne&&ne.locale){if(!Vt[ne.locale]||Bt!=ne.locale){Vt[ne.locale]=!0;let t=ne.getLocaleMessage(ne.locale)||{},a=ke(Al[ne.locale],t,{clone:!0});De=a,ne.setLocaleMessage(ne.locale,a),Bt=ne.locale}return ne.hlang(n,r)}};const ye=function(n,r){let t=Il.apply(this,[n,r]);if(t!=null)return t;const a=n.split(".");let c=De;for(let o=0,f=a.length;o<f;o++){const s=a[o];if(t=c[s],o===f-1)return _l(t,r);if(!t)return"";c=t}return""},Fe={use:function(n){De=n||De},t:ye,i18n:function(n){ne=n}};function T(n,r){var a,c,o;const t=(o=(c=(a=e.getCurrentInstance())==null?void 0:a.appContext)==null?void 0:c.config)==null?void 0:o.globalProperties;return ye.apply(t,[n,r])}const He=e.defineComponent({__name:"HeaderBt",props:{icon:{},withIcon:{type:Boolean,default:!1},iconSize:{default:18},color:{default:"inherit"},borderColor:{default:"#fff"},disabled:{type:Boolean,default:!1}},emits:["click"],setup(n,{emit:r}){const t=n;function a(){t.disabled||r("click")}return(c,o)=>{const f=e.resolveComponent("Icon");return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass({headerBtCTM:!0,withIconCTM:t.icon||t.withIcon,disabled:t.disabled}),style:e.normalizeStyle({color:t.color,borderLeftColor:t.borderColor}),onClick:a},[t.icon?(e.openBlock(),e.createBlock(f,{key:0,size:t.iconSize,type:t.icon},null,8,["size","type"])):e.createCommentVNode("",!0),e.renderSlot(c.$slots,"default")],6)}}}),Tl={class:"headerTxtAM"},xl={class:"contentAM"},Ct=e.defineComponent({__name:"FullPop",props:{title:{},headerColor:{},headerBg:{},headerFontSize:{default:12},zIndex:{default:1e3}},emits:["on-open","on-close"],setup(n,{expose:r,emit:t}){const a=n;let c=e.ref(!1);const o=e.computed(()=>typeof a.headerFontSize=="number"?a.headerFontSize+"px":a.headerFontSize),f=e.computed(()=>({zIndex:a.zIndex}));function s(){c.value=!0,t("on-open")}function m(d){c.value=!1,t("on-close",d===!0)}return r({open:s,close:m}),(d,u)=>e.withDirectives((e.openBlock(),e.createElementBlock("div",{class:"fullScreenPopBoxAM",style:e.normalizeStyle(e.unref(f))},[e.createElementVNode("div",{class:"headerAM",style:e.normalizeStyle({color:a.headerColor,backgroundColor:a.headerBg,fontSize:e.unref(o)})},[e.createElementVNode("span",Tl,e.toDisplayString(d.title||e.unref(T)("r.title")),1),e.createVNode(He,{icon:"md-return-left",onClick:m},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(T)("r.back")),1)]),_:1})],4),e.createElementVNode("div",xl,[e.renderSlot(d.$slots,"default")])],4)),[[e.vShow,e.unref(c)]])}}),Ll={class:"msg"},St=e.defineComponent({__name:"Hello",setup(n){let r=e.ref("Greetings from Ricky.");return(t,a)=>(e.openBlock(),e.createElementBlock("span",Ll,e.toDisplayString(e.unref(r)),1))}});function Ee(){const{appContext:n}=e.getCurrentInstance();return n.config.globalProperties}const _t=e.defineComponent({__name:"IconTxtBtn",props:{name:{},icon:{default:"md-download"},size:{default:()=>Ee().iconTxtBtnIconSize},disabled:{type:Boolean,default:!1},has:{default:""}},emits:["click"],setup(n,{emit:r}){const t=n,a=e.computed(()=>Math.floor(t.size/17*12)+"px");function c(o){t.disabled||r("click",o)}return(o,f)=>{const s=e.resolveComponent("Icon"),m=e.resolveDirective("has");return e.withDirectives((e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["tabTopBtnsT",{disabled:t.disabled}]),onClick:c,style:e.normalizeStyle({"font-size":e.unref(a)})},[e.createVNode(s,{type:t.icon,size:t.size},null,8,["type","size"]),e.createTextVNode(" "+e.toDisplayString(t.name||e.unref(T)("r.button")),1)],6)),[[m,o.has]])}}}),Nl={class:"c404K"},Ml=e.createElementVNode("div",{class:"t404"},"404",-1),Ol={class:"ct404"},Dl={class:"p404"},At=e.defineComponent({__name:"Page404",setup(n){const t=e.getCurrentInstance().appContext.config.globalProperties.$router;function a(){t.go(-1)}return(c,o)=>{const f=e.resolveComponent("Button");return e.openBlock(),e.createElementBlock("div",Nl,[Ml,e.createElementVNode("div",Ol,"UH OH! "+e.toDisplayString(e.unref(T)("r.pageNotFound")),1),e.createElementVNode("div",Dl,e.toDisplayString(e.unref(T)("r.notFoundMsg")),1),e.createVNode(f,{class:"bt404",onClick:a},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(T)("r.back")),1)]),_:1})])}}});function ie(n,r,t){const a=(...c)=>ye.apply(this,c);return new Promise((c,o)=>{if(typeof n=="object"&&!Array.isArray(n)){let f=a("r.confirm"),s=a("r.cancel"),m=!1,d="swalConfirmBt",u="swalCancelBt";const y=/^HTML.*Element$/;n.type&&(n.icon=n.type)&&delete n.type,n.content&&(n.text=n.content)&&delete n.content,n.className=n.className||"swalBoxX";let A="";n.text&&y.test(P(n.text))?A="content":n.text&&P(n.text)==="String"&&(A="text"),n.buttons&&(typeof n.buttons=="object"&&!Array.isArray(n.buttons)?n.buttons.cancel&&(n.buttons.cancel.text&&(s=n.buttons.cancel.text)&&(m=!0),n.buttons.cancel.className&&(u=n.buttons.cancel.className),n.buttons.confirm.text&&(f=n.buttons.confirm.text),n.buttons.confirm.className&&(d=n.buttons.confirm.className)):Array.isArray(n.buttons)&&(n.buttons[0]&&(s=n.buttons[0],m=!0),n.buttons[1]&&(f=n.buttons[1]))),Oe({title:n.title,icon:n.icon,className:n.className,[A]:n.text,buttons:{confirm:{text:f,value:!0,visible:!0,className:d},cancel:{text:s,value:null,visible:m,className:u}}}).then(w=>{w&&typeof n.onOk=="function"&&n.onOk(),c(w)}).catch(w=>{o(w)})}else if(typeof n=="string"){let f="";if(r)switch(typeof r){case"string":f="text";break;case"object":f="content";break}Oe({title:n,[f]:r||"",icon:t||"",className:"swalBoxX",buttons:{confirm:{text:a("r.confirm"),value:!0,visible:!0,className:"swalConfirmBt",closeModal:!0}}}).then(s=>{c(s)}).catch(s=>{o(s)})}else if(typeof n=="boolean")!n&&Oe.close&&Oe.close();else throw new TypeError("swal第一个参数类型有误，仅支持Object/String/false")})}function je(n){return n.replace(/_(\w)/g,function(r,t){return t.toUpperCase()})}function It(n){let r=document.createElement("div");return r.textContent!==void 0?r.textContent=n:r.innerText=n,r.innerHTML}function Tt(n){let r=document.createElement("div");return r.innerHTML=n,r.innerText||r.textContent}function _e(n){return new Promise(r=>{let t=new FileReader;t.readAsDataURL(n),t.onloadend=()=>{r(t.result)}})}function Pe(n){return n.split(".").pop().toLocaleLowerCase()}function Ae(n){return P(n)==="String"&&n.indexOf("image")>-1}function ze(n){const r=Pe(n);let t="ios-document-outline";return["gif","jpg","jpeg","png","bmp","webp"].indexOf(r)>-1?t="ios-image":["mp4","m3u8","rmvb","avi","swf","3gp","mkv","flv"].indexOf(r)>-1?t="ios-film":["mp3","wav","wma","ogg","aac","flac"].indexOf(r)>-1?t="ios-musical-notes":["doc","txt","docx","pages","epub","pdf"].indexOf(r)>-1?t="md-document":["numbers","csv","xls","xlsx"].indexOf(r)>-1?t="ios-stats":["keynote","ppt","pptx"].indexOf(r)>-1&&(t="ios-videocam"),t}function We(n,r){let t=document.createElement("a");t.href=r,t.download=n,ve(t)}function ve(n){let r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(r)}function Ie({group:n,condition:r,pathKey:t,childKey:a="children",path:c=[]}){if(n&&D.isObject(n)){if(D.isFunction(r)){if(D.isPlainObject(n)){let o=n,f=D.cloneDeep(c);if(r(o))return t&&o[t]&&f.push(o[t]),f;if(o[a]&&!D.isEmpty(o[a])){t&&o[t]&&f.push(o[t]);let s=Ie({group:o[a],condition:r,pathKey:t,childKey:a,path:f});if(!D.isEmpty(s))return s}}else if(Array.isArray(n))for(let o of n){let f=D.cloneDeep(c);if(r(o))return t&&o[t]?f.push(o[t]):f.push(String(n.indexOf(o))),f;if(o[a]&&o[a].length>0){t&&o[t]?f.push(o[t]):f.push(String(n.indexOf(o)));let s=Ie({group:o[a],condition:r,pathKey:t,childKey:a,path:f});if(!D.isEmpty(s))return s}}}else if(Array.isArray(n))for(let o of n){let f=D.cloneDeep(c);if(o===r)return f.push(String(n.indexOf(o))),f}}return[]}function qe(n,r=12){if(P(n)==="String"&&n.length>0){let t=document.createElement("span");t.style.fontSize=r+"px",t.style.fontFamily="inherit",t.innerHTML=n,t.style.opacity="0",t.style.position="fixed",t.style.top="3000px",document.body.append(t);const a=t.clientWidth;return document.body.removeChild(t),a}return 0}function xt(n){return n===""?null:n}function Lt(n){n=n||window.Event,n.stopPropagation?n.stopPropagation():n.cancelBubble=!0}const Fl=Object.freeze(Object.defineProperty({__proto__:null,downloadFileReaderFile:We,emptyInput:xt,fakeALinkClick:ve,findPath:Ie,getFileSrc:_e,getFileTypeByName:Pe,getFileTypeIconByName:ze,getStringWidth:qe,htmlDecode:Tt,htmlEncode:It,isImgByFile:Ae,stopBubbling:Lt,toHump:je},Symbol.toStringTag,{value:"Module"}));function P(n){return Object.prototype.toString.call(n).replace(/\[object |]/g,"")}function Ye(n){return n.replace(/([A-Z])/g,"_$1").toLowerCase()}function Te(n){let r=P(n);if(r==="Object"){for(let t in n)if(n.hasOwnProperty(t)){let a=P(n[t]);a==="String"?n[t]=n[t].trim():(a==="Object"||a==="Array")&&Te(n[t])}}else if(r==="Array")for(let t=0,a=n.length;t<a;t++){let c=P(n[t]);c==="String"?n[t]=n[t].trim():(c==="Array"||c==="Object")&&Te(n[t])}return n}function Ke(n,r=[]){if(P(n)==="Array")return n.forEach((t,a)=>{switch(P(t)){case"Array":case"Object":Ke(t);break;default:n[a]=null}}),n;if(P(n)==="Object"){for(let t in n)if(n.hasOwnProperty(t)){let a=!0;for(let c of r)if(c===t){a=!1;break}if(a)switch(P(n[t])){case"Array":case"Object":Ke(n[t]);break;default:n[t]=null}}return n}else return n}const Nt={headers:{"Content-Type":"multipart/form-data"}};function Mt(n){let r=new FormData;for(let t in n)n.hasOwnProperty(t)&&n[t]!==null&&r.append(t,n[t]);return r}function we(n,r,t=!1){if(!n||!r)return!1;let a,c="notFoundC",o=function(f,s){if(Array.isArray(f)){if(P(s)==="Function"&&s(f))return c=f,[];for(let m of f){if(c!=="notFoundC")break;if(P(s)==="Function"&&s(m)||m===s)return c=m,[f.indexOf(m)];if(P(m)==="Array"||P(m)==="Object"){let d=o(m,s);if(d!==void 0)return[f.indexOf(m),...d]}}}else if(P(f)==="Object"){if(P(s)==="Function"&&s(f))return c=f,[];for(let m in f){if(c!=="notFoundC")break;if(f.hasOwnProperty(m)){if(P(s)==="Function"&&s(m)||f[m]===s)return c=f[m],[m];if(P(f[m])==="Object"||P(f[m])==="Array"){let d=o(f[m],s);if(d!==void 0)return[m,...d]}}}}};return a=o(n,r),t?a||!1:c==="notFoundC"?!1:c}function Ot(n,r){for(let t=0,a=r.length;t<a;t++)if(n===r[t])return!0;return!1}function Dt(n,r=2){let t=new RegExp(`(^-?\\d+\\.\\d{${r}})(\\d+$)`),a=n&&String(n)||"";return t.test(a)?Number(a.replace(t,"$1")):n}function Je(n,r={},t="get"){let a=document.createElement("form"),c=document.getElementsByTagName("body")[0];c.appendChild(a),a.setAttribute("style","display:none"),a.setAttribute("target",""),a.setAttribute("method",t);let o=n;if(window&&window.hasOwnProperty("g")){let f=Object.keys(window.g).filter(s=>s.indexOf("URL")>-1).map(s=>s.replace("URL",""));for(let s of f){let m=new RegExp("^/"+s+"(?=/.*$)","i");if(m.test(n)&&window.g[s+"URL"]){o=window.g[s+"URL"]+n.replace(m,"");break}}}if(a.setAttribute("action",o),D.isPlainObject(r)){for(let s in r)if(r.hasOwnProperty(s)&&(r[s]||r[s]===0||r[s]===!1||r[s]==="")){let m=document.createElement("input");m.setAttribute("type","hidden"),m.setAttribute("name",s),m.setAttribute("value",r[s]),a.appendChild(m)}a.submit();let f=setTimeout(()=>{c.removeChild(a),clearTimeout(f),f=null},8e3)}else console.error("请求数据格式有误，无法下载文件")}function Ft(n,r={},t="get"){if(r.hasOwnProperty("columns")&&(r.columns===""||r.columns===null||r.columns===void 0)){ie.call(this,{title:"需要导出的列不能为空",type:"warning"});return}Je(n,r,t)}function Et(n,r,t=!1){let a;if(n&&P(r)==="Array"){let c=localStorage.getItem(n);if(c){let o=JSON.parse(decodeURI(c));a=r.filter(f=>f.key&&o.indexOf(f.title)!==-1).map(f=>f.key)}else a=r.map(o=>o.key)}else a=[];return t||(a=String(a)),a}function X(n){return n!=null&&n!==""}function Pt(n){return/^-?\d+(.\d+)?$/.test(n)}function Xe(n,r=!1,t=""){return function(a,c){var m,d;let o;if(Array.isArray(n)){let u=[];for(let y of n)X((m=c.row)==null?void 0:m[y])&&u.push(c.row[y]);o=u.join(t)}else typeof n=="function"?o=n(c):o=(d=c.row)==null?void 0:d[n];let f=qe(o),s=c.column._width;return o&&f>s?e.h(le.Tooltip,{style:{width:"100%"},content:o,maxWidth:s*2},()=>e.h("span",{style:{width:"100%",display:"inline-block","text-overflow":"ellipsis","white-space":"nowrap",overflow:"hidden","vertical-align":"top"}},o)):e.h("span",r&&!X(o)?"--":o)}}function zt(n){if(D.isPlainObject(n)){for(let r in n)if(n.hasOwnProperty(r)&&X(n[r]))return!1;return!0}else if(Array.isArray(n)){for(let r of n)if(X(r))return!1;return!0}return!X(n)}function Kt(n){return P(n)==="String"?n.replace(/[^\x00-\xff]/g,"01").length:P(n)==="Number"?(n+="",n.replace(/[^\x00-\xff]/g,"01").length):0}function Qe({group:n,condition:r,key:t,val:a,childKey:c="children"}){if(P(n)!=="Array"||P(r)!=="Function"||P(t)!=="String"||P(c)!=="String")return!1;n.forEach(o=>{r(o)&&(P(a)==="Function"?o[t]=a(o[t]):o[t]=a),P(o[c])==="Array"&&o[c].length>0&&Qe({group:o[c],condition:r,key:t,val:a,childKey:c})})}function Ze(n){let r=sessionStorage.getItem("btnPermissions");return r?r.split(",").indexOf(n)>-1:!1}function et(n){return P(n)==="Number"&&String(n)==="NaN"}function Rt(n,r=!1,t=!1){if(P(n)!=="Object")return n;let a=Object.assign(n,{}),c="";for(let o in a)if(a.hasOwnProperty(o)){let f=a[o];f===void 0||f===""||P(f)==="String"&&f.trim()===""||f===null||et(f)?t?r?c+=o+"=&":a[o]="":delete a[o]:r&&(c+=o+"="+f+"&")}return r?c.length>0?c.substring(0,c.length-1):"":a}function Re(n){let r={};if(Array.isArray(n)){r=[];for(let t of n)Array.isArray(t)||D.isPlainObject(t)?r.push(Re(t)):X(t)&&r.push(t)}else if(D.isPlainObject(n))for(let t in n)n.hasOwnProperty(t)&&(Array.isArray(n[t])||D.isPlainObject(n[t])?r[t]=Re(n[t]):X(n[t])&&(r[t]=n[t]));return r}function Ut(n){const r=window.open();if(r){r.document.write(n);let t=setTimeout(()=>{r.print(),window.clearTimeout(t),t=null},10)}}function tt(n){let r=[],t=n;for(;n.previousSibling&&(n=n.previousSibling);)n.nodeType===1&&r.push(n);for(;t.nextSibling&&(t=t.nextSibling);)t.nodeType===1&&r.push(t);return r}const $t=Object.freeze(Object.defineProperty({__proto__:null,clearObj:Ke,dataFilterOrToUrl:Rt,decimalDigitsLimit:Dt,downloadFileByFormSubmit:Je,fileExport:Ft,findCollection:we,formDataHeadConfig:Nt,getColumnsKeys:Et,hasPermission:Ze,htmlPrint:Ut,isEmptyValue:zt,isNaN:et,isNumberValue:Pt,isValidValue:X,myTypeof:P,oneOf:Ot,removeEmptyValue:Re,setValByOption:Qe,siblingElems:tt,stringLength:Kt,toFormData:Mt,toLine:Ye,tooltipManual:Xe,trimObj:Te},Symbol.toStringTag,{value:"Module"})),El={class:"groupBoxRP"},Pl=["onClick"],zl=e.defineComponent({__name:"SideMenuGroup",props:{data:{default:()=>[]},pathName:{default:""}},setup(n){const r=n,t=bt.useRouter();function a(o){return o.path===r.pathName?"active":""}function c(o,f){o.preventDefault();let s=o.target;if(!f.children&&!s.classList.contains("active")){t.push(f.path);return}let m=s.parentNode,d=tt(m);for(let u of d){u.classList.remove("open");const y=u.querySelectorAll(".open");for(let A of y)A.classList.remove("open")}m.classList.toggle("open")}return(o,f)=>{const s=e.resolveComponent("sideMenuGroup",!0);return e.openBlock(),e.createElementBlock("ul",El,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.data,(m,d)=>(e.openBlock(),e.createElementBlock("li",{class:e.normalizeClass({dropItemRP:m.children}),key:m.path+d},[e.createElementVNode("div",{class:e.normalizeClass(["menuTxtR",a(m)]),onClick:u=>c(u,m),style:e.normalizeStyle({paddingLeft:m.level*20+"px"})},e.toDisplayString(m.name||"-- no name --"),15,Pl),m.children?(e.openBlock(),e.createBlock(s,{key:0,data:m.children,"path-name":r.pathName},null,8,["data","path-name"])):e.createCommentVNode("",!0)],2))),128))])}}}),Kl={class:"menuListR"},Gt=e.defineComponent({__name:"SideMenu",props:{data:{default:()=>[]}},emits:["on-change"],setup(n,{emit:r}){const t=n,a=bt.useRoute(),c=e.ref(!0),o=e.ref(),f=e.ref(),s=e.computed(()=>c.value?T("r.hideMenu"):T("r.showMenu")),m=e.computed(()=>c.value?"ios-arrow-back":"ios-arrow-forward");e.onBeforeMount(()=>{let y=localStorage.getItem("menuDisplayR")||"";y!==""?c.value=JSON.parse(y):(c.value=!0,localStorage.setItem("menuDisplayR",JSON.stringify(!0)))}),e.watch(()=>a.path,y=>{o.value=y,e.nextTick(u)},{immediate:!0});function d(){c.value=!c.value,localStorage.setItem("menuDisplayR",JSON.stringify(c.value)),r("on-change",c.value)}function u(){let y=f.value.querySelectorAll(".dropItemRP");for(let A of y)A.querySelector(".active")&&!A.classList.contains("open")&&A.classList.add("open")}return(y,A)=>{const w=e.resolveComponent("Icon");return e.openBlock(),e.createElementBlock("div",{ref_key:"menuRef",ref:f,class:"menuBoxRP"},[e.withDirectives(e.createElementVNode("div",Kl,[e.createVNode(zl,{data:t.data,pathName:e.unref(o)},null,8,["data","pathName"])],512),[[e.vShow,e.unref(c)]]),e.createVNode(w,{type:e.unref(m),size:25,class:e.normalizeClass([{showIco:!e.unref(c)},"menuShowHideIco"]),title:e.unref(s),onClick:d,color:e.unref(c)?"#fff":"#333"},null,8,["type","class","title","color"])],512)}}}),Rl=["title"],Ht=e.defineComponent({__name:"TableIconBtn",props:{icon:{default:"md-radio-button-on"},title:{},has:{default:""},disabled:{type:Boolean,default:!1},size:{default:24}},emits:["click"],setup(n,{emit:r}){const t=n;function a(c){t.disabled||r("click",c)}return(c,o)=>{const f=e.resolveComponent("Icon"),s=e.resolveDirective("has");return e.withDirectives((e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["tableBtnsG",{disabled:t.disabled}]),onClick:a,title:t.title||e.unref(T)("r.button")},[e.createVNode(f,{type:t.icon,size:t.size},null,8,["type","size"])],10,Rl)),[[s,t.has]])}}}),Ul={class:"contentX"},$l={class:"arrowA"},jt=e.defineComponent({__name:"ShowHidePanel",props:{bg:{}},setup(n){const r=n,t=e.ref(!0),a=e.computed(()=>t?"background:"+r.bg||"transparent":"");return(c,o)=>{const f=e.resolveComponent("Icon");return e.openBlock(),e.createElementBlock("div",{style:e.normalizeStyle(e.unref(a))},[e.withDirectives(e.createElementVNode("div",Ul,[e.renderSlot(c.$slots,"default")],512),[[e.vShow,e.unref(t)]]),e.createElementVNode("div",$l,[e.createElementVNode("div",{class:"btA",onClick:o[0]||(o[0]=s=>t.value=!e.unref(t))},[e.createVNode(f,{type:e.unref(t)?"ios-arrow-up":"ios-arrow-down",size:"20"},null,8,["type"])])])],4)}}}),Gl={class:"contentZ"},Wt=e.defineComponent({__name:"ShowHidePanelB",props:{modelValue:{type:Boolean,default:!1},bg:{default:"transparent"}},emits:["update:modelValue"],setup(n,{emit:r}){const t=n,a=e.computed({get(){return t.modelValue},set(o){r("update:modelValue",o)}}),c=e.computed(()=>a.value?"background:"+t.bg:"");return(o,f)=>(e.openBlock(),e.createElementBlock("div",{style:e.normalizeStyle(e.unref(c))},[e.withDirectives(e.createElementVNode("div",Gl,[e.renderSlot(o.$slots,"default")],512),[[e.vShow,e.unref(a)]])],4))}});let lt=[],nt=[];const Hl=function(n){n&&n.beforeEach?n.beforeEach(()=>{lt.map(r=>{window.clearTimeout(r)}),nt.map(r=>{window.clearInterval(r)}),lt.length=0,nt.length=0}):console.warn("安装库plug-r-qw时未传入router，调用该库的定时器方法产生的定时器将不能自动销毁，请传入router：Vue.use(plugRQw,{router,...})")},te=function(n,r){let t=window.setTimeout(n,r);return lt.push(t),t},at=function(n,r){let t=window.setInterval(n,r);return nt.push(t),t},vt=e.defineComponent({__name:"TableSearch",props:{modelValue:{},open:{type:Boolean,default:!1},placeholder:{},showBtn:{type:Boolean,default:!0},fixed:{type:Boolean,default:!1},width:{default:"210px"},right:{default:"0"},top:{default:"0"},btnColor:{default:"inherit"}},emits:["update:modelValue","on-toggle","on-search"],setup(n,{emit:r}){const t=n;let a=!1;const c=e.computed({get(){return t.modelValue},set(m){r("update:modelValue",m)}}),o=e.computed({get(){return t.open},set(m){r("on-toggle",m)}}),f=e.computed(()=>o.value?"ios-arrow-up":"ios-arrow-down");function s(){a||(a=!0,r("on-search",c.value),te(()=>{a=!1},2e3))}return(m,d)=>{const u=e.resolveComponent("Input"),y=e.resolveComponent("icon");return e.openBlock(),e.createElementBlock("div",{class:"tableSearchV",style:e.normalizeStyle({position:t.fixed?"fixed":"absolute",right:t.right,top:t.top})},[e.renderSlot(m.$slots,"default",{},()=>[e.createVNode(u,{modelValue:e.unref(c),"onUpdate:modelValue":d[0]||(d[0]=A=>e.isRef(c)?c.value=A:null),style:e.normalizeStyle({width:t.width}),search:"",onOnSearch:s,class:"searchInputC",placeholder:t.placeholder||e.unref(T)("r.pInput")},null,8,["modelValue","style","placeholder"])]),e.withDirectives(e.createElementVNode("span",{class:"sbt",onClick:d[1]||(d[1]=A=>o.value=!e.unref(o)),style:e.normalizeStyle({color:t.btnColor})},[e.createVNode(y,{type:e.unref(f),color:t.btnColor},null,8,["type","color"]),e.createTextVNode(e.toDisplayString(e.unref(T)("r.adSearch")),1)],4),[[e.vShow,t.showBtn]])],4)}}}),jl={class:"tabSetF"},Wl={class:"topCheck"},qt=e.defineComponent({__name:"TableSetting",props:{modelValue:{default:()=>[]},sKey:{},top:{default:"30px"},right:{default:"0"},width:{default:"150px"},bg:{default:"#ccc"},defaultCheck:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(n,{emit:r}){const t=n,a=e.ref(!0),c=e.ref(!1),o=e.ref(!1),f=e.ref([]),s=e.computed(()=>{let k=T("r.unknown");return t.modelValue.length>f.value.length&&(f.value=D.cloneDeep(t.modelValue)),f.value.map(L=>{let z={label:L&&L.title||k};return L&&L.disableShowSetting&&(z.disabled=!0),z})}),m=e.computed(()=>s.value.filter(k=>k.disabled)),d=e.computed({get(){return t.modelValue.map(k=>k&&k.title||T("r.unknown"))},set(k){let L=f.value.filter(z=>{for(let _ of k)if(_===z.title)return!0;return!1});r("update:modelValue",L)}}),{locale:u}=wl.useI18n();e.onMounted(()=>{let k=T("r.unknown"),L;u.value?L=localStorage.getItem(t.sKey+"_"+u.value):L=localStorage.getItem(t.sKey),L?d.value=JSON.parse(decodeURI(L)):t.defaultCheck&&(d.value=t.modelValue.filter(z=>z.showSettingCheck).map(z=>z&&z.title||k))});function y(k){k.length===s.value.length?(a.value=!1,c.value=!0):k.length>m.value.length?(a.value=!0,c.value=!1):(a.value=!1,c.value=!1)}e.watch(()=>d.value,y,{immediate:!0,deep:!0});function A(){o.value||(o.value=!0)}function w(){u.value?localStorage.setItem(t.sKey+"_"+u.value,encodeURI(JSON.stringify(d.value))):localStorage.setItem(t.sKey,encodeURI(JSON.stringify(d.value))),o.value=!1}function S(){a.value?c.value=!1:c.value=!c.value,a.value=!1,c.value?d.value=s.value.map(k=>k.label):d.value=m.value.map(k=>k.label)}return(k,L)=>{const z=e.resolveComponent("Icon"),_=e.resolveComponent("Checkbox"),B=e.resolveComponent("CheckboxGroup");return e.openBlock(),e.createElementBlock("div",jl,[e.createElementVNode("div",{class:"tabSetBt",onClick:A},[e.createVNode(z,{type:"md-settings",size:"17"}),e.createElementVNode("span",null,e.toDisplayString(e.unref(T)("r.tabSetting")),1)]),e.withDirectives(e.createElementVNode("div",{class:"tabSetCard",style:e.normalizeStyle({top:t.top,right:t.right,width:t.width,backgroundColor:t.bg})},[e.createElementVNode("div",Wl,[e.createVNode(_,{indeterminate:e.unref(a),modelValue:e.unref(c),"onUpdate:modelValue":L[0]||(L[0]=V=>e.isRef(c)?c.value=V:null),onClick:e.withModifiers(S,["prevent"])},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(T)("r.all")),1)]),_:1},8,["indeterminate","modelValue","onClick"]),e.createElementVNode("span",{style:{cursor:"pointer",float:"right"},onClick:w},e.toDisplayString(e.unref(T)("r.confirm")),1)]),e.createVNode(B,{modelValue:e.unref(d),"onUpdate:modelValue":L[1]||(L[1]=V=>e.isRef(d)?d.value=V:null)},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(s),(V,I)=>(e.openBlock(),e.createBlock(_,{class:"setItem",label:V&&V.label,key:"tabSet_"+t.sKey+I,disabled:V&&V.disabled},null,8,["label","disabled"]))),128))]),_:1},8,["modelValue"])],4),[[e.vShow,e.unref(o)]])])}}});let Be=0,xe=document.createElement("div");xe.setAttribute("class","spinModal"),xe.innerHTML='<div class="loader"><svg class="circular" viewBox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="5" stroke-miterlimit="10" /></svg></div>',window.onload=function(){document.getElementsByTagName("body")[0].append(xe)};function Yt(n){n?xe.classList.add("show"):xe.classList.remove("show")}function Jt(n){let r=Be;n?Be++:Be>0&&Be--,r!==Be&&(Be===0?Yt(!1):r===0&&Yt(!0))}const vl=window.location.origin;let Ve=null;const Xt=(...n)=>ye.apply(Ve,n);let se=Ge.create({baseURL:vl,withCredentials:!0});function ql(){console.info("store为空，请在安装插件时传入store实例：Vue.use(plugRQw,{store:store})，Pinia传{store:useStore}")}se.interceptors.request.use(n=>n,n=>Promise.reject(n));function Qt(){var n,r;if(se.store)if(typeof se.store=="function"){const t=se.store();t.logout&&t.logout()}else(r=(n=se.store)==null?void 0:n.dispatch)==null||r.call(n,"logout");else ql()}se.interceptors.response.use(n=>{var r,t;return Ve&&(((r=n==null?void 0:n.data)==null?void 0:r.code)===403||((t=n==null?void 0:n.data)==null?void 0:t.code)===409)&&Ve.messageBox({content:Xt("r.http."+n.data.code),onOk:Qt}),n},n=>{var r,t;return Ve&&(((r=n==null?void 0:n.response)==null?void 0:r.status)===403||((t=n==null?void 0:n.response)==null?void 0:t.status)===409)&&Ve.messageBox({content:Xt("r.http."+n.response.status),onOk:Qt}),console.warn("请求出错：",n),Promise.reject(n)});function he(n,r,t,a){a&&a.spin&&Jt(!1);let c=!0,o=n&&n.data;if(o){t=t||[];for(let f of t)o=o[f],c=c&&o;return c?o:(r&&console.warn(r),!1)}return r&&console.warn(r),!1}function Yl(n,r,t,a,c,o,f){return new Promise((s,m)=>{switch(n){case"get":se.get(r,{params:t}).then(u=>{let y=he(u,a,c,o);y?s(y):m(u)}).catch(u=>{he({},a,c,o),m(u)});break;case"delete":let d=f?"params":"data";se.delete(r,{[d]:t}).then(u=>{let y=he(u,a,c,o);y?s(y):m(u)}).catch(u=>{he({},a,c,o),m(u)});break;case"post":se.post(r,t,o).then(u=>{let y=he(u,a,c,o);y?s(y):m(u)}).catch(u=>{he({},a,c,o),m(u)});break;case"put":se.put(r,t,o).then(u=>{let y=he(u,a,c,o);y?s(y):m(u)}).catch(u=>{he({},a,c,o),m(u)});break}})}function Ue(n,r,t={},a,c,o,f){return new Promise((s,m)=>{var d;if(r){o&&o.spin&&Jt(!0);let u=r;if(window&&window.hasOwnProperty("g")){const w=window.g;let S=Object.keys(w).filter(k=>k.indexOf("URL")>-1).map(k=>k.replace("URL",""));for(let k of S){let L=new RegExp("^/"+k+"(?=/.*$)","i");if(L.test(r)&&w[k+"URL"]){u=w[k+"URL"]+r.replace(L,"");break}}}let y;if(((d=o==null?void 0:o.headers)==null?void 0:d["Content-Type"])==="multipart/form-data")y=t;else if(t&&!D.isEmpty(t))if(Array.isArray(t)){y=[];for(let w of t)(w||w===0||w===!1||w===""&&o&&!o.noEmptyStr)&&y.push(w)}else{y={};for(let w in t)t.hasOwnProperty(w)&&(t[w]||t[w]===0||t[w]===!1||t[w]===""&&o&&!o.noEmptyStr)&&(y[w]=t[w])}let A=n.toLowerCase();Yl(A,u,y,a,c,o,f).then(w=>{s(w)}).catch(w=>{m(w)})}else console.error("没有请求地址:url"),m("没有请求地址:url")})}const ue={init(n,r){se.store=n,Ve=r.config.globalProperties},post(n,r,t,a,c){return new Promise((o,f)=>{Ue("post",n,r,t,a,c).then(s=>{o(s)}).catch(s=>{f(s)})})},put(n,r,t,a,c){return new Promise((o,f)=>{Ue("put",n,r,t,a,c).then(s=>{o(s)}).catch(s=>{f(s)})})},get(n,r,t,a,c){return new Promise((o,f)=>{Ue("get",n,r,t,a,c).then(s=>{o(s)}).catch(s=>{f(s)})})},delete(n,r,t,a,c,o=!0){return new Promise((f,s)=>{Ue("delete",n,r,t,a,c,o).then(m=>{f(m)}).catch(m=>{s(m)})})},all:Ge.all,spread:Ge.spread,config:se},Jl={class:"btTablePage fullHeight",ref:"tableBox"},Xl={class:"topBtn"},Ql={class:"fullHeight relativeBox"},Zl={ref:"tableContainerLOI",class:"fullFlowContent"},en={class:"pageContainer"},tn=300,Zt=e.defineComponent({__name:"BtTablePage",props:{url:{default:""},searchData:{default:()=>({})},columns:{default:()=>[]},dataHandler:{},selection:{type:Boolean,default:!1},radio:{type:Boolean,default:!1},selectionFixed:{type:[String,Boolean],default:!1},rowClickSelect:{type:Boolean,default:!0},data:{default:()=>[]},pageSize:{default:10},sortable:{default:""},initData:{type:Boolean,default:!0},highlightRow:{type:Boolean,default:!1},rowClickNum:{default:-1},tableEmptyTdHandle:{type:Boolean,default:!1},noBorderTable:{type:Boolean,default:!1},noPage:{type:Boolean,default:!1},orderDefault:{default:"desc"},orderKey:{default:"id"},orderKeyFormat:{default:"underline"},getDataLoading:{type:Boolean,default:!1},showTopRow:{type:Boolean,default:!1},lightHead:{type:Boolean,default:!1},pageComponentSize:{default:"default"},noElevator:{type:Boolean,default:!1}},emits:["on-selection-change","on-data-change"],setup(n,{expose:r,emit:t}){const a=n,{globalProperties:c}=e.getCurrentInstance().appContext.config;({...{showSettingCheck:!1,disableShowSetting:!1},...le.TableColumnConfig});const f=c.pageSizes||[10,20,30,40],s=e.ref(a.data),m=e.ref(localStorage.getItem("btPageSize")&&Number(localStorage.getItem("btPageSize"))||a.pageSize),d=e.ref(1),u=e.ref(0);let y=[],A,w,S=a.orderKey,k=a.orderDefault;const L=e.computed(()=>{for(let F of a.columns)if(F.fixed)return!0;return!1}),z=e.computed(()=>a.selectionFixed||L.value),_=e.computed(()=>{let F={...a.searchData,current:d.value,size:m.value};return a.sortable==="custom"&&(a.orderKeyFormat==="underline"?F[k]=Ye(S):a.orderKeyFormat==="camelcase"&&(F[k]=je(S))),F}),B=e.computed(()=>{let F=a.columns.filter(O=>O.type!=="selection");if(a.selection||a.radio){let O;a.radio?O={title:" ",width:65,render:(Y,q)=>e.h(le.Radio,{value:q.row.btChecked})}:O={type:"selection",width:60},a.selectionFixed&&(O.fixed=a.selectionFixed),F.unshift(O)}return F.forEach(O=>{a.sortable==="custom"?O.key&&O.sortable!==!0&&O.sortable!==!1&&(O.sortable="custom"):O.sortable=!1,O.align||(O.align="center")}),a.tableEmptyTdHandle&&F.forEach(O=>{O.key&&O.render===void 0&&(O.tooltip?O.render=Xe(O.key,!0):O.render=(Y,q)=>{let Q=q.row[O.key];return Y("span",Q===""||Q===null||Q===void 0?"--":Q)})}),F}),V=e.computed({get(){return s.value.map((F,O)=>({btKey:"bt-"+O,btChecked:!1,...F}))},set(F){s.value=F}}),I=e.computed(()=>y.map(F=>F.id)),M=e.computed(()=>y.map(F=>F.btKey)),p=e.ref();e.watch(()=>a.searchData,x,{deep:!0});function x(){d.value=1,me()}function h(){a.initData&&me()}function N(F){s.value.unshift(D.cloneDeep(F)),te(()=>{var O,Y;(Y=(O=p.value)==null?void 0:O.clickCurrentRow)==null||Y.call(O,0)},100)}function K(F,O,Y){let q=null;if(D.isBoolean(O)&&O?q=w:D.isNumber(O)&&(q=O),q!==null){let Q=s.value[q];for(let G in F)F.hasOwnProperty(G)&&(Q[G]=F[G]);Y&&te(()=>{var G,de;(de=(G=p.value)==null?void 0:G.clickCurrentRow)==null||de.call(G,q)},10)}}function W(F){s.value.splice(F,1),te(()=>{var O,Y;(Y=(O=p.value)==null?void 0:O.clickCurrentRow)==null||Y.call(O,0)},100)}function v(F,O){var Y,q;F.btChecked&&a.radio||(a.selection||a.radio)&&a.rowClickSelect&&((q=(Y=p.value)==null?void 0:Y.toggleSelect)==null||q.call(Y,O))}function R(F,O){A=O.btKey,w=Number(O.btKey.split("-")[1]),a.radio&&(s.value[w].btChecked=!0)}function J(F){if(a.radio)for(let O of V.value)O.btKey!==A&&(s.value[Number(O.btKey.split("-")[1])].btChecked=!1);y=F,t("on-selection-change",F)}function Z(){return D.cloneDeep(y)}function pe(F){d.value=F,me()}function be(F){m.value=F,localStorage.setItem("btPageSize",String(F)),d.value===1&&me()}function oe({key:F,order:O}){k==="normal"?(S=a.orderKey,k=a.orderDefault):(S=F,k=O),d.value=1,ce()}function ae(){var F,O;if(a.radio){if(M.value.length>0&&V.value.length>0){let Y=M.value[0].split("-")[1];V.value[Y].btChecked=!1}}else(O=(F=p.value)==null?void 0:F.selectAll)==null||O.call(F,!1);y.length>0&&(y=[],t("on-selection-change",[])),A=null,w=null}function re(){s.value=[],ae(),d.value=1,u.value=0}function ce(F,O,Y){return new Promise(q=>{F&&(k=F),O&&(S=O),a.url?ue.get(a.url,_.value,"",[],{spin:a.getDataLoading}).then(Q=>{var de,$e;let G;Y||ae(),typeof a.dataHandler=="function"?G=a.dataHandler(Q):G=Q,G.data?(G.data.records||G.data.records===null?s.value=G.data.records||[]:G.data.page?(G.data.page.records||G.data.page.records===null)&&(s.value=G.data.page.records||[]):G.data.data?(G.data.data.records||G.data.data.records===null)&&(s.value=G.data.data.records||[]):s.value=G.data,u.value=((de=G.data.page)==null?void 0:de.total)||(($e=G.data.data)==null?void 0:$e.total)||G.data.total||G.total||0,u.value===0&&d.value>1&&s.value&&s.value.length===0?d.value=1:d.value>1&&u.value<=(d.value-1)*m.value&&(d.value--,e.nextTick(function(){ce(F,O)})),t("on-data-change",G),q(G)):(console.warn("请求返回数据有误，无法使用"),re(),t("on-data-change",G))}).catch(Q=>{console.warn(Q),ae(),re(),t("on-data-change",Q)}):console.warn("没有有效的请求地址，无法获取表格数据")})}function me(F,O,Y){a.radio&&(F||a.rowClickNum!==-1)?ce(O,Y,F).then(()=>{s.value.length>0&&te(()=>{var q,Q,G,de;F?(Q=(q=p.value)==null?void 0:q.clickCurrentRow)==null||Q.call(q,w||0):(de=(G=p.value)==null?void 0:G.clickCurrentRow)==null||de.call(G,a.rowClickNum)},10)}):ce()}return e.onMounted(h),r({selectedIds:I,addRow:N,setRowData:K,deleteRow:W,getSelected:Z,clearSelect:ae,clearTableData:re,getTableData:ce,getDataAndClickRow:me}),(F,O)=>{const Y=e.resolveComponent("Table"),q=e.resolveComponent("Page");return e.openBlock(),e.createElementBlock("div",Jl,[e.withDirectives(e.createElementVNode("div",Xl,[e.renderSlot(F.$slots,"tableSetting"),e.renderSlot(F.$slots,"topMsg"),e.renderSlot(F.$slots,"topBtnGroup")],512),[[e.vShow,a.showTopRow]]),e.createElementVNode("div",{class:e.normalizeClass(["tableContainer fullHeight",{noTop:!a.showTopRow,noPage:a.noPage}])},[e.createElementVNode("div",Ql,[e.createElementVNode("div",Zl,[e.createVNode(Y,e.mergeProps({ref_key:"tableRef",ref:p},F.$attrs,{height:e.unref(z)&&tn||null,class:{noBorderTable:a.noBorderTable,fullHeightTable:!e.unref(z),lightHeadO:a.lightHead},columns:e.unref(B),data:e.unref(V),"highlight-row":a.radio||a.highlightRow,onOnSelect:R,onOnSelectionChange:J,onOnSortChange:oe,onOnRowClick:v}),null,16,["height","class","columns","data","highlight-row"])],512)])],2),e.withDirectives(e.createElementVNode("div",en,[e.createVNode(q,{modelValue:e.unref(d),"onUpdate:modelValue":O[0]||(O[0]=Q=>e.isRef(d)?d.value=Q:null),"page-size-opts":e.unref(f),total:e.unref(u),"page-size":e.unref(m),"show-sizer":"","show-total":"",showElevator:!a.noElevator,size:a.pageComponentSize,onOnChange:pe,onOnPageSizeChange:be},null,8,["modelValue","page-size-opts","total","page-size","showElevator","size"])],512),[[e.vShow,!a.noPage]])],512)}}}),ot=e.defineComponent({__name:"SelectInput",props:{modelValue:{default:()=>({key:null,val:null})},labelWidth:{default:160},labelTextAlign:{default:"right"},itemWidth:{default:200},selectOption:{default:()=>[]},placeholder:{},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","on-change"],setup(n,{emit:r}){const t=n,a=e.computed({get(){return t.modelValue&&t.modelValue.key||null},set(d){let u={key:d,val:null};a.value&&a.value!==d&&(u.beforeKey=a.value),r("update:modelValue",u),r("on-change",u)}}),c=e.computed({get(){return t.modelValue&&t.modelValue.val||null},set(d){r("update:modelValue",{key:a.value,val:d})}}),o=e.computed(()=>({width:t.labelWidth+"px",textAlign:t.labelTextAlign})),f=e.computed(()=>({width:t.itemWidth+"px"}));function s(d){var u;((u=d==null?void 0:d.target)==null?void 0:u.value)!==void 0&&m({key:a.value,val:d.target.value})}const m=D.debounce(d=>{r("on-change",d)},500);return(d,u)=>{const y=e.resolveComponent("Option"),A=e.resolveComponent("Select"),w=e.resolveComponent("Input");return e.openBlock(),e.createElementBlock("div",null,[e.createVNode(A,{modelValue:e.unref(a),"onUpdate:modelValue":u[0]||(u[0]=S=>e.isRef(a)?a.value=S:null),style:e.normalizeStyle(e.unref(o)),disabled:!!t.disabled,transfer:""},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.selectOption,(S,k)=>(e.openBlock(),e.createBlock(y,{value:S.val,key:"selectInputOp"+S.value+k,style:e.normalizeStyle({textAlign:t.labelTextAlign})},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(S.label),1)]),_:2},1032,["value","style"]))),128))]),_:1},8,["modelValue","style","disabled"]),e.createVNode(w,{modelValue:e.unref(c),"onUpdate:modelValue":u[1]||(u[1]=S=>e.isRef(c)?c.value=S:null),placeholder:t.placeholder||e.unref(T)("r.pInput"),style:e.normalizeStyle(e.unref(f)),clearable:t.clearable,disabled:!!t.disabled,onOnChange:s},null,8,["modelValue","placeholder","style","clearable","disabled"])])}}});var ln=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nn(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var el={exports:{}};(function(n,r){(function(t,a){n.exports=a()})(ln,function(){function t(y){var A=[];return y.AMapUI&&A.push(a(y.AMapUI)),y.Loca&&A.push(c(y.Loca)),Promise.all(A)}function a(y){return new Promise(function(A,w){var S=[];if(y.plugins)for(var k=0;k<y.plugins.length;k+=1)f.AMapUI.plugins.indexOf(y.plugins[k])==-1&&S.push(y.plugins[k]);if(s.AMapUI===o.failed)w("前次请求 AMapUI 失败");else if(s.AMapUI===o.notload){s.AMapUI=o.loading,f.AMapUI.version=y.version||f.AMapUI.version,k=f.AMapUI.version;var L=document.body||document.head,z=document.createElement("script");z.type="text/javascript",z.src="https://webapi.amap.com/ui/"+k+"/main.js",z.onerror=function(_){s.AMapUI=o.failed,w("请求 AMapUI 失败")},z.onload=function(){if(s.AMapUI=o.loaded,S.length)window.AMapUI.loadUI(S,function(){for(var _=0,B=S.length;_<B;_++){var V=S[_].split("/").slice(-1)[0];window.AMapUI[V]=arguments[_]}for(A();m.AMapUI.length;)m.AMapUI.splice(0,1)[0]()});else for(A();m.AMapUI.length;)m.AMapUI.splice(0,1)[0]()},L.appendChild(z)}else s.AMapUI===o.loaded?y.version&&y.version!==f.AMapUI.version?w("不允许多个版本 AMapUI 混用"):S.length?window.AMapUI.loadUI(S,function(){for(var _=0,B=S.length;_<B;_++){var V=S[_].split("/").slice(-1)[0];window.AMapUI[V]=arguments[_]}A()}):A():y.version&&y.version!==f.AMapUI.version?w("不允许多个版本 AMapUI 混用"):m.AMapUI.push(function(_){_?w(_):S.length?window.AMapUI.loadUI(S,function(){for(var B=0,V=S.length;B<V;B++){var I=S[B].split("/").slice(-1)[0];window.AMapUI[I]=arguments[B]}A()}):A()})})}function c(y){return new Promise(function(A,w){if(s.Loca===o.failed)w("前次请求 Loca 失败");else if(s.Loca===o.notload){s.Loca=o.loading,f.Loca.version=y.version||f.Loca.version;var S=f.Loca.version,k=f.AMap.version.startsWith("2"),L=S.startsWith("2");if(k&&!L||!k&&L)w("JSAPI 与 Loca 版本不对应！！");else{k=f.key,L=document.body||document.head;var z=document.createElement("script");z.type="text/javascript",z.src="https://webapi.amap.com/loca?v="+S+"&key="+k,z.onerror=function(_){s.Loca=o.failed,w("请求 AMapUI 失败")},z.onload=function(){for(s.Loca=o.loaded,A();m.Loca.length;)m.Loca.splice(0,1)[0]()},L.appendChild(z)}}else s.Loca===o.loaded?y.version&&y.version!==f.Loca.version?w("不允许多个版本 Loca 混用"):A():y.version&&y.version!==f.Loca.version?w("不允许多个版本 Loca 混用"):m.Loca.push(function(_){_?w(_):w()})})}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var o;(function(y){y.notload="notload",y.loading="loading",y.loaded="loaded",y.failed="failed"})(o||(o={}));var f={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},s={AMap:o.notload,AMapUI:o.notload,Loca:o.notload},m={AMap:[],AMapUI:[],Loca:[]},d=[],u=function(y){typeof y=="function"&&(s.AMap===o.loaded?y(window.AMap):d.push(y))};return{load:function(y){return new Promise(function(A,w){if(s.AMap==o.failed)w("");else if(s.AMap==o.notload){var S=y.key,k=y.version,L=y.plugins;S?(window.AMap&&location.host!=="lbs.amap.com"&&w("禁止多种API加载方式混用"),f.key=S,f.AMap.version=k||f.AMap.version,f.AMap.plugins=L||f.AMap.plugins,s.AMap=o.loading,k=document.body||document.head,window.___onAPILoaded=function(_){if(delete window.___onAPILoaded,_)s.AMap=o.failed,w(_);else for(s.AMap=o.loaded,t(y).then(function(){A(window.AMap)}).catch(w);d.length;)d.splice(0,1)[0]()},L=document.createElement("script"),L.type="text/javascript",L.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+f.AMap.version+"&key="+S+"&plugin="+f.AMap.plugins.join(","),L.onerror=function(_){s.AMap=o.failed,w(_)},k.appendChild(L)):w("请填写key")}else if(s.AMap==o.loaded)if(y.key&&y.key!==f.key)w("多个不一致的 key");else if(y.version&&y.version!==f.AMap.version)w("不允许多个版本 JSAPI 混用");else{if(S=[],y.plugins)for(k=0;k<y.plugins.length;k+=1)f.AMap.plugins.indexOf(y.plugins[k])==-1&&S.push(y.plugins[k]);S.length?window.AMap.plugin(S,function(){t(y).then(function(){A(window.AMap)}).catch(w)}):t(y).then(function(){A(window.AMap)}).catch(w)}else if(y.key&&y.key!==f.key)w("多个不一致的 key");else if(y.version&&y.version!==f.AMap.version)w("不允许多个版本 JSAPI 混用");else{var z=[];if(y.plugins)for(k=0;k<y.plugins.length;k+=1)f.AMap.plugins.indexOf(y.plugins[k])==-1&&z.push(y.plugins[k]);u(function(){z.length?window.AMap.plugin(z,function(){t(y).then(function(){A(window.AMap)}).catch(w)}):t(y).then(function(){A(window.AMap)}).catch(w)})}})},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,f={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},s={AMap:o.notload,AMapUI:o.notload,Loca:o.notload},m={AMap:[],AMapUI:[],Loca:[]}}}})})(el);var an=el.exports;const on=nn(an);let it={securityJsCode:"",key:""};function rn({securityJsCode:n,key:r}){it.securityJsCode=n,it.key=r}function sn(n){return it[n]}const rt=e.defineComponent({__name:"InputMap",props:{modelValue:{default:()=>({})},width:{default:"100%"},height:{},placeholder:{},disabled:{type:Boolean,default:!1},showMap:{type:Boolean,default:!0}},emits:["update:modelValue","on-change"],setup(n,{emit:r}){const t=n,a=e.computed({get(){let B;return t.modelValue?t.modelValue.name?B=D.cloneDeep(t.modelValue):B={...t.modelValue,name:null}:B={name:null},B},set(B){r("update:modelValue",D.cloneDeep(B))}}),c=e.computed(()=>D.isNumber(t.width)?t.width+"px":t.width),o=e.computed(()=>D.isNumber(t.height)?t.height+"px":t.height?t.height:D.isNumber(t.width)?t.width*.66+"px":"200px"),f=e.computed(()=>({width:c.value,position:"relative"})),s=e.computed(()=>({width:c.value,height:o.value,marginTop:"6px",opacity:t.showMap?1:0,position:t.showMap?"relative":"absolute",top:t.showMap?0:"-10000px"}));e.watch(()=>t.modelValue,B=>{if(B&&B.lng&&B.lat){if(!S||!k)return;z({lng:B.lng,lat:B.lat,name:B.name})}});const m="mapId"+Math.floor(Math.random()*1e9),d=e.ref(null),u=e.ref(null);let y;function A(){u.value&&u.value.clientHeight<10||!u.value?te(A,300):te(L,100)}let w,S,k;function L(){on.load({key:sn("key"),version:"2.0",plugins:["AMap.AutoComplete","AMap.Geocoder"]}).then(B=>{w=B,S=new w.Map(m).on("complete",()=>{var I,M,p,x;k=new w.Geocoder,(I=t.modelValue)!=null&&I.lng&&((M=t.modelValue)!=null&&M.lat)&&z({lng:t.modelValue.lng,lat:t.modelValue.lat,name:t.modelValue.name});const V=(x=(p=d.value)==null?void 0:p.$el)==null?void 0:x.children;V&&Array.isArray(V)&&V.length>1&&new w.AutoComplete({input:V[1]}).on("select",h=>{var N,K,W;(N=h==null?void 0:h.poi)!=null&&N.name&&((K=h.poi.location)!=null&&K.lng&&((W=h.poi.location)!=null&&W.lat)?(z({name:h.poi.name,lng:h.poi.location.lng,lat:h.poi.location.lat}),a.value={name:h.poi.name,lng:h.poi.location.lng,lat:h.poi.location.lat}):S.setCity(h.poi.name,()=>{let v=S.getCenter();z({name:h.poi.name,lng:v.lng,lat:v.lat}),a.value={name:h.poi.name,lng:v.lng,lat:v.lat}})),r("on-change",a.value)}),S.on("hotspotclick",h=>{z({name:h.name,lng:h.lnglat.lng,lat:h.lnglat.lat}),a.value={name:h.name,lng:h.lnglat.lng,lat:h.lnglat.lat}})})})}function z({lng:B,lat:V,name:I}){S.clearMap();let M=new w.LngLat(B,V),p=new w.Marker({map:S,position:M,draggable:!0});S.add(p),_(B,V),p.on("dragend",()=>{let x=p.getPosition();a.value={name:I||null,lng:x.lng,lat:x.lat},_(B,V)}),p.on("click",x=>{y&&y.open(S,x.target.getPosition())}),S.setFitView()}function _(B,V){k.getAddress([B,V],(I,M)=>{I==="complete"&&M.info==="OK"&&M.regeocode&&M.regeocode.formattedAddress?y=new w.InfoWindow({isCustom:!0,content:'<div class="mapInfoWindowIKJ">'+M.regeocode.formattedAddress+"</div>",offset:new w.Pixel(16,-45),closeWhenClickMap:!0}):(y=null,console.warn("地图获取位置信息失败",M))})}return e.onMounted(A),e.onUnmounted(()=>{S&&(S.destroy(),S=null,k=null,y=null)}),(B,V)=>(e.openBlock(),e.createElementBlock("div",{style:e.normalizeStyle(e.unref(f)),class:"containerIKJ"},[e.createVNode(e.unref(le.Input),{ref_key:"mapInputRef",ref:d,modelValue:e.unref(a).name,"onUpdate:modelValue":V[0]||(V[0]=I=>e.unref(a).name=I),class:e.normalizeClass({mapInputIKJ:t.showMap}),placeholder:t.placeholder||e.unref(T)("r.search"),disabled:t.disabled,icon:"ios-search"},null,8,["modelValue","class","placeholder","disabled"]),e.createElementVNode("div",{style:e.normalizeStyle(e.unref(s)),ref_key:"mapRef",ref:u,id:m},null,4)],4))}}),st=e.defineComponent({__name:"AsyncCascader",props:{modelValue:{},url:{default:(rl=window==null?void 0:window.g)!=null&&rl.mgrURL?window.g.mgrURL+"/web/v1/umc/orgs":""},optionVal:{default:"id"},optionLabel:{default:"name"},optionFilter:{},separator:{default:"/"},onlyLastVal:{type:Boolean,default:!0},onlyLastLabel:{type:Boolean,default:!0},filterable:{type:Boolean,default:!1},placeholder:{default:""},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","on-label-change"],setup(n,{emit:r}){const t=n,a=e.ref([]),c=e.computed({get(){let d=t.modelValue;return Array.isArray(d)?D.cloneDeep(d):D.isNumber(d)?Ie({group:a.value,condition:u=>u.value===d,pathKey:"value"}):D.isString(d)?d.split(t.separator):[]},set(d){if(t.onlyLastVal)D.isEmpty(d)?(r("update:modelValue",null),r("on-label-change",null)):r("update:modelValue",D.last(d));else{if(D.isEqual(t.modelValue,d))return;r("update:modelValue",D.cloneDeep(d))}}});function o(){if(!t.url){console.error("没有用于拉取级联数据的有效接口地址");return}ue.get(t.url).then(d=>{var y;let u=null;(y=d==null?void 0:d.data)!=null&&y.records?u=d.data.records:d!=null&&d.data?u=d.data:d&&(u=d),u?(typeof t.optionFilter=="function"&&P(t.optionFilter)==="Function"&&(u=t.optionFilter(u)),a.value=f(u)):console.warn("级联数据错误，不能使用")}).catch(()=>{console.warn("拉取级联数据出错")})}function f(d){let u=[];for(let y of d){let A={value:y[t.optionVal],label:y[t.optionLabel]};y.children&&!D.isEmpty(y.children)&&(A.children=f(y.children)),u.push(A)}return u}function s(d){return t.onlyLastLabel?D.last(d):d.join(t.separator)}function m(d,u){let y="";D.isEmpty(u)||(y=u.map(A=>A.label).join(t.separator)),r("on-label-change",y)}return e.onMounted(o),(d,u)=>{const y=e.resolveComponent("Cascader");return e.openBlock(),e.createBlock(y,{data:e.unref(a),modelValue:e.unref(c),"onUpdate:modelValue":u[0]||(u[0]=A=>e.isRef(c)?c.value=A:null),onOnChange:m,"change-on-select":"",transfer:"",disabled:t.disabled,"render-format":s,placeholder:t.placeholder||e.unref(T)("r.pSelect"),filterable:t.filterable},null,8,["data","modelValue","disabled","placeholder","filterable"])}}}),ct=e.defineComponent({__name:"AlCascaderMC",props:{modelValue:{},level:{default:2},disabled:{type:Boolean,default:!1},transfer:{type:Boolean,default:!0},filterable:{type:Boolean,default:!0},separator:{default:"/"},placeholder:{}},emits:["update:modelValue","on-name-change"],setup(n,{emit:r}){const t=n,a=e.ref(),c=e.computed({get(){if(t.modelValue&&(D.isNumber(t.modelValue)||D.isString(t.modelValue))){let f=String(t.modelValue).trim();if(/^\d*$/.test(f)){let m=f.substring(0,2)+"0000",d,u=o(f);return u.length<7?d=f.substring(0,4)+"00":d=f.substring(0,6),/^8\d+$/.test(f)?[m,u]:[m,d,u]}return f.indexOf(t.separator)!==-1?f.split(t.separator):[f]}else return Array.isArray(t.modelValue)?D.cloneDeep(t.modelValue):(a.value&&(a.value.select=[]),[])},set(f){if(D.isEmpty(f))r("update:modelValue",null),r("on-name-change",null);else{let s=D.last(f),m="",d="";if(s&&(m=s.code),m&&m.length<12){let u=[...m];for(;u.length<12;)u.push(0);m=u.join("")}if(Array.isArray(f)&&(d=f.map(u=>u.name).join(t.separator)),m){if(m===t.modelValue)return;r("update:modelValue",m)}d&&r("on-name-change",d)}}});function o(f){let s=[...f];for(;s[s.length-1]==="0";)s.pop();return s.join("")}return(f,s)=>(e.openBlock(),e.createBlock(e.unref(Bl),e.mergeProps(f.$attrs,{class:"alCascaderMC",ref_key:"alCRef",ref:a,modelValue:e.unref(c),"onUpdate:modelValue":s[0]||(s[0]=m=>e.isRef(c)?c.value=m:null),level:t.level,disabled:t.disabled,placeholder:t.placeholder||e.unref(T)("r.pSelect"),transfer:t.transfer,searchable:t.filterable}),null,16,["modelValue","level","disabled","placeholder","transfer","searchable"]))}});function ge(n){var f,s,m;const r=(...d)=>ye.apply(this,d),t=r("r.closePreview"),a=r("r.fullImg");let c=D.first(document.getElementsByTagName("body")),o=document.createElement("div");o.setAttribute("class","fullScreenImgByDom"),o.innerHTML=`<div class='previewInner'><img src='${n}' alt='${a}' ><i class='ivu-icon ivu-icon-md-close' title='${t}' ></i></div>`,(s=(f=o.querySelector(".ivu-icon-md-close"))==null?void 0:f.addEventListener)==null||s.call(f,"click",function(){var u;let d=D.first(document.getElementsByTagName("body"));(u=d==null?void 0:d.removeChild)==null||u.call(d,o)}),(m=c==null?void 0:c.appendChild)==null||m.call(c,o)}const cn={class:"previewBoxM"},dn={key:0,class:"previewImg"},fn=["src","alt"],un={class:"deleteModal"},pn={class:"previewBoxM"},mn={key:0,class:"previewImg"},yn=["src","alt"],hn={class:"deleteModal"},gn={class:"customFileListM"},bn={key:0,class:"customFileListItem"},kn=["onClick","title"],wn={class:"btBoxJ"},Bn={class:"customFileListM"},Vn={key:0,class:"customFileListItem"},Cn=["onClick","title"],Sn={class:"btBoxJ"},dt=e.defineComponent({__name:"UploadGroup",props:{modelValue:{default:()=>[]},url:{default:(sl=window==null?void 0:window.g)!=null&&sl.mgrURL?window.g.mgrURL+"/web/v1/fsc/file":""},data:{default:()=>({appId:0,moduleId:0,typeId:0})},manualUpload:{type:Boolean,default:!1},maxSize:{default:0},length:{default:0},showUploadList:{type:Boolean,default:!0},withCredentials:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},format:{default:()=>[]},showImg:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","on-change"],setup(n,{emit:r}){const t=n,a=e.shallowRef([]),c=e.shallowRef([]),o=e.computed(()=>!t.manualUpload&&t.showImg&&d.value?"img":t.manualUpload&&t.showImg&&d.value?"localImg":t.manualUpload&&t.showUploadList&&(!t.showImg||!d.value)?"localList":!t.manualUpload&&t.showUploadList&&(!t.showImg||!d.value)?"list":""),f=e.computed(()=>t.manualUpload?"//jsonplaceholder.typicode.com/posts/":t.url),s=e.computed({get(){if(t.manualUpload)return m.value;{let h=[];for(let N of m.value)typeof N=="object"&&P(N)==="File"?h.push(N):(typeof N=="number"||typeof N=="string")&&h.push({response:{data:[{id:N}]}});return h}},set(h){var N,K,W;if(t.manualUpload)m.value=h;else{let v=[];for(let R of h)(W=(K=(N=R.response)==null?void 0:N.data)==null?void 0:K[0])!=null&&W.id&&v.push(R.response.data[0].id);m.value=v}}}),m=e.computed({get(){switch(typeof t.modelValue){case"number":return[t.modelValue];case"string":return t.modelValue.indexOf("--")!==-1?[]:/^\d*$/.test(t.modelValue)?[Number(t.modelValue)]:[t.modelValue];case"object":return Array.isArray(t.modelValue)?t.modelValue.filter(h=>h!=="--"):P(t.modelValue)==="File"?[t.modelValue]:[];default:return[]}},set(h){if(t.length===1){let N=D.first(h);r("update:modelValue",N??null),r("on-change",N??null)}else r("update:modelValue",D.cloneDeep(h)),r("on-change",D.cloneDeep(h))}}),d=e.computed(()=>{let h;t.manualUpload?h=s.value:h=c.value;for(let N of h){let K;if(t.manualUpload?K=N&&N.type:K=N&&N.mimeType,!K||K&&!Ae(K))return!1}return!0});e.watch(()=>s.value,async h=>{var N,K,W,v,R,J,Z,pe,be;if(o.value==="localImg")(h==null?void 0:h.length)>0?a.value=await y(h):a.value=[];else if((h==null?void 0:h.length)>0&&o.value!=="localList"){let oe=[];for(let ae of h)if(ae.name===void 0)if((W=(K=(N=ae.response)==null?void 0:N.data)==null?void 0:K[0])!=null&&W.id){let re=await ue.get(t.url+"/"+ae.response.data[0].id).catch(()=>{oe.push({name:T("r.file")+D.indexOf(h,ae)})}),ce=D.cloneDeep(ae);ce.name=((J=(R=(v=re==null?void 0:re.data)==null?void 0:v.returnValue)==null?void 0:R[0])==null?void 0:J.name)||T("r.file")+D.indexOf(h,ae),ce.mimeType=((be=(pe=(Z=re==null?void 0:re.data)==null?void 0:Z.returnValue)==null?void 0:pe[0])==null?void 0:be.mimeType)||"unknown",oe.push(ce)}else oe.push({name:T("r.unknown")});else oe.push(ae);c.value=oe}else c.value=[]},{immediate:!0,deep:!0});function u(h){return h.name||h.split&&D.last(h.split("/"))||h}async function y(h){let N=[];for(let K of h){let W=await _e(K);N.push(W)}return N}function A(h){if(!t.disabled){let N=s.value;N.splice(h,1),s.value=N}}function w(h){var N,K,W;(W=(K=(N=h==null?void 0:h.response)==null?void 0:N.data)==null?void 0:K[0])!=null&&W.id&&window.open(t.url+"/"+h.response.data[0].id+"/download")}function S(h){var N,K,W;return t.manualUpload?h.type&&Ae(h.type):((W=(K=(N=h==null?void 0:h.response)==null?void 0:N.data)==null?void 0:K[0])==null?void 0:W.id)&&h.mimeType&&Ae(h.mimeType)}function k(h){t.manualUpload?_e(h).then(N=>{ge(N)}):ge(t.url+"/"+h.response.data[0].id+"/download?preview=true")}function L(h){P(h)==="String"&&h.indexOf("http")>-1?window.open(h):P(h)==="File"&&_e(h).then(N=>{We(h.name,N)})}function z(h){if(t.manualUpload){if(h){let N=Pe(h.name);if(t.format.length>0&&t.format.indexOf(N)<0)return ie(T("r.wrongFileType"),T("r.supportType")+(t.format.length>0&&String(t.format)||T("r.none")),"warning"),!1;if(t.maxSize&&h.size>t.maxSize*1024)return ie(T("r.fileIsBig"),T("r.supportSize")+t.maxSize+"kb","warning"),!1;let K=s.value;K.push(h),s.value=K}return!1}else return!0}function _(h){console.warn(h),ie(T("r.uploadError"),"","error")}function B(h,N,K){if(h&&h.code===0){let W=s.value;W.push(N),s.value=W}else ie(T("r.uploadFail"),h&&h.message||"","error")}function V(){ie(T("r.fileIsBig"),T("r.supportSize")+t.maxSize+" kb","warning")}function I(){ie(T("r.wrongFileType"),T("r.supportType")+(t.format.length>0&&String(t.format)||T("r.none")),"warning")}function M(h){var W,v,R,J,Z,pe;let N=(R=(v=(W=h==null?void 0:h.response)==null?void 0:W.data)==null?void 0:v[0])==null?void 0:R.id,K=(pe=(Z=(J=h==null?void 0:h.response)==null?void 0:J.data)==null?void 0:Z[0])==null?void 0:pe.mimeType;N&&(P(K)==="String"&&K.indexOf("image")>-1?ge(t.url+"/"+N+"/download?preview=true"):window.open(t.url+"/"+N+"/download?preview=true"))}function p(h){var K,W,v;let N=(v=(W=(K=h==null?void 0:h.response)==null?void 0:K.data)==null?void 0:W[0])==null?void 0:v.id;x(null,N)}function x(h,N){if(!t.disabled&&m.value.indexOf(N)!==-1){const K=D.cloneDeep(m.value);let W=s.value;W.splice(K.indexOf(N),1),s.value=W}}return(h,N)=>{const K=e.resolveComponent("Button"),W=e.resolveComponent("Upload"),v=e.resolveComponent("Icon");return e.openBlock(),e.createElementBlock("div",null,[e.createVNode(W,{name:"files",action:e.unref(f),"before-upload":z,"on-error":_,"on-success":B,"on-exceeded-size":V,"on-preview":M,"on-remove":p,"on-format-error":I,data:t.data,"max-size":t.maxSize,"show-upload-list":!1,"with-credentials":t.withCredentials,format:t.format,multiple:t.multiple||!1,disabled:t.length>0&&e.unref(s).length>=t.length||!!t.disabled},{default:e.withCtx(()=>[e.createVNode(K,{icon:"ios-cloud-upload-outline",class:e.normalizeClass({disabledR:t.length>0&&e.unref(s).length>=t.length||!!t.disabled})},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(T)("r.selectFile")),1)]),_:1},8,["class"])]),_:1},8,["action","data","max-size","with-credentials","format","multiple","disabled"]),e.withDirectives(e.createElementVNode("div",cn,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(m),R=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:R},[!t.manualUpload&&R!==null?(e.openBlock(),e.createElementBlock("div",dn,[e.createElementVNode("img",{src:h.url+"/"+R+"/download?preview=true",alt:R},null,8,fn),e.createElementVNode("div",un,[e.createVNode(v,{type:"ios-expand",size:"40",class:"previewExpand",title:e.unref(T)("r.fView"),onClick:J=>e.unref(ge)(t.url+"/"+R+"/download?preview=true")},null,8,["title","onClick"]),e.createVNode(v,{type:"ios-trash-outline",size:"40",class:"previewDelete",onClick:J=>x(J,R),title:e.unref(T)("r.delete")},null,8,["onClick","title"])])])):e.createCommentVNode("",!0)],64))),128))],512),[[e.vShow,e.unref(o)==="img"&&e.unref(m).length>0]]),e.withDirectives(e.createElementVNode("div",pn,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(a),(R,J)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:"manualImg"+J},[t.manualUpload&&R!==null?(e.openBlock(),e.createElementBlock("div",mn,[e.createElementVNode("img",{src:R,alt:"manualImg"+J},null,8,yn),e.createElementVNode("div",hn,[e.createVNode(v,{type:"ios-expand",size:"40",class:"previewExpand",onClick:Z=>e.unref(ge)(R),title:e.unref(T)("r.fView")},null,8,["onClick","title"]),e.createVNode(v,{type:"ios-trash-outline",size:"40",class:"previewDelete",onClick:Z=>A(J),title:e.unref(T)("r.delete")},null,8,["onClick","title"])])])):e.createCommentVNode("",!0)],64))),128))],512),[[e.vShow,e.unref(o)==="localImg"&&e.unref(a).length>0]]),e.withDirectives(e.createElementVNode("div",gn,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(s),(R,J)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:"manualItem"+J},[t.manualUpload&&R!==null?(e.openBlock(),e.createElementBlock("p",bn,[R.name?(e.openBlock(),e.createBlock(v,{key:0,type:e.unref(ze)(R.name)},null,8,["type"])):e.createCommentVNode("",!0),e.createElementVNode("span",{class:e.normalizeClass(["upNameT",{previewName:S(R)}]),onClick:Z=>L(R),title:e.unref(T)("r.download")},e.toDisplayString(u(R)),11,kn),e.createElementVNode("span",wn,[S(R)?(e.openBlock(),e.createBlock(v,{key:0,type:"md-qr-scanner",size:"14",class:"listBtH",onClick:Z=>k(R),title:e.unref(T)("r.fView")},null,8,["onClick","title"])):e.createCommentVNode("",!0),e.createVNode(v,{type:"ios-close",size:"22",class:"listBtH",onClick:Z=>A(J),title:e.unref(T)("r.delete")},null,8,["onClick","title"])])])):e.createCommentVNode("",!0)],64))),128))],512),[[e.vShow,e.unref(o)==="localList"&&e.unref(s).length>0]]),e.withDirectives(e.createElementVNode("div",Bn,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(c),(R,J)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:"defaultItem"+J},[!t.manualUpload&&R!==null?(e.openBlock(),e.createElementBlock("p",Vn,[e.createVNode(v,{type:e.unref(ze)(R.name)},null,8,["type"]),e.createElementVNode("span",{class:e.normalizeClass(["upNameT",{previewName:S(R)}]),onClick:Z=>w(R),title:e.unref(T)("r.download")},e.toDisplayString(R.name||e.unref(T)("r.file")+(J+1)),11,Cn),e.createElementVNode("span",Sn,[S(R)?(e.openBlock(),e.createBlock(v,{key:0,type:"md-qr-scanner",size:"14",class:"listBtH",onClick:Z=>k(R),title:e.unref(T)("r.fView")},null,8,["onClick","title"])):e.createCommentVNode("",!0),e.createVNode(v,{type:"ios-close",size:"22",class:"listBtH",onClick:Z=>A(J),title:e.unref(T)("r.delete")},null,8,["onClick","title"])])])):e.createCommentVNode("",!0)],64))),128))],512),[[e.vShow,e.unref(o)==="list"&&e.unref(c).length>0]])])}}}),_n=e.createElementVNode("div",{class:"bRoot"},null,-1),ft=e.defineComponent({__name:"MonthRange",props:{modelValue:{default:()=>["",""]},placement:{default:"bottom-start"},placeholder:{},options1:{},options2:{},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","on-change"],setup(n,{emit:r}){const t=n,a=e.ref(!1),c=e.ref(!1),o=e.ref(!1),f=e.computed({get(){return t.modelValue&&t.modelValue[0]||null},set(k){r("update:modelValue",[k,s.value]),r("on-change",[k,s.value])}}),s=e.computed({get(){return t.modelValue&&t.modelValue[1]||null},set(k){r("update:modelValue",[f.value,k]),r("on-change",[f.value,k])}}),m=e.computed(()=>(f.value||"")+((f.value||s.value)&&" - "||"")+(s.value||"")),d=e.ref();e.onMounted(()=>{d.value.querySelector(".aRoot .ivu-input-suffix").addEventListener("mouseover",()=>{o.value=!0}),d.value.querySelector(".aRoot .ivu-input-suffix").addEventListener("mouseout",()=>{o.value=!1}),d.value.querySelector(".aRoot .ivu-input-suffix").addEventListener("click",k=>{!t.disabled&&(f.value||s.value)&&(k.stopPropagation(),w())})});function u(){t.disabled||(a.value=!0)}function y(k){f.value=k,a.value=!1,c.value=!0}function A(k){s.value=k,c.value=!1}function w(){r("update:modelValue",[null,null]),r("on-change",[null,null])}function S(){a.value=!1,c.value=!1,f.value&&s.value===null&&(f.value=null)}return(k,L)=>{const z=e.resolveComponent("DatePicker"),_=e.resolveComponent("Icon"),B=e.resolveComponent("Input");return e.openBlock(),e.createElementBlock("div",{class:"monthRangeBoxR",ref_key:"mPickerRef",ref:d},[e.createVNode(z,{open:e.unref(c),modelValue:e.unref(s),transfer:"",type:"month",placement:t.placement,options:t.options2,onOnChange:A,onOnClickoutside:S},{default:e.withCtx(()=>[_n]),_:1},8,["open","modelValue","placement","options"]),e.createVNode(z,{open:e.unref(a),modelValue:e.unref(f),transfer:"",type:"month",placement:t.placement,options:t.options1,onOnChange:y,onOnClickoutside:S},{default:e.withCtx(()=>[e.createElementVNode("div",{onClick:u},[e.createVNode(B,{class:"aRoot",modelValue:e.unref(m),"onUpdate:modelValue":L[0]||(L[0]=V=>e.isRef(m)?m.value=V:null),readonly:"",placeholder:t.placeholder||e.unref(T)("r.selectDate"),disabled:t.disabled},{suffix:e.withCtx(()=>[e.createVNode(_,{type:e.unref(o)&&(e.unref(f)||e.unref(s))&&!t.disabled?"ios-close-circle":"ios-calendar-outline"},null,8,["type"])]),_:1},8,["modelValue","placeholder","disabled"])])]),_:1},8,["open","modelValue","placement","options"])],512)}}}),An={class:"editor-pro-root"},ut=e.defineComponent({__name:"EditorPro",props:{modelValue:{default:"<p></p>"},toolbarConfig:{default:()=>({})},editorConfig:{default:()=>({})},mode:{default:"default"},height:{default:300},imgUploadUrl:{},videoUploadUrl:{},placeholder:{default:""},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","on-change"],setup(n,{emit:r}){const t=n,a=e.shallowRef(),c=e.computed({get(){return t.modelValue},set(d){r("update:modelValue",d),r("on-change",d)}}),o=e.computed(()=>Object.assign({placeholder:t.placeholder||T("r.pInput"),insertKeys:{index:31,keys:["previewX"]}},t.toolbarConfig)),f=e.computed(()=>Object.assign({readOnly:t.disabled,MENU_CONF:{uploadImage:{async customUpload(d,u){let y=new FormData;y.append("files",d);const A=d.name,w=t.imgUploadUrl??"/node-serve/file";ue.post(w,y,null,[],{spin:!0,headers:{"Content-Type":"multipart/form-data"}}).then(S=>{if(S&&S.data)if(Array.isArray(S.data))for(let k of S.data){const L=w+"/"+k.id+"/download";u(L,A,L)}else{const k=w+"/"+S.data.id+"/download";u(k,A,k)}}).catch(()=>{ie(T("r.uploadFail"),"","error")})}},uploadVideo:{async customUpload(d,u){let y=new FormData;y.append("files",d);const A=t.videoUploadUrl??"/node-serve/file";ue.post(A,y,null,[],{spin:!0,headers:{"Content-Type":"multipart/form-data"}}).then(w=>{if(w&&w.data)if(Array.isArray(w.data))for(let S of w.data){const k=A+"/"+S.id+"/download";u(k)}else{const S=A+"/"+w.data.id+"/download";u(S)}}).catch(()=>{ie(T("r.uploadFail"),"","error")})}}}},t.editorConfig)),s=e.computed(()=>({height:typeof t.height=="number"?t.height+"px":t.height}));function m(d){a.value=d}return e.watch(()=>t.disabled,d=>{d?a.value.disable():a.value.enable()}),e.onBeforeUnmount(()=>{a.value&&a.value.destroy()}),(d,u)=>(e.openBlock(),e.createElementBlock("div",An,[e.withDirectives(e.createVNode(e.unref(kt.Toolbar),{class:"editor-pro-toolbar",editor:e.unref(a),defaultConfig:e.unref(o),mode:d.mode},null,8,["editor","defaultConfig","mode"]),[[e.vShow,!d.disabled]]),e.createVNode(e.unref(kt.Editor),{class:"editor-pro-editor",modelValue:e.unref(c),"onUpdate:modelValue":u[0]||(u[0]=y=>e.isRef(c)?c.value=y:null),defaultConfig:e.unref(f),mode:d.mode,onOnCreated:m,style:e.normalizeStyle(e.unref(s))},null,8,["modelValue","defaultConfig","mode","style"])]))}}),In={key:19,class:"formInfoTxtXN"},Tn={key:20,class:"formTitleTxtXN"},tl=e.defineComponent({__name:"ItemR",props:{item:{},itemStyle:{},valGroup:{},tempKeys:{},inline:{type:Boolean},disabled:{type:Boolean},labelWidth:{},itemWidth:{},mgrUrl:{},uploadUrl:{}},emits:["item-change","re-validate","select-input-change","al-name-change","async-label-change"],setup(n,{emit:r}){const t=n;function a(d){return{withInfo:!!d.info,withTitle:!!d.title,inlineFormItemXN:t.inline,noLabel:d.type==="selectInput",[d.class]:d.class,slotInput:d.slotPosition}}function c(d,u){r("item-change",{e:d,root:u})}function o(d,u){r("re-validate",{e:d,root:u})}function f(d){r("select-input-change",d)}function s(d,u){r("al-name-change",{name:d,root:u})}function m(d,u){r("async-label-change",{label:d,root:u})}return(d,u)=>{const y=e.resolveComponent("InputNumber"),A=e.resolveComponent("Input"),w=e.resolveComponent("Option"),S=e.resolveComponent("Select"),k=e.resolveComponent("Radio"),L=e.resolveComponent("Icon"),z=e.resolveComponent("RadioGroup"),_=e.resolveComponent("Checkbox"),B=e.resolveComponent("CheckboxGroup"),V=e.resolveComponent("DatePicker"),I=e.resolveComponent("TimePicker"),M=e.resolveComponent("FormItem");return e.openBlock(),e.createBlock(M,{label:t.item.type!=="radio"&&t.item.type!=="checkbox"?t.item.label:" ",prop:t.item.key||"",class:e.normalizeClass(["relativeBox",a(t.item)])},{default:e.withCtx(()=>[t.item.type==="txt"?(e.openBlock(),e.createElementBlock("div",{key:0,style:e.normalizeStyle([t.itemStyle,{display:"inline-block"}]),class:e.normalizeClass({likeInputX:t.item.likeInput,disabled:!!t.item.disabled||t.disabled})},e.toDisplayString(t.item.valKey?t.valGroup[t.item.valKey]||"无":t.item.val),7)):t.item.type==="inputNumber"?(e.openBlock(),e.createBlock(y,{key:1,style:e.normalizeStyle(t.itemStyle),modelValue:t.tempKeys[t.item.tempKey],"onUpdate:modelValue":u[0]||(u[0]=p=>t.tempKeys[t.item.tempKey]=p),max:t.item.max||t.item.max===0?t.item.max:1/0,min:t.item.min||t.item.min===0?t.item.min:-1/0,precision:t.item.precision,step:t.item.step||1,placeholder:t.item.placeholder||e.unref(T)("r.pInput"),disabled:!!t.item.disabled||t.disabled,readonly:!!t.item.readonly,editable:t.item.editable!==!1,onOnBlur:u[1]||(u[1]=p=>c(p,t.item)),"active-change":!!t.item.activeChange,clearable:t.item.clearable!==!1},null,8,["style","modelValue","max","min","precision","step","placeholder","disabled","readonly","editable","active-change","clearable"])):t.item.type==="input"?(e.openBlock(),e.createBlock(A,{key:2,style:e.normalizeStyle(d.itemStyle),modelValue:t.tempKeys[t.item.tempKey],"onUpdate:modelValue":u[2]||(u[2]=p=>t.tempKeys[t.item.tempKey]=p),maxlength:t.item.maxLength||null,password:!!t.item.password,icon:t.item.icon,prefix:t.item.prefix,suffix:t.item.suffix,placeholder:t.item.placeholder||e.unref(T)("r.pInput"),disabled:!!t.item.disabled||t.disabled,onOnBlur:u[3]||(u[3]=p=>c(p,t.item)),clearable:t.item.clearable!==!1},e.createSlots({_:2},[t.item.slotPosition&&t.item.slotName?{name:t.item.slotPosition,fn:e.withCtx(()=>[e.renderSlot(d.$slots,t.item.slotName)]),key:"0"}:void 0,t.item.slotPosition!=="prepend"&&t.item.prepend?{name:"prepend",fn:e.withCtx(()=>[e.createElementVNode("span",null,e.toDisplayString(t.item.prepend),1)]),key:"1"}:void 0,t.item.slotPosition!=="append"&&t.item.append?{name:"append",fn:e.withCtx(()=>[e.createElementVNode("span",null,e.toDisplayString(t.item.append),1)]),key:"2"}:void 0]),1032,["style","modelValue","maxlength","password","icon","prefix","suffix","placeholder","disabled","clearable"])):t.item.type==="select"?(e.openBlock(),e.createBlock(S,{key:3,modelValue:d.tempKeys[t.item.tempKey],"onUpdate:modelValue":u[4]||(u[4]=p=>d.tempKeys[t.item.tempKey]=p),style:e.normalizeStyle(d.itemStyle),filterable:t.item.filterable===!0||t.item.filterable===!1?t.item.filterable:!1,disabled:!!t.item.disabled||t.disabled,multiple:!!t.item.multiple,placeholder:t.item.placeholder||e.unref(T)("r.pSelect"),onOnChange:u[5]||(u[5]=p=>c(p,t.item)),transfer:"",clearable:t.item.clearable!==!1},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.item.options,(p,x)=>(e.openBlock(),e.createBlock(w,{value:p.val,label:p.label||p.val,key:"option-"+t.item.key+x,disabled:!!p.disabled},null,8,["value","label","disabled"]))),128))]),_:1},8,["modelValue","style","filterable","disabled","multiple","placeholder","clearable"])):t.item.type==="selectInput"?(e.openBlock(),e.createBlock(ot,{key:4,modelValue:d.tempKeys[t.item.tempKey],"onUpdate:modelValue":u[6]||(u[6]=p=>d.tempKeys[t.item.tempKey]=p),"label-width":d.labelWidth,"item-width":d.itemWidth,"select-option":t.item.options||[],placeholder:t.item.placeholder||e.unref(T)("r.pInput"),clearable:t.item.clearable!==!1,disabled:!!t.item.disabled||t.disabled,onOnChange:f},null,8,["modelValue","label-width","item-width","select-option","placeholder","clearable","disabled"])):t.item.type==="alCascader"?(e.openBlock(),e.createBlock(ct,{key:5,style:e.normalizeStyle(d.itemStyle),class:"inlineBlock",modelValue:t.valGroup[t.item.key],"onUpdate:modelValue":u[7]||(u[7]=p=>t.valGroup[t.item.key]=p),level:t.item.level||t.item.level===0?t.item.level:2,disabled:!!t.item.disabled||t.disabled,filterable:t.item.filterable!==!1,placeholder:t.item.placeholder||e.unref(T)("r.pSelect"),"change-on-select":!!t.item.changeOnSelect,onOnNameChange:u[8]||(u[8]=p=>s(p,t.item))},null,8,["style","modelValue","level","disabled","filterable","placeholder","change-on-select"])):t.item.type==="asyncCascader"?(e.openBlock(),e.createBlock(st,{key:6,style:e.normalizeStyle(d.itemStyle),modelValue:t.valGroup[t.item.key],"onUpdate:modelValue":u[9]||(u[9]=p=>t.valGroup[t.item.key]=p),url:t.item.url||d.mgrUrl+"/web/v1/umc/orgs","option-val":t.item.optionVal||"id","option-label":t.item.optionLabel||"name","option-filter":t.item.optionFilter||null,"only-last-val":t.item.onlyLastVal!==!1,"only-last-label":t.item.onlyLastLabel!==!1,separator:t.item.separator||"/",placeholder:t.item.placeholder||e.unref(T)("r.pSelect"),filterable:!!t.item.filterable,disabled:!!t.item.disabled||t.disabled,onOnLabelChange:u[10]||(u[10]=p=>m(p,t.item))},null,8,["style","modelValue","url","option-val","option-label","option-filter","only-last-val","only-last-label","separator","placeholder","filterable","disabled"])):t.item.type==="radio"?(e.openBlock(),e.createBlock(k,{key:7,modelValue:t.valGroup[t.item.key],"onUpdate:modelValue":u[11]||(u[11]=p=>t.valGroup[t.item.key]=p),disabled:!!t.item.disabled||t.disabled,onOnChange:u[12]||(u[12]=p=>c(p,t.item))},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(t.item.label),1)]),_:1},8,["modelValue","disabled"])):t.item.type==="radioGroup"?(e.openBlock(),e.createBlock(z,{key:8,style:e.normalizeStyle(d.itemStyle),onOnChange:u[13]||(u[13]=p=>o(p,t.item)),type:t.item.buttonType?"button":null,modelValue:d.tempKeys[t.item.tempKey],"onUpdate:modelValue":u[14]||(u[14]=p=>d.tempKeys[t.item.tempKey]=p)},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.item.options,p=>(e.openBlock(),e.createBlock(k,{key:"radioItem"+p.val,label:p.val,border:!!t.item.itemBorder,disabled:!!t.item.disabled||t.disabled||p.disabled},{default:e.withCtx(()=>[p.icon&&!t.item.buttonType?(e.openBlock(),e.createBlock(L,{key:0,type:p.icon},null,8,["type"])):e.createCommentVNode("",!0),e.createElementVNode("span",null,e.toDisplayString(p.label||p.val),1)]),_:2},1032,["label","border","disabled"]))),128))]),_:1},8,["style","type","modelValue"])):t.item.type==="checkbox"?(e.openBlock(),e.createBlock(_,{key:9,modelValue:t.valGroup[t.item.key],"onUpdate:modelValue":u[15]||(u[15]=p=>t.valGroup[t.item.key]=p),disabled:!!t.item.disabled,onOnChange:u[16]||(u[16]=p=>c(p,t.item))},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(t.item.label),1)]),_:1},8,["modelValue","disabled"])):t.item.type==="checkboxGroup"?(e.openBlock(),e.createBlock(B,{key:10,style:e.normalizeStyle(d.itemStyle),modelValue:d.tempKeys[t.item.tempKey],"onUpdate:modelValue":u[17]||(u[17]=p=>d.tempKeys[t.item.tempKey]=p),onOnChange:u[18]||(u[18]=p=>o(p,t.item))},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.item.options,p=>(e.openBlock(),e.createBlock(_,{key:"checkItem"+p.val,label:p.val,disabled:!!t.item.disabled||t.disabled||p.disabled},{default:e.withCtx(()=>[p.icon?(e.openBlock(),e.createBlock(L,{key:0,type:p.icon},null,8,["type"])):e.createCommentVNode("",!0),e.createElementVNode("span",null,e.toDisplayString(p.label||p.val),1)]),_:2},1032,["label","disabled"]))),128))]),_:1},8,["style","modelValue"])):t.item.type==="textarea"?(e.openBlock(),e.createBlock(A,{key:11,type:"textarea",modelValue:d.tempKeys[t.item.tempKey],"onUpdate:modelValue":u[19]||(u[19]=p=>d.tempKeys[t.item.tempKey]=p),autosize:t.item.autosize||{minRows:2},style:e.normalizeStyle(d.itemStyle),maxlength:t.item.maxLength||null,"show-word-limit":!!t.item.showWordLimit,placeholder:t.item.placeholder||e.unref(T)("r.pInput"),disabled:!!t.item.disabled||t.disabled,onOnBlur:u[20]||(u[20]=p=>c(p,t.item)),clearable:t.item.clearable!==!1},null,8,["modelValue","autosize","style","maxlength","show-word-limit","placeholder","disabled","clearable"])):t.item.type==="upload"?(e.openBlock(),e.createBlock(dt,{key:12,style:e.normalizeStyle(d.itemStyle),class:"inlineBlock",modelValue:t.valGroup[t.item.key],"onUpdate:modelValue":u[21]||(u[21]=p=>t.valGroup[t.item.key]=p),url:t.item.url||d.uploadUrl,"manual-upload":!!t.item.manualUpload,format:t.item.format||[],data:t.item.data,"max-size":t.item.maxSize||0,"show-img":!!t.item.showImg,length:t.item.length||0,disabled:!!t.item.disabled||t.disabled,"with-credentials":t.item.withCredentials!==!1,onOnFileIdChange:u[22]||(u[22]=p=>o(p,t.item))},null,8,["style","modelValue","url","manual-upload","format","data","max-size","show-img","length","disabled","with-credentials"])):t.item.type==="date"?(e.openBlock(),e.createBlock(V,{key:13,style:e.normalizeStyle(d.itemStyle),modelValue:d.tempKeys[t.item.tempKey],"onUpdate:modelValue":u[23]||(u[23]=p=>d.tempKeys[t.item.tempKey]=p),type:t.item.dateType,disabled:!!t.item.disabled||t.disabled,placement:"bottom-end",placeholder:t.item.placeholder||e.unref(T)("r.selectDate"),options:t.item.dateOptions||null,clearable:t.item.clearable!==!1,editable:!1,transfer:"",onOnChange:u[24]||(u[24]=p=>c(p,t.item))},null,8,["style","modelValue","type","disabled","placeholder","options","clearable"])):t.item.type==="time"?(e.openBlock(),e.createBlock(I,{key:14,style:e.normalizeStyle(d.itemStyle),modelValue:d.tempKeys[t.item.tempKey],"onUpdate:modelValue":u[25]||(u[25]=p=>d.tempKeys[t.item.tempKey]=p),type:t.item.dateType,disabled:!!t.item.disabled||t.disabled,placement:"bottom-end",placeholder:t.item.placeholder||e.unref(T)("r.selectTime"),steps:t.item.steps||[],clearable:t.item.clearable!==!1,editable:!1,format:t.item.format||"HH:mm:ss",transfer:"",onOnChange:u[26]||(u[26]=p=>c(p,t.item))},null,8,["style","modelValue","type","disabled","placeholder","steps","clearable","format"])):t.item.type==="monthRange"?(e.openBlock(),e.createBlock(ft,{key:15,style:e.normalizeStyle(d.itemStyle),modelValue:d.tempKeys[t.item.tempKey],"onUpdate:modelValue":u[27]||(u[27]=p=>d.tempKeys[t.item.tempKey]=p),disabled:!!t.item.disabled||t.disabled,placement:"bottom-end",placeholder:t.item.placeholder||e.unref(T)("r.selectDate"),options1:t.item.dateOptions1||null,options2:t.item.dateOptions2||null,onOnChange:u[28]||(u[28]=p=>c(p,t.item))},null,8,["style","modelValue","disabled","placeholder","options1","options2"])):t.item.type==="editorPro"?(e.openBlock(),e.createBlock(ut,{key:16,class:"inlineBlock",style:e.normalizeStyle(d.itemStyle),modelValue:t.valGroup[t.item.key],"onUpdate:modelValue":u[29]||(u[29]=p=>t.valGroup[t.item.key]=p),placeholder:t.item.placeholder||e.unref(T)("r.pInput"),disabled:!!t.item.disabled||t.disabled,"toolbar-config":t.item.toolbarConfig||{},"editor-config":t.item.editorConfig||{},mode:t.item.mode||"simple",height:t.item.height||300,onInput:u[30]||(u[30]=p=>c(p,t.item))},null,8,["style","modelValue","placeholder","disabled","toolbar-config","editor-config","mode","height"])):t.item.type==="inputMap"?(e.openBlock(),e.createBlock(rt,{key:17,modelValue:d.tempKeys[t.item.tempKey],"onUpdate:modelValue":u[31]||(u[31]=p=>d.tempKeys[t.item.tempKey]=p),style:e.normalizeStyle(d.itemStyle),placeholder:t.item.placeholder||e.unref(T)("r.search"),disabled:!!t.item.disabled||t.disabled,"show-map":t.item.showMap!==!1,height:t.item.mapHeight||"250px",onOnChange:u[32]||(u[32]=p=>c(p,t.item))},null,8,["modelValue","style","placeholder","disabled","show-map","height"])):t.item.type==="custom"?(e.openBlock(),e.createElementBlock("div",{key:18,class:"inlineBlock",style:e.normalizeStyle(d.itemStyle)},[e.renderSlot(d.$slots,t.item.slotName,{valGroup:t.valGroup})],4)):e.createCommentVNode("",!0),t.item.info?(e.openBlock(),e.createElementBlock("div",In,e.toDisplayString(t.item.info),1)):e.createCommentVNode("",!0),t.item.title?(e.openBlock(),e.createElementBlock("div",Tn,e.toDisplayString(t.item.title),1)):e.createCommentVNode("",!0)]),_:3},8,["label","prop","class"])}}}),xn=e.createElementVNode("input",{type:"text"},null,-1),Ln={class:"inlineBlock"},Le=e.defineComponent({__name:"FormR",props:{formData:{default:()=>[]},formRules:{default:()=>({})},showMessage:{type:Boolean,default:!0},labelWidth:{default:160},contentWidth:{default:"70%"},itemWidth:{default:200},inline:{type:Boolean,default:!1},showLongOkBt:{type:Boolean,default:!1},longOkBtTxt:{},showInlineOkBt:{type:Boolean,default:!1},inlineOkBtTxt:{},showInlineClearBt:{type:Boolean,default:!1},inlineClearBtTxt:{},disabled:{type:Boolean,default:!1},btnLoading:{type:Boolean,default:!1},trim:{type:Boolean,default:!0},teamClass:{default:"formTeamBox"}},emits:["on-item-change","on-reset","on-re-render","on-submit"],setup(n,{expose:r,emit:t}){var bl,kl;const a=n,c=e.ref(null),o=e.ref({}),f=e.ref([]),s=e.ref({});let m=[];const d=((bl=window==null?void 0:window.g)==null?void 0:bl.mgrURL)??"";let u=[],y=[];const A=e.ref(!1),w=e.ref(Math.random()*1e8+1e3),S=(kl=window==null?void 0:window.g)!=null&&kl.mgrURL?window.g.mgrURL+"/web/v1/fsc/file":"/file";let k=!1;const L=e.computed(()=>Array.isArray(a.formData.length?a.formData[0]:!1)),z=e.computed(()=>a.inline?{width:a.itemWidth+a.labelWidth+"px"}:{}),_=e.computed(()=>a.inline?{width:"100%"}:{width:a.contentWidth}),B=e.computed(()=>{let i=D.cloneDeep(a.formRules);for(let l in i)if(i.hasOwnProperty(l))if(Array.isArray(i[l]))for(let b of i[l])b.message||b.validator||(b.message=T("r.required"));else P(i[l])==="Object"&&(i[l].message||i[l].validator||(i[l].message=T("r.required")));return i}),V=e.computed(()=>{let i=[];if(L.value)for(let l of f.value)p(l,i);else p(f.value,i);return i.concat(u,y)}),I=e.computed(()=>{let i=[];if(L.value)for(let l of f.value)x(l,i);else x(f.value,i);return i});function M(i){return i.filter(l=>l.slotName)}function p(i,l){for(let b of i)if(b.showing===!0&&b.key&&b.type!=="selectInput"&&(l.push(b.key),b.key2&&l.push(b.key2),b.collectLabel)){if(!Array.isArray(b.collectLabel)&&b.collectLabel.key)l.push(b.collectLabel.key);else if(Array.isArray(b.collectLabel))for(let g of b.collectLabel)g.key&&l.push(g.key)}}function x(i,l){for(let b of i)b.showing===!0&&b.key&&b.type!=="selectInput"&&l.push(b.key)}function h(){return new Promise(i=>{W(),K().then(()=>{t("on-reset"),i(!0)})})}function N(){return new Promise(i=>{for(let l of m)l();m=[],s.value={},O(),re(),K().then(()=>{t("on-re-render"),i(!0)})})}function K(){return new Promise(i=>{w.value=Math.floor(Math.random()*1e8+1e3),e.nextTick(function(){i(!0)})})}function W(){let i=J();for(let l in o.value)if(o.value.hasOwnProperty(l))if(X(i[l]))o.value[l]=i[l];else if(Array.isArray(o.value[l]))o.value[l]=[];else if(P(o.value[l])==="Boolean")o.value[l]=!1;else{const b=we(a.formData,g=>g.key===l);b&&(b.type==="editor"||b.type==="editorPro")?o.value[l]="":o.value[l]=null}v(i)}function v(i){for(let l in s.value)s.value.hasOwnProperty(l)&&(X(i[l])?s.value[l]=i[l]:Array.isArray(s.value[l])?s.value[l]=[]:P(s.value[l])==="Object"&&s.value[l].hasOwnProperty("key")&&s.value[l].hasOwnProperty("val")?s.value[l].val=null:s.value[l]=null)}function R(i){let l=J();X(l[i])?s.value[i]=l[i]:Array.isArray(s.value[i])?s.value[i]=[]:s.value[i]=null}function J(){let i={};if(L.value)for(let l of f.value)Z(l,i);else Z(f.value,i);return i}function Z(i,l){for(let b of i)b.tempKey&&X(b.defaultVal)&&ae(b,l),b.key&&X(b.defaultVal)&&(l[b.key]=b.defaultVal),b.key2&&X(b.defaultVal2)&&(l[b.key2]=b.defaultVal2)}function pe(i){if(i.show){if(P(i.show)==="Object")return oe(i,be(i.show));if(Array.isArray(i.show))if(i.showOr){for(let l of i.show)if(be(l)===!0)return oe(i,!0);return oe(i,!1)}else{for(let l of i.show)if(be(l)===!1)return oe(i,!1);return oe(i,!0)}else if(P(i.show)==="Function")return oe(i,i.show(o.value))}else i.showing||(i.showing=!0);return!0}function be(i){if(i.reg&&typeof i.reg.test=="function")return i.reg.test(o.value[i.key]);if(Array.isArray(i.val)){for(let l of i.val){if((o.value[i.key]||o.value[i.key]===0||o.value[i.key]===!1)&&l===".")return!0;if(o.value[i.key]===l)return!0}return!1}else return!1}function oe(i,l){return!i.showing&&l&&i.key?(i.showing=l,i.defaultVal!==void 0&&(i.tempKey?(s.value[i.tempKey]===null||s.value[i.tempKey]===void 0||(P(s.value[i.tempKey])==="Object"||Array.isArray(s.value[i.tempKey]))&&D.isEmpty(s.value[i.tempKey]))&&ae(i,s.value):(o.value[i.key]===null||o.value[i.key]===void 0)&&(o.value[i.key]=i.defaultVal),i.key2&&i.deafultVal2!==void 0&&(o.value[i.key2]===null||o.value[i.key2]===void 0)&&i.type!=="inputMap"&&(o.value[i.key2]=i.defaultVal2)),i.tempKey&&q(s.value[i.tempKey],i)):i.showing=l,l}function ae(i,l){switch(i.type){case"selectInput":l[i.tempKey]={key:i.key,val:i.defaultVal};break;case"inputMap":i.key3?l[i.tempKey]={lng:i.defaultVal||0,lat:i.defaultVal2||0,name:i.defaultVal3||""}:l[i.tempKey]={lng:i.defaultVal||0,lat:i.defaultVal2||0};break;case"input":case"inputNumber":case"textarea":l[i.tempKey]=i.defaultVal;break;case"radioGroup":case"select":case"checkboxGroup":i.booleanVal?l[i.tempKey]=i.defaultVal?1:0:l[i.tempKey]=i.defaultVal;break;case"date":case"time":case"monthRange":i.dateType==="date"||i.dateType==="datetime"||i.dateType==="time"||i.dateType==="year"||i.dateType==="month"?l[i.tempKey]=i.defaultVal:(i.dateType==="daterange"||i.dateType==="datetimerange"||i.dateType==="timerange"||i.type==="monthRange")&&(l[i.tempKey]=i.defaultVal&&i.defaultVal2&&[i.defaultVal,i.defaultVal2]||[]);break}}function re(){let i=D.cloneDeep(a.formData);if(L.value)for(let l of i)ce(l);else ce(i);f.value=i}function ce(i){for(let l of i)switch(l.type){case"selectInput":const b="selectInput"+Math.floor(Math.random()*1e8);l.tempKey=b,s.value[b]={key:l.key||null,val:l.defaultVal||null},m.push(e.watch(()=>s.value[b],E=>{q(E,l)},{immediate:!0}));break;case"inputMap":const g="inputMap"+Math.floor(Math.random()*1e8);l.key&&(l.tempKey=g,l.key3?s.value[g]=l.defaultVal!==void 0&&l.defaultVal2!==void 0?{lng:l.defaultVal,lat:l.defaultVal2,name:l.defaultVal3||""}:{lng:null,lat:null,name:null}:s.value[g]=l.defaultVal!==void 0&&l.defaultVal2!==void 0?{lng:l.defaultVal,lat:l.defaultVal2}:{lng:null,lat:null},m.push(e.watch(()=>s.value[g],E=>{q(E,l)},{immediate:!0})));break;case"input":case"inputNumber":case"textarea":const j="inputT"+Math.floor(Math.random()*1e8);l.key&&(l.tempKey=j,s.value[j]=l.defaultVal!==void 0?l.defaultVal:null,m.push(e.watch(()=>s.value[j],E=>{q(E,l)},{immediate:!0})));break;case"select":case"radioGroup":case"checkboxGroup":if(l.options||(l.options=[]),l.asyncOption)if(l.changeOption)if(Array.isArray(l.changeOption)){let E=!0;for(let U of l.changeOption)if(!U.valKey||!U.key){E=!1;break}E?m.push(e.watch(()=>{let U="";if(Array.isArray(l.changeOption))for(let ee of l.changeOption){let fe=o.value[ee.valKey];if(fe||fe===0||fe===!1)U+="&"+ee.key+"="+fe;else if(!ee.notRequired)return!1}return U},U=>{let ee=D.cloneDeep(s.value[l.tempKey]);if(s.value[l.tempKey]=null,U&&l.optionUrl){let fe=l.optionUrl.indexOf("?")!==-1?l.optionUrl:l.optionUrl+"?";me((fe+U).replace(/\?&/,"?"),l,ee)}else l.options=[],l.localOption&&(l.options=[...l.localOption]),X(ee)&&F(ee,l)},{immediate:!0})):(l.options=[],l.localOption&&(l.options=[...l.localOption]))}else typeof l.changeOption=="object"?l.changeOption.valKey&&l.changeOption.key&&m.push(e.watch(()=>typeof l.changeOption=="object"&&!Array.isArray(l.changeOption)?o.value[l.changeOption.valKey]:!1,E=>{let U=D.cloneDeep(s.value[l.tempKey]);if(s.value[l.tempKey]=null,(E||E===0||E===!1)&&l.optionUrl&&typeof l.changeOption=="object"&&!Array.isArray(l.changeOption)){let ee=l.optionUrl.indexOf("?")!==-1?l.optionUrl:l.optionUrl+"?";me((ee+"&"+l.changeOption.key+"="+E).replace(/\?&/,"?"),l,U)}else l.options=[],l.localOption&&(l.options=[...l.localOption]),X(U)&&F(U,l)},{immediate:!0})):P(l.changeOption)==="Boolean"&&m.push(e.watch(()=>we(a.formData,E=>E.key===l.key).optionUrl,E=>{let U=D.cloneDeep(s.value[l.tempKey]);s.value[l.tempKey]=null,E?me(E,l,U):(l.options=[],l.localOption&&(l.options=[...l.localOption]),X(U)&&F(U,l))},{immediate:!0}));else l.optionUrl&&me(l.optionUrl,l);else P(l.borrowOption)==="String"&&(l.options=we(f.value,E=>E.key===l.borrowOption).options);const H="opEle"+Math.floor(Math.random()*1e8);l.key&&(l.tempKey=H,l.type==="select"&&l.multiple||l.type==="checkboxGroup"?s.value[H]=l.defaultVal!==void 0?l.defaultVal:[]:l.booleanVal?s.value[H]=l.defaultVal!==void 0?l.defaultVal?1:0:null:s.value[H]=l.defaultVal!==void 0?l.defaultVal:null,m.push(e.watch(()=>s.value[H],E=>{q(E,l)},{immediate:!0})));break;case"date":case"time":case"monthRange":const $="date"+Math.floor(Math.random()*1e8);l.tempKey=$,l.dateType==="date"||l.dateType==="datetime"||l.dateType==="time"||l.dateType==="year"||l.dateType==="month"?s.value[$]=l.defaultVal||null:(l.dateType==="daterange"||l.dateType==="datetimerange"||l.dateType==="timerange"||l.type==="monthRange")&&(s.value[$]=l.defaultVal&&l.defaultVal2&&[l.defaultVal,l.defaultVal2]||[]),m.push(e.watch(()=>s.value[$],E=>{q(E,l)}));break}}function me(i,l,b){ue.get(i).then(g=>{var H;if(!l.options)return;let j=((H=g==null?void 0:g.data)==null?void 0:H.records)||(g==null?void 0:g.data)||g||[];Array.isArray(j)?(l.optionFilter&&P(l.optionFilter)==="Function"&&(j=l.optionFilter(j)),l.optionLabel&&l.optionVal?(l.options.length=0,l.options.push(...j.map($=>{let E;if(Array.isArray(l.optionLabel)){let U="";l.optionLabel.forEach((ee,fe)=>{let gt=String($[ee]);fe===1?U+="（"+gt:fe>1?U+="、"+gt:U+=gt}),E={label:U+"）",val:l.optionVal&&$[l.optionVal]}}else E={label:l.optionLabel&&$[l.optionLabel],val:l.optionVal&&$[l.optionVal]};if(l.collectLabel)if(Array.isArray(l.collectLabel))for(let U of l.collectLabel)U.valKey&&U.valKey!=="label"&&(E[U.valKey]=$[U.valKey]);else l.collectLabel.valKey&&l.collectLabel.valKey!=="label"&&(E[l.collectLabel.valKey]=$[l.collectLabel.valKey]);if(E.val!==null&&E.val!==void 0)return E}))):(l.options.length=0,l.options.push(...j))):l.options.length=0,l.localOption&&l.options.unshift(...l.localOption),X(b)&&F(b,l),l.disableOptionByOthers&&(P(l.disableOptionByOthers)==="String"?m.push(e.watch(()=>o.value[l.disableOptionByOthers],$=>{if(R(l.tempKey),!!l.options){for(let E of l.options)E.disabled&&(E.disabled=!1);if($||$===0||$===!1)for(let E of l.options)E.val===$&&(E.disabled=!0)}},{immediate:!0})):Array.isArray(l.disableOptionByOthers)&&m.push(e.watch(()=>l.disableOptionByOthers.filter($=>$).map($=>o.value[$]),$=>{if(R(l.tempKey),!!l.options){for(let E of l.options)E.disabled&&(E.disabled=!1);if($){for(let E of l.options)for(let U=0;U<$.length;U++)if(E.val===$[U]){E.disabled=!0,$.splice(U,1);break}}}},{immediate:!0})))}).catch(()=>{console.warn("拉取选项出错")})}function F(i,l){Array.isArray(l.options)&&D.findIndex(l.options,{val:i})!==-1&&(s.value[l.tempKey]=i)}function O(){if(o.value={},L.value)for(let i of a.formData)Y(i);else Y(a.formData)}function Y(i){for(let l of i)l.key&&(l.type==="checkboxGroup"||l.type==="select"&&l.multiple?o.value[l.key]=l.defaultVal!==void 0&&l.show===void 0?l.defaultVal:[]:l.type==="editor"||l.type==="editorPro"?o.value[l.key]=l.defaultVal!==void 0&&l.show===void 0?l.defaultVal:"":(o.value[l.key]=l.defaultVal!==void 0&&l.show===void 0?l.defaultVal:null,l.key2&&(o.value[l.key2]=l.defaultVal2!==void 0&&l.show===void 0?l.defaultVal2:null)))}function q(i,l){if(l.showing)switch(l.type){case"selectInput":i&&(i.beforeKey&&delete o.value[i.beforeKey],o.value[i.key]=i.val);break;case"inputMap":if(!l.key||!l.key2)return;i?(o.value[l.key]=i.lng,o.value[l.key2]=i.lat,l.key3&&(o.value[l.key3]=i.name)):(o.value[l.key]=null,o.value[l.key2]=null,l.key3&&(o.value[l.key3]=null));break;case"input":case"inputNumber":case"textarea":if(!l.key)return;if(i||i===0){let j=/^-?\d+(.\d+)?$/;l.numberVal&&j.test(i)?o.value[l.key]=Number(i):o.value[l.key]=i}else o.value[l.key]=null;break;case"select":case"radioGroup":case"checkboxGroup":if(!l.key)return;if(l.booleanVal&&!l.multiple?o.value[l.key]=i===void 0||i===""||i===null?null:!!i:l.multiple||l.type==="checkboxGroup"?o.value[l.key]=Object.assign([],i):o.value[l.key]=i,l.collectLabel){const j=Q(l,i);if(Array.isArray(l.collectLabel)){for(let H of l.collectLabel)if(H.key&&H.valKey){const $=G(H.key);let E=null;Array.isArray(j)?(E=j.map(ee=>ee[H.valKey]),o.value[H.key]=E,$&&(s.value[$]=E)):(j&&X(j[H.valKey])&&(E=j[H.valKey]),o.value[H.key]=E,$&&(s.value[$]=E));let U=we(f.value,ee=>ee.key===H.key);U&&U.tempKey&&(s.value[U.tempKey]=o.value[H.key])}}else if(typeof l.collectLabel=="object"&&l.collectLabel.key&&l.collectLabel.valKey){const H=G(l.collectLabel.key);let $=null;Array.isArray(j)?($=j.map(U=>l.collectLabel&&!Array.isArray(l.collectLabel)&&U[l.collectLabel.valKey]),o.value[l.collectLabel.key]=$,H&&(s.value[H]=$)):(j&&X(j[l.collectLabel.valKey])&&($=j[l.collectLabel.valKey]),o.value[l.collectLabel.key]=$,H&&(s.value[H]=$));let E=we(f.value,U=>l.collectLabel&&!Array.isArray(l.collectLabel)&&U.key===l.collectLabel.key||!1);E&&E.tempKey&&(s.value[E.tempKey]=o.value[l.collectLabel.key])}}break;case"date":case"time":case"monthRange":if(!l.key)return;let b=l.dateType;const g={date:"YYYY-MM-DD",daterange:"YYYY-MM-DD",datetime:"YYYY-MM-DD HH:mm:ss",datetimerange:"YYYY-MM-DD HH:mm:ss",year:"YYYY",month:"MM"};if(b==="date"||b==="datetime"||b==="time"||b==="year"||b==="month")i?(b==="time"?o.value[l.key]=i:o.value[l.key]=Se(i).format(typeof l.format=="string"?l.format:g[b]),b==="date"&&l.addTime&&(o.value[l.key]+=" 00:00:00")):o.value[l.key]=null;else if(l.type==="monthRange"||b==="daterange"||b==="datetimerange"||b==="timerange"){if(!l.key2)return;i&&i[0]&&i[1]?(b==="timerange"?(o.value[l.key]=i[0],o.value[l.key2]=i[1]):l.type==="monthRange"?(o.value[l.key]=typeof l.format=="string"&&Se(i[0]).format(l.format)||i[0],o.value[l.key2]=typeof l.format=="string"&&l.format&&Se(i[1]).format(l.format)||i[1]):(o.value[l.key]=Se(i[0]).format(l.format||b&&g[b]),o.value[l.key2]=Se(i[1]).format(l.format||b&&g[b])),b==="daterange"&&l.addTime&&(o.value[l.key]+=" 00:00:00",o.value[l.key2]+=" 23:59:59")):(o.value[l.key]=null,o.value[l.key2]=null)}break}}function Q(i,l){if(i.options)if(i.multiple||i.type==="checkboxGroup"){if(l){let b=[];for(let g of i.options)l.indexOf(g.val)!==-1&&b.push(g);return b}return!1}else{if(l||l===0||l===!1){for(let b of i.options)if(b.val===l)return b}return!1}}function G(i){if(L.value){for(let l of f.value){const b=de(l,i);if(b)return b}return!1}return de(f.value,i)}function de(i,l){for(let b of i)if(b.key===l)return b.tempKey;return!1}function $e(i,l){let b={};for(let g in o.value)o.value.hasOwnProperty(g)&&i[g]!==void 0&&(b[g]=i[g],delete i[g]);dl(b,l);for(let g in i)i.hasOwnProperty(g)&&(y.indexOf(g)<0&&y.push(g),o.value[g]=i[g])}function Fn(i){let l=D.cloneDeep(i);if(L.value){let b=[];for(let g of a.formData)b.push(...cl(g,l));return b}return cl(a.formData,l)}function cl(i,l){return i.filter(b=>{for(let g of Object.keys(l))if(b.key===g&&I.value.indexOf(g)>-1&&!(l[g]===null||(Array.isArray(l[g])||P(l[g])==="Object")&&D.isEmpty(l[g])))return delete l[g],!0;return!1}).map(b=>b.key)}function dl(i,l=!1){let b=D.cloneDeep(i);En(i,l);for(let g in o.value)if(o.value.hasOwnProperty(g)&&i[g]!==void 0&&i[g]!=="--"){if(Array.isArray(i[g]))i[g]=i[g].filter(j=>j!=="--");else if(P(i[g])==="Object")for(let j in i[g])i[g].hasOwnProperty(j)&&i[g][j]==="--"&&(i[g][j]=null);o.value[g]=i[g]}else l||(o.value[g]=Array.isArray(o.value[g])?[]:null);Rn(Fn(b))}function En(i,l=!1){if(L.value)for(let b of f.value)fl(b,i,l);else fl(f.value,i,l)}function fl(i,l,b=!1){for(let g of i)if(g.key&&(b&&(l[g.key]!==void 0||g.key2&&l[g.key2]!==void 0)||!b)&&g.tempKey)switch(g.type){case"inputMap":if(!g.key2)continue;P(l[g.key])==="Number"&&P(l[g.key2]==="Number")?g.key3?s.value[g.tempKey]={lng:l[g.key],lat:l[g.key2],name:l[g.key3]}:s.value[g.tempKey]={lng:l[g.key],lat:l[g.key2]}:g.key3?s.value[g.tempKey]={lng:null,lat:null,name:null}:s.value[g.tempKey]={lng:null,lat:null};break;case"input":case"inputNumber":case"textarea":l[g.key]&&l[g.key]!=="--"||l[g.key]===0?s.value[g.tempKey]=l[g.key]:s.value[g.tempKey]=null;break;case"select":case"radioGroup":case"checkboxGroup":l[g.key]&&l[g.key]!=="--"||l[g.key]===0||l[g.key]===!1?g.multiple||g.type==="checkboxGroup"?s.value[g.tempKey]=[...l[g.key]]:g.booleanVal?s.value[g.tempKey]=l[g.key]?1:0:s.value[g.tempKey]=l[g.key]:g.multiple||g.type==="checkboxGroup"?s.value[g.tempKey]=[]:s.value[g.tempKey]=null;break;case"date":case"time":if(g.dateType==="date"||g.dateType==="datetime"||g.dateType==="year"||g.dateType==="month"||g.dateType==="time")s.value[g.tempKey]=l[g.key]&&l[g.key]!=="--"?l[g.key]:null;else if(g.dateType==="daterange"||g.dateType==="datetimerange"||g.dateType==="timerange"){if(!g.key2)continue;s.value[g.tempKey]=l[g.key]&&l[g.key]!=="--"&&l[g.key2]&&l[g.key2]!=="--"&&[l[g.key],l[g.key2]]||[]}break}}function Pn(i){if(Array.isArray(i))for(let l of i)ul(l);else P(i)==="Object"&&ul(i)}function ul(i){const{index:l,indexB:b,key:g,val:j}=i;if(typeof l=="number")if(Array.isArray(f.value[l])){if(typeof b=="number")if(g&&(j||j!==void 0))f.value[l][b][g]=j;else for(let H of Object.keys(i))H!=="index"&&g!=="indexB"&&(f.value[l][b][H]=i[H])}else if(g&&(j||j!==void 0))f.value[l][g]=j;else for(let H of Object.keys(i))H!=="index"&&(f.value[l][H]=i[H])}function pl({label:i,root:l}){l.key2&&(o.value[l.key2]=i),Ce({e:i,root:l})}function ml(i){i.beforeKey&&D.remove(u,l=>l===i.beforeKey),i.key&&(u.indexOf(i.key)===-1&&u.push(i.key),Ce({e:null,root:i}))}function yl({name:i,root:l}){l.key2&&(o.value[l.key2]=i),Ce({e:i,root:l})}function hl({e:i,root:l}){Ce({e:i,root:l}),e.nextTick(function(){var b,g;(g=(b=c.value)==null?void 0:b.validateField)==null||g.call(b,l.key)})}function Ce({e:i,root:l}){te(()=>{let b={event:i};if(l.key&&(b[l.key]=o.value[l.key]),l.key2&&(b[l.key2]=o.value[l.key2]),Array.isArray(l.collectLabel))for(let g of l.collectLabel)b[g.key]=o.value[g.key];else l.collectLabel&&l.collectLabel.key&&(b[l.collectLabel.key]=o.value[l.collectLabel.key]);t("on-item-change",b)},500)}function gl(){let i={};for(let l of V.value)i[l]=o.value[l];return a.trim&&(i=Te(i)),i}function zn(){var i,l;(l=(i=c.value)==null?void 0:i.validate)==null||l.call(i)}function Kn(i){te(()=>{var l,b;(b=(l=c.value)==null?void 0:l.validateField)==null||b.call(l,i,()=>{})},10)}function Rn(i){te(()=>{var l,b;if(Array.isArray(i))for(let g of i)(b=(l=c.value)==null?void 0:l.validateField)==null||b.call(l,g,()=>{})},10)}function Un(i){i!==void 0&&(A.value=!!i)}function ht(){var i,l;a.disabled||(l=(i=c.value)==null?void 0:i.validate)==null||l.call(i,b=>{k||(k=!0,b&&(A.value=!0,t("on-submit",gl())),te(()=>{k=!1},2e3))})}return e.onMounted(()=>{O(),re()}),r({resetForm:h,refreshFormDom:K,reRenderForm:N,setItemToValGroup:$e,updateValGroup:dl,updateFormDataT:Pn,validate:zn,reValidate:Kn,changeLoading:Un,getValGroup:gl,submit:ht}),(i,l)=>{const b=e.resolveComponent("FormItem"),g=e.resolveComponent("Button"),j=e.resolveComponent("Form");return e.openBlock(),e.createBlock(j,{ref_key:"formGroupXRef",ref:c,model:e.unref(o),rules:e.unref(B),"label-width":a.labelWidth,inline:a.inline,"show-message":a.showMessage,class:"formXN",key:e.unref(w)},{default:e.withCtx(()=>[e.createVNode(b,{style:{display:"none"}},{default:e.withCtx(()=>[xn]),_:1}),e.unref(L)?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:0},e.renderList(e.unref(f),(H,$)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([i.teamClass,"formTeamBox"+$]),key:"formTeamBox"+$},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(H,(E,U)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:"formItem"+U},[pe(E)?(e.openBlock(),e.createBlock(tl,{key:0,item:E,style:e.normalizeStyle(e.unref(z)),"item-style":e.unref(_),"val-group":e.unref(o),"temp-keys":e.unref(s),inline:a.inline,disabled:a.disabled,"label-width":a.labelWidth,"item-width":a.itemWidth,"mgr-url":e.unref(d),"upload-url":e.unref(S),onItemChange:Ce,onReValidate:hl,onClearTempKeyItem:R,onSelectInputChange:ml,onAlNameChange:yl,onAsyncLabelChange:pl},e.createSlots({_:2},[e.renderList(M(H),ee=>({name:ee.slotName,fn:e.withCtx(fe=>[e.renderSlot(i.$slots,ee.slotName,{valGroup:fe.valGroup})])}))]),1032,["item","style","item-style","val-group","temp-keys","inline","disabled","label-width","item-width","mgr-url","upload-url"])):e.createCommentVNode("",!0)],64))),128))],2))),128)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(f),(H,$)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:"formItem"+$},[!e.unref(L)&&pe(H)?(e.openBlock(),e.createBlock(tl,{key:0,item:H,style:e.normalizeStyle(e.unref(z)),"item-style":e.unref(_),"val-group":e.unref(o),"temp-keys":e.unref(s),inline:a.inline,disabled:a.disabled,"label-width":a.labelWidth,"item-width":a.itemWidth,"mgr-url":e.unref(d),"upload-url":e.unref(S),onItemChange:Ce,onReValidate:hl,onClearTempKeyItem:R,onSelectInputChange:ml,onAlNameChange:yl,onAsyncLabelChange:pl},e.createSlots({_:2},[e.renderList(M(i.formData),E=>({name:E.slotName,fn:e.withCtx(U=>[e.renderSlot(i.$slots,E.slotName,{valGroup:U.valGroup})])}))]),1032,["item","style","item-style","val-group","temp-keys","inline","disabled","label-width","item-width","mgr-url","upload-url"])):e.createCommentVNode("",!0)],64))),128)),a.showLongOkBt?(e.openBlock(),e.createBlock(b,{key:1},{default:e.withCtx(()=>[e.createVNode(g,{onClick:ht,style:e.normalizeStyle(e.unref(_)),type:"primary",loading:a.btnLoading&&e.unref(A),disabled:a.disabled},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(a.longOkBtTxt||e.unref(T)("r.confirm")),1)]),_:1},8,["style","loading","disabled"])]),_:1})):e.createCommentVNode("",!0),e.createElementVNode("div",Ln,[a.showInlineOkBt?(e.openBlock(),e.createBlock(g,{key:0,type:"primary",class:e.normalizeClass({inlineFormBtXN:a.inline,okBtnXN:!0}),onClick:ht,loading:a.btnLoading&&e.unref(A),disabled:a.disabled},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(a.inlineOkBtTxt||e.unref(T)("r.confirm")),1)]),_:1},8,["class","loading","disabled"])):e.createCommentVNode("",!0),a.showInlineClearBt?(e.openBlock(),e.createBlock(g,{key:1,onClick:h,class:e.normalizeClass({inlineFormBtXN:a.inline}),type:"dashed"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(a.inlineClearBtTxt||e.unref(T)("r.clear")),1)]),_:1},8,["class"])):e.createCommentVNode("",!0)])]),_:3},8,["model","rules","label-width","inline","show-message"])}}}),ll=e.defineComponent({__name:"FormGroup",props:{formData:{default:()=>[]},with:{default:"100%"},labelWidth:{default:()=>Ee().formGroupLabelWidth},contentWidth:{default:"70%"},itemWidth:{default:200},showOkBt:{type:Boolean,default:!0},showCancelBt:{type:Boolean,default:!0},okBtTxt:{},cancelBtTxt:{},btnLoading:{type:Boolean,default:!1}},emits:["on-cancel"],setup(n,{expose:r,emit:t}){const a=n,c=e.ref({width:a.with}),o=e.ref(!1),f=e.ref(),s=e.computed(()=>{if(Array.isArray(a.formData))if(Array.isArray(a.formData[0])){let I=[];for(let M of a.formData)I=I.concat(M.filter(p=>p.type==="custom"));return I}else return a.formData.filter(I=>I.type==="custom");return[]});function m(){return new Promise(I=>{var M,p;(p=(M=f.value).resetForm)==null||p.call(M).then(x=>{I(x)})})}function d(){return new Promise(I=>{var M,p;(p=(M=f.value).refreshFormDom)==null||p.call(M).then(x=>{I(x)})})}function u(){return new Promise(I=>{var M,p;(p=(M=f.value).reRenderForm)==null||p.call(M).then(x=>{I(x)})})}function y(I,M){var p,x;(x=(p=f.value).setItemToValGroup)==null||x.call(p,I,M)}function A(I,M){var p,x;(x=(p=f.value).updateValGroup)==null||x.call(p,I,M)}function w(I){var M,p;(p=(M=f.value).updateFormDataT)==null||p.call(M,I)}function S(){var I,M;(M=(I=f.value).validate)==null||M.call(I)}function k(I){var M,p;(p=(M=f.value).reValidate)==null||p.call(M,I)}function L(I){var M,p;I!==void 0&&(o.value=!!I,(p=(M=f.value).changeLoading)==null||p.call(M,o.value))}function z(){var I,M;return(M=(I=f.value).getValGroup)==null?void 0:M.call(I)}function _(){o.value=!0}function B(){var I,M;(M=(I=f.value).submit)==null||M.call(I)}function V(){t("on-cancel"),te(()=>{var I,M;o.value=!1,(M=(I=f.value).changeLoading)==null||M.call(I,!1)},1e3)}return r({resetForm:m,refreshFormDom:d,reRenderForm:u,setItemToValGroup:y,updateValGroup:A,updateFormDataT:w,validate:S,reValidate:k,changeLoading:L,getValGroup:z,submit:B,close:V}),(I,M)=>{const p=e.resolveComponent("Button");return e.openBlock(),e.createElementBlock("div",{style:e.normalizeStyle(e.unref(c)),class:"formGroupBoxVM"},[e.createVNode(Le,e.mergeProps({ref_key:"formRRef",ref:f},I.$attrs,{"form-data":a.formData,"label-width":a.labelWidth,"content-width":a.contentWidth,"item-width":a.itemWidth,btnLoading:a.btnLoading,onOnSubmit:_}),e.createSlots({_:2},[e.renderList(e.unref(s),x=>({name:x.slotName,fn:e.withCtx(({valGroup:h})=>[e.renderSlot(I.$slots,x.slotName,{valGroup:h})])}))]),1040,["form-data","label-width","content-width","item-width","btnLoading"]),e.withDirectives(e.createElementVNode("div",{class:"formFooterVM",style:e.normalizeStyle({marginLeft:a.labelWidth+"px"})},[e.createElementVNode("div",{style:e.normalizeStyle({width:a.contentWidth}),class:"btnBoxKAL"},[a.showOkBt?(e.openBlock(),e.createBlock(p,{key:0,onClick:B,class:"form-save-btn",loading:a.btnLoading&&e.unref(o)},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(a.okBtTxt||e.unref(T)("r.confirm")),1)]),_:1},8,["loading"])):e.createCommentVNode("",!0),a.showCancelBt?(e.openBlock(),e.createBlock(p,{key:1,onClick:V,class:"form-cancel-btn"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(a.cancelBtTxt||e.unref(T)("r.cancel")),1)]),_:1})):e.createCommentVNode("",!0)],4)],4),[[e.vShow,a.showOkBt||a.showCancelBt]])],4)}}}),nl=e.defineComponent({__name:"SearchForm",props:{formData:{default:()=>[]},labelWidth:{default:()=>Ee().searchFormLabelWidth},itemWidth:{default:202},showInlineOkBt:{type:Boolean,default:!0},showInlineClearBt:{type:Boolean,default:!0}},emits:["on-search"],setup(n,{expose:r,emit:t}){const a=n,c=e.ref(),o=e.computed(()=>{if(Array.isArray(a.formData[0])){let _=[];for(let B of a.formData)_=_.concat(B.filter(V=>V.type==="custom"));return _}return a.formData.filter(_=>_.type==="custom")});function f(){return new Promise(_=>{var B,V;(V=(B=c.value).resetForm)==null||V.call(B).then(()=>{_()})})}function s(){return new Promise(_=>{var B,V;(V=(B=c.value).refreshFormDom)==null||V.call(B).then(()=>{_()})})}function m(){return new Promise(_=>{var B,V;(V=(B=c.value).reRenderForm)==null||V.call(B).then(()=>{_()})})}function d(_,B){var V,I;(I=(V=c.value).setItemToValGroup)==null||I.call(V,_,B)}function u(_,B){var V,I;(I=(V=c.value).updateValGroup)==null||I.call(V,_,B)}function y(_){var B,V;(V=(B=c.value).updateFormDataT)==null||V.call(B,_)}function A(){var _,B;(B=(_=c.value).validate)==null||B.call(_)}function w(_){var B,V;(V=(B=c.value).reValidate)==null||V.call(B,_)}function S(_){var B,V;(V=(B=c.value).changeLoading)==null||V.call(B,_===void 0?!1:_)}function k(){var _,B;return(B=(_=c.value).getValGroup)==null?void 0:B.call(_)}function L(_){t("on-search",_)}function z(){var _,B;(B=(_=c.value).submit)==null||B.call(_)}return r({resetForm:f,refreshFormDom:s,reRenderForm:m,setItemToValGroup:d,updateValGroup:u,updateFormDataT:y,validate:A,reValidate:w,changeLoading:S,getValGroup:k,submit:z}),(_,B)=>(e.openBlock(),e.createBlock(Le,e.mergeProps({ref_key:"formRRef",ref:c},_.$attrs,{"form-data":a.formData,"label-width":a.labelWidth,"item-width":a.itemWidth,inline:"","show-long-ok-bt":!1,"show-inline-ok-bt":a.showInlineOkBt,"inline-ok-bt-txt":e.unref(T)("r.check"),"show-inline-clear-bt":a.showInlineClearBt,"show-message":!1,onOnSubmit:L}),e.createSlots({_:2},[e.renderList(e.unref(o),V=>({name:V.slotName,fn:e.withCtx(({valGroup:I})=>[e.renderSlot(_.$slots,V.slotName,{valGroup:I})])}))]),1040,["form-data","label-width","item-width","show-inline-ok-bt","inline-ok-bt-txt","show-inline-clear-bt"]))}}),al=e.defineComponent({__name:"FormModal",props:{title:{},formData:{default:()=>[]},width:{default:520},labelWidth:{default:()=>Ee().formModalLabelWidth},okBtTxt:{},cancelBtTxt:{},hideCancelBt:{type:Boolean,default:!1},hideFooter:{type:Boolean,default:!1},btnLoading:{type:Boolean,default:!1}},emits:["on-close","on-open"],setup(n,{expose:r,emit:t}){const a=n,c=e.ref(),o=e.ref(!1),f=e.ref(!1),s=e.computed(()=>{if(Array.isArray(a.formData[0])){let p=[];for(let x of a.formData)p=p.concat(x.filter(h=>h.type==="custom"));return p}return a.formData.filter(p=>p.type==="custom")});function m(){return new Promise(p=>{var x,h;(h=(x=c.value).resetForm)==null||h.call(x).then(()=>{p()})})}function d(){return new Promise(p=>{var x,h;(h=(x=c.value).refreshFormDom)==null||h.call(x).then(()=>{p()})})}function u(){return new Promise(p=>{var x,h;(h=(x=c.value).reRenderForm)==null||h.call(x).then(()=>{p()})})}function y(p,x){var h,N;(N=(h=c.value).setItemToValGroup)==null||N.call(h,p,x)}function A(p,x){var h,N;(N=(h=c.value).updateValGroup)==null||N.call(h,p,x)}function w(p){var x,h;(h=(x=c.value).updateFormDataT)==null||h.call(x,p)}function S(){var p,x;(x=(p=c.value).validate)==null||x.call(p)}function k(p){var x,h;(h=(x=c.value).reValidate)==null||h.call(x,p)}function L(p){var x,h;p!==void 0&&(f.value=!!p,(h=(x=c.value).changeLoading)==null||h.call(x,f.value))}function z(){var p,x;return(x=(p=c.value).getValGroup)==null?void 0:x.call(p)}function _(){f.value=!0}function B(){var p,x;a.hideCancelBt?I():(x=(p=c.value).submit)==null||x.call(p)}function V(){o.value=!0}function I(){o.value=!1,te(()=>{var p,x;f.value=!1,(x=(p=c.value).changeLoading)==null||x.call(p,!1)},1e3)}function M(p){t(p?"on-open":"on-close")}return r({resetForm:m,refreshFormDom:d,reRenderForm:u,setItemToValGroup:y,updateValGroup:A,updateFormDataT:w,validate:S,reValidate:k,changeLoading:L,getValGroup:z,submit:B,open:V,close:I}),(p,x)=>{const h=e.resolveComponent("Button"),N=e.resolveComponent("Modal");return e.openBlock(),e.createBlock(N,{class:e.normalizeClass(["formModal",{hideFooter:a.hideFooter}]),title:a.title||e.unref(T)("r.title"),modelValue:e.unref(o),"onUpdate:modelValue":x[0]||(x[0]=K=>e.isRef(o)?o.value=K:null),"mask-closable":!1,"footer-hide":a.hideFooter,width:a.width,onOnVisibleChange:M},{footer:e.withCtx(()=>[e.createVNode(h,{onClick:B,class:"modal-save-btn",loading:a.btnLoading&&e.unref(f)},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(a.okBtTxt||e.unref(T)("r.confirm")),1)]),_:1},8,["loading"]),a.hideCancelBt?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(h,{key:0,onClick:I,class:"modal-cancel-btn"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(a.cancelBtTxt||e.unref(T)("r.cancel")),1)]),_:1}))]),default:e.withCtx(()=>[e.createVNode(Le,e.mergeProps({ref_key:"formRRef",ref:c},p.$attrs,{"form-data":a.formData,"label-width":a.labelWidth,btnLoading:a.btnLoading,onOnSubmit:_}),e.createSlots({_:2},[e.renderList(e.unref(s),K=>({name:K.slotName,fn:e.withCtx(({valGroup:W})=>[e.renderSlot(p.$slots,K.slotName,{valGroup:W})])}))]),1040,["form-data","label-width","btnLoading"])]),_:3},8,["title","modelValue","footer-hide","class","width"])}}}),ol=Object.freeze(Object.defineProperty({__proto__:null,AlCascaderMC:ct,AsyncCascader:st,BtTablePage:Zt,EditorPro:ut,FormGroup:ll,FormModal:al,FormR:Le,FullPop:Ct,HeaderBt:He,Hello:St,IconTxtBtn:_t,InputMap:rt,MonthRange:ft,Page404:At,SearchForm:nl,SelectInput:ot,ShowHidePanel:jt,ShowHidePanelB:Wt,SideMenu:Gt,TableIconBtn:Ht,TableSearch:vt,TableSetting:qt,UploadGroup:dt},Symbol.toStringTag,{value:"Module"}));function pt(n){const r=(...o)=>ye.apply(this,o),t=r("r.closePreview"),a=r("r.fullImg");let c="previewImg"+Math.floor(Math.random()*1e7);le.Modal.info({closable:!1,"transition-names":["linear","fade"],render:o=>e.h("div",{class:"previewModal",id:c},[e.h("div",{class:"previewModalInner"},[e.h("img",{src:n,alt:a}),e.h(le.Icon,{type:"md-close",size:20,title:t,class:"previewModalDelete",onClick(){le.Modal.remove()}})])])}),te(()=>{var s,m,d,u,y,A;const o=(u=(d=(m=(s=document.getElementById(c))==null?void 0:s.parentElement)==null?void 0:m.parentElement)==null?void 0:d.parentElement)==null?void 0:u.parentElement,f=(A=(y=document.getElementById(c))==null?void 0:y.parentElement)==null?void 0:A.nextSibling;o&&(o.style.height="0"),o&&(o.style.padding="0"),f&&(f.style.display="none")},10)}let Ne=!1;function mt({height:n,width:r=416,title:t,content:a,onOk:c,onCancel:o,okText:f,cancelText:s,noWarnIcon:m,footerAlign:d,cancelBt:u=!0}){const y=(...k)=>ye.apply(this,k);let w=(n&&Number(n)-90>100?Number(n)-90+"px":0)||"100px",S=P(a)==="String";le.Modal.warning({width:r,footerHide:!0,render:()=>e.h("div",{class:"customMessageBox",style:{height:w}},[e.h("div",{class:"containerN"},[e.h("div",{class:"titleN"},[e.h("span",t||y("r.info.title")),e.h(le.Button,{class:"fr closeN",type:"text",onClick(){Ne||le.Modal.remove()}},()=>e.h("i",{class:"ivu-icon ivu-icon-ios-close",style:{fontSize:"30px"}}))]),e.h("div",{class:"contentN",style:{textAlign:S?"center":"left"}},[e.h("i",{class:S&&!m?"ivu-icon ivu-icon-ios-alert-outline":"hide",style:{fontSize:"60px",color:"#f8bb86"}}),e.h("div",{class:"msgBoxConO"},a||y("r.info.text"))]),e.h("div",{class:"footerN",style:{textAlign:d||"center"}},[e.h(le.Button,{class:"okBtN",onClick(k){var L,z,_,B,V,I,M,p,x;if(c&&typeof c=="function"){const h=c();if(h&&P(h)==="Promise"){Ne=!0;const N=(k==null?void 0:k.currentTarget)||(k==null?void 0:k.target);N&&((z=(L=N.classList)==null?void 0:L.add)==null||z.call(L,"ivu-btn-loading"),(B=(_=N.nextSibling)==null?void 0:_.setAttribute)==null||B.call(_,"disabled","disabled"),(x=(p=((M=(I=(V=N.parentElement)==null?void 0:V.parentElement)==null?void 0:I.querySelector)==null?void 0:M.call(I,".titleN .closeN")).classList)==null?void 0:p.add)==null||x.call(p,"disabled")),Promise.resolve(h).then(()=>{Ne=!1,le.Modal.remove()}).catch(()=>{Ne=!1,le.Modal.remove()})}else le.Modal.remove()}}},()=>[e.h("i",{class:"ivu-load-loop ivu-icon ivu-icon-ios-loading"}),e.h("span",f||y("r.confirm"))]),e.h(le.Button,{class:["cancelBtN",!u&&"hide"],onClick(){Ne||(le.Modal.remove(),P(o)==="Function"&&o&&o())}},()=>s||y("r.cancel"))])])])})}function yt(n,r,t,a){const c=(...o)=>ye.apply(this,o);ie.call(this,{title:n||c("r.info.title"),text:r||c("r.info.text"),icon:t||"warning",onOk:a,buttons:[c("r.cancel")]})}(()=>{if(window.wangeditorMenuInit)return;class n{constructor(){Me(this,"title");Me(this,"iconSvg");Me(this,"tag");Me(this,"alwaysEnable");this.title=ye("r.preview"),this.iconSvg='<svg t="1656644788547" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="12356" width="256" height="256"><path d="M512 1024H135.4C60.7 1024 0 963.3 0 888.6V135.4C0 60.7 60.7 0 135.4 0h753.2C963.3 0 1024 60.7 1024 135.4V512c0 24.9-20.1 45-45 45s-45-20.1-45-45V135.4c0-25-20.4-45.4-45.4-45.4H135.4c-25 0-45.4 20.4-45.4 45.4v753.2c0 25 20.4 45.4 45.4 45.4H512c24.9 0 45 20.1 45 45s-20.1 45-45 45z" p-id="12357"></path><path d="M512 802c-77.5 0-150.3-30.2-205.1-84.9C252.2 662.3 222 589.5 222 512s30.2-150.3 84.9-205.1S434.5 222 512 222s150.3 30.2 205.1 84.9C771.8 361.7 802 434.5 802 512s-30.2 150.3-84.9 205.1C662.3 771.8 589.5 802 512 802z m0-490c-110.3 0-200 89.7-200 200s89.7 200 200 200 200-89.7 200-200-89.7-200-200-200z" p-id="12358"></path><path d="M978.5 1023.5c-11.5 0-23-4.4-31.8-13.2L653.2 716.8c-17.6-17.6-17.6-46.1 0-63.6 17.6-17.6 46.1-17.6 63.6 0l293.5 293.5c17.6 17.6 17.6 46.1 0 63.6-8.8 8.8-20.3 13.2-31.8 13.2z" p-id="12359"></path></svg>',this.tag="button",this.alwaysEnable=!0}getValue(){return""}isActive(){return!1}isDisabled(){return!1}exec(a){const c=document.getElementById("editor-preview");let o=localStorage.getItem("editorPreviewW")||300,f=localStorage.getItem("editorPreviewH")||500;const s=a.getHtml();if(c){let m=c.children[0].children[1].children[0],d=c.children[0].children[1];m.innerHTML=s,m.style.width=o+"px",d.style.height=f+"px",c.style.display="block"}else{const m=document.body,d=document.createElement("div");d.setAttribute("id","editor-preview"),d.setAttribute("class","editor-preview-mask"),d.innerHTML=`<div class='editor-preview-body'><div class='editor-preview-head'><div><span>宽</span><input type='number' value='${o}' min='200'><span>高</span><input type='number' value='${f}' min='300'></div><i class='ivu-icon ivu-icon-md-close'></i></div><div class='editor-preview-out-wall'><div class='editor-preview-wall r-editor-view'></div></div></div>`;let u=d.children[0].children[1],y=d.children[0].children[1].children[0],A=d.children[0].children[0].children[0].children[1];const w=40,S=70,k=B=>{if(B&&B.type==="keyup"){let M=!1;if(B.key&&(M=B.key!=="Enter"),M)return}let V=B.target.value;if(V=Number(V),y.style&&y.style.width===V+"px")return;const I=m.clientWidth;V<250?(V=250,B.target.value=250):V>I-w&&(V=I-w,B.target.value=I-w),y.style.width=V+"px",localStorage.setItem("editorPreviewW",V)};A.addEventListener("blur",k),A.addEventListener("keyup",k);let L=d.children[0].children[0].children[0].children[3];const z=B=>{if(B&&B.type==="keyup"){let M=!1;if(B.key&&(M=B.key!=="Enter"),M)return}let V=B.target.value;if(V=Number(V),u.style&&u.style.height===V+"px")return;const I=m.clientHeight;V<300?(V=300,B.target.value=300):V>I-S&&(V=I-S,B.target.value=I-S),u.style.height=V+"px",localStorage.setItem("editorPreviewH",V)};L.addEventListener("blur",z),L.addEventListener("keyup",z),d.children[0].children[0].children[1].addEventListener("click",()=>{d.style.display="none"}),y.innerHTML=s,y.style.width=o+"px",u.style.height=f+"px",m.append(d)}}}const r={key:"previewX",factory(){return new n}};Vl.Boot.registerMenu(r),window.wangeditorMenuInit=!0})();const il={$fetch:ue,fullScreenImgByDom:ge,fullScreenImgPreview:pt,$swal:ie,$swalConfirm:yt,messageBox:mt,setInterval:at,setTimeout:te,...$t},Nn=function(n,r={}){ue.init(r.useStore||r.store,n),r.locale&&Fe.use(r.locale),r.i18n&&Fe.i18n(r.i18n),r.router&&Hl(r.router),r.amap&&rn(r.amap),r.notRegistryGlobal||(Object.keys(ol).forEach(t=>{n.component(t)||n.component(t,ol[t])}),Object.keys(il).forEach(t=>{n.config.globalProperties[t]=il[t]})),n.directive("has")||n.directive("has",(t,a)=>{a.value&&!Ze(a.value)&&(t.style.display="none")}),n.directive("loadmore")||n.directive("loadmore",(t,a)=>{let c;a.arg?c=t.querySelector("."+a.arg):c=t.querySelector(".ivu-select-dropdown")||t,c.addEventListener("scroll",function(){c.scrollTop>0&&c.scrollHeight-c.scrollTop<=c.clientHeight&&a.value()})}),n.config.globalProperties.searchFormLabelWidth=84,n.config.globalProperties.formModalLabelWidth=140,n.config.globalProperties.formGroupLabelWidth=160,n.config.globalProperties.iconTxtBtnIconSize=17},Mn=Fe.use,On=Fe.i18n,Dn={locale:Mn,i18n:On,install:Nn,...$t,...Fl,$fetch:ue,fullScreenImgByDom:ge,fullScreenImgPreview:pt,$swal:ie,$swalConfirm:yt,messageBox:mt,setInterval:at,setTimeout:te};C.$fetch=ue,C.$swal=ie,C.$swalConfirm=yt,C.AlCascaderMC=ct,C.AsyncCascader=st,C.BtTablePage=Zt,C.EditorPro=ut,C.FormGroup=ll,C.FormModal=al,C.FormR=Le,C.FullPop=Ct,C.HeaderBt=He,C.Hello=St,C.IconTxtBtn=_t,C.InputMap=rt,C.MonthRange=ft,C.Page404=At,C.SearchForm=nl,C.SelectInput=ot,C.ShowHidePanel=jt,C.ShowHidePanelB=Wt,C.SideMenu=Gt,C.TableIconBtn=Ht,C.TableSearch=vt,C.TableSetting=qt,C.UploadGroup=dt,C.clearObj=Ke,C.dataFilterOrToUrl=Rt,C.decimalDigitsLimit=Dt,C.default=Dn,C.downloadFileByFormSubmit=Je,C.downloadFileReaderFile=We,C.emptyInput=xt,C.fakeALinkClick=ve,C.fileExport=Ft,C.findCollection=we,C.findPath=Ie,C.formDataHeadConfig=Nt,C.fullScreenImgByDom=ge,C.fullScreenImgPreview=pt,C.getColumnsKeys=Et,C.getFileSrc=_e,C.getFileTypeByName=Pe,C.getFileTypeIconByName=ze,C.getStringWidth=qe,C.hasPermission=Ze,C.htmlDecode=Tt,C.htmlEncode=It,C.htmlPrint=Ut,C.isEmptyValue=zt,C.isImgByFile=Ae,C.isNaN=et,C.isNumberValue=Pt,C.isValidValue=X,C.messageBox=mt,C.myTypeof=P,C.oneOf=Ot,C.removeEmptyValue=Re,C.setInterval=at,C.setTimeout=te,C.setValByOption=Qe,C.siblingElems=tt,C.stopBubbling=Lt,C.stringLength=Kt,C.toFormData=Mt,C.toHump=je,C.toLine=Ye,C.tooltipManual=Xe,C.trimObj=Te,Object.defineProperties(C,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
//# sourceMappingURL=plugRQw.umd.cjs.map
