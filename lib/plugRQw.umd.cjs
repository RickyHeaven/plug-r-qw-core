(function(V,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue"),require("deepmerge"),require("lodash-es"),require("sweetalert"),require("view-ui-plus"),require("vue-router"),require("vue-i18n"),require("axios"),require("ar-cascader"),require("@wangeditor/editor-for-vue"),require("moment"),require("@wangeditor/editor")):typeof define=="function"&&define.amd?define(["exports","vue","deepmerge","lodash-es","sweetalert","view-ui-plus","vue-router","vue-i18n","axios","ar-cascader","@wangeditor/editor-for-vue","moment","@wangeditor/editor"],e):(V=typeof globalThis<"u"?globalThis:V||self,e(V.plugRQw={},V.Vue,V.deepmerge,V.lodashEs,V.swal,V.ViewUIPlus,V.VueRouter,V.VueI18n,V.axios,V.ArCascader,V.editorForVue,V.moment,V.editor))})(this,function(V,e,he,A,Ee,Z,Vt,kl,ve,wl,Ct,Ce,Bl){var cl,dl;"use strict";var Pn=Object.defineProperty;var Rn=(V,e,he)=>e in V?Pn(V,e,{enumerable:!0,configurable:!0,writable:!0,value:he}):V[e]=he;var De=(V,e,he)=>(Rn(V,typeof e!="symbol"?e+"":e,he),he);const St={r:{locale:"zh-CN",testMsg:"测试国际化",confirm:"确定",cancel:"取消",clear:"清空",info:{title:"提示",text:"确定执行该操作？"},http:{403:"登录状态失效,请重新登录！",409:"该账号已在其他地方登录,点击确定退出。"},pSelect:"请选择",pInput:"请输入",selectDate:"选择日期",selectTime:"选择时间",search:"搜索",level:{1:"一级",2:"二级",3:"三级"},unknown:"未知",title:"标题",required:"该项为必填",back:"返回",button:"按钮",check:"查询",adSearch:"高级查询",all:"全选",tabSetting:" 列表显示设置",delete:"删除",fView:"全屏预览",download:"点击下载",file:"文件",selectFile:"选择文件",notImg:"文件不是图片，不可预览",wrongFileType:"文件类型不被允许",supportType:"支持类型：",none:"无",fileIsBig:"文件过大",supportSize:"支持最大：",uploadError:"上传出错",uploadFail:"上传失败",closePreview:"关闭预览",fullImg:"全屏图片",preview:"预览",searchFor:"当前搜索：",noMore:"没有更多数据了",optionLabel:"选项",getDataError:"拉取数据出错",add:"添加",remove:"移除",addAll:"全部添加",removeAll:"全部移除",added:"已添加",notAdded:"未添加",success:"成功",failed:"失败",error:"出错",pageNotFound:"页面没找到",notFoundMsg:"您访问的页面不存在，点击下面按钮返回上一个页面。",hideMenu:"隐藏菜单",showMenu:"显示菜单"}},Vl=/(%|){([0-9a-zA-Z_]+)}/g;function Cl(){function n(t,o){return Object.prototype.hasOwnProperty.call(t,o)}function s(t,...o){let d;return o.length===1&&typeof o[0]=="object"&&(d=o[0]),(!d||!d.hasOwnProperty)&&(d={}),t===void 0?"":t.replace(Vl,(a,u,r,p)=>{let c;return t[p-1]==="{"&&t[p+a.length]==="}"?r:(c=n(d,r)?d[r]:null,c??"")})}return s}const Sl=Cl();let Ke=St;const Al={zh:St};let At,_t={},ee,_l=function(n,s){if(typeof this=="object"&&Reflect.has(this,"$t"))return this.$t(n,s);if(ee&&ee.global)return ee.global.t(n,s);if(ee&&ee.locale){if(!_t[ee.locale]||At!=ee.locale){_t[ee.locale]=!0;let t=ee.getLocaleMessage(ee.locale)||{},o=he(Al[ee.locale],t,{clone:!0});Ke=o,ee.setLocaleMessage(ee.locale,o),At=ee.locale}return ee.hlang(n,s)}};const de=function(n,s){let t=_l.apply(this,[n,s]);if(t!=null)return t;const o=n.split(".");let d=Ke;for(let a=0,u=o.length;a<u;a++){const r=o[a];if(t=d[r],a===u-1)return Sl(t,s);if(!t)return"";d=t}return""},Fe={use:function(n){Ke=n||Ke},t:de,i18n:function(n){ee=n}};function S(n,s){var o;const t=(o=e.getCurrentInstance())==null?void 0:o.appContext.config.globalProperties;return de.apply(t,[n,s])}const qe=e.defineComponent({__name:"HeaderBt",props:{icon:{},withIcon:{type:Boolean,default:!1},iconSize:{default:18},color:{default:"inherit"},borderColor:{default:"#fff"},disabled:{type:Boolean,default:!1}},emits:["click"],setup(n,{emit:s}){const t=n;function o(){t.disabled||s("click")}return(d,a)=>{const u=e.resolveComponent("Icon");return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass({headerBtCTM:!0,withIconCTM:t.icon||t.withIcon,disabled:t.disabled}),style:e.normalizeStyle({color:t.color,borderLeftColor:t.borderColor}),onClick:o},[t.icon?(e.openBlock(),e.createBlock(u,{key:0,size:t.iconSize,type:t.icon},null,8,["size","type"])):e.createCommentVNode("",!0),e.renderSlot(d.$slots,"default")],6)}}}),Il={class:"headerTxtAM"},Nl={class:"contentAM"},It=e.defineComponent({__name:"FullPop",props:{title:{},headerColor:{},headerBg:{},headerFontSize:{default:12},zIndex:{default:1e3}},emits:["on-open","on-close"],setup(n,{expose:s,emit:t}){const o=n;let d=e.ref(!1);const a=e.computed(()=>typeof o.headerFontSize=="number"?o.headerFontSize+"px":o.headerFontSize),u=e.computed(()=>({zIndex:o.zIndex}));function r(){d.value=!0,t("on-open")}function p(c){d.value=!1,t("on-close",c===!0)}return s({open:r,close:p}),(c,f)=>e.withDirectives((e.openBlock(),e.createElementBlock("div",{class:"fullScreenPopBoxAM",style:e.normalizeStyle(e.unref(u))},[e.createElementVNode("div",{class:"headerAM",style:e.normalizeStyle({color:o.headerColor,backgroundColor:o.headerBg,fontSize:e.unref(a)})},[e.createElementVNode("span",Il,e.toDisplayString(c.title||e.unref(S)("r.title")),1),e.createVNode(qe,{icon:"md-return-left",onClick:p},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(S)("r.back")),1)]),_:1})],4),e.createElementVNode("div",Nl,[e.renderSlot(c.$slots,"default")])],4)),[[e.vShow,e.unref(d)]])}}),Ol={class:"msg"},Nt=e.defineComponent({__name:"Hello",setup(n){let s=e.ref("Greetings from Ricky.");return(t,o)=>(e.openBlock(),e.createElementBlock("span",Ol,e.toDisplayString(e.unref(s)),1))}}),Ot=e.defineComponent({__name:"IconTxtBtn",props:{name:{},icon:{default:"md-download"},size:{default:17},disabled:{type:Boolean,default:!1},has:{default:""}},emits:["click"],setup(n,{emit:s}){const t=n,o=e.computed(()=>Math.floor(t.size/17*12)+"px");function d(a){t.disabled||s("click",a)}return(a,u)=>{const r=e.resolveComponent("Icon"),p=e.resolveDirective("has");return e.withDirectives((e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["tabTopBtnsT",{disabled:t.disabled}]),onClick:d,style:e.normalizeStyle({"font-size":e.unref(o)})},[e.createVNode(r,{type:t.icon,size:t.size},null,8,["type","size"]),e.createTextVNode(" "+e.toDisplayString(t.name||e.unref(S)("r.button")),1)],6)),[[p,a.has]])}}}),Tl={class:"c404K"},Ml=e.createElementVNode("div",{class:"t404"},"404",-1),xl={class:"ct404"},Ll={class:"p404"},Tt=e.defineComponent({__name:"Page404",setup(n){const t=e.getCurrentInstance().appContext.config.globalProperties.$router;function o(){t.go(-1)}return(d,a)=>{const u=e.resolveComponent("Button");return e.openBlock(),e.createElementBlock("div",Tl,[Ml,e.createElementVNode("div",xl,"UH OH! "+e.toDisplayString(e.unref(S)("r.pageNotFound")),1),e.createElementVNode("div",Ll,e.toDisplayString(e.unref(S)("r.notFoundMsg")),1),e.createVNode(u,{class:"bt404",onClick:o},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(S)("r.back")),1)]),_:1})])}}});function oe(n,s,t){const o=(...d)=>de.apply(this,d);return new Promise((d,a)=>{if(typeof n=="object"&&!Array.isArray(n)){let u=o("r.confirm"),r=o("r.cancel"),p=!1,c="swalConfirmBt",f="swalCancelBt";const m=/^HTML.*Element$/;n.type&&(n.icon=n.type)&&delete n.type,n.content&&(n.text=n.content)&&delete n.content,n.className=n.className||"swalBoxX";let b="";n.text&&m.test(M(n.text))?b="content":n.text&&M(n.text)==="String"&&(b="text"),n.buttons&&(typeof n.buttons=="object"&&!Array.isArray(n.buttons)?n.buttons.cancel&&(n.buttons.cancel.text&&(r=n.buttons.cancel.text)&&(p=!0),n.buttons.cancel.className&&(f=n.buttons.cancel.className),n.buttons.confirm.text&&(u=n.buttons.confirm.text),n.buttons.confirm.className&&(c=n.buttons.confirm.className)):Array.isArray(n.buttons)&&(n.buttons[0]&&(r=n.buttons[0],p=!0),n.buttons[1]&&(u=n.buttons[1]))),Ee({title:n.title,icon:n.icon,className:n.className,[b]:n.text,buttons:{confirm:{text:u,value:!0,visible:!0,className:c},cancel:{text:r,value:null,visible:p,className:f}}}).then(C=>{C&&typeof n.onOk=="function"&&n.onOk(),d(C)}).catch(C=>{a(C)})}else if(typeof n=="string"){let u="";if(s)switch(typeof s){case"string":u="text";break;case"object":u="content";break}Ee({title:n,[u]:s||"",icon:t||"",className:"swalBoxX",buttons:{confirm:{text:o("r.confirm"),value:!0,visible:!0,className:"swalConfirmBt",closeModal:!0}}}).then(r=>{d(r)}).catch(r=>{a(r)})}else if(typeof n=="boolean")!n&&Ee.close&&Ee.close();else throw new TypeError("swal第一个参数类型有误，仅支持Object/String/false")})}function Ye(n){return n.replace(/_(\w)/g,function(s,t){return t.toUpperCase()})}function Mt(n){let s=document.createElement("div");return s.textContent!==void 0?s.textContent=n:s.innerText=n,s.innerHTML}function xt(n){let s=document.createElement("div");return s.innerHTML=n,s.innerText||s.textContent}function Se(n){return new Promise(s=>{let t=new FileReader;t.readAsDataURL(n),t.onloadend=()=>{s(t.result)}})}function ze(n){return n.split(".").pop().toLocaleLowerCase()}function Ae(n){return M(n)==="String"&&n.indexOf("image")>-1}function Ue(n){const s=ze(n);let t="ios-document-outline";return["gif","jpg","jpeg","png","bmp","webp"].indexOf(s)>-1?t="ios-image":["mp4","m3u8","rmvb","avi","swf","3gp","mkv","flv"].indexOf(s)>-1?t="ios-film":["mp3","wav","wma","ogg","aac","flac"].indexOf(s)>-1?t="ios-musical-notes":["doc","txt","docx","pages","epub","pdf"].indexOf(s)>-1?t="md-document":["numbers","csv","xls","xlsx"].indexOf(s)>-1?t="ios-stats":["keynote","ppt","pptx"].indexOf(s)>-1&&(t="ios-videocam"),t}function Je(n,s){let t=document.createElement("a");t.href=s,t.download=n,Xe(t)}function Xe(n){let s=document.createEvent("MouseEvents");s.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(s)}function _e({group:n,condition:s,pathKey:t,childKey:o="children",path:d=[]}){if(n&&A.isObject(n)){if(A.isFunction(s)){if(A.isPlainObject(n)){let a=n,u=A.cloneDeep(d);if(s(a))return t&&a[t]&&u.push(a[t]),u;if(a[o]&&!A.isEmpty(a[o])){t&&a[t]&&u.push(a[t]);let r=_e({group:a[o],condition:s,pathKey:t,childKey:o,path:u});if(!A.isEmpty(r))return r}}else if(Array.isArray(n))for(let a of n){let u=A.cloneDeep(d);if(s(a))return t&&a[t]?u.push(a[t]):u.push(String(n.indexOf(a))),u;if(a[o]&&a[o].length>0){t&&a[t]?u.push(a[t]):u.push(String(n.indexOf(a)));let r=_e({group:a[o],condition:s,pathKey:t,childKey:o,path:u});if(!A.isEmpty(r))return r}}}else if(Array.isArray(n))for(let a of n){let u=A.cloneDeep(d);if(a===s)return u.push(String(n.indexOf(a))),u}}return[]}function Qe(n,s=12){if(M(n)==="String"&&n.length>0){let t=document.createElement("span");t.style.fontSize=s+"px",t.style.fontFamily="inherit",t.innerHTML=n,t.style.opacity="0",t.style.position="fixed",t.style.top="3000px",document.body.append(t);const o=t.clientWidth;return document.body.removeChild(t),o}return 0}function Lt(n){return n===""?null:n}function Dt(n){n=n||window.Event,n.stopPropagation?n.stopPropagation():n.cancelBubble=!0}const Dl=Object.freeze(Object.defineProperty({__proto__:null,downloadFileReaderFile:Je,emptyInput:Lt,fakeALinkClick:Xe,findPath:_e,getFileSrc:Se,getFileTypeByName:ze,getFileTypeIconByName:Ue,getStringWidth:Qe,htmlDecode:xt,htmlEncode:Mt,isImgByFile:Ae,stopBubbling:Dt,toHump:Ye},Symbol.toStringTag,{value:"Module"}));function M(n){return Object.prototype.toString.call(n).replace(/\[object |]/g,"")}function Ze(n){return n.replace(/([A-Z])/g,"_$1").toLowerCase()}function Ie(n){let s=M(n);if(s==="Object"){for(let t in n)if(n.hasOwnProperty(t)){let o=M(n[t]);o==="String"?n[t]=n[t].trim():(o==="Object"||o==="Array")&&Ie(n[t])}}else if(s==="Array")for(let t=0,o=n.length;t<o;t++){let d=M(n[t]);d==="String"?n[t]=n[t].trim():(d==="Array"||d==="Object")&&Ie(n[t])}return n}function Pe(n,s=[]){if(M(n)==="Array")return n.forEach((t,o)=>{switch(M(t)){case"Array":case"Object":Pe(t);break;default:n[o]=null}}),n;if(M(n)==="Object"){for(let t in n)if(n.hasOwnProperty(t)){let o=!0;for(let d of s)if(d===t){o=!1;break}if(o)switch(M(n[t])){case"Array":case"Object":Pe(n[t]);break;default:n[t]=null}}return n}else return n}const Et={headers:{"Content-Type":"multipart/form-data"}};function Kt(n){let s=new FormData;for(let t in n)n.hasOwnProperty(t)&&n[t]!==null&&s.append(t,n[t]);return s}function ge(n,s,t=!1){if(!n||!s)return!1;let o,d="notFoundC",a=function(u,r){if(Array.isArray(u)){if(M(r)==="Function"&&r(u))return d=u,[];for(let p of u){if(d!=="notFoundC")break;if(M(r)==="Function"&&r(p)||p===r)return d=p,[u.indexOf(p)];if(M(p)==="Array"||M(p)==="Object"){let c=a(p,r);if(c!==void 0)return[u.indexOf(p),...c]}}}else if(M(u)==="Object"){if(M(r)==="Function"&&r(u))return d=u,[];for(let p in u){if(d!=="notFoundC")break;if(u.hasOwnProperty(p)){if(M(r)==="Function"&&r(p)||u[p]===r)return d=u[p],[p];if(M(u[p])==="Object"||M(u[p])==="Array"){let c=a(u[p],r);if(c!==void 0)return[p,...c]}}}}};return o=a(n,s),t?o||!1:d==="notFoundC"?!1:d}function Ft(n,s){for(let t=0,o=s.length;t<o;t++)if(n===s[t])return!0;return!1}function zt(n,s=2){let t=new RegExp(`(^-?\\d+\\.\\d{${s}})(\\d+$)`),o=n&&String(n)||"";return t.test(o)?Number(o.replace(t,"$1")):n}function et(n,s={},t="get"){let o=document.createElement("form"),d=document.getElementsByTagName("body")[0];d.appendChild(o),o.setAttribute("style","display:none"),o.setAttribute("target",""),o.setAttribute("method",t);let a=n;if(window&&window.hasOwnProperty("g")){let u=Object.keys(window.g).filter(r=>r.indexOf("URL")>-1).map(r=>r.replace("URL",""));for(let r of u){let p=new RegExp("^/"+r+"(?=/.*$)","i");if(p.test(n)&&window.g[r+"URL"]){a=window.g[r+"URL"]+n.replace(p,"");break}}}if(o.setAttribute("action",a),A.isPlainObject(s)){for(let r in s)if(s.hasOwnProperty(r)&&(s[r]||s[r]===0||s[r]===!1||s[r]==="")){let p=document.createElement("input");p.setAttribute("type","hidden"),p.setAttribute("name",r),p.setAttribute("value",s[r]),o.appendChild(p)}o.submit();let u=setTimeout(()=>{d.removeChild(o),clearTimeout(u),u=null},8e3)}else console.error("请求数据格式有误，无法下载文件")}function Ut(n,s={},t="get"){if(s.hasOwnProperty("columns")&&(s.columns===""||s.columns===null||s.columns===void 0)){oe.call(this,{title:"需要导出的列不能为空",type:"warning"});return}et(n,s,t)}function Pt(n,s,t=!1){let o;if(n&&M(s)==="Array"){let d=localStorage.getItem(n);if(d){let a=JSON.parse(decodeURI(d));o=s.filter(u=>u.key&&a.indexOf(u.title)!==-1).map(u=>u.key)}else o=s.map(a=>a.key)}else o=[];return t||(o=String(o)),o}function Y(n){return n!=null&&n!==""}function Rt(n){return/^-?\d+(.\d+)?$/.test(n)}function tt(n,s=!1,t=""){return function(o,d){let a;if(Array.isArray(n)){let p=[];for(let c of n)Y(d.row[c])&&p.push(d.row[c]);a=p.join(t)}else typeof n=="function"?a=n(d):a=d.row[n];let u=Qe(a),r=d.column._width;return a&&u>r?e.h(Z.Tooltip,{style:{width:"100%"},content:a,maxWidth:r*2},()=>e.h("span",{style:{width:"100%",display:"inline-block","text-overflow":"ellipsis","white-space":"nowrap",overflow:"hidden","vertical-align":"top"}},a)):e.h("span",s&&!Y(a)?"--":a)}}function $t(n){if(A.isPlainObject(n)){for(let s in n)if(n.hasOwnProperty(s)&&Y(n[s]))return!1;return!0}else if(Array.isArray(n)){for(let s of n)if(Y(s))return!1;return!0}return!Y(n)}function Ht(n){return M(n)==="String"?n.replace(/[^\x00-\xff]/g,"01").length:M(n)==="Number"?(n+="",n.replace(/[^\x00-\xff]/g,"01").length):0}function lt({group:n,condition:s,key:t,val:o,childKey:d="children"}){if(M(n)!=="Array"||M(s)!=="Function"||M(t)!=="String"||M(d)!=="String")return!1;n.forEach(a=>{s(a)&&(M(o)==="Function"?a[t]=o(a[t]):a[t]=o),M(a[d])==="Array"&&a[d].length>0&&lt({group:a[d],condition:s,key:t,val:o,childKey:d})})}function nt(n){let s=sessionStorage.getItem("btnPermissions");return s?s.split(",").indexOf(n)>-1:!1}function at(n){return M(n)==="Number"&&String(n)==="NaN"}function Gt(n,s=!1,t=!1){if(M(n)!=="Object")return n;let o=Object.assign(n,{}),d="";for(let a in o)if(o.hasOwnProperty(a)){let u=o[a];u===void 0||u===""||M(u)==="String"&&u.trim()===""||u===null||at(u)?t?s?d+=a+"=&":o[a]="":delete o[a]:s&&(d+=a+"="+u+"&")}return s?d.length>0?d.substring(0,d.length-1):"":o}function Re(n){let s={};if(Array.isArray(n)){s=[];for(let t of n)Array.isArray(t)||A.isPlainObject(t)?s.push(Re(t)):Y(t)&&s.push(t)}else if(A.isPlainObject(n))for(let t in n)n.hasOwnProperty(t)&&(Array.isArray(n[t])||A.isPlainObject(n[t])?s[t]=Re(n[t]):Y(n[t])&&(s[t]=n[t]));return s}function jt(n){const s=window.open();if(s){s.document.write(n);let t=setTimeout(()=>{s.print(),window.clearTimeout(t),t=null},10)}}function ot(n){let s=[],t=n;for(;n.previousSibling&&(n=n.previousSibling);)n.nodeType===1&&s.push(n);for(;t.nextSibling&&(t=t.nextSibling);)t.nodeType===1&&s.push(t);return s}const Wt=Object.freeze(Object.defineProperty({__proto__:null,clearObj:Pe,dataFilterOrToUrl:Gt,decimalDigitsLimit:zt,downloadFileByFormSubmit:et,fileExport:Ut,findCollection:ge,formDataHeadConfig:Et,getColumnsKeys:Pt,hasPermission:nt,htmlPrint:jt,isEmptyValue:$t,isNaN:at,isNumberValue:Rt,isValidValue:Y,myTypeof:M,oneOf:Ft,removeEmptyValue:Re,setValByOption:lt,siblingElems:ot,stringLength:Ht,toFormData:Kt,toLine:Ze,tooltipManual:tt,trimObj:Ie},Symbol.toStringTag,{value:"Module"})),El={class:"groupBoxRP"},Kl=["onClick"],Fl=e.defineComponent({__name:"SideMenuGroup",props:{data:{default:()=>[]},pathName:{default:""}},setup(n){const s=n,t=Vt.useRouter();function o(a){return a.path===s.pathName?"active":""}function d(a,u){a.preventDefault();let r=a.target;if(!u.children&&!r.classList.contains("active")){t.push(u.path);return}let p=r.parentNode,c=ot(p);for(let f of c){f.classList.remove("open");const m=f.querySelectorAll(".open");for(let b of m)b.classList.remove("open")}p.classList.toggle("open")}return(a,u)=>{const r=e.resolveComponent("sideMenuGroup",!0);return e.openBlock(),e.createElementBlock("ul",El,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.data,(p,c)=>(e.openBlock(),e.createElementBlock("li",{class:e.normalizeClass({dropItemRP:p.children}),key:p.path+c},[e.createElementVNode("div",{class:e.normalizeClass(["menuTxtR",o(p)]),onClick:f=>d(f,p),style:e.normalizeStyle({paddingLeft:p.level*20+"px"})},e.toDisplayString(p.name||"-- no name --"),15,Kl),p.children?(e.openBlock(),e.createBlock(r,{key:0,data:p.children,"path-name":s.pathName},null,8,["data","path-name"])):e.createCommentVNode("",!0)],2))),128))])}}}),zl={class:"menuListR"},vt=e.defineComponent({__name:"SideMenu",props:{data:{default:()=>[]}},emits:["on-change"],setup(n,{emit:s}){const t=n,o=Vt.useRoute(),d=e.ref(!0),a=e.ref(),u=e.ref(),r=e.computed(()=>d.value?S("r.hideMenu"):S("r.showMenu")),p=e.computed(()=>d.value?"ios-arrow-back":"ios-arrow-forward");e.onBeforeMount(()=>{let m=localStorage.getItem("menuDisplayR")||"";m!==""?d.value=JSON.parse(m):(d.value=!0,localStorage.setItem("menuDisplayR",JSON.stringify(!0)))}),e.watch(()=>o.path,m=>{a.value=m,e.nextTick(f)},{immediate:!0});function c(){d.value=!d.value,localStorage.setItem("menuDisplayR",JSON.stringify(d.value)),s("on-change",d.value)}function f(){let m=u.value.querySelectorAll(".dropItemRP");for(let b of m)b.querySelector(".active")&&!b.classList.contains("open")&&b.classList.add("open")}return(m,b)=>{const C=e.resolveComponent("Icon");return e.openBlock(),e.createElementBlock("div",{ref_key:"menuRef",ref:u,class:"menuBoxRP"},[e.withDirectives(e.createElementVNode("div",zl,[e.createVNode(Fl,{data:t.data,pathName:e.unref(a)},null,8,["data","pathName"])],512),[[e.vShow,e.unref(d)]]),e.createVNode(C,{type:e.unref(p),size:25,class:e.normalizeClass([{showIco:!e.unref(d)},"menuShowHideIco"]),title:e.unref(r),onClick:c,color:e.unref(d)?"#fff":"#333"},null,8,["type","class","title","color"])],512)}}}),Ul=["title"],qt=e.defineComponent({__name:"TableIconBtn",props:{icon:{default:"md-radio-button-on"},title:{},has:{default:""},disabled:{type:Boolean,default:!1},size:{default:24}},emits:["click"],setup(n,{emit:s}){const t=n;function o(d){t.disabled||s("click",d)}return(d,a)=>{const u=e.resolveComponent("Icon"),r=e.resolveDirective("has");return e.withDirectives((e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["tableBtnsG",{disabled:t.disabled}]),onClick:o,title:t.title||e.unref(S)("r.button")},[e.createVNode(u,{type:t.icon,size:t.size},null,8,["type","size"])],10,Ul)),[[r,t.has]])}}}),Pl={class:"contentX"},Rl={class:"arrowA"},Yt=e.defineComponent({__name:"ShowHidePanel",props:{bg:{}},setup(n){const s=n,t=e.ref(!0),o=e.computed(()=>t?"background:"+s.bg||"transparent":"");return(d,a)=>{const u=e.resolveComponent("Icon");return e.openBlock(),e.createElementBlock("div",{style:e.normalizeStyle(e.unref(o))},[e.withDirectives(e.createElementVNode("div",Pl,[e.renderSlot(d.$slots,"default")],512),[[e.vShow,e.unref(t)]]),e.createElementVNode("div",Rl,[e.createElementVNode("div",{class:"btA",onClick:a[0]||(a[0]=r=>t.value=!e.unref(t))},[e.createVNode(u,{type:e.unref(t)?"ios-arrow-up":"ios-arrow-down",size:"20"},null,8,["type"])])])],4)}}}),$l={class:"contentZ"},Jt=e.defineComponent({__name:"ShowHidePanelB",props:{modelValue:{type:Boolean,default:!1},bg:{default:"transparent"}},emits:["update:modelValue"],setup(n,{emit:s}){const t=n,o=e.computed({get(){return t.modelValue},set(a){s("update:modelValue",a)}}),d=e.computed(()=>o.value?"background:"+t.bg:"");return(a,u)=>(e.openBlock(),e.createElementBlock("div",{style:e.normalizeStyle(e.unref(d))},[e.withDirectives(e.createElementVNode("div",$l,[e.renderSlot(a.$slots,"default")],512),[[e.vShow,e.unref(o)]])],4))}});let it=[],rt=[];const Hl=function(n){n&&n.beforeEach?n.beforeEach(()=>{it.map(s=>{window.clearTimeout(s)}),rt.map(s=>{window.clearInterval(s)}),it.length=0,rt.length=0}):console.warn("安装库plug-r-qw时未传入router，调用该库的定时器方法产生的定时器将不能自动销毁，请传入router：Vue.use(plugRQw,{router,...})")},te=function(n,s){let t=window.setTimeout(n,s);return it.push(t),t},st=function(n,s){let t=window.setInterval(n,s);return rt.push(t),t},Xt=e.defineComponent({__name:"TableSearch",props:{modelValue:{},open:{type:Boolean,default:!1},placeholder:{},showBtn:{type:Boolean,default:!0},fixed:{type:Boolean,default:!1},width:{default:"210px"},right:{default:"0"},top:{default:"0"},btnColor:{default:"inherit"}},emits:["update:modelValue","on-toggle","on-search"],setup(n,{emit:s}){const t=n;let o=!1;const d=e.computed({get(){return t.modelValue},set(p){s("update:modelValue",p)}}),a=e.computed({get(){return t.open},set(p){s("on-toggle",p)}}),u=e.computed(()=>a.value?"ios-arrow-up":"ios-arrow-down");function r(){o||(o=!0,s("on-search",d.value),te(()=>{o=!1},2e3))}return(p,c)=>{const f=e.resolveComponent("Input"),m=e.resolveComponent("icon");return e.openBlock(),e.createElementBlock("div",{class:"tableSearchV",style:e.normalizeStyle({position:t.fixed?"fixed":"absolute",right:t.right,top:t.top})},[e.renderSlot(p.$slots,"default",{},()=>[e.createVNode(f,{modelValue:e.unref(d),"onUpdate:modelValue":c[0]||(c[0]=b=>e.isRef(d)?d.value=b:null),style:e.normalizeStyle({width:t.width}),search:"",onOnSearch:r,class:"searchInputC",placeholder:t.placeholder||e.unref(S)("r.pInput")},null,8,["modelValue","style","placeholder"])]),e.withDirectives(e.createElementVNode("span",{class:"sbt",onClick:c[1]||(c[1]=b=>a.value=!e.unref(a)),style:e.normalizeStyle({color:t.btnColor})},[e.createVNode(m,{type:e.unref(u),color:t.btnColor},null,8,["type","color"]),e.createTextVNode(e.toDisplayString(e.unref(S)("r.adSearch")),1)],4),[[e.vShow,t.showBtn]])],4)}}}),Gl={class:"tabSetF"},jl={class:"topCheck"},Qt=e.defineComponent({__name:"TableSetting",props:{modelValue:{default:()=>[]},sKey:{},top:{default:"30px"},right:{default:"0"},width:{default:"150px"},bg:{default:"#ccc"},defaultCheck:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(n,{emit:s}){const t=n,o=e.ref(!0),d=e.ref(!1),a=e.ref(!1),u=e.ref([]),r=e.computed(()=>{let k=S("r.unknown");return t.modelValue.length>u.value.length&&(u.value=A.cloneDeep(t.modelValue)),u.value.map(_=>{let D={label:_&&_.title||k};return _&&_.disableShowSetting&&(D.disabled=!0),D})}),p=e.computed(()=>r.value.filter(k=>k.disabled)),c=e.computed({get(){return t.modelValue.map(k=>k&&k.title||S("r.unknown"))},set(k){let _=u.value.filter(D=>{for(let K of k)if(K===D.title)return!0;return!1});s("update:modelValue",_)}}),{locale:f}=kl.useI18n();e.onMounted(()=>{let k=S("r.unknown"),_;f.value?_=localStorage.getItem(t.sKey+"_"+f.value):_=localStorage.getItem(t.sKey),_?c.value=JSON.parse(decodeURI(_)):t.defaultCheck&&(c.value=t.modelValue.filter(D=>D.showSettingCheck).map(D=>D&&D.title||k))});function m(k){k.length===r.value.length?(o.value=!1,d.value=!0):k.length>p.value.length?(o.value=!0,d.value=!1):(o.value=!1,d.value=!1)}e.watch(()=>c.value,m,{immediate:!0,deep:!0});function b(){a.value||(a.value=!0)}function C(){f.value?localStorage.setItem(t.sKey+"_"+f.value,encodeURI(JSON.stringify(c.value))):localStorage.setItem(t.sKey,encodeURI(JSON.stringify(c.value))),a.value=!1}function w(){o.value?d.value=!1:d.value=!d.value,o.value=!1,d.value?c.value=r.value.map(k=>k.label):c.value=p.value.map(k=>k.label)}return(k,_)=>{const D=e.resolveComponent("Icon"),K=e.resolveComponent("Checkbox"),I=e.resolveComponent("CheckboxGroup");return e.openBlock(),e.createElementBlock("div",Gl,[e.createElementVNode("div",{class:"tabSetBt",onClick:b},[e.createVNode(D,{type:"md-settings",size:"17"}),e.createElementVNode("span",null,e.toDisplayString(e.unref(S)("r.tabSetting")),1)]),e.withDirectives(e.createElementVNode("div",{class:"tabSetCard",style:e.normalizeStyle({top:t.top,right:t.right,width:t.width,backgroundColor:t.bg})},[e.createElementVNode("div",jl,[e.createVNode(K,{indeterminate:e.unref(o),modelValue:e.unref(d),"onUpdate:modelValue":_[0]||(_[0]=O=>e.isRef(d)?d.value=O:null),onClick:e.withModifiers(w,["prevent"])},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(S)("r.all")),1)]),_:1},8,["indeterminate","modelValue","onClick"]),e.createElementVNode("span",{style:{cursor:"pointer",float:"right"},onClick:C},e.toDisplayString(e.unref(S)("r.confirm")),1)]),e.createVNode(I,{modelValue:e.unref(c),"onUpdate:modelValue":_[1]||(_[1]=O=>e.isRef(c)?c.value=O:null)},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(r),(O,j)=>(e.openBlock(),e.createBlock(K,{class:"setItem",label:O&&O.label,key:"tabSet_"+t.sKey+j,disabled:O&&O.disabled},null,8,["label","disabled"]))),128))]),_:1},8,["modelValue"])],4),[[e.vShow,e.unref(a)]])])}}});let ke=0,Ne=document.createElement("div");Ne.setAttribute("class","spinModal"),Ne.innerHTML='<div class="loader"><svg class="circular" viewBox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="5" stroke-miterlimit="10" /></svg></div>',window.onload=function(){document.getElementsByTagName("body")[0].append(Ne)};function Zt(n){n?Ne.classList.add("show"):Ne.classList.remove("show")}function el(n){let s=ke;n?ke++:ke>0&&ke--,s!==ke&&(ke===0?Zt(!1):s===0&&Zt(!0))}const Wl=window.location.origin;let we=null;const tl=(...n)=>de.apply(we,n);let ie=ve.create({baseURL:Wl,withCredentials:!0});function vl(){console.info("store为空，请在安装插件时传入store实例：Vue.use(plugRQw,{store:store})，Pinia传{store:useStore}")}ie.interceptors.request.use(n=>n,n=>Promise.reject(n));function ll(){if(ie.store)if(typeof ie.store=="function"){const n=ie.store();n.logout&&n.logout()}else ie.store.dispatch("logout");else vl()}ie.interceptors.response.use(n=>(we&&n&&n.data&&(n.data.code===403||n.data.code===409)&&we.messageBox({content:tl("r.http."+n.data.code),onOk:ll}),n),n=>(we&&n&&n.response&&(n.response.status===403||n.response.status===409)&&we.messageBox({content:tl("r.http."+n.response.status),onOk:ll}),console.warn("请求出错：",n),Promise.reject(n)));function fe(n,s,t,o){o&&o.spin&&el(!1);let d=!0,a=n&&n.data;if(a){t=t||[];for(let u of t)a=a[u],d=d&&a;return d?a:(s&&console.warn(s),!1)}return s&&console.warn(s),!1}function ql(n,s,t,o,d,a,u){return new Promise((r,p)=>{switch(n){case"get":ie.get(s,{params:t}).then(f=>{let m=fe(f,o,d,a);m?r(m):p(f)}).catch(f=>{fe({},o,d,a),p(f)});break;case"delete":let c=u?"params":"data";ie.delete(s,{[c]:t}).then(f=>{let m=fe(f,o,d,a);m?r(m):p(f)}).catch(f=>{fe({},o,d,a),p(f)});break;case"post":ie.post(s,t,a).then(f=>{let m=fe(f,o,d,a);m?r(m):p(f)}).catch(f=>{fe({},o,d,a),p(f)});break;case"put":ie.put(s,t,a).then(f=>{let m=fe(f,o,d,a);m?r(m):p(f)}).catch(f=>{fe({},o,d,a),p(f)});break}})}function $e(n,s,t={},o,d,a,u){return new Promise((r,p)=>{if(s){a&&a.spin&&el(!0);let c=s;if(window&&window.hasOwnProperty("g")){const b=window.g;let C=Object.keys(b).filter(w=>w.indexOf("URL")>-1).map(w=>w.replace("URL",""));for(let w of C){let k=new RegExp("^/"+w+"(?=/.*$)","i");if(k.test(s)&&b[w+"URL"]){c=b[w+"URL"]+s.replace(k,"");break}}}let f;if(a&&a.headers&&a.headers["Content-Type"]==="multipart/form-data")f=t;else if(t&&!A.isEmpty(t))if(Array.isArray(t)){f=[];for(let b of t)(b||b===0||b===!1||b===""&&a&&!a.noEmptyStr)&&f.push(b)}else{f={};for(let b in t)t.hasOwnProperty(b)&&(t[b]||t[b]===0||t[b]===!1||t[b]===""&&a&&!a.noEmptyStr)&&(f[b]=t[b])}let m=n.toLowerCase();ql(m,c,f,o,d,a,u).then(b=>{r(b)}).catch(b=>{p(b)})}else console.error("没有请求地址:url"),p("没有请求地址:url")})}const se={init(n,s){ie.store=n,we=s.config.globalProperties},post(n,s,t,o,d){return new Promise((a,u)=>{$e("post",n,s,t,o,d).then(r=>{a(r)}).catch(r=>{u(r)})})},put(n,s,t,o,d){return new Promise((a,u)=>{$e("put",n,s,t,o,d).then(r=>{a(r)}).catch(r=>{u(r)})})},get(n,s,t,o,d){return new Promise((a,u)=>{$e("get",n,s,t,o,d).then(r=>{a(r)}).catch(r=>{u(r)})})},delete(n,s,t,o,d,a=!0){return new Promise((u,r)=>{$e("delete",n,s,t,o,d,a).then(p=>{u(p)}).catch(p=>{r(p)})})},all:ve.all,spread:ve.spread,config:ie},Yl={class:"btTablePage fullHeight",ref:"tableBox"},Jl={class:"topBtn"},Xl={class:"fullHeight relativeBox"},Ql={ref:"tableContainerLOI",class:"fullFlowContent"},Zl={class:"pageContainer"},en=300,nl=e.defineComponent({__name:"BtTablePage",props:{url:{default:""},searchData:{default:()=>({})},columns:{default:()=>[]},dataHandler:{},selection:{type:Boolean,default:!1},radio:{type:Boolean,default:!1},selectionFixed:{type:[String,Boolean],default:!1},rowClickSelect:{type:Boolean,default:!0},data:{default:()=>[]},pageSize:{default:10},sortable:{default:""},initData:{type:Boolean,default:!0},highlightRow:{type:Boolean,default:!1},rowClickNum:{default:-1},tableEmptyTdHandle:{type:Boolean,default:!1},noBorderTable:{type:Boolean,default:!1},noPage:{type:Boolean,default:!1},orderDefault:{default:"desc"},orderKey:{default:"id"},orderKeyFormat:{default:"underline"},getDataLoading:{type:Boolean,default:!1},showTopRow:{type:Boolean,default:!1},lightHead:{type:Boolean,default:!1},pageComponentSize:{default:"default"},noElevator:{type:Boolean,default:!1}},emits:["on-selection-change","on-data-change"],setup(n,{expose:s,emit:t}){const o=n,{globalProperties:d}=e.getCurrentInstance().appContext.config;({...{showSettingCheck:!1,disableShowSetting:!1},...Z.TableColumnConfig});const u=d.pageSizes||[10,20,30,40],r=e.ref(o.data),p=e.ref(localStorage.getItem("btPageSize")&&Number(localStorage.getItem("btPageSize"))||o.pageSize),c=e.ref(1),f=e.ref(0);let m=[],b,C,w=o.orderKey,k=o.orderDefault;const _=e.computed(()=>{for(let N of o.columns)if(N.fixed)return!0;return!1}),D=e.computed(()=>o.selectionFixed||_.value),K=e.computed(()=>{let N={...o.searchData,current:c.value,size:p.value};return o.sortable==="custom"&&(o.orderKeyFormat==="underline"?N[k]=Ze(w):o.orderKeyFormat==="camelcase"&&(N[k]=Ye(w))),N}),I=e.computed(()=>{let N=o.columns.filter(T=>T.type!=="selection");if(o.selection||o.radio){let T;o.radio?T={title:" ",width:65,render:(le,q)=>e.h(Z.Radio,{value:q.row.btChecked})}:T={type:"selection",width:60},o.selectionFixed&&(T.fixed=o.selectionFixed),N.unshift(T)}return N.forEach(T=>{o.sortable==="custom"?T.key&&T.sortable!==!0&&T.sortable!==!1&&(T.sortable="custom"):T.sortable=!1,T.align||(T.align="center")}),o.tableEmptyTdHandle&&N.forEach(T=>{T.key&&T.render===void 0&&(T.tooltip?T.render=tt(T.key,!0):T.render=(le,q)=>{let X=q.row[T.key];return le("span",X===""||X===null||X===void 0?"--":X)})}),N}),O=e.computed({get(){return r.value.map((N,T)=>({btKey:"bt-"+T,btChecked:!1,...N}))},set(N){r.value=N}}),j=e.computed(()=>m.map(N=>N.id)),F=e.computed(()=>m.map(N=>N.btKey)),h=e.ref();e.watch(()=>o.searchData,ae,{deep:!0});function ae(){c.value=1,ce()}function B(){o.initData&&ce()}function E(N){r.value.unshift(A.cloneDeep(N)),te(()=>{var T;(T=h.value)==null||T.clickCurrentRow(0)},100)}function R(N,T,le){let q=null;if(A.isBoolean(T)&&T?q=C:A.isNumber(T)&&(q=T),q!==null){let X=r.value[q];for(let $ in N)N.hasOwnProperty($)&&(X[$]=N[$]);le&&te(()=>{var $;($=h.value)==null||$.clickCurrentRow(q)},10)}}function G(N){r.value.splice(N,1),te(()=>{var T;(T=h.value)==null||T.clickCurrentRow(0)},100)}function J(N,T){var le;N.btChecked&&o.radio||(o.selection||o.radio)&&o.rowClickSelect&&((le=h.value)==null||le.toggleSelect(T))}function U(N,T){b=T.btKey,C=Number(T.btKey.split("-")[1]),o.radio&&(r.value[C].btChecked=!0)}function W(N){if(o.radio)for(let T of O.value)T.btKey!==b&&(r.value[Number(T.btKey.split("-")[1])].btChecked=!1);m=N,t("on-selection-change",N)}function v(){return A.cloneDeep(m)}function ne(N){c.value=N,ce()}function ue(N){p.value=N,localStorage.setItem("btPageSize",String(N)),c.value===1&&ce()}function me({key:N,order:T}){k==="normal"?(w=o.orderKey,k=o.orderDefault):(w=N,k=T),c.value=1,ye()}function be(){var N;if(o.radio){if(F.value.length>0&&O.value.length>0){let T=F.value[0].split("-")[1];O.value[T].btChecked=!1}}else(N=h.value)==null||N.selectAll(!1);m.length>0&&(m=[],t("on-selection-change",[])),b=null,C=null}function Be(){r.value=[],be(),c.value=1,f.value=0}function ye(N,T,le){return new Promise(q=>{N&&(k=N),T&&(w=T),o.url?se.get(o.url,K.value,"",[],{spin:o.getDataLoading}).then(X=>{var Te,He,Ge,Me,xe,je,Le,We;let $;le||be(),typeof o.dataHandler=="function"?$=o.dataHandler(X):$=X,$.data?((Te=$.data)!=null&&Te.records||((He=$.data)==null?void 0:He.records)===null?r.value=((Ge=$.data)==null?void 0:Ge.records)||[]:$.data.page?((Me=$.data.page)!=null&&Me.records||((xe=$.data.page)==null?void 0:xe.records)===null)&&(r.value=$.data.page.records||[]):$.data.data?((je=$.data.data)!=null&&je.records||((Le=$.data.data)==null?void 0:Le.records)===null)&&(r.value=((We=$.data.data)==null?void 0:We.records)||[]):r.value=$.data,f.value=$.data.page&&$.data.page.total||$.data.data&&$.data.data.total||$.data.total||$.total||0,f.value===0&&c.value>1&&r.value&&r.value.length===0?c.value=1:c.value>1&&f.value<=(c.value-1)*p.value&&(c.value--,e.nextTick(function(){ye(N,T)})),t("on-data-change",$),q($)):(console.warn("请求返回数据有误，无法使用"),Be(),t("on-data-change",$))}).catch(X=>{console.warn(X),be(),Be(),t("on-data-change",X)}):console.warn("没有有效的请求地址，无法获取表格数据")})}function ce(N,T,le){o.radio&&(N||o.rowClickNum!==-1)?ye(T,le,N).then(()=>{r.value.length>0&&te(()=>{var q,X;N?(q=h.value)==null||q.clickCurrentRow(C||0):(X=h.value)==null||X.clickCurrentRow(o.rowClickNum)},10)}):ye()}return e.onMounted(B),s({selectedIds:j,addRow:E,setRowData:R,deleteRow:G,getSelected:v,clearSelect:be,clearTableData:Be,getTableData:ye,getDataAndClickRow:ce}),(N,T)=>{const le=e.resolveComponent("Table"),q=e.resolveComponent("Page");return e.openBlock(),e.createElementBlock("div",Yl,[e.withDirectives(e.createElementVNode("div",Jl,[e.renderSlot(N.$slots,"tableSetting"),e.renderSlot(N.$slots,"topMsg"),e.renderSlot(N.$slots,"topBtnGroup")],512),[[e.vShow,o.showTopRow]]),e.createElementVNode("div",{class:e.normalizeClass(["tableContainer fullHeight",{noTop:!o.showTopRow,noPage:o.noPage}])},[e.createElementVNode("div",Xl,[e.createElementVNode("div",Ql,[e.createVNode(le,e.mergeProps({ref_key:"tableRef",ref:h},N.$attrs,{height:e.unref(D)&&en||null,class:{noBorderTable:o.noBorderTable,fullHeightTable:!e.unref(D),lightHeadO:o.lightHead},columns:e.unref(I),data:e.unref(O),"highlight-row":o.radio||o.highlightRow,onOnSelect:U,onOnSelectionChange:W,onOnSortChange:me,onOnRowClick:J}),null,16,["height","class","columns","data","highlight-row"])],512)])],2),e.withDirectives(e.createElementVNode("div",Zl,[e.createVNode(q,{modelValue:e.unref(c),"onUpdate:modelValue":T[0]||(T[0]=X=>e.isRef(c)?c.value=X:null),"page-size-opts":e.unref(u),total:e.unref(f),"page-size":e.unref(p),"show-sizer":"","show-total":"",showElevator:!o.noElevator,size:o.pageComponentSize,onOnChange:ne,onOnPageSizeChange:ue},null,8,["modelValue","page-size-opts","total","page-size","showElevator","size"])],512),[[e.vShow,!o.noPage]])],512)}}}),ct=e.defineComponent({__name:"SelectInput",props:{modelValue:{default:()=>({key:null,val:null})},labelWidth:{default:160},labelTextAlign:{default:"right"},itemWidth:{default:200},selectOption:{default:()=>[]},placeholder:{},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","on-change"],setup(n,{emit:s}){const t=n,o=e.computed({get(){return t.modelValue&&t.modelValue.key||null},set(c){let f={key:c,val:null};o.value&&o.value!==c&&(f.beforeKey=o.value),s("update:modelValue",f),s("on-change",f)}}),d=e.computed({get(){return t.modelValue&&t.modelValue.val||null},set(c){s("update:modelValue",{key:o.value,val:c})}}),a=e.computed(()=>({width:t.labelWidth+"px",textAlign:t.labelTextAlign})),u=e.computed(()=>({width:t.itemWidth+"px"}));function r(c){c&&c.target&&c.target.value!==void 0&&p({key:o.value,val:c.target.value})}const p=A.debounce(c=>{s("on-change",c)},500);return(c,f)=>{const m=e.resolveComponent("Option"),b=e.resolveComponent("Select"),C=e.resolveComponent("Input");return e.openBlock(),e.createElementBlock("div",null,[e.createVNode(b,{modelValue:e.unref(o),"onUpdate:modelValue":f[0]||(f[0]=w=>e.isRef(o)?o.value=w:null),style:e.normalizeStyle(e.unref(a)),disabled:!!t.disabled,transfer:""},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.selectOption,(w,k)=>(e.openBlock(),e.createBlock(m,{value:w.val,key:"selectInputOp"+w.value+k,style:e.normalizeStyle({textAlign:t.labelTextAlign})},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(w.label),1)]),_:2},1032,["value","style"]))),128))]),_:1},8,["modelValue","style","disabled"]),e.createVNode(C,{modelValue:e.unref(d),"onUpdate:modelValue":f[1]||(f[1]=w=>e.isRef(d)?d.value=w:null),placeholder:t.placeholder||e.unref(S)("r.pInput"),style:e.normalizeStyle(e.unref(u)),clearable:t.clearable,disabled:!!t.disabled,onOnChange:r},null,8,["modelValue","placeholder","style","clearable","disabled"])])}}});var tn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ln(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var al={exports:{}};(function(n,s){(function(t,o){n.exports=o()})(tn,function(){function t(m){var b=[];return m.AMapUI&&b.push(o(m.AMapUI)),m.Loca&&b.push(d(m.Loca)),Promise.all(b)}function o(m){return new Promise(function(b,C){var w=[];if(m.plugins)for(var k=0;k<m.plugins.length;k+=1)u.AMapUI.plugins.indexOf(m.plugins[k])==-1&&w.push(m.plugins[k]);if(r.AMapUI===a.failed)C("前次请求 AMapUI 失败");else if(r.AMapUI===a.notload){r.AMapUI=a.loading,u.AMapUI.version=m.version||u.AMapUI.version,k=u.AMapUI.version;var _=document.body||document.head,D=document.createElement("script");D.type="text/javascript",D.src="https://webapi.amap.com/ui/"+k+"/main.js",D.onerror=function(K){r.AMapUI=a.failed,C("请求 AMapUI 失败")},D.onload=function(){if(r.AMapUI=a.loaded,w.length)window.AMapUI.loadUI(w,function(){for(var K=0,I=w.length;K<I;K++){var O=w[K].split("/").slice(-1)[0];window.AMapUI[O]=arguments[K]}for(b();p.AMapUI.length;)p.AMapUI.splice(0,1)[0]()});else for(b();p.AMapUI.length;)p.AMapUI.splice(0,1)[0]()},_.appendChild(D)}else r.AMapUI===a.loaded?m.version&&m.version!==u.AMapUI.version?C("不允许多个版本 AMapUI 混用"):w.length?window.AMapUI.loadUI(w,function(){for(var K=0,I=w.length;K<I;K++){var O=w[K].split("/").slice(-1)[0];window.AMapUI[O]=arguments[K]}b()}):b():m.version&&m.version!==u.AMapUI.version?C("不允许多个版本 AMapUI 混用"):p.AMapUI.push(function(K){K?C(K):w.length?window.AMapUI.loadUI(w,function(){for(var I=0,O=w.length;I<O;I++){var j=w[I].split("/").slice(-1)[0];window.AMapUI[j]=arguments[I]}b()}):b()})})}function d(m){return new Promise(function(b,C){if(r.Loca===a.failed)C("前次请求 Loca 失败");else if(r.Loca===a.notload){r.Loca=a.loading,u.Loca.version=m.version||u.Loca.version;var w=u.Loca.version,k=u.AMap.version.startsWith("2"),_=w.startsWith("2");if(k&&!_||!k&&_)C("JSAPI 与 Loca 版本不对应！！");else{k=u.key,_=document.body||document.head;var D=document.createElement("script");D.type="text/javascript",D.src="https://webapi.amap.com/loca?v="+w+"&key="+k,D.onerror=function(K){r.Loca=a.failed,C("请求 AMapUI 失败")},D.onload=function(){for(r.Loca=a.loaded,b();p.Loca.length;)p.Loca.splice(0,1)[0]()},_.appendChild(D)}}else r.Loca===a.loaded?m.version&&m.version!==u.Loca.version?C("不允许多个版本 Loca 混用"):b():m.version&&m.version!==u.Loca.version?C("不允许多个版本 Loca 混用"):p.Loca.push(function(K){K?C(K):C()})})}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var a;(function(m){m.notload="notload",m.loading="loading",m.loaded="loaded",m.failed="failed"})(a||(a={}));var u={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},r={AMap:a.notload,AMapUI:a.notload,Loca:a.notload},p={AMap:[],AMapUI:[],Loca:[]},c=[],f=function(m){typeof m=="function"&&(r.AMap===a.loaded?m(window.AMap):c.push(m))};return{load:function(m){return new Promise(function(b,C){if(r.AMap==a.failed)C("");else if(r.AMap==a.notload){var w=m.key,k=m.version,_=m.plugins;w?(window.AMap&&location.host!=="lbs.amap.com"&&C("禁止多种API加载方式混用"),u.key=w,u.AMap.version=k||u.AMap.version,u.AMap.plugins=_||u.AMap.plugins,r.AMap=a.loading,k=document.body||document.head,window.___onAPILoaded=function(K){if(delete window.___onAPILoaded,K)r.AMap=a.failed,C(K);else for(r.AMap=a.loaded,t(m).then(function(){b(window.AMap)}).catch(C);c.length;)c.splice(0,1)[0]()},_=document.createElement("script"),_.type="text/javascript",_.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+u.AMap.version+"&key="+w+"&plugin="+u.AMap.plugins.join(","),_.onerror=function(K){r.AMap=a.failed,C(K)},k.appendChild(_)):C("请填写key")}else if(r.AMap==a.loaded)if(m.key&&m.key!==u.key)C("多个不一致的 key");else if(m.version&&m.version!==u.AMap.version)C("不允许多个版本 JSAPI 混用");else{if(w=[],m.plugins)for(k=0;k<m.plugins.length;k+=1)u.AMap.plugins.indexOf(m.plugins[k])==-1&&w.push(m.plugins[k]);w.length?window.AMap.plugin(w,function(){t(m).then(function(){b(window.AMap)}).catch(C)}):t(m).then(function(){b(window.AMap)}).catch(C)}else if(m.key&&m.key!==u.key)C("多个不一致的 key");else if(m.version&&m.version!==u.AMap.version)C("不允许多个版本 JSAPI 混用");else{var D=[];if(m.plugins)for(k=0;k<m.plugins.length;k+=1)u.AMap.plugins.indexOf(m.plugins[k])==-1&&D.push(m.plugins[k]);f(function(){D.length?window.AMap.plugin(D,function(){t(m).then(function(){b(window.AMap)}).catch(C)}):t(m).then(function(){b(window.AMap)}).catch(C)})}})},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,u={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},r={AMap:a.notload,AMapUI:a.notload,Loca:a.notload},p={AMap:[],AMapUI:[],Loca:[]}}}})})(al);var nn=al.exports;const an=ln(nn);let dt={securityJsCode:"",key:""};function on({securityJsCode:n,key:s}){dt.securityJsCode=n,dt.key=s}function rn(n){return dt[n]}const ut=e.defineComponent({__name:"InputMap",props:{modelValue:{default:()=>({})},width:{default:"100%"},height:{},placeholder:{},disabled:{type:Boolean,default:!1},showMap:{type:Boolean,default:!0}},emits:["update:modelValue","on-change"],setup(n,{emit:s}){const t=n,o=e.computed({get(){let I;return t.modelValue?t.modelValue.name?I=A.cloneDeep(t.modelValue):I={...t.modelValue,name:null}:I={name:null},I},set(I){s("update:modelValue",A.cloneDeep(I))}}),d=e.computed(()=>A.isNumber(t.width)?t.width+"px":t.width),a=e.computed(()=>A.isNumber(t.height)?t.height+"px":t.height?t.height:A.isNumber(t.width)?t.width*.66+"px":"200px"),u=e.computed(()=>({width:d.value,position:"relative"})),r=e.computed(()=>({width:d.value,height:a.value,marginTop:"6px",opacity:t.showMap?1:0,position:t.showMap?"relative":"absolute",top:t.showMap?0:"-10000px"}));e.watch(()=>t.modelValue,I=>{if(I&&I.lng&&I.lat){if(!w||!k)return;D({lng:I.lng,lat:I.lat,name:I.name})}});const p="mapId"+Math.floor(Math.random()*1e9),c=e.ref(null),f=e.ref(null);let m;function b(){f.value&&f.value.clientHeight<10||!f.value?te(b,300):te(_,100)}let C,w,k;function _(){an.load({key:rn("key"),version:"2.0",plugins:["AMap.AutoComplete","AMap.Geocoder"]}).then(I=>{C=I,w=new C.Map(p).on("complete",()=>{var O,j;k=new C.Geocoder,t.modelValue&&t.modelValue.lng&&t.modelValue.lat&&D({lng:t.modelValue.lng,lat:t.modelValue.lat,name:t.modelValue.name}),new C.AutoComplete({input:(j=(O=c.value)==null?void 0:O.$el)==null?void 0:j.children[1]}).on("select",F=>{F&&F.poi&&F.poi.name&&(F.poi.location&&F.poi.location.lng&&F.poi.location.lat?(D({name:F.poi.name,lng:F.poi.location.lng,lat:F.poi.location.lat}),o.value={name:F.poi.name,lng:F.poi.location.lng,lat:F.poi.location.lat}):w.setCity(F.poi.name,()=>{let h=w.getCenter();D({name:F.poi.name,lng:h.lng,lat:h.lat}),o.value={name:F.poi.name,lng:h.lng,lat:h.lat}})),s("on-change",o.value)}),w.on("hotspotclick",F=>{D({name:F.name,lng:F.lnglat.lng,lat:F.lnglat.lat}),o.value={name:F.name,lng:F.lnglat.lng,lat:F.lnglat.lat}})})})}function D({lng:I,lat:O,name:j}){w.clearMap();let F=new C.LngLat(I,O),h=new C.Marker({map:w,position:F,draggable:!0});w.add(h),K(I,O),h.on("dragend",()=>{let ae=h.getPosition();o.value={name:j||null,lng:ae.lng,lat:ae.lat},K(I,O)}),h.on("click",ae=>{m&&m.open(w,ae.target.getPosition())}),w.setFitView()}function K(I,O){k.getAddress([I,O],(j,F)=>{j==="complete"&&F.info==="OK"&&F.regeocode&&F.regeocode.formattedAddress?m=new C.InfoWindow({isCustom:!0,content:'<div class="mapInfoWindowIKJ">'+F.regeocode.formattedAddress+"</div>",offset:new C.Pixel(16,-45),closeWhenClickMap:!0}):(m=null,console.warn("地图获取位置信息失败",F))})}return e.onMounted(b),e.onUnmounted(()=>{w&&(w.destroy(),w=null,k=null,m=null)}),(I,O)=>(e.openBlock(),e.createElementBlock("div",{style:e.normalizeStyle(e.unref(u)),class:"containerIKJ"},[e.createVNode(e.unref(Z.Input),{ref_key:"mapInputRef",ref:c,modelValue:e.unref(o).name,"onUpdate:modelValue":O[0]||(O[0]=j=>e.unref(o).name=j),class:e.normalizeClass({mapInputIKJ:t.showMap}),placeholder:t.placeholder||e.unref(S)("r.search"),disabled:t.disabled,icon:"ios-search"},null,8,["modelValue","class","placeholder","disabled"]),e.createElementVNode("div",{style:e.normalizeStyle(e.unref(r)),ref_key:"mapRef",ref:f,id:p},null,4)],4))}}),ft=e.defineComponent({__name:"AsyncCascader",props:{modelValue:{},url:{default:(cl=window==null?void 0:window.g)!=null&&cl.mgrURL?window.g.mgrURL+"/web/v1/umc/orgs":""},optionVal:{default:"id"},optionLabel:{default:"name"},optionFilter:{},separator:{default:"/"},onlyLastVal:{type:Boolean,default:!0},onlyLastLabel:{type:Boolean,default:!0},filterable:{type:Boolean,default:!1},placeholder:{default:""},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","on-label-change"],setup(n,{emit:s}){const t=n,o=e.ref([]),d=e.computed({get(){let c=t.modelValue;return Array.isArray(c)?A.cloneDeep(c):A.isNumber(c)?_e({group:o.value,condition:f=>f.value===c,pathKey:"value"}):A.isString(c)?c.split(t.separator):[]},set(c){if(t.onlyLastVal)A.isEmpty(c)?(s("update:modelValue",null),s("on-label-change",null)):s("update:modelValue",A.last(c));else{if(A.isEqual(t.modelValue,c))return;s("update:modelValue",A.cloneDeep(c))}}});function a(){if(!t.url){console.error("没有用于拉取级联数据的有效接口地址");return}se.get(t.url).then(c=>{let f=null;c&&c.data&&c.data.records?f=c.data.records:c&&c.data?f=c.data:c&&(f=c),f?(typeof t.optionFilter=="function"&&M(t.optionFilter)==="Function"&&(f=t.optionFilter(f)),o.value=u(f)):console.warn("级联数据错误，不能使用")}).catch(()=>{console.warn("拉取级联数据出错")})}function u(c){let f=[];for(let m of c){let b={value:m[t.optionVal],label:m[t.optionLabel]};m.children&&!A.isEmpty(m.children)&&(b.children=u(m.children)),f.push(b)}return f}function r(c,f){return t.onlyLastLabel?A.last(c):c.join(t.separator)}function p(c,f){let m="";A.isEmpty(f)||(m=f.map(b=>b.label).join(t.separator)),s("on-label-change",m)}return e.onMounted(a),(c,f)=>{const m=e.resolveComponent("Cascader");return e.openBlock(),e.createBlock(m,{data:e.unref(o),modelValue:e.unref(d),"onUpdate:modelValue":f[0]||(f[0]=b=>e.isRef(d)?d.value=b:null),onOnChange:p,"change-on-select":"",transfer:"",disabled:t.disabled,"render-format":r,placeholder:t.placeholder||e.unref(S)("r.pSelect"),filterable:t.filterable},null,8,["data","modelValue","disabled","placeholder","filterable"])}}}),pt=e.defineComponent({__name:"AlCascaderMC",props:{modelValue:{},level:{default:2},disabled:{type:Boolean,default:!1},transfer:{type:Boolean,default:!0},filterable:{type:Boolean,default:!0},separator:{default:"/"},placeholder:{}},emits:["update:modelValue","on-name-change"],setup(n,{emit:s}){const t=n,o=e.ref(),d=e.computed({get(){if(t.modelValue&&(A.isNumber(t.modelValue)||A.isString(t.modelValue))){let u=String(t.modelValue).trim();if(/^\d*$/.test(u)){let p=u.substring(0,2)+"0000",c,f=a(u);return f.length<7?c=u.substring(0,4)+"00":c=u.substring(0,6),/^8\d+$/.test(u)?[p,f]:[p,c,f]}return u.indexOf(t.separator)!==-1?u.split(t.separator):[u]}else return Array.isArray(t.modelValue)?A.cloneDeep(t.modelValue):(o.value&&(o.value.select=[]),[])},set(u){if(A.isEmpty(u))s("update:modelValue",null),s("on-name-change",null);else{let r=A.last(u),p="",c="";if(r&&(p=r.code),p&&p.length<12){let f=[...p];for(;f.length<12;)f.push(0);p=f.join("")}if(Array.isArray(u)&&(c=u.map(f=>f.name).join(t.separator)),p){if(p===t.modelValue)return;s("update:modelValue",p)}c&&s("on-name-change",c)}}});function a(u){let r=[...u];for(;r[r.length-1]==="0";)r.pop();return r.join("")}return(u,r)=>(e.openBlock(),e.createBlock(e.unref(wl),e.mergeProps(u.$attrs,{class:"alCascaderMC",ref_key:"alCRef",ref:o,modelValue:e.unref(d),"onUpdate:modelValue":r[0]||(r[0]=p=>e.isRef(d)?d.value=p:null),level:t.level,disabled:t.disabled,placeholder:t.placeholder||e.unref(S)("r.pSelect"),transfer:t.transfer,searchable:t.filterable}),null,16,["modelValue","level","disabled","placeholder","transfer","searchable"]))}});function pe(n){var u;const s=(...r)=>de.apply(this,r),t=s("r.closePreview"),o=s("r.fullImg");let d=A.first(document.getElementsByTagName("body")),a=document.createElement("div");a.setAttribute("class","fullScreenImgByDom"),a.innerHTML=`<div class='previewInner'><img src='${n}' alt='${o}' ><i class='ivu-icon ivu-icon-md-close' title='${t}' ></i></div>`,(u=a.querySelector(".ivu-icon-md-close"))==null||u.addEventListener("click",function(){let r=A.first(document.getElementsByTagName("body"));r&&r.removeChild(a)}),d==null||d.appendChild(a)}const sn={class:"previewBoxM"},cn={key:0,class:"previewImg"},dn=["src","alt"],un={class:"deleteModal"},fn={class:"previewBoxM"},pn={key:0,class:"previewImg"},mn=["src","alt"],yn={class:"deleteModal"},hn={class:"customFileListM"},gn={key:0,class:"customFileListItem"},bn=["onClick","title"],kn={class:"btBoxJ"},wn={class:"customFileListM"},Bn={key:0,class:"customFileListItem"},Vn=["onClick","title"],Cn={class:"btBoxJ"},mt=e.defineComponent({__name:"UploadGroup",props:{modelValue:{default:()=>[]},url:{default:(dl=window==null?void 0:window.g)!=null&&dl.mgrURL?window.g.mgrURL+"/web/v1/fsc/file":""},data:{default:()=>({appId:0,moduleId:0,typeId:0})},manualUpload:{type:Boolean,default:!1},maxSize:{default:0},length:{default:0},showUploadList:{type:Boolean,default:!0},withCredentials:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},format:{default:()=>[]},showImg:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","on-change"],setup(n,{emit:s}){const t=n,o=e.shallowRef([]),d=e.shallowRef([]),a=e.computed(()=>!t.manualUpload&&t.showImg&&c.value?"img":t.manualUpload&&t.showImg&&c.value?"localImg":t.manualUpload&&t.showUploadList&&(!t.showImg||!c.value)?"localList":!t.manualUpload&&t.showUploadList&&(!t.showImg||!c.value)?"list":""),u=e.computed(()=>t.manualUpload?"//jsonplaceholder.typicode.com/posts/":t.url),r=e.computed({get(){if(t.manualUpload)return p.value;{let B=[];for(let E of p.value)typeof E=="object"&&M(E)==="File"?B.push(E):(typeof E=="number"||typeof E=="string")&&B.push({response:{data:[{id:E}]}});return B}},set(B){var E;if(t.manualUpload)p.value=B;else{let R=[];for(let G of B)(E=G==null?void 0:G.response)!=null&&E.data&&G.response.data[0]&&G.response.data[0].id&&R.push(G.response.data[0].id);p.value=R}}}),p=e.computed({get(){switch(typeof t.modelValue){case"number":return[t.modelValue];case"string":return t.modelValue.indexOf("--")!==-1?[]:/^\d*$/.test(t.modelValue)?[Number(t.modelValue)]:[t.modelValue];case"object":return Array.isArray(t.modelValue)?t.modelValue.filter(B=>B!=="--"):M(t.modelValue)==="File"?[t.modelValue]:[];default:return[]}},set(B){if(t.length===1){let E=A.first(B);s("update:modelValue",E??null),s("on-change",E??null)}else s("update:modelValue",A.cloneDeep(B)),s("on-change",A.cloneDeep(B))}}),c=e.computed(()=>{let B;t.manualUpload?B=r.value:B=d.value;for(let E of B){let R;if(t.manualUpload?R=E&&E.type:R=E&&E.mimeType,!R||R&&!Ae(R))return!1}return!0});e.watch(()=>r.value,async B=>{var E,R,G,J,U;if(a.value==="localImg")B&&B.length>0?o.value=await m(B):o.value=[];else if(B&&B.length>0&&a.value!=="localList"){let W=[];for(let v of B)if(v.name===void 0)if((E=v==null?void 0:v.response)!=null&&E.data&&v.response.data[0]&&v.response.data[0].id){let ne=await se.get(t.url+"/"+v.response.data[0].id).catch(()=>{W.push({name:S("r.file")+A.indexOf(B,v)})}),ue=A.cloneDeep(v);ue.name=((R=ne==null?void 0:ne.data)==null?void 0:R.returnValue)&&ne.data.returnValue[0]&&((G=ne.data.returnValue[0])==null?void 0:G.name)||S("r.file")+A.indexOf(B,v),ue.mimeType=((J=ne==null?void 0:ne.data)==null?void 0:J.returnValue)&&ne.data.returnValue[0]&&((U=ne.data.returnValue[0])==null?void 0:U.mimeType)||"unknown",W.push(ue)}else W.push({name:S("r.unknown")});else W.push(v);d.value=W}else d.value=[]},{immediate:!0,deep:!0});function f(B){return B.name||B.split&&A.last(B.split("/"))||B}async function m(B){let E=[];for(let R of B){let G=await Se(R);E.push(G)}return E}function b(B){if(!t.disabled){let E=r.value;E.splice(B,1),r.value=E}}function C(B){B&&B.response&&B.response.data&&B.response.data[0]&&B.response.data[0].id&&window.open(t.url+"/"+B.response.data[0].id+"/download")}function w(B){var E,R;return t.manualUpload?B.type&&Ae(B.type):((E=B==null?void 0:B.response)==null?void 0:E.data)&&((R=B.response.data[0])==null?void 0:R.id)&&B.mimeType&&Ae(B.mimeType)}function k(B){t.manualUpload?Se(B).then(E=>{pe(E)}):pe(t.url+"/"+B.response.data[0].id+"/download?preview=true")}function _(B){M(B)==="String"&&B.indexOf("http")>-1?window.open(B):M(B)==="File"&&Se(B).then(E=>{Je(B.name,E)})}function D(B){if(t.manualUpload){if(B){let E=ze(B.name);if(t.format.length>0&&t.format.indexOf(E)<0)return oe(S("r.wrongFileType"),S("r.supportType")+(t.format.length>0&&String(t.format)||S("r.none")),"warning"),!1;if(t.maxSize&&B.size>t.maxSize*1024)return oe(S("r.fileIsBig"),S("r.supportSize")+t.maxSize+"kb","warning"),!1;let R=r.value;R.push(B),r.value=R}return!1}else return!0}function K(B){console.warn(B),oe(S("r.uploadError"),"","error")}function I(B,E,R){if(B&&B.code===0){let G=r.value;G.push(E),r.value=G}else oe(S("r.uploadFail"),B&&B.message||"","error")}function O(){oe(S("r.fileIsBig"),S("r.supportSize")+t.maxSize+" kb","warning")}function j(){oe(S("r.wrongFileType"),S("r.supportType")+(t.format.length>0&&String(t.format)||S("r.none")),"warning")}function F(B){var G,J,U,W;let E=((G=B==null?void 0:B.response)==null?void 0:G.data)&&((J=B.response.data[0])==null?void 0:J.id),R=((U=B==null?void 0:B.response)==null?void 0:U.data)&&((W=B.response.data[0])==null?void 0:W.mimeType);E&&(M(R)==="String"&&R.indexOf("image")>-1?pe(t.url+"/"+E+"/download?preview=true"):window.open(t.url+"/"+E+"/download?preview=true"))}function h(B){var R,G;let E=((R=B==null?void 0:B.response)==null?void 0:R.data)&&((G=B.response.data[0])==null?void 0:G.id);ae(null,E)}function ae(B,E){if(!t.disabled&&p.value.indexOf(E)!==-1){const R=A.cloneDeep(p.value);let G=r.value;G.splice(R.indexOf(E),1),r.value=G}}return(B,E)=>{const R=e.resolveComponent("Button"),G=e.resolveComponent("Upload"),J=e.resolveComponent("Icon");return e.openBlock(),e.createElementBlock("div",null,[e.createVNode(G,{name:"files",action:e.unref(u),"before-upload":D,"on-error":K,"on-success":I,"on-exceeded-size":O,"on-preview":F,"on-remove":h,"on-format-error":j,data:t.data,"max-size":t.maxSize,"show-upload-list":!1,"with-credentials":t.withCredentials,format:t.format,multiple:t.multiple||!1,disabled:t.length>0&&e.unref(r).length>=t.length||!!t.disabled},{default:e.withCtx(()=>[e.createVNode(R,{icon:"ios-cloud-upload-outline",class:e.normalizeClass({disabledR:t.length>0&&e.unref(r).length>=t.length||!!t.disabled})},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(S)("r.selectFile")),1)]),_:1},8,["class"])]),_:1},8,["action","data","max-size","with-credentials","format","multiple","disabled"]),e.withDirectives(e.createElementVNode("div",sn,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(p),U=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:U},[!t.manualUpload&&U!==null?(e.openBlock(),e.createElementBlock("div",cn,[e.createElementVNode("img",{src:B.url+"/"+U+"/download?preview=true",alt:U},null,8,dn),e.createElementVNode("div",un,[e.createVNode(J,{type:"ios-expand",size:"40",class:"previewExpand",title:e.unref(S)("r.fView"),onClick:W=>e.unref(pe)(t.url+"/"+U+"/download?preview=true")},null,8,["title","onClick"]),e.createVNode(J,{type:"ios-trash-outline",size:"40",class:"previewDelete",onClick:W=>ae(W,U),title:e.unref(S)("r.delete")},null,8,["onClick","title"])])])):e.createCommentVNode("",!0)],64))),128))],512),[[e.vShow,e.unref(a)==="img"&&e.unref(p).length>0]]),e.withDirectives(e.createElementVNode("div",fn,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(o),(U,W)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:"manualImg"+W},[t.manualUpload&&U!==null?(e.openBlock(),e.createElementBlock("div",pn,[e.createElementVNode("img",{src:U,alt:"manualImg"+W},null,8,mn),e.createElementVNode("div",yn,[e.createVNode(J,{type:"ios-expand",size:"40",class:"previewExpand",onClick:v=>e.unref(pe)(U),title:e.unref(S)("r.fView")},null,8,["onClick","title"]),e.createVNode(J,{type:"ios-trash-outline",size:"40",class:"previewDelete",onClick:v=>b(W),title:e.unref(S)("r.delete")},null,8,["onClick","title"])])])):e.createCommentVNode("",!0)],64))),128))],512),[[e.vShow,e.unref(a)==="localImg"&&e.unref(o).length>0]]),e.withDirectives(e.createElementVNode("div",hn,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(r),(U,W)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:"manualItem"+W},[t.manualUpload&&U!==null?(e.openBlock(),e.createElementBlock("p",gn,[U.name?(e.openBlock(),e.createBlock(J,{key:0,type:e.unref(Ue)(U.name)},null,8,["type"])):e.createCommentVNode("",!0),e.createElementVNode("span",{class:e.normalizeClass(["upNameT",{previewName:w(U)}]),onClick:v=>_(U),title:e.unref(S)("r.download")},e.toDisplayString(f(U)),11,bn),e.createElementVNode("span",kn,[w(U)?(e.openBlock(),e.createBlock(J,{key:0,type:"md-qr-scanner",size:"14",class:"listBtH",onClick:v=>k(U),title:e.unref(S)("r.fView")},null,8,["onClick","title"])):e.createCommentVNode("",!0),e.createVNode(J,{type:"ios-close",size:"22",class:"listBtH",onClick:v=>b(W),title:e.unref(S)("r.delete")},null,8,["onClick","title"])])])):e.createCommentVNode("",!0)],64))),128))],512),[[e.vShow,e.unref(a)==="localList"&&e.unref(r).length>0]]),e.withDirectives(e.createElementVNode("div",wn,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(d),(U,W)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:"defaultItem"+W},[!t.manualUpload&&U!==null?(e.openBlock(),e.createElementBlock("p",Bn,[e.createVNode(J,{type:e.unref(Ue)(U.name)},null,8,["type"]),e.createElementVNode("span",{class:e.normalizeClass(["upNameT",{previewName:w(U)}]),onClick:v=>C(U),title:e.unref(S)("r.download")},e.toDisplayString(U.name||e.unref(S)("r.file")+(W+1)),11,Vn),e.createElementVNode("span",Cn,[w(U)?(e.openBlock(),e.createBlock(J,{key:0,type:"md-qr-scanner",size:"14",class:"listBtH",onClick:v=>k(U),title:e.unref(S)("r.fView")},null,8,["onClick","title"])):e.createCommentVNode("",!0),e.createVNode(J,{type:"ios-close",size:"22",class:"listBtH",onClick:v=>b(W),title:e.unref(S)("r.delete")},null,8,["onClick","title"])])])):e.createCommentVNode("",!0)],64))),128))],512),[[e.vShow,e.unref(a)==="list"&&e.unref(d).length>0]])])}}}),Sn=e.createElementVNode("div",{class:"bRoot"},null,-1),yt=e.defineComponent({__name:"MonthRange",props:{modelValue:{default:()=>["",""]},placement:{default:"bottom-start"},placeholder:{},options1:{},options2:{},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","on-change"],setup(n,{emit:s}){const t=n,o=e.ref(!1),d=e.ref(!1),a=e.ref(!1),u=e.computed({get(){return t.modelValue&&t.modelValue[0]||null},set(k){s("update:modelValue",[k,r.value]),s("on-change",[k,r.value])}}),r=e.computed({get(){return t.modelValue&&t.modelValue[1]||null},set(k){s("update:modelValue",[u.value,k]),s("on-change",[u.value,k])}}),p=e.computed(()=>(u.value||"")+((u.value||r.value)&&" - "||"")+(r.value||"")),c=e.ref();e.onMounted(()=>{c.value.querySelector(".aRoot .ivu-input-suffix").addEventListener("mouseover",()=>{a.value=!0}),c.value.querySelector(".aRoot .ivu-input-suffix").addEventListener("mouseout",()=>{a.value=!1}),c.value.querySelector(".aRoot .ivu-input-suffix").addEventListener("click",k=>{!t.disabled&&(u.value||r.value)&&(k.stopPropagation(),C())})});function f(){t.disabled||(o.value=!0)}function m(k){u.value=k,o.value=!1,d.value=!0}function b(k){r.value=k,d.value=!1}function C(){s("update:modelValue",[null,null]),s("on-change",[null,null])}function w(){o.value=!1,d.value=!1,u.value&&r.value===null&&(u.value=null)}return(k,_)=>{const D=e.resolveComponent("DatePicker"),K=e.resolveComponent("Icon"),I=e.resolveComponent("Input");return e.openBlock(),e.createElementBlock("div",{class:"monthRangeBoxR",ref_key:"mPickerRef",ref:c},[e.createVNode(D,{open:e.unref(d),modelValue:e.unref(r),transfer:"",type:"month",placement:t.placement,options:t.options2,onOnChange:b,onOnClickoutside:w},{default:e.withCtx(()=>[Sn]),_:1},8,["open","modelValue","placement","options"]),e.createVNode(D,{open:e.unref(o),modelValue:e.unref(u),transfer:"",type:"month",placement:t.placement,options:t.options1,onOnChange:m,onOnClickoutside:w},{default:e.withCtx(()=>[e.createElementVNode("div",{onClick:f},[e.createVNode(I,{class:"aRoot",modelValue:e.unref(p),"onUpdate:modelValue":_[0]||(_[0]=O=>e.isRef(p)?p.value=O:null),readonly:"",placeholder:t.placeholder||e.unref(S)("r.selectDate"),disabled:t.disabled},{suffix:e.withCtx(()=>[e.createVNode(K,{type:e.unref(a)&&(e.unref(u)||e.unref(r))&&!t.disabled?"ios-close-circle":"ios-calendar-outline"},null,8,["type"])]),_:1},8,["modelValue","placeholder","disabled"])])]),_:1},8,["open","modelValue","placement","options"])],512)}}}),An={class:"editor-pro-root"},ht=e.defineComponent({__name:"EditorPro",props:{modelValue:{default:"<p></p>"},toolbarConfig:{default:()=>({})},editorConfig:{default:()=>({})},mode:{default:"default"},height:{default:300},imgUploadUrl:{},videoUploadUrl:{},placeholder:{default:""},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","on-change"],setup(n,{emit:s}){const t=n,o=e.shallowRef(),d=e.computed({get(){return t.modelValue},set(c){s("update:modelValue",c),s("on-change",c)}}),a=e.computed(()=>Object.assign({placeholder:t.placeholder||S("r.pInput"),insertKeys:{index:31,keys:["previewX"]}},t.toolbarConfig)),u=e.computed(()=>Object.assign({readOnly:t.disabled,MENU_CONF:{uploadImage:{async customUpload(c,f){let m=new FormData;m.append("files",c);const b=c.name,C=t.imgUploadUrl??"/node-serve/file";se.post(C,m,null,[],{spin:!0,headers:{"Content-Type":"multipart/form-data"}}).then(w=>{if(w&&w.data)if(Array.isArray(w.data))for(let k of w.data){const _=C+"/"+k.id+"/download";f(_,b,_)}else{const k=C+"/"+w.data.id+"/download";f(k,b,k)}}).catch(()=>{oe(S("r.uploadFail"),"","error")})}},uploadVideo:{async customUpload(c,f){let m=new FormData;m.append("files",c);const b=t.videoUploadUrl??"/node-serve/file";se.post(b,m,null,[],{spin:!0,headers:{"Content-Type":"multipart/form-data"}}).then(C=>{if(C&&C.data)if(Array.isArray(C.data))for(let w of C.data){const k=b+"/"+w.id+"/download";f(k)}else{const w=b+"/"+C.data.id+"/download";f(w)}}).catch(()=>{oe(S("r.uploadFail"),"","error")})}}}},t.editorConfig)),r=e.computed(()=>({height:typeof t.height=="string"?t.height:t.height+"px"}));function p(c){o.value=c}return e.watch(()=>t.disabled,c=>{c?o.value.disable():o.value.enable()}),e.onBeforeUnmount(()=>{o.value&&o.value.destroy()}),(c,f)=>(e.openBlock(),e.createElementBlock("div",An,[e.withDirectives(e.createVNode(e.unref(Ct.Toolbar),{class:"editor-pro-toolbar",editor:e.unref(o),defaultConfig:e.unref(a),mode:c.mode},null,8,["editor","defaultConfig","mode"]),[[e.vShow,!c.disabled]]),e.createVNode(e.unref(Ct.Editor),{class:"editor-pro-editor",modelValue:e.unref(d),"onUpdate:modelValue":f[0]||(f[0]=m=>e.isRef(d)?d.value=m:null),defaultConfig:e.unref(u),mode:c.mode,onOnCreated:p,style:e.normalizeStyle(e.unref(r))},null,8,["modelValue","defaultConfig","mode","style"])]))}}),_n={key:1},In={key:2},Nn={key:19,class:"formInfoTxtXN"},On={key:20,class:"formTitleTxtXN"},ol=e.defineComponent({__name:"ItemR",props:{item:{},itemStyle:{},valGroup:{},tempKeys:{},inline:{type:Boolean},disabled:{type:Boolean},labelWidth:{},itemWidth:{},mgrUrl:{},uploadUrl:{}},emits:["item-change","re-validate","select-input-change","al-name-change","async-label-change"],setup(n,{emit:s}){const t=n;function o(c){return{withInfo:!!c.info,withTitle:!!c.title,inlineFormItemXN:t.inline,noLabel:c.type==="selectInput",[c.class]:c.class,slotInput:c.slotPosition}}function d(c,f){s("item-change",{e:c,root:f})}function a(c,f){s("re-validate",{e:c,root:f})}function u(c){s("select-input-change",c)}function r(c,f){s("al-name-change",{name:c,root:f})}function p(c,f){s("async-label-change",{label:c,root:f})}return(c,f)=>{const m=e.resolveComponent("InputNumber"),b=e.resolveComponent("Input"),C=e.resolveComponent("Option"),w=e.resolveComponent("Select"),k=e.resolveComponent("Radio"),_=e.resolveComponent("Icon"),D=e.resolveComponent("RadioGroup"),K=e.resolveComponent("Checkbox"),I=e.resolveComponent("CheckboxGroup"),O=e.resolveComponent("DatePicker"),j=e.resolveComponent("TimePicker"),F=e.resolveComponent("FormItem");return e.openBlock(),e.createBlock(F,{label:t.item.type!=="radio"&&t.item.type!=="checkbox"?t.item.label:" ",prop:t.item.key||"",class:e.normalizeClass(["relativeBox",o(t.item)])},{default:e.withCtx(()=>[t.item.type==="txt"?(e.openBlock(),e.createElementBlock("div",{key:0,style:e.normalizeStyle([t.itemStyle,{display:"inline-block"}]),class:e.normalizeClass({likeInputX:t.item.likeInput,disabled:!!t.item.disabled||t.disabled})},e.toDisplayString(t.item.valKey?t.valGroup[t.item.valKey]||"无":t.item.val),7)):t.item.type==="inputNumber"?(e.openBlock(),e.createBlock(m,{key:1,style:e.normalizeStyle(t.itemStyle),modelValue:t.tempKeys[t.item.tempKey],"onUpdate:modelValue":f[0]||(f[0]=h=>t.tempKeys[t.item.tempKey]=h),max:t.item.max||t.item.max===0?t.item.max:1/0,min:t.item.min||t.item.min===0?t.item.min:-1/0,precision:t.item.precision,step:t.item.step||1,placeholder:t.item.placeholder||e.unref(S)("r.pInput"),disabled:!!t.item.disabled||t.disabled,readonly:!!t.item.readonly,editable:t.item.editable!==!1,onOnBlur:f[1]||(f[1]=h=>d(h,t.item)),"active-change":!!t.item.activeChange,clearable:t.item.clearable!==!1},null,8,["style","modelValue","max","min","precision","step","placeholder","disabled","readonly","editable","active-change","clearable"])):t.item.type==="input"?(e.openBlock(),e.createBlock(b,{key:2,style:e.normalizeStyle(c.itemStyle),modelValue:t.tempKeys[t.item.tempKey],"onUpdate:modelValue":f[2]||(f[2]=h=>t.tempKeys[t.item.tempKey]=h),maxlength:t.item.maxLength||null,password:!!t.item.password,icon:t.item.icon,prefix:t.item.prefix,suffix:t.item.suffix,placeholder:t.item.placeholder||e.unref(S)("r.pInput"),disabled:!!t.item.disabled||t.disabled,onOnBlur:f[3]||(f[3]=h=>d(h,t.item)),clearable:t.item.clearable!==!1},{default:e.withCtx(()=>[t.item.slotPosition&&t.item.slotName?e.renderSlot(c.$slots,t.item.slotName,{key:0}):e.createCommentVNode("",!0),t.item.slotPosition!=="prepend"&&t.item.prepend?(e.openBlock(),e.createElementBlock("span",_n,e.toDisplayString(t.item.prepend),1)):e.createCommentVNode("",!0),t.item.slotPosition!=="append"&&t.item.append?(e.openBlock(),e.createElementBlock("span",In,e.toDisplayString(t.item.append),1)):e.createCommentVNode("",!0)]),_:3},8,["style","modelValue","maxlength","password","icon","prefix","suffix","placeholder","disabled","clearable"])):t.item.type==="select"?(e.openBlock(),e.createBlock(w,{key:3,modelValue:c.tempKeys[t.item.tempKey],"onUpdate:modelValue":f[4]||(f[4]=h=>c.tempKeys[t.item.tempKey]=h),style:e.normalizeStyle(c.itemStyle),filterable:t.item.filterable===!0||t.item.filterable===!1?t.item.filterable:!1,disabled:!!t.item.disabled||t.disabled,multiple:!!t.item.multiple,placeholder:t.item.placeholder||e.unref(S)("r.pSelect"),onOnChange:f[5]||(f[5]=h=>d(h,t.item)),transfer:"",clearable:t.item.clearable!==!1},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.item.options,(h,ae)=>(e.openBlock(),e.createBlock(C,{value:h.val,label:h.label||h.val,key:"option-"+t.item.key+ae,disabled:!!h.disabled},null,8,["value","label","disabled"]))),128))]),_:1},8,["modelValue","style","filterable","disabled","multiple","placeholder","clearable"])):t.item.type==="selectInput"?(e.openBlock(),e.createBlock(ct,{key:4,modelValue:c.tempKeys[t.item.tempKey],"onUpdate:modelValue":f[6]||(f[6]=h=>c.tempKeys[t.item.tempKey]=h),"label-width":c.labelWidth,"item-width":c.itemWidth,"select-option":t.item.options||[],placeholder:t.item.placeholder||e.unref(S)("r.pInput"),clearable:t.item.clearable!==!1,disabled:!!t.item.disabled||t.disabled,onOnChange:u},null,8,["modelValue","label-width","item-width","select-option","placeholder","clearable","disabled"])):t.item.type==="alCascader"?(e.openBlock(),e.createBlock(pt,{key:5,style:e.normalizeStyle(c.itemStyle),class:"inlineBlock",modelValue:t.valGroup[t.item.key],"onUpdate:modelValue":f[7]||(f[7]=h=>t.valGroup[t.item.key]=h),level:t.item.level||t.item.level===0?t.item.level:2,disabled:!!t.item.disabled||t.disabled,filterable:t.item.filterable!==!1,placeholder:t.item.placeholder||e.unref(S)("r.pSelect"),"change-on-select":!!t.item.changeOnSelect,onOnNameChange:f[8]||(f[8]=h=>r(h,t.item))},null,8,["style","modelValue","level","disabled","filterable","placeholder","change-on-select"])):t.item.type==="asyncCascader"?(e.openBlock(),e.createBlock(ft,{key:6,style:e.normalizeStyle(c.itemStyle),modelValue:t.valGroup[t.item.key],"onUpdate:modelValue":f[9]||(f[9]=h=>t.valGroup[t.item.key]=h),url:t.item.url||c.mgrUrl+"/web/v1/umc/orgs","option-val":t.item.optionVal||"id","option-label":t.item.optionLabel||"name","option-filter":t.item.optionFilter||null,"only-last-val":t.item.onlyLastVal!==!1,"only-last-label":t.item.onlyLastLabel!==!1,separator:t.item.separator||"/",placeholder:t.item.placeholder||e.unref(S)("r.pSelect"),filterable:!!t.item.filterable,disabled:!!t.item.disabled||t.disabled,onOnLabelChange:f[10]||(f[10]=h=>p(h,t.item))},null,8,["style","modelValue","url","option-val","option-label","option-filter","only-last-val","only-last-label","separator","placeholder","filterable","disabled"])):t.item.type==="radio"?(e.openBlock(),e.createBlock(k,{key:7,modelValue:t.valGroup[t.item.key],"onUpdate:modelValue":f[11]||(f[11]=h=>t.valGroup[t.item.key]=h),disabled:!!t.item.disabled||t.disabled,onOnChange:f[12]||(f[12]=h=>d(h,t.item))},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(t.item.label),1)]),_:1},8,["modelValue","disabled"])):t.item.type==="radioGroup"?(e.openBlock(),e.createBlock(D,{key:8,style:e.normalizeStyle(c.itemStyle),onOnChange:f[13]||(f[13]=h=>a(h,t.item)),type:t.item.buttonType?"button":null,modelValue:c.tempKeys[t.item.tempKey],"onUpdate:modelValue":f[14]||(f[14]=h=>c.tempKeys[t.item.tempKey]=h)},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.item.options,h=>(e.openBlock(),e.createBlock(k,{key:"radioItem"+h.val,label:h.val,border:!!t.item.itemBorder,disabled:!!t.item.disabled||t.disabled||h.disabled},{default:e.withCtx(()=>[h.icon&&!t.item.buttonType?(e.openBlock(),e.createBlock(_,{key:0,type:h.icon},null,8,["type"])):e.createCommentVNode("",!0),e.createElementVNode("span",null,e.toDisplayString(h.label||h.val),1)]),_:2},1032,["label","border","disabled"]))),128))]),_:1},8,["style","type","modelValue"])):t.item.type==="checkbox"?(e.openBlock(),e.createBlock(K,{key:9,modelValue:t.valGroup[t.item.key],"onUpdate:modelValue":f[15]||(f[15]=h=>t.valGroup[t.item.key]=h),disabled:!!t.item.disabled,onOnChange:f[16]||(f[16]=h=>d(h,t.item))},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(t.item.label),1)]),_:1},8,["modelValue","disabled"])):t.item.type==="checkboxGroup"?(e.openBlock(),e.createBlock(I,{key:10,style:e.normalizeStyle(c.itemStyle),modelValue:c.tempKeys[t.item.tempKey],"onUpdate:modelValue":f[17]||(f[17]=h=>c.tempKeys[t.item.tempKey]=h),onOnChange:f[18]||(f[18]=h=>a(h,t.item))},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.item.options,h=>(e.openBlock(),e.createBlock(K,{key:"checkItem"+h.val,label:h.val,disabled:!!t.item.disabled||t.disabled||h.disabled},{default:e.withCtx(()=>[h.icon?(e.openBlock(),e.createBlock(_,{key:0,type:h.icon},null,8,["type"])):e.createCommentVNode("",!0),e.createElementVNode("span",null,e.toDisplayString(h.label||(h==null?void 0:h.val)),1)]),_:2},1032,["label","disabled"]))),128))]),_:1},8,["style","modelValue"])):t.item.type==="textarea"?(e.openBlock(),e.createBlock(b,{key:11,type:"textarea",modelValue:c.tempKeys[t.item.tempKey],"onUpdate:modelValue":f[19]||(f[19]=h=>c.tempKeys[t.item.tempKey]=h),autosize:t.item.autosize||{minRows:2},style:e.normalizeStyle(c.itemStyle),maxlength:t.item.maxLength||null,"show-word-limit":!!t.item.showWordLimit,placeholder:t.item.placeholder||e.unref(S)("r.pInput"),disabled:!!t.item.disabled||t.disabled,onOnBlur:f[20]||(f[20]=h=>d(h,t.item)),clearable:t.item.clearable!==!1},null,8,["modelValue","autosize","style","maxlength","show-word-limit","placeholder","disabled","clearable"])):t.item.type==="upload"?(e.openBlock(),e.createBlock(mt,{key:12,style:e.normalizeStyle(c.itemStyle),class:"inlineBlock",modelValue:t.valGroup[t.item.key],"onUpdate:modelValue":f[21]||(f[21]=h=>t.valGroup[t.item.key]=h),url:t.item.url||c.uploadUrl,"manual-upload":!!t.item.manualUpload,format:t.item.format||[],data:t.item.data,"max-size":t.item.maxSize||0,"show-img":!!t.item.showImg,length:t.item.length||0,disabled:!!t.item.disabled||t.disabled,"with-credentials":t.item.withCredentials!==!1,onOnFileIdChange:f[22]||(f[22]=h=>a(h,t.item))},null,8,["style","modelValue","url","manual-upload","format","data","max-size","show-img","length","disabled","with-credentials"])):t.item.type==="date"?(e.openBlock(),e.createBlock(O,{key:13,style:e.normalizeStyle(c.itemStyle),modelValue:c.tempKeys[t.item.tempKey],"onUpdate:modelValue":f[23]||(f[23]=h=>c.tempKeys[t.item.tempKey]=h),type:t.item.dateType,disabled:!!t.item.disabled||t.disabled,placement:"bottom-end",placeholder:t.item.placeholder||e.unref(S)("r.selectDate"),options:t.item.dateOptions||null,clearable:t.item.clearable!==!1,editable:!1,transfer:"",onOnChange:f[24]||(f[24]=h=>d(h,t.item))},null,8,["style","modelValue","type","disabled","placeholder","options","clearable"])):t.item.type==="time"?(e.openBlock(),e.createBlock(j,{key:14,style:e.normalizeStyle(c.itemStyle),modelValue:c.tempKeys[t.item.tempKey],"onUpdate:modelValue":f[25]||(f[25]=h=>c.tempKeys[t.item.tempKey]=h),type:t.item.dateType,disabled:!!t.item.disabled||t.disabled,placement:"bottom-end",placeholder:t.item.placeholder||e.unref(S)("r.selectTime"),steps:t.item.steps||[],clearable:t.item.clearable!==!1,editable:!1,format:t.item.format||"HH:mm:ss",transfer:"",onOnChange:f[26]||(f[26]=h=>d(h,t.item))},null,8,["style","modelValue","type","disabled","placeholder","steps","clearable","format"])):t.item.type==="monthRange"?(e.openBlock(),e.createBlock(yt,{key:15,style:e.normalizeStyle(c.itemStyle),modelValue:c.tempKeys[t.item.tempKey],"onUpdate:modelValue":f[27]||(f[27]=h=>c.tempKeys[t.item.tempKey]=h),disabled:!!t.item.disabled||t.disabled,placement:"bottom-end",placeholder:t.item.placeholder||e.unref(S)("r.selectDate"),options1:t.item.dateOptions1||null,options2:t.item.dateOptions2||null,onOnChange:f[28]||(f[28]=h=>d(h,t.item))},null,8,["style","modelValue","disabled","placeholder","options1","options2"])):t.item.type==="editorPro"?(e.openBlock(),e.createBlock(ht,{key:16,class:"inlineBlock",style:e.normalizeStyle(c.itemStyle),modelValue:t.valGroup[t.item.key],"onUpdate:modelValue":f[29]||(f[29]=h=>t.valGroup[t.item.key]=h),placeholder:t.item.placeholder||e.unref(S)("r.pInput"),disabled:!!t.item.disabled||t.disabled,"toolbar-config":t.item.toolbarConfig||{},"editor-config":t.item.editorConfig||{},mode:t.item.mode||"simple",height:t.item.height||300,onInput:f[30]||(f[30]=h=>d(h,t.item))},null,8,["style","modelValue","placeholder","disabled","toolbar-config","editor-config","mode","height"])):t.item.type==="inputMap"?(e.openBlock(),e.createBlock(ut,{key:17,modelValue:c.tempKeys[t.item.tempKey],"onUpdate:modelValue":f[31]||(f[31]=h=>c.tempKeys[t.item.tempKey]=h),style:e.normalizeStyle(c.itemStyle),placeholder:t.item.placeholder||e.unref(S)("r.search"),disabled:!!t.item.disabled||t.disabled,"show-map":t.item.showMap!==!1,height:t.item.mapHeight||"250px",onOnChange:f[32]||(f[32]=h=>d(h,t.item))},null,8,["modelValue","style","placeholder","disabled","show-map","height"])):t.item.type==="custom"?(e.openBlock(),e.createElementBlock("div",{key:18,class:"inlineBlock",style:e.normalizeStyle(c.itemStyle)},[e.renderSlot(c.$slots,t.item.slotName,{valGroup:t.valGroup})],4)):e.createCommentVNode("",!0),t.item.info?(e.openBlock(),e.createElementBlock("div",Nn,e.toDisplayString(t.item.info),1)):e.createCommentVNode("",!0),t.item.title?(e.openBlock(),e.createElementBlock("div",On,e.toDisplayString(t.item.title),1)):e.createCommentVNode("",!0)]),_:3},8,["label","prop","class"])}}}),Tn=e.createElementVNode("input",{type:"text"},null,-1),Mn={class:"inlineBlock"},gt=e.defineComponent({__name:"FormR",props:{formData:{default:()=>[]},formRules:{default:()=>({})},showMessage:{type:Boolean,default:!0},labelWidth:{default:160},contentWidth:{default:"70%"},itemWidth:{default:200},inline:{type:Boolean,default:!1},showLongOkBt:{type:Boolean,default:!1},longOkBtTxt:{},showInlineOkBt:{type:Boolean,default:!1},inlineOkBtTxt:{},showInlineClearBt:{type:Boolean,default:!1},inlineClearBtTxt:{},disabled:{type:Boolean,default:!1},btnLoading:{type:Boolean,default:!1},trim:{type:Boolean,default:!0},teamClass:{default:"formTeamBox"}},emits:["on-item-change","on-reset","on-re-render","on-submit"],setup(n,{expose:s,emit:t}){var gl,bl;const o=n,d=e.ref(null),a=e.ref({}),u=e.ref([]),r=e.ref({});let p=[];const c=((gl=window==null?void 0:window.g)==null?void 0:gl.mgrURL)??null;let f=[],m=[];const b=e.ref(!1),C=e.ref(Math.random()*1e8+1e3),w=(bl=window==null?void 0:window.g)!=null&&bl.mgrURL?window.g.mgrURL+"/web/v1/fsc/file":"/file";let k=!1;const _=e.computed(()=>Array.isArray(o.formData.length?o.formData[0]:!1)),D=e.computed(()=>o.inline?{width:o.itemWidth+o.labelWidth+"px"}:{}),K=e.computed(()=>o.inline?{width:"100%"}:{width:o.contentWidth}),I=e.computed(()=>{let i=A.cloneDeep(o.formRules);for(let l in i)if(i.hasOwnProperty(l))if(Array.isArray(i[l]))for(let g of i[l])g.message||g.validator||(g.message=S("r.required"));else M(i[l])==="Object"&&(i[l].message||i[l].validator||(i[l].message=S("r.required")));return i}),O=e.computed(()=>{let i=[];if(_.value)for(let l of u.value)h(l,i);else h(u.value,i);return i.concat(f,m)}),j=e.computed(()=>{let i=[];if(_.value)for(let l of u.value)ae(l,i);else ae(u.value,i);return i});function F(i){return i.filter(l=>l.slotName)}function h(i,l){for(let g of i)if(g.showing===!0&&g.key&&g.type!=="selectInput"&&(l.push(g.key),g.key2&&l.push(g.key2),g.collectLabel)){if(!Array.isArray(g.collectLabel)&&g.collectLabel.key)l.push(g.collectLabel.key);else if(Array.isArray(g.collectLabel))for(let y of g.collectLabel)y.key&&l.push(y.key)}}function ae(i,l){for(let g of i)g.showing===!0&&g.key&&g.type!=="selectInput"&&l.push(g.key)}function B(){return new Promise(i=>{G(),R().then(()=>{t("on-reset"),i(!0)})})}function E(){return new Promise(i=>{for(let l of p)l();p=[],r.value={},T(),Be(),R().then(()=>{t("on-re-render"),i(!0)})})}function R(){return new Promise(i=>{C.value=Math.floor(Math.random()*1e8+1e3),e.nextTick(function(){i(!0)})})}function G(){let i=W();for(let l in a.value)if(a.value.hasOwnProperty(l))if(Y(i[l]))a.value[l]=i[l];else if(Array.isArray(a.value[l]))a.value[l]=[];else if(M(a.value[l])==="Boolean")a.value[l]=!1;else{const g=ge(o.formData,y=>y.key===l);g&&(g.type==="editor"||g.type==="editorPro")?a.value[l]="":a.value[l]=null}J(i)}function J(i){for(let l in r.value)r.value.hasOwnProperty(l)&&(Y(i[l])?r.value[l]=i[l]:Array.isArray(r.value[l])?r.value[l]=[]:M(r.value[l])==="Object"&&r.value[l].hasOwnProperty("key")&&r.value[l].hasOwnProperty("val")?r.value[l].val=null:r.value[l]=null)}function U(i){let l=W();Y(l[i])?r.value[i]=l[i]:Array.isArray(r.value[i])?r.value[i]=[]:r.value[i]=null}function W(){let i={};if(_.value)for(let l of u.value)v(l,i);else v(u.value,i);return i}function v(i,l){for(let g of i)g.tempKey&&Y(g.defaultVal)&&be(g,l),g.key&&Y(g.defaultVal)&&(l[g.key]=g.defaultVal),g.key2&&Y(g.defaultVal2)&&(l[g.key2]=g.defaultVal2)}function ne(i){if(i.show){if(M(i.show)==="Object")return me(i,ue(i.show));if(Array.isArray(i.show))if(i.showOr){for(let l of i.show)if(ue(l)===!0)return me(i,!0);return me(i,!1)}else{for(let l of i.show)if(ue(l)===!1)return me(i,!1);return me(i,!0)}else if(M(i.show)==="Function")return me(i,i.show(a.value))}else i.showing||(i.showing=!0);return!0}function ue(i){if(i.reg&&typeof i.reg.test=="function")return i.reg.test(a.value[i.key]);if(Array.isArray(i.val)){for(let l of i.val){if((a.value[i.key]||a.value[i.key]===0||a.value[i.key]===!1)&&l===".")return!0;if(a.value[i.key]===l)return!0}return!1}else return!1}function me(i,l){return!i.showing&&l&&i.key?(i.showing=l,i.defaultVal!==void 0&&(i.tempKey?(r.value[i.tempKey]===null||r.value[i.tempKey]===void 0||(M(r.value[i.tempKey])==="Object"||Array.isArray(r.value[i.tempKey]))&&A.isEmpty(r.value[i.tempKey]))&&be(i,r.value):(a.value[i.key]===null||a.value[i.key]===void 0)&&(a.value[i.key]=i.defaultVal),i.key2&&i.deafultVal2!==void 0&&(a.value[i.key2]===null||a.value[i.key2]===void 0)&&i.type!=="inputMap"&&(a.value[i.key2]=i.defaultVal2)),i.tempKey&&q(r.value[i.tempKey],i)):i.showing=l,l}function be(i,l){switch(i.type){case"selectInput":l[i.tempKey]={key:i.key,val:i.defaultVal};break;case"inputMap":i.key3?l[i.tempKey]={lng:i.defaultVal||0,lat:i.defaultVal2||0,name:i.defaultVal3||""}:l[i.tempKey]={lng:i.defaultVal||0,lat:i.defaultVal2||0};break;case"input":case"inputNumber":case"textarea":l[i.tempKey]=i.defaultVal;break;case"radioGroup":case"select":case"checkboxGroup":i.booleanVal?l[i.tempKey]=i.defaultVal?1:0:l[i.tempKey]=i.defaultVal;break;case"date":case"time":case"monthRange":i.dateType==="date"||i.dateType==="datetime"||i.dateType==="time"||i.dateType==="year"||i.dateType==="month"?l[i.tempKey]=i.defaultVal:(i.dateType==="daterange"||i.dateType==="datetimerange"||i.dateType==="timerange"||i.type==="monthRange")&&(l[i.tempKey]=i.defaultVal&&i.defaultVal2&&[i.defaultVal,i.defaultVal2]||[]);break}}function Be(){let i=A.cloneDeep(o.formData);if(_.value)for(let l of i)ye(l);else ye(i);u.value=i}function ye(i){for(let l of i)switch(l.type){case"selectInput":const g="selectInput"+Math.floor(Math.random()*1e8);l.tempKey=g,r.value[g]={key:l.key||null,val:l.defaultVal||null},p.push(e.watch(()=>r.value[g],L=>{q(L,l)},{immediate:!0}));break;case"inputMap":const y="inputMap"+Math.floor(Math.random()*1e8);l.key&&(l.tempKey=y,l.key3?r.value[y]=l.defaultVal!==void 0&&l.defaultVal2!==void 0?{lng:l.defaultVal,lat:l.defaultVal2,name:l.defaultVal3||""}:{lng:null,lat:null,name:null}:r.value[y]=l.defaultVal!==void 0&&l.defaultVal2!==void 0?{lng:l.defaultVal,lat:l.defaultVal2}:{lng:null,lat:null},p.push(e.watch(()=>r.value[y],L=>{q(L,l)},{immediate:!0})));break;case"input":case"inputNumber":case"textarea":const P="inputT"+Math.floor(Math.random()*1e8);l.key&&(l.tempKey=P,r.value[P]=l.defaultVal!==void 0?l.defaultVal:null,p.push(e.watch(()=>r.value[P],L=>{q(L,l)},{immediate:!0})));break;case"select":case"radioGroup":case"checkboxGroup":if(l.options||(l.options=[]),l.asyncOption)if(l.changeOption)if(Array.isArray(l.changeOption)){let L=!0;for(let H of l.changeOption)if(!H.valKey||!H.key){L=!1;break}L?p.push(e.watch(()=>{let H="";if(Array.isArray(l.changeOption))for(let Q of l.changeOption){let re=a.value[Q.valKey];if(re||re===0||re===!1)H+="&"+Q.key+"="+re;else if(!Q.notRequired)return!1}return H},H=>{let Q=A.cloneDeep(r.value[l.tempKey]);if(r.value[l.tempKey]=null,H&&l.optionUrl){let re=l.optionUrl.indexOf("?")!==-1?l.optionUrl:l.optionUrl+"?";ce((re+H).replace(/\?&/,"?"),l,Q)}else l.options=[],l.localOption&&(l.options=[...l.localOption]),Y(Q)&&N(Q,l)},{immediate:!0})):(l.options=[],l.localOption&&(l.options=[...l.localOption]))}else typeof l.changeOption=="object"?l.changeOption.valKey&&l.changeOption.key&&p.push(e.watch(()=>typeof l.changeOption=="object"&&!Array.isArray(l.changeOption)?a.value[l.changeOption.valKey]:!1,L=>{let H=A.cloneDeep(r.value[l.tempKey]);if(r.value[l.tempKey]=null,(L||L===0||L===!1)&&l.optionUrl&&typeof l.changeOption=="object"&&!Array.isArray(l.changeOption)){let Q=l.optionUrl.indexOf("?")!==-1?l.optionUrl:l.optionUrl+"?";ce((Q+"&"+l.changeOption.key+"="+L).replace(/\?&/,"?"),l,H)}else l.options=[],l.localOption&&(l.options=[...l.localOption]),Y(H)&&N(H,l)},{immediate:!0})):M(l.changeOption)==="Boolean"&&p.push(e.watch(()=>ge(o.formData,L=>L.key===l.key).optionUrl,L=>{let H=A.cloneDeep(r.value[l.tempKey]);r.value[l.tempKey]=null,L?ce(L,l,H):(l.options=[],l.localOption&&(l.options=[...l.localOption]),Y(H)&&N(H,l))},{immediate:!0}));else l.optionUrl&&ce(l.optionUrl,l);else M(l.borrowOption)==="String"&&(l.options=ge(u.value,L=>L.key===l.borrowOption).options);const x="opEle"+Math.floor(Math.random()*1e8);l.key&&(l.tempKey=x,l.type==="select"&&l.multiple||l.type==="checkboxGroup"?r.value[x]=l.defaultVal!==void 0?l.defaultVal:[]:l.booleanVal?r.value[x]=l.defaultVal!==void 0?l.defaultVal?1:0:null:r.value[x]=l.defaultVal!==void 0?l.defaultVal:null,p.push(e.watch(()=>r.value[x],L=>{q(L,l)},{immediate:!0})));break;case"date":case"time":case"monthRange":const z="date"+Math.floor(Math.random()*1e8);l.tempKey=z,l.dateType==="date"||l.dateType==="datetime"||l.dateType==="time"||l.dateType==="year"||l.dateType==="month"?r.value[z]=l.defaultVal||null:(l.dateType==="daterange"||l.dateType==="datetimerange"||l.dateType==="timerange"||l.type==="monthRange")&&(r.value[z]=l.defaultVal&&l.defaultVal2&&[l.defaultVal,l.defaultVal2]||[]),p.push(e.watch(()=>r.value[z],L=>{q(L,l)}));break}}function ce(i,l,g){se.get(i).then(y=>{if(!l.options)return;let P=y&&y.data&&y.data.records||y&&y.data||y||[];Array.isArray(P)?(l.optionFilter&&M(l.optionFilter)==="Function"&&(P=l.optionFilter(P)),l.optionLabel&&l.optionVal?(l.options.length=0,l.options.push(...P.map(x=>{let z={};if(Array.isArray(l.optionLabel)){let L="";l.optionLabel.forEach((H,Q)=>{let re=String(x[H]);Q===1?L+="（"+re:Q>1?L+="、"+re:L+=re}),z={label:L+"）",val:l.optionVal&&x[l.optionVal]}}else z={label:l.optionLabel&&x[l.optionLabel],val:l.optionVal&&x[l.optionVal]};if(l.collectLabel)if(Array.isArray(l.collectLabel))for(let L of l.collectLabel)L.valKey&&L.valKey!=="label"&&(z[L.valKey]=x[L.valKey]);else l.collectLabel.valKey&&l.collectLabel.valKey!=="label"&&(z[l.collectLabel.valKey]=x[l.collectLabel.valKey]);if(z.val!==null&&z.val!==void 0)return z}))):(l.options.length=0,l.options.push(...P))):l.options.length=0,l.localOption&&l.options.unshift(...l.localOption),Y(g)&&N(g,l),l.disableOptionByOthers&&(M(l.disableOptionByOthers)==="String"?p.push(e.watch(()=>a.value[l.disableOptionByOthers],x=>{if(U(l.tempKey),!!l.options){for(let z of l.options)z.disabled&&(z.disabled=!1);if(x||x===0||x===!1)for(let z of l.options)z.val===x&&(z.disabled=!0)}},{immediate:!0})):Array.isArray(l.disableOptionByOthers)&&p.push(e.watch(()=>l.disableOptionByOthers.filter(x=>x).map(x=>a.value[x]),x=>{if(U(l.tempKey),!!l.options){for(let z of l.options)z.disabled&&(z.disabled=!1);if(x){for(let z of l.options)for(let L=0;L<x.length;L++)if(z.val===x[L]){z.disabled=!0,x.splice(L,1);break}}}},{immediate:!0})))}).catch(y=>{console.warn("拉取选项出错")})}function N(i,l){Array.isArray(l.options)&&A.findIndex(l.options,{val:i})!==-1&&(r.value[l.tempKey]=i)}function T(){if(a.value={},_.value)for(let i of o.formData)le(i);else le(o.formData)}function le(i){for(let l of i)l.key&&(l.type==="checkboxGroup"||l.type==="select"&&l.multiple?a.value[l.key]=l.defaultVal!==void 0&&l.show===void 0?l.defaultVal:[]:l.type==="editor"||l.type==="editorPro"?a.value[l.key]=l.defaultVal!==void 0&&l.show===void 0?l.defaultVal:"":(a.value[l.key]=l.defaultVal!==void 0&&l.show===void 0?l.defaultVal:null,l.key2&&(a.value[l.key2]=l.defaultVal2!==void 0&&l.show===void 0?l.defaultVal2:null)))}function q(i,l){if(l.showing)switch(l.type){case"selectInput":i&&(i.beforeKey&&delete a.value[i.beforeKey],a.value[i.key]=i.val);break;case"inputMap":if(!l.key||!l.key2)return;i?(a.value[l.key]=i.lng,a.value[l.key2]=i.lat,l.key3&&(a.value[l.key3]=i.name)):(a.value[l.key]=null,a.value[l.key2]=null,l.key3&&(a.value[l.key3]=null));break;case"input":case"inputNumber":case"textarea":if(!l.key)return;if(i||i===0){let P=/^-?\d+(.\d+)?$/;l.numberVal&&P.test(i)?a.value[l.key]=Number(i):a.value[l.key]=i}else a.value[l.key]=null;break;case"select":case"radioGroup":case"checkboxGroup":if(!l.key)return;if(l.booleanVal&&!l.multiple?a.value[l.key]=i===void 0||i===""||i===null?null:!!i:l.multiple||l.type==="checkboxGroup"?a.value[l.key]=Object.assign([],i):a.value[l.key]=i,l.collectLabel){const P=X(l,i);if(Array.isArray(l.collectLabel)){for(let x of l.collectLabel)if(x.key&&x.valKey){const z=$(x.key);let L=null;Array.isArray(P)?(L=P.map(Q=>Q[x.valKey]),a.value[x.key]=L,z&&(r.value[z]=L)):(P&&Y(P[x.valKey])&&(L=P[x.valKey]),a.value[x.key]=L,z&&(r.value[z]=L));let H=ge(u.value,Q=>Q.key===x.key);H&&H.tempKey&&(r.value[H.tempKey]=a.value[x.key])}}else if(typeof l.collectLabel=="object"&&l.collectLabel.key&&l.collectLabel.valKey){const x=$(l.collectLabel.key);let z=null;Array.isArray(P)?(z=P.map(H=>l.collectLabel&&!Array.isArray(l.collectLabel)&&H[l.collectLabel.valKey]),a.value[l.collectLabel.key]=z,x&&(r.value[x]=z)):(P&&Y(P[l.collectLabel.valKey])&&(z=P[l.collectLabel.valKey]),a.value[l.collectLabel.key]=z,x&&(r.value[x]=z));let L=ge(u.value,H=>l.collectLabel&&!Array.isArray(l.collectLabel)&&H.key===l.collectLabel.key||!1);L&&L.tempKey&&(r.value[L.tempKey]=a.value[l.collectLabel.key])}}break;case"date":case"time":case"monthRange":if(!l.key)return;let g=l.dateType;const y={date:"YYYY-MM-DD",daterange:"YYYY-MM-DD",datetime:"YYYY-MM-DD HH:mm:ss",datetimerange:"YYYY-MM-DD HH:mm:ss",year:"YYYY",month:"MM"};if(g==="date"||g==="datetime"||g==="time"||g==="year"||g==="month")i?(g==="time"?a.value[l.key]=i:a.value[l.key]=Ce(i).format(typeof l.format=="string"?l.format:y[g]),g==="date"&&l.addTime&&(a.value[l.key]+=" 00:00:00")):a.value[l.key]=null;else if(l.type==="monthRange"||g==="daterange"||g==="datetimerange"||g==="timerange"){if(!l.key2)return;i&&i[0]&&i[1]?(g==="timerange"?(a.value[l.key]=i[0],a.value[l.key2]=i[1]):l.type==="monthRange"?(a.value[l.key]=typeof l.format=="string"&&Ce(i[0]).format(l.format)||i[0],a.value[l.key2]=typeof l.format=="string"&&l.format&&Ce(i[1]).format(l.format)||i[1]):(a.value[l.key]=Ce(i[0]).format(l.format||g&&y[g]),a.value[l.key2]=Ce(i[1]).format(l.format||g&&y[g])),g==="daterange"&&l.addTime&&(a.value[l.key]+=" 00:00:00",a.value[l.key2]+=" 23:59:59")):(a.value[l.key]=null,a.value[l.key2]=null)}break}}function X(i,l){if(i.options)if(i.multiple||i.type==="checkboxGroup"){if(l){let g=[];for(let y of i.options)l.indexOf(y.val)!==-1&&g.push(y);return g}return!1}else{if(l||l===0||l===!1){for(let g of i.options)if(g.val===l)return g}return!1}}function $(i){if(_.value){for(let l of u.value){const g=Te(l,i);if(g)return g}return!1}return Te(u.value,i)}function Te(i,l){for(let g of i)if(g.key===l)return g.tempKey;return!1}function He(i,l){let g={};for(let y in a.value)a.value.hasOwnProperty(y)&&i[y]!==void 0&&(g[y]=i[y],delete i[y]);xe(g,l);for(let y in i)i.hasOwnProperty(y)&&(m.indexOf(y)<0&&m.push(y),a.value[y]=i[y])}function Ge(i){let l=A.cloneDeep(i);if(_.value){let g=[];for(let y of o.formData)g.push(...Me(y,l));return g}return Me(o.formData,l)}function Me(i,l){return i.filter(g=>{for(let y of Object.keys(l))if(g.key===y&&j.value.indexOf(y)>-1&&!(l[y]===null||(Array.isArray(l[y])||M(l[y])==="Object")&&A.isEmpty(l[y])))return delete l[y],!0;return!1}).map(g=>g.key)}function xe(i,l=!1){let g=A.cloneDeep(i);je(i,l);for(let y in a.value)if(a.value.hasOwnProperty(y)&&i[y]!==void 0&&i[y]!=="--"){if(Array.isArray(i[y]))i[y]=i[y].filter(P=>P!=="--");else if(M(i[y])==="Object")for(let P in i[y])i[y].hasOwnProperty(P)&&i[y][P]==="--"&&(i[y][P]=null);a.value[y]=i[y]}else l||(a.value[y]=Array.isArray(a.value[y])?[]:null);zn(Ge(g))}function je(i,l=!1){if(_.value)for(let g of u.value)Le(g,i,l);else Le(u.value,i,l)}function Le(i,l,g=!1){for(let y of i)if(y.key&&(g&&(l[y.key]!==void 0||y.key2&&l[y.key2]!==void 0)||!g)&&y.tempKey)switch(y.type){case"inputMap":if(!y.key2)continue;M(l[y.key])==="Number"&&M(l[y.key2]==="Number")?y.key3?r.value[y.tempKey]={lng:l[y.key],lat:l[y.key2],name:l[y.key3]}:r.value[y.tempKey]={lng:l[y.key],lat:l[y.key2]}:y.key3?r.value[y.tempKey]={lng:null,lat:null,name:null}:r.value[y.tempKey]={lng:null,lat:null};break;case"input":case"inputNumber":case"textarea":l[y.key]&&l[y.key]!=="--"||l[y.key]===0?r.value[y.tempKey]=l[y.key]:r.value[y.tempKey]=null;break;case"select":case"radioGroup":case"checkboxGroup":l[y.key]&&l[y.key]!=="--"||l[y.key]===0||l[y.key]===!1?y.multiple||y.type==="checkboxGroup"?r.value[y.tempKey]=[...l[y.key]]:y.booleanVal?r.value[y.tempKey]=l[y.key]?1:0:r.value[y.tempKey]=l[y.key]:y.multiple||y.type==="checkboxGroup"?r.value[y.tempKey]=[]:r.value[y.tempKey]=null;break;case"date":case"time":if(y.dateType==="date"||y.dateType==="datetime"||y.dateType==="year"||y.dateType==="month"||y.dateType==="time")r.value[y.tempKey]=l[y.key]&&l[y.key]!=="--"?l[y.key]:null;else if(y.dateType==="daterange"||y.dateType==="datetimerange"||y.dateType==="timerange"){if(!y.key2)continue;r.value[y.tempKey]=l[y.key]&&l[y.key]!=="--"&&l[y.key2]&&l[y.key2]!=="--"&&[l[y.key],l[y.key2]]||[]}break}}function We(i){if(Array.isArray(i))for(let l of i)ul(l);else M(i)==="Object"&&ul(i)}function ul(i){const{index:l,indexB:g,key:y,val:P}=i;if(typeof l=="number")if(Array.isArray(u.value[l])){if(typeof g=="number")if(y&&(P||P!==void 0))u.value[l][g][y]=P;else for(let x of Object.keys(i))x!=="index"&&y!=="indexB"&&(u.value[l][g][x]=i[x])}else if(y&&(P||P!==void 0))u.value[l][y]=P;else for(let x of Object.keys(i))x!=="index"&&(u.value[l][x]=i[x])}function fl({label:i,root:l}){l.key2&&(a.value[l.key2]=i),Ve({e:i,root:l})}function pl(i){i.beforeKey&&A.remove(f,l=>l===i.beforeKey),i.key&&(f.indexOf(i.key)===-1&&f.push(i.key),Ve({e:null,root:i}))}function ml({name:i,root:l}){l.key2&&(a.value[l.key2]=i),Ve({e:i,root:l})}function yl({e:i,root:l}){Ve({e:i,root:l}),e.nextTick(function(){var g;(g=d.value)==null||g.validateField(l.key)})}function Ve({e:i,root:l}){te(()=>{let g={event:i};if(l.key&&(g[l.key]=a.value[l.key]),l.key2&&(g[l.key2]=a.value[l.key2]),Array.isArray(l.collectLabel))for(let y of l.collectLabel)g[y.key]=a.value[y.key];else l.collectLabel&&l.collectLabel.key&&(g[l.collectLabel.key]=a.value[l.collectLabel.key]);t("on-item-change",g)},500)}function hl(){let i={};for(let l of O.value)i[l]=a.value[l];return o.trim&&(i=Ie(i)),i}function Kn(){var i;(i=d.value)==null||i.validate()}function Fn(i){te(()=>{var l;(l=d.value)==null||l.validateField(i,()=>{})},10)}function zn(i){te(()=>{var l;if(Array.isArray(i))for(let g of i)(l=d.value)==null||l.validateField(g,()=>{})},10)}function Un(i){i!==void 0&&(b.value=!!i)}function Bt(){var i;o.disabled||(i=d.value)==null||i.validate(l=>{k||(k=!0,l&&(b.value=!0,t("on-submit",hl())),te(()=>{k=!1},2e3))})}return e.onMounted(()=>{T(),Be()}),s({resetForm:B,refreshFormDom:R,reRenderForm:E,setItemToValGroup:He,updateValGroup:xe,updateFormDataT:We,validate:Kn,reValidate:Fn,changeLoading:Un,getValGroup:hl,submit:Bt}),(i,l)=>{const g=e.resolveComponent("FormItem"),y=e.resolveComponent("Button"),P=e.resolveComponent("Form");return e.openBlock(),e.createBlock(P,{ref_key:"formGroupXRef",ref:d,model:e.unref(a),rules:e.unref(I),"label-width":o.labelWidth,inline:o.inline,"show-message":o.showMessage,class:"formXN",key:e.unref(C)},{default:e.withCtx(()=>[e.createVNode(g,{style:{display:"none"}},{default:e.withCtx(()=>[Tn]),_:1}),e.unref(_)?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:0},e.renderList(e.unref(u),(x,z)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([i.teamClass,"formTeamBox"+z]),key:"formTeamBox"+z},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(x,(L,H)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:"formItem"+H},[ne(L)?(e.openBlock(),e.createBlock(ol,{key:0,item:L,style:e.normalizeStyle(e.unref(D)),"item-style":e.unref(K),"val-group":e.unref(a),"temp-keys":e.unref(r),inline:o.inline,disabled:o.disabled,"label-width":o.labelWidth,"item-width":o.itemWidth,"mgr-url":e.unref(c),"upload-url":e.unref(w),onItemChange:Ve,onReValidate:yl,onClearTempKeyItem:U,onSelectInputChange:pl,onAlNameChange:ml,onAsyncLabelChange:fl},e.createSlots({_:2},[e.renderList(F(x),Q=>({name:Q.slotName,fn:e.withCtx(re=>[e.renderSlot(i.$slots,Q.slotName,{valGroup:re.valGroup})])}))]),1032,["item","style","item-style","val-group","temp-keys","inline","disabled","label-width","item-width","mgr-url","upload-url"])):e.createCommentVNode("",!0)],64))),128))],2))),128)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(u),(x,z)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:"formItem"+z},[!e.unref(_)&&ne(x)?(e.openBlock(),e.createBlock(ol,{key:0,item:x,style:e.normalizeStyle(e.unref(D)),"item-style":e.unref(K),"val-group":e.unref(a),"temp-keys":e.unref(r),inline:o.inline,disabled:o.disabled,"label-width":o.labelWidth,"item-width":o.itemWidth,"mgr-url":e.unref(c),"upload-url":e.unref(w),onItemChange:Ve,onReValidate:yl,onClearTempKeyItem:U,onSelectInputChange:pl,onAlNameChange:ml,onAsyncLabelChange:fl},e.createSlots({_:2},[e.renderList(F(i.formData),L=>({name:L.slotName,fn:e.withCtx(H=>[e.renderSlot(i.$slots,L.slotName,{valGroup:H.valGroup})])}))]),1032,["item","style","item-style","val-group","temp-keys","inline","disabled","label-width","item-width","mgr-url","upload-url"])):e.createCommentVNode("",!0)],64))),128)),o.showLongOkBt?(e.openBlock(),e.createBlock(g,{key:1},{default:e.withCtx(()=>[e.createVNode(y,{onClick:Bt,style:e.normalizeStyle(e.unref(K)),type:"primary",loading:o.btnLoading&&e.unref(b),disabled:o.disabled},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(o.longOkBtTxt||e.unref(S)("r.confirm")),1)]),_:1},8,["style","loading","disabled"])]),_:1})):e.createCommentVNode("",!0),e.createElementVNode("div",Mn,[o.showInlineOkBt?(e.openBlock(),e.createBlock(y,{key:0,type:"primary",class:e.normalizeClass({inlineFormBtXN:o.inline,okBtnXN:!0}),onClick:Bt,loading:o.btnLoading&&e.unref(b),disabled:o.disabled},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(o.inlineOkBtTxt||e.unref(S)("r.confirm")),1)]),_:1},8,["class","loading","disabled"])):e.createCommentVNode("",!0),o.showInlineClearBt?(e.openBlock(),e.createBlock(y,{key:1,onClick:B,class:e.normalizeClass({inlineFormBtXN:o.inline}),type:"dashed"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(o.inlineClearBtTxt||e.unref(S)("r.clear")),1)]),_:1},8,["class"])):e.createCommentVNode("",!0)])]),_:3},8,["model","rules","label-width","inline","show-message"])}}}),il=e.defineComponent({__name:"FormGroup",props:{formData:{default:()=>[]},with:{default:"100%"},labelWidth:{default:160},contentWidth:{default:"70%"},itemWidth:{default:200},showOkBt:{type:Boolean,default:!0},showCancelBt:{type:Boolean,default:!0},okBtTxt:{},cancelBtTxt:{},btnLoading:{type:Boolean,default:!1}},emits:["on-cancel"],setup(n,{emit:s}){const t=n,o=e.ref({width:t.with}),d=e.ref(!1),a=e.ref(),u=e.computed(()=>{if(Array.isArray(t.formData))if(Array.isArray(t.formData[0])){let f=[];for(let m of t.formData)f=f.concat(m.filter(b=>b.type==="custom"));return f}else return t.formData.filter(f=>f.type==="custom");return[]});function r(){d.value=!0}function p(){a.value.submit()}function c(){s("on-cancel"),te(()=>{d.value=!1,a.value.changeLoading(!1)},1e3)}return(f,m)=>{const b=e.resolveComponent("Button");return e.openBlock(),e.createElementBlock("div",{style:e.normalizeStyle(e.unref(o)),class:"formGroupBoxVM"},[e.createVNode(gt,e.mergeProps({ref_key:"formRRef",ref:a},f.$attrs,{"form-data":t.formData,"label-width":t.labelWidth,"content-width":t.contentWidth,"item-width":t.itemWidth,btnLoading:t.btnLoading,onOnSubmit:r}),e.createSlots({_:2},[e.renderList(e.unref(u),C=>({name:C.slotName,fn:e.withCtx(({valGroup:w})=>[e.renderSlot(f.$slots,C.slotName,{valGroup:w})])}))]),1040,["form-data","label-width","content-width","item-width","btnLoading"]),e.withDirectives(e.createElementVNode("div",{class:"formFooterVM",style:e.normalizeStyle({marginLeft:t.labelWidth+"px"})},[e.createElementVNode("div",{style:e.normalizeStyle({width:t.contentWidth}),class:"btnBoxKAL"},[t.showOkBt?(e.openBlock(),e.createBlock(b,{key:0,onClick:p,class:"form-save-btn",loading:t.btnLoading&&e.unref(d)},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(t.okBtTxt||e.unref(S)("r.confirm")),1)]),_:1},8,["loading"])):e.createCommentVNode("",!0),t.showCancelBt?(e.openBlock(),e.createBlock(b,{key:1,onClick:c,class:"form-cancel-btn"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(t.cancelBtTxt||e.unref(S)("r.cancel")),1)]),_:1})):e.createCommentVNode("",!0)],4)],4),[[e.vShow,t.showOkBt||t.showCancelBt]])],4)}}}),rl=Object.freeze(Object.defineProperty({__proto__:null,AlCascaderMC:pt,AsyncCascader:ft,BtTablePage:nl,EditorPro:ht,FormGroup:il,FormR:gt,FullPop:It,HeaderBt:qe,Hello:Nt,IconTxtBtn:Ot,InputMap:ut,MonthRange:yt,Page404:Tt,SelectInput:ct,ShowHidePanel:Yt,ShowHidePanelB:Jt,SideMenu:vt,TableIconBtn:qt,TableSearch:Xt,TableSetting:Qt,UploadGroup:mt},Symbol.toStringTag,{value:"Module"}));function bt(n){const s=(...a)=>de.apply(this,a),t=s("r.closePreview"),o=s("r.fullImg");let d="previewImg"+Math.floor(Math.random()*1e7);Z.Modal.info({closable:!1,"transition-names":["linear","fade"],render:a=>e.h("div",{class:"previewModal",id:d},[e.h("div",{class:"previewModalInner"},[e.h("img",{src:n,alt:o}),e.h(Z.Icon,{type:"md-close",size:20,title:t,class:"previewModalDelete",onClick(){Z.Modal.remove()}})])])}),te(()=>{var r,p,c,f,m,b;const a=(f=(c=(p=(r=document.getElementById(d))==null?void 0:r.parentElement)==null?void 0:p.parentElement)==null?void 0:c.parentElement)==null?void 0:f.parentElement,u=(b=(m=document.getElementById(d))==null?void 0:m.parentElement)==null?void 0:b.nextSibling;a&&(a.style.height="0"),a&&(a.style.padding="0"),u&&(u.style.display="none")},10)}let Oe=!1;function kt({height:n,width:s=416,title:t,content:o,onOk:d,onCancel:a,okText:u,cancelText:r,noWarnIcon:p,footerAlign:c,cancelBt:f=!0}){const m=(...k)=>de.apply(this,k);let C=(n&&Number(n)-90>100?Number(n)-90+"px":0)||"100px",w=M(o)==="String";Z.Modal.warning({width:s,footerHide:!0,render:()=>e.h("div",{class:"customMessageBox",style:{height:C}},[e.h("div",{class:"containerN"},[e.h("div",{class:"titleN"},[e.h("span",t||m("r.info.title")),e.h(Z.Button,{class:"fr closeN",type:"text",onClick(){Oe||Z.Modal.remove()}},()=>e.h("i",{class:"ivu-icon ivu-icon-ios-close",style:{fontSize:"30px"}}))]),e.h("div",{class:"contentN",style:{textAlign:w?"center":"left"}},[e.h("i",{class:w&&!p?"ivu-icon ivu-icon-ios-alert-outline":"hide",style:{fontSize:"60px",color:"#f8bb86"}}),e.h("div",{class:"msgBoxConO"},o||m("r.info.text"))]),e.h("div",{class:"footerN",style:{textAlign:c||"center"}},[e.h(Z.Button,{class:"okBtN",onClick(k){var _;if(d&&typeof d=="function"){const D=d();if(D&&M(D)==="Promise"){Oe=!0;const K=k&&(k.currentTarget||k.target);K&&(K.classList.add("ivu-btn-loading"),K.nextSibling.setAttribute("disabled","disabled"),((_=K.parentElement)==null?void 0:_.parentElement.querySelector(".titleN .closeN")).classList.add("disabled")),Promise.resolve(D).then(()=>{Oe=!1,Z.Modal.remove()}).catch(()=>{Oe=!1,Z.Modal.remove()})}else Z.Modal.remove()}}},()=>[e.h("i",{class:"ivu-load-loop ivu-icon ivu-icon-ios-loading"}),e.h("span",u||m("r.confirm"))]),e.h(Z.Button,{class:["cancelBtN",!f&&"hide"],onClick(){Oe||(Z.Modal.remove(),M(a)==="Function"&&a&&a())}},()=>r||m("r.cancel"))])])])})}function wt(n,s,t,o){const d=(...a)=>de.apply(this,a);oe.call(this,{title:n||d("r.info.title"),text:s||d("r.info.text"),icon:t||"warning",onOk:o,buttons:[d("r.cancel")]})}(()=>{if(window.wangeditorMenuInit)return;class n{constructor(){De(this,"title");De(this,"iconSvg");De(this,"tag");De(this,"alwaysEnable");this.title=de("r.preview"),this.iconSvg='<svg t="1656644788547" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="12356" width="256" height="256"><path d="M512 1024H135.4C60.7 1024 0 963.3 0 888.6V135.4C0 60.7 60.7 0 135.4 0h753.2C963.3 0 1024 60.7 1024 135.4V512c0 24.9-20.1 45-45 45s-45-20.1-45-45V135.4c0-25-20.4-45.4-45.4-45.4H135.4c-25 0-45.4 20.4-45.4 45.4v753.2c0 25 20.4 45.4 45.4 45.4H512c24.9 0 45 20.1 45 45s-20.1 45-45 45z" p-id="12357"></path><path d="M512 802c-77.5 0-150.3-30.2-205.1-84.9C252.2 662.3 222 589.5 222 512s30.2-150.3 84.9-205.1S434.5 222 512 222s150.3 30.2 205.1 84.9C771.8 361.7 802 434.5 802 512s-30.2 150.3-84.9 205.1C662.3 771.8 589.5 802 512 802z m0-490c-110.3 0-200 89.7-200 200s89.7 200 200 200 200-89.7 200-200-89.7-200-200-200z" p-id="12358"></path><path d="M978.5 1023.5c-11.5 0-23-4.4-31.8-13.2L653.2 716.8c-17.6-17.6-17.6-46.1 0-63.6 17.6-17.6 46.1-17.6 63.6 0l293.5 293.5c17.6 17.6 17.6 46.1 0 63.6-8.8 8.8-20.3 13.2-31.8 13.2z" p-id="12359"></path></svg>',this.tag="button",this.alwaysEnable=!0}getValue(){return""}isActive(){return!1}isDisabled(){return!1}exec(o){const d=document.getElementById("editor-preview");let a=localStorage.getItem("editorPreviewW")||300,u=localStorage.getItem("editorPreviewH")||500;const r=o.getHtml();if(d){let p=d.children[0].children[1].children[0],c=d.children[0].children[1];p.innerHTML=r,p.style.width=a+"px",c.style.height=u+"px",d.style.display="block"}else{const p=document.body,c=document.createElement("div");c.setAttribute("id","editor-preview"),c.setAttribute("class","editor-preview-mask"),c.innerHTML=`<div class='editor-preview-body'><div class='editor-preview-head'><div><span>宽</span><input type='number' value='${a}' min='200'><span>高</span><input type='number' value='${u}' min='300'></div><i class='ivu-icon ivu-icon-md-close'></i></div><div class='editor-preview-out-wall'><div class='editor-preview-wall r-editor-view'></div></div></div>`;let f=c.children[0].children[1],m=c.children[0].children[1].children[0],b=c.children[0].children[0].children[0].children[1];const C=40,w=70,k=I=>{if(I&&I.type==="keyup"){let F=!1;if(I.key&&(F=I.key!=="Enter"),F)return}let O=I.target.value;if(O=Number(O),m.style&&m.style.width===O+"px")return;const j=p.clientWidth;O<250?(O=250,I.target.value=250):O>j-C&&(O=j-C,I.target.value=j-C),m.style.width=O+"px",localStorage.setItem("editorPreviewW",O)};b.addEventListener("blur",k),b.addEventListener("keyup",k);let _=c.children[0].children[0].children[0].children[3];const D=I=>{if(I&&I.type==="keyup"){let F=!1;if(I.key&&(F=I.key!=="Enter"),F)return}let O=I.target.value;if(O=Number(O),f.style&&f.style.height===O+"px")return;const j=p.clientHeight;O<300?(O=300,I.target.value=300):O>j-w&&(O=j-w,I.target.value=j-w),f.style.height=O+"px",localStorage.setItem("editorPreviewH",O)};_.addEventListener("blur",D),_.addEventListener("keyup",D),c.children[0].children[0].children[1].addEventListener("click",I=>{c.style.display="none"}),m.innerHTML=r,m.style.width=a+"px",f.style.height=u+"px",p.append(c)}}}const s={key:"previewX",factory(){return new n}};Bl.Boot.registerMenu(s),window.wangeditorMenuInit=!0})();const sl={$fetch:se,fullScreenImgByDom:pe,fullScreenImgPreview:bt,$swal:oe,$swalConfirm:wt,messageBox:kt,setInterval:st,setTimeout:te,...Wt},xn=function(n,s={}){se.init(s.useStore||s.store,n),s.locale&&Fe.use(s.locale),s.i18n&&Fe.i18n(s.i18n),s.router&&Hl(s.router),s.amap&&on(s.amap),s.notRegistryGlobal||(Object.keys(rl).forEach(t=>{n.component(t)||n.component(t,rl[t])}),Object.keys(sl).forEach(t=>{n.config.globalProperties[t]=sl[t]})),n.directive("has")||n.directive("has",(t,o)=>{o.value&&!nt(o.value)&&(t.style.display="none")}),n.directive("loadmore")||n.directive("loadmore",(t,o)=>{let d;o.arg?d=t.querySelector("."+o.arg):d=t.querySelector(".ivu-select-dropdown")||t,d.addEventListener("scroll",function(){d.scrollTop>0&&d.scrollHeight-d.scrollTop<=d.clientHeight&&o.value()})})},Ln=Fe.use,Dn=Fe.i18n,En={locale:Ln,i18n:Dn,install:xn,...Wt,...Dl,$fetch:se,fullScreenImgByDom:pe,fullScreenImgPreview:bt,$swal:oe,$swalConfirm:wt,messageBox:kt,setInterval:st,setTimeout:te};V.$fetch=se,V.$swal=oe,V.$swalConfirm=wt,V.AlCascaderMC=pt,V.AsyncCascader=ft,V.BtTablePage=nl,V.EditorPro=ht,V.FormGroup=il,V.FormR=gt,V.FullPop=It,V.HeaderBt=qe,V.Hello=Nt,V.IconTxtBtn=Ot,V.InputMap=ut,V.MonthRange=yt,V.Page404=Tt,V.SelectInput=ct,V.ShowHidePanel=Yt,V.ShowHidePanelB=Jt,V.SideMenu=vt,V.TableIconBtn=qt,V.TableSearch=Xt,V.TableSetting=Qt,V.UploadGroup=mt,V.clearObj=Pe,V.dataFilterOrToUrl=Gt,V.decimalDigitsLimit=zt,V.default=En,V.downloadFileByFormSubmit=et,V.downloadFileReaderFile=Je,V.emptyInput=Lt,V.fakeALinkClick=Xe,V.fileExport=Ut,V.findCollection=ge,V.findPath=_e,V.formDataHeadConfig=Et,V.fullScreenImgByDom=pe,V.fullScreenImgPreview=bt,V.getColumnsKeys=Pt,V.getFileSrc=Se,V.getFileTypeByName=ze,V.getFileTypeIconByName=Ue,V.getStringWidth=Qe,V.hasPermission=nt,V.htmlDecode=xt,V.htmlEncode=Mt,V.htmlPrint=jt,V.isEmptyValue=$t,V.isImgByFile=Ae,V.isNaN=at,V.isNumberValue=Rt,V.isValidValue=Y,V.messageBox=kt,V.myTypeof=M,V.oneOf=Ft,V.removeEmptyValue=Re,V.setInterval=st,V.setTimeout=te,V.setValByOption=lt,V.siblingElems=ot,V.stopBubbling=Dt,V.stringLength=Ht,V.toFormData=Kt,V.toHump=Ye,V.toLine=Ze,V.tooltipManual=tt,V.trimObj=Ie,Object.defineProperties(V,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
//# sourceMappingURL=plugRQw.umd.cjs.map
