(function(m,r){typeof exports=="object"&&typeof module<"u"?r(exports,require("vue"),require("deepmerge"),require("view-ui-plus"),require("lodash"),require("sweetalert"),require("axios")):typeof define=="function"&&define.amd?define(["exports","vue","deepmerge","view-ui-plus","lodash","sweetalert","axios"],r):(m=typeof globalThis<"u"?globalThis:m||self,r(m.plugRQw={},m.Vue,m.deepmerge,m.ViewUIPlus,m._,m.swal,m.axios))})(this,function(m,r,X,N,Y,C,O){"use strict";const L={r:{locale:"zh-CN",testMsg:"测试国际化",confirm:"确定",cancel:"取消",clear:"清空",info:{title:"提示",text:"确定执行该操作？"},http:{403:"登录状态失效,请重新登录！",409:"该账号已在其他地方登录,点击确定退出。"},pSelect:"请选择",pInput:"请输入",selectDate:"选择日期",selectTime:"选择时间",search:"搜索",level:{1:"一级",2:"二级",3:"三级"},unknown:"未知",title:"标题",required:"该项为必填",back:"返回",button:"按钮",check:"查询",adSearch:"高级查询",all:"全选",tabSetting:" 列表显示设置",delete:"删除",fView:"全屏预览",download:"点击下载",file:"文件",selectFile:"选择文件",notImg:"文件不是图片，不可预览",wrongFileType:"文件类型不被允许",supportType:"支持类型：",none:"无",fileIsBig:"文件过大",supportSize:"支持最大：",uploadError:"上传出错",uploadFail:"上传失败",closePreview:"关闭预览",fullImg:"全屏图片",preview:"预览",searchFor:"当前搜索：",noMore:"没有更多数据了",optionLabel:"选项",getDataError:"拉取数据出错",add:"添加",remove:"移除",addAll:"全部添加",removeAll:"全部移除",added:"已添加",notAdded:"未添加",success:"成功",failed:"失败",error:"出错",pageNotFound:"页面没找到",notFoundMsg:"您访问的页面不存在，点击下面按钮返回上一个页面。",hideMenu:"隐藏菜单",showMenu:"显示菜单"}},Z=/(%|)\{([0-9a-zA-Z_]+)\}/g;function J(){function e(t,l){return Object.prototype.hasOwnProperty.call(t,l)}function n(t,...l){return l.length===1&&typeof l[0]=="object"&&(l=l[0]),(!l||!l.hasOwnProperty)&&(l={}),t===void 0?"":t.replace(Z,(o,s,i,c)=>{let u;return t[c-1]==="{"&&t[c+o.length]==="}"?i:(u=e(l,i)?l[i]:null,u??"")})}return n}const K=J();let M=L;const W={zh:L};let R=null,I={},h=null,ee=function(){if(Reflect.has(this,"$t"))return this.$t(...arguments);if(h&&h.global)return h.global.t(...arguments);if(h&&h.locale){if(!I[h.locale]||R!=h.locale){I[h.locale]=!0;let e=h.getLocaleMessage(h.locale)||{},n={};X(n,W[h.locale],e,{clone:!0}),M=n,h.setLocaleMessage(h.locale,n),R=h.locale}return h.hlang(...arguments)}};const S=function(e,n){let t=ee.apply(this,arguments);if(t!=null)return t;const l=e.split(".");let o=M;for(let s=0,i=l.length;s<i;s++){const c=l[s];if(t=o[c],s===i-1)return K(t,n);if(!t)return"";o=t}return""},T={use:function(e){M=e||M},t:S,i18n:function(e){h=e}};function P(...e){const n=r.getCurrentInstance().proxy;return S.apply(n,e)}const j=r.defineComponent({__name:"HeaderBt",props:{icon:{},withIcon:{type:Boolean,default:!1},iconSize:{default:18},color:{default:"inherit"},borderColor:{default:"#fff"},disabled:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:n}){const t=e;function l(){t.disabled||n("click")}return(o,s)=>{const i=r.resolveComponent("Icon");return r.openBlock(),r.createElementBlock("div",{class:r.normalizeClass({headerBtCTM:!0,withIconCTM:o.icon||o.withIcon,disabled:o.disabled}),style:r.normalizeStyle({color:o.color,borderLeftColor:o.borderColor}),onClick:l},[o.icon?(r.openBlock(),r.createBlock(i,{key:0,size:o.iconSize,type:o.icon},null,8,["size","type"])):r.createCommentVNode("",!0),r.renderSlot(o.$slots,"default")],6)}}}),te=Object.freeze(Object.defineProperty({__proto__:null,default:j},Symbol.toStringTag,{value:"Module"})),ne={class:"headerTxtAM"},le={class:"contentAM"},oe=Object.freeze(Object.defineProperty({__proto__:null,default:r.defineComponent({__name:"FullPop",props:{title:{},headerColor:{},headerBg:{},headerFontSize:{default:12},zIndex:{default:1e3}},emits:["on-open","on-close"],setup(e,{expose:n,emit:t}){const l=e;let o=r.ref(!1);const s=r.computed(()=>typeof l.headerFontSize=="number"?l.headerFontSize+"px":l.headerFontSize),i=r.computed(()=>({zIndex:l.zIndex}));function c(){o.value=!0,t("on-open")}function u(y){o.value=!1,t("on-close",y===!0)}return n({open:c,close:u}),(y,a)=>r.withDirectives((r.openBlock(),r.createElementBlock("div",{class:"fullScreenPopBoxAM",style:r.normalizeStyle(i.value)},[r.createElementVNode("div",{class:"headerAM",style:r.normalizeStyle({color:y.headerColor,backgroundColor:y.headerBg,fontSize:s.value})},[r.createElementVNode("span",ne,r.toDisplayString(y.title||r.unref(P)("r.title")),1),r.createVNode(j,{icon:"md-return-left",onClick:u},{default:r.withCtx(()=>[r.createTextVNode(r.toDisplayString(r.unref(P)("r.back")),1)]),_:1})],4),r.createElementVNode("div",le,[r.renderSlot(y.$slots,"default")])],4)),[[r.vShow,r.unref(o)]])}})},Symbol.toStringTag,{value:"Module"})),se={class:"msg"},re=Object.freeze(Object.defineProperty({__proto__:null,default:r.defineComponent({__name:"Hello",setup(e){let n=r.ref("Greetings from Ricky.");return(t,l)=>(r.openBlock(),r.createElementBlock("span",se,r.toDisplayString(r.unref(n)),1))}})},Symbol.toStringTag,{value:"Module"}));function E(e,n,t){const l=(...o)=>S.apply(this,o);return new Promise((o,s)=>{if(typeof e=="object"&&!Array.isArray(e)){let i=l("r.confirm"),c=l("r.cancel"),u=!1,y="swalConfirmBt",a="swalCancelBt";const d=/^HTML.*Element$/;e.type&&(e.icon=e.type)&&delete e.type,e.content&&(e.text=e.content)&&delete e.content,e.className=e.className||"swalBoxX";let f="";e.text&&d.test(B(e.text))?f="content":e.text&&B(e.text)==="String"&&(f="text"),e.buttons&&(typeof e.buttons=="object"&&!Array.isArray(e.buttons)?e.buttons.cancel&&(e.buttons.cancel.text&&(c=e.buttons.cancel.text)&&(u=!0),e.buttons.cancel.className&&(a=e.buttons.cancel.className),e.buttons.confirm.text&&(i=e.buttons.confirm.text),e.buttons.confirm.className&&(y=e.buttons.confirm.className)):Array.isArray(e.buttons)&&(e.buttons[0]&&(c=e.buttons[0],u=!0),e.buttons[1]&&(i=e.buttons[1]))),C({title:e.title,icon:e.icon,className:e.className,[f]:e.text,buttons:{confirm:{text:i,value:!0,visible:!0,className:y},cancel:{text:c,value:null,visible:u,className:a}}}).then(_=>{_&&typeof e.onOk=="function"&&e.onOk(),o(_)}).catch(_=>{s(_)})}else if(typeof e=="string"){let i="";if(n)switch(typeof n){case"string":i="text";break;case"object":i="content";break}C({title:e,[i]:n||"",icon:t||"",className:"swalBoxX",buttons:{confirm:{text:l("r.confirm"),value:!0,visible:!0,className:"swalConfirmBt",closeModal:!0}}}).then(c=>{o(c)}).catch(c=>{s(c)})}else if(typeof e=="boolean")!e&&C.close&&C.close();else throw new TypeError("swal第一个参数类型有误，仅支持Object/String/false")})}function B(e){return Object.prototype.toString.call(e).replace(/\[object |]/g,"")}function V({height:e,width:n=416,title:t,content:l,onOk:o,onCancel:s,okText:i,cancelText:c,noWarnIcon:u,footerAlign:y,cancelBt:a}){const d=(...p)=>S.apply(this,p);let _=(e&&Number(e)-90>100?Number(e)-90+"px":0)||"100px";l=l||d("r.info.text");let w=B(l)==="String";N.Modal.warning({width:n,footerHide:!0,render:p=>p("div",{class:"customMessageBox",style:{height:_}},[p("div",{class:"containerN"},[p("div",{class:"titleN"},[p("span",t||d("r.info.title")),p("Button",{class:"fr closeN ivu-btn ivu-btn-text",type:"text",onclick(){N.Modal.remove()}},[p("i",{class:"ivu-icon ivu-icon-ios-close",style:{fontSize:"30px"}})])]),p("div",{class:"contentN",style:{textAlign:w?"center":"left"}},[p("i",{class:w&&!u?"ivu-icon ivu-icon-ios-alert-outline":"hide",style:{fontSize:"60px",color:"#f8bb86"}}),p("div",{class:"msgBoxConO"},l)]),p("div",{class:"footerN",style:{textAlign:y||"center"}},[p("Button",{class:"okBtN ivu-btn ivu-btn-default",onclick(){N.Modal.remove(),o&&B(o)==="Function"&&o()}},[p("i",{class:"ivu-load-loop ivu-icon ivu-icon-ios-loading"}),p("span",i||d("r.confirm"))]),p("Button",{class:["cancelBtN ivu-btn ivu-btn-default",!a&&"hide"],onclick(){N.Modal.remove(),B(s)==="Function"&&s&&s()}},c||d("r.cancel"))])])])})}let k=0,v=document.createElement("div");v.setAttribute("class","spinModal"),v.innerHTML='<div class="loader"><svg class="circular" viewBox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="5" stroke-miterlimit="10" /></svg></div>',window.onload=function(){document.getElementsByTagName("body")[0].append(v)};function q(e){e?v.classList.add("show"):v.classList.remove("show")}function H(e){let n=k;e?k++:k>0&&k--,n!==k&&(k===0?q(!1):n===0&&q(!0))}const ce=window.location.origin;let x=null;const D=(...e)=>S.apply(x,e);let b=O.create({baseURL:ce,withCredentials:!0});function ie(){console.info("store为空，请在安装插件时传入store实例：Vue.use(plugRQw,{store:store})，Pinia传{store:useStore}")}b.interceptors.request.use(e=>e,e=>Promise.reject(e));function U(){if(b.store)if(typeof b.store=="function"){const e=b.store();e.logout&&e.logout()}else b.store.dispatch("logout");else ie()}b.interceptors.response.use(e=>(x&&e&&e.data&&(e.data.code===403||e.data.code===409)&&x.messageBox({content:D("r.http."+e.data.code),onOk:U}),e),e=>(x&&e&&e.response&&(e.response.status===403||e.response.status===409)&&x.messageBox({content:D("r.http."+e.response.status),onOk:U}),console.warn("请求出错：",e),Promise.reject(e)));function g(e,n,t,l){l&&l.spin&&H(!1);let o=!0,s=e&&e.data;if(s){t=t||[];for(let i of t)s=s[i],o=o&&s;return o?s:(n&&console.warn(n),!1)}return n&&console.warn(n),!1}function ae(e,n,t,l,o,s,i){return new Promise((c,u)=>{switch(e){case"get":b.get(n,{params:t}).then(a=>{let d=g(a,l,o,s);d?c(d):u(a)}).catch(a=>{g({},l,o,s),u(a)});break;case"delete":let y=i?"params":"data";b.delete(n,{[y]:t}).then(a=>{let d=g(a,l,o,s);d?c(d):u(a)}).catch(a=>{g({},l,o,s),u(a)});break;case"post":b.post(n,t,s).then(a=>{let d=g(a,l,o,s);d?c(d):u(a)}).catch(a=>{g({},l,o,s),u(a)});break;case"put":b.put(n,t,s).then(a=>{let d=g(a,l,o,s);d?c(d):u(a)}).catch(a=>{g({},l,o,s),u(a)});break}})}function z(e,n,t={},l,o,s,i){return new Promise((c,u)=>{if(n){s&&s.spin&&H(!0);let y=n;if(window&&window.hasOwnProperty("g")){const f=window.g;let _=Object.keys(f).filter(w=>w.indexOf("URL")>-1).map(w=>w.replace("URL",""));for(let w of _){let p=new RegExp("^/"+w+"(?=/.*$)","i");if(p.test(n)&&f[w+"URL"]){y=f[w+"URL"]+n.replace(p,"");break}}}let a;if(s&&s.headers&&s.headers["Content-Type"]==="multipart/form-data")a=t;else if(t&&!Y.isEmpty(t))if(Array.isArray(t)){a=[];for(let f of t)(f||f===0||f===!1||f===""&&s&&!s.noEmptyStr)&&a.push(f)}else{a={};for(let f in t)t.hasOwnProperty(f)&&(t[f]||t[f]===0||t[f]===!1||t[f]===""&&s&&!s.noEmptyStr)&&(a[f]=t[f])}let d=e.toLowerCase();ae(d,y,a,l,o,s,i).then(f=>{c(f)}).catch(f=>{u(f)})}else console.error("没有请求地址:url"),u("没有请求地址:url")})}const A={init(e,n){b.store=e,x=n.config.globalProperties},post(e,n,t,l,o){return new Promise((s,i)=>{z("post",e,n,t,l,o).then(c=>{s(c)}).catch(c=>{i(c)})})},put(e,n,t,l,o){return new Promise((s,i)=>{z("put",e,n,t,l,o).then(c=>{s(c)}).catch(c=>{i(c)})})},get(e,n,t,l,o){return new Promise((s,i)=>{z("get",e,n,t,l,o).then(c=>{s(c)}).catch(c=>{i(c)})})},delete(e,n,t,l,o,s=!0){return new Promise((i,c)=>{z("delete",e,n,t,l,o,s).then(u=>{i(u)}).catch(u=>{c(u)})})},all:O.all,spread:O.spread,config:b};function G(e,n,t,l){const o=(...s)=>S.apply(this,s);E.call(this,{title:e||o("r.info.title"),text:n||o("r.info.text"),icon:t||"warning",onOk:l,buttons:[o("r.cancel")]})}const $=Object.assign({"./components/FullPop/FullPop.vue":oe,"./components/HeaderBt/HeaderBt.vue":te,"./components/Hello.vue":re});let F={};for(const e in $)if($.hasOwnProperty(e)){const n=e.replace(/^\.\/.*\/(\w*)\/.*\.vue$|^\.\/.*\/(\w*)\.vue$/,"$1$2");F[n]=$[e].default}const Q={$fetch:A,$swal:E,$swalConfirm:G,messageBox:V},ue=function(e,n={}){A.init(n.useStore||n.store,e),n.locale&&T.use(n.locale),n.i18n&&T.i18n(n.i18n),Object.keys(F).forEach(t=>{e.component(t,F[t])}),Object.keys(Q).forEach(t=>{e.config.globalProperties[t]=Q[t]})},fe=T.use,de=T.i18n,pe={locale:fe,i18n:de,install:ue};m.default=pe,m.fetch=A,m.messageBox=V,m.swal=E,m.swalConfirm=G,Object.defineProperties(m,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
