{"version":3,"file":"plugRQw.umd.cjs","sources":["../src/locale/lang/zh-CN.js","../src/locale/format.ts","../src/locale/index.ts","../src/locale/i18nSFC.ts","../src/components/HeaderBt/HeaderBt.vue","../src/components/FullPop/FullPop.vue","../src/components/Hello.vue","../src/components/Page404/Page404.vue","../src/methods/swal.ts","../src/methods/needImortFunc.ts","../src/methods/globalFunc.ts","../src/components/SideMenu/SideMenuGroup.vue","../src/components/SideMenu/SideMenu.vue","../src/methods/spin.ts","../src/methods/fetch.ts","../src/methods/messageBox.ts","../src/methods/swalConfirm.ts","../src/methods/timer.ts","../src/index.ts"],"sourcesContent":["export default {\r\n\tr: {\r\n\t\tlocale: 'zh-CN',\r\n\t\ttestMsg: '测试国际化',\r\n\t\tconfirm: '确定',\r\n\t\tcancel: '取消',\r\n\t\tclear: '清空',\r\n\t\tinfo: {\r\n\t\t\ttitle: '提示',\r\n\t\t\ttext: '确定执行该操作？'\r\n\t\t},\r\n\t\thttp: {\r\n\t\t\t403: '登录状态失效,请重新登录！',\r\n\t\t\t409: '该账号已在其他地方登录,点击确定退出。'\r\n\t\t},\r\n\t\tpSelect: '请选择',\r\n\t\tpInput: '请输入',\r\n\t\tselectDate: '选择日期',\r\n\t\tselectTime: '选择时间',\r\n\t\tsearch: '搜索',\r\n\t\tlevel: {\r\n\t\t\t1: '一级',\r\n\t\t\t2: '二级',\r\n\t\t\t3: '三级'\r\n\t\t},\r\n\t\tunknown: '未知',\r\n\t\ttitle: '标题',\r\n\t\trequired: '该项为必填',\r\n\t\tback: '返回',\r\n\t\tbutton: '按钮',\r\n\t\tcheck: '查询',\r\n\t\tadSearch: '高级查询',\r\n\t\tall: '全选',\r\n\t\ttabSetting: ' 列表显示设置',\r\n\t\tdelete: '删除',\r\n\t\tfView: '全屏预览',\r\n\t\tdownload: '点击下载',\r\n\t\tfile: '文件',\r\n\t\tselectFile: '选择文件',\r\n\t\tnotImg: '文件不是图片，不可预览',\r\n\t\twrongFileType: '文件类型不被允许',\r\n\t\tsupportType: '支持类型：',\r\n\t\tnone: '无',\r\n\t\tfileIsBig: '文件过大',\r\n\t\tsupportSize: '支持最大：',\r\n\t\tuploadError: '上传出错',\r\n\t\tuploadFail: '上传失败',\r\n\t\tclosePreview: '关闭预览',\r\n\t\tfullImg: '全屏图片',\r\n\t\tpreview: '预览',\r\n\t\tsearchFor: '当前搜索：',\r\n\t\tnoMore: '没有更多数据了',\r\n\t\toptionLabel: '选项',\r\n\t\tgetDataError: '拉取数据出错',\r\n\t\tadd: '添加',\r\n\t\tremove: '移除',\r\n\t\taddAll: '全部添加',\r\n\t\tremoveAll: '全部移除',\r\n\t\tadded: '已添加',\r\n\t\tnotAdded: '未添加',\r\n\t\tsuccess: '成功',\r\n\t\tfailed: '失败',\r\n\t\terror: '出错',\r\n\t\tpageNotFound: '页面没找到',\r\n\t\tnotFoundMsg: '您访问的页面不存在，点击下面按钮返回上一个页面。',\r\n\t\thideMenu: '隐藏菜单',\r\n\t\tshowMenu: '显示菜单'\r\n\t}\r\n}\r\n","/**\n * @description 国际化\n * @author Ricky email:zhangqingcq@foxmail.com\n * @created 2023.04.27\n */\n\n/**\n * t('XXX',...arg)\n *  去掉XXX中双花括号，或替换%{XXX}为arg[XXX]，arg为t('XXX',...arg)中arg\n *  如果XXX没有花括号，则返回XXX本身\n */\n\nconst REG_NAME = /(%|){([0-9a-zA-Z_]+)}/g\n\nexport default function () {\n\tfunction hasOwn(obj, key) {\n\t\treturn Object.prototype.hasOwnProperty.call(obj, key)\n\t}\n\n\t/**\n\t * template\n\t *\n\t * @param {String} string\n\t * @param {Array} a\n\t * @return {String}\n\t */\n\n\tfunction template(string, ...a) {\n\t\tlet args\n\t\tif (a.length === 1 && typeof a[0] === 'object') {\n\t\t\targs = a[0]\n\t\t}\n\n\t\tif (!args || !args.hasOwnProperty) {\n\t\t\targs = {}\n\t\t}\n\t\tif (string === undefined) {\n\t\t\treturn ''\n\t\t}\n\n\t\treturn string.replace(REG_NAME, (match, prefix, i, index) => {\n\t\t\tlet result\n\n\t\t\tif (string[index - 1] === '{' && string[index + match.length] === '}') {\n\t\t\t\treturn i\n\t\t\t} else {\n\t\t\t\tresult = hasOwn(args, i) ? args[i] : null\n\n\t\t\t\treturn result ?? ''\n\t\t\t}\n\t\t})\n\t}\n\n\treturn template\n}\n","/**\n * @description 国际化\n * @author Ricky email:zhangqingcq@foxmail.com\n * @created 2023.04.27\n */\nimport deepmerge from 'deepmerge'\nimport zhLang from './lang/zh-CN'\nimport Format from './format'\n\nconst format = Format()\nlet lang: any = zhLang\nconst message = {\n\tzh: zhLang\n}\nlet nowLang = null\nlet merged = {}\nlet vueI18n: any = null\nlet i18nHandler = function (this, ...args) {\n\tif (Reflect.has(this, '$t')) {\n\t\treturn this.$t(...args)\n\t}\n\tif (vueI18n && vueI18n.global) {\n\t\treturn vueI18n.global.t(...args)\n\t}\n\tif (vueI18n && vueI18n.locale) {\n\t\tif (!merged[vueI18n.locale] || nowLang != vueI18n.locale) {\n\t\t\tmerged[vueI18n.locale] = true\n\t\t\tlet localMessage = vueI18n.getLocaleMessage(vueI18n.locale) || {}\n\t\t\tlet newLocalMessage = deepmerge(message[vueI18n.locale], localMessage, { clone: true })\n\t\t\tlang = newLocalMessage\n\t\t\tvueI18n.setLocaleMessage(vueI18n.locale, newLocalMessage)\n\t\t\tnowLang = vueI18n.locale\n\t\t}\n\t\treturn vueI18n.hlang(...args)\n\t}\n}\n\nexport const t = function (this, ...args: Parameters<typeof i18nHandler>) {\n\tlet path = args[0]\n\tlet options = args[1]\n\tlet value = i18nHandler.apply(this, args)\n\tif (value !== null && value !== undefined) {\n\t\treturn value\n\t}\n\n\tconst array = path.split('.')\n\tlet current = lang\n\n\tfor (let i = 0, j = array.length; i < j; i++) {\n\t\tconst property = array[i]\n\t\tvalue = current[property]\n\t\tif (i === j - 1) {\n\t\t\treturn format(value, options)\n\t\t}\n\t\tif (!value) {\n\t\t\treturn ''\n\t\t}\n\t\tcurrent = value\n\t}\n\treturn ''\n}\n\nexport const use = function (l) {\n\tlang = l || lang\n}\n\nexport const i18n = function (initI18n) {\n\tvueI18n = initI18n\n}\n\nexport default {\n\tuse,\n\tt,\n\ti18n\n}\n","import { t } from './index'\r\nimport { getCurrentInstance } from 'vue'\r\n\r\nexport default function (...args: Parameters<typeof t>) {\r\n\tconst proxy = getCurrentInstance()?.appContext.config.globalProperties\r\n\treturn t.apply(proxy, args)\r\n}\r\n","<!--FullScreenPop header右侧按钮，和header同高，左侧带白色分割线，按钮内容直接写在标签内，全局UI组件，直接用\r\n@created 2023.05.11\r\n@author Ricky email:zhangqingcq@foxmail.com-->\r\n\r\n<script setup lang=\"ts\">\r\n\tconst props = withDefaults(\r\n\t\tdefineProps<{\r\n\t\t\ticon?: string\r\n\t\t\twithIcon?: boolean\r\n\t\t\ticonSize?: number | string\r\n\t\t\tcolor?: string\r\n\t\t\tborderColor?: string\r\n\t\t\tdisabled?: boolean\r\n\t\t}>(),\r\n\t\t{\r\n\t\t\twithIcon: false,\r\n\t\t\ticonSize: 18,\r\n\t\t\tcolor: 'inherit',\r\n\t\t\tborderColor: '#fff',\r\n\t\t\tdisabled: false\r\n\t\t}\r\n\t)\r\n\r\n\tconst emit = defineEmits(['click'])\r\n\r\n\tfunction click() {\r\n\t\tif (props.disabled) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\temit('click')\r\n\t}\r\n</script>\r\n\r\n<template>\r\n\t<div\r\n\t\t:class=\"{ headerBtCTM: true, withIconCTM: icon || withIcon, disabled: disabled }\"\r\n\t\t:style=\"{ color: color, borderLeftColor: borderColor }\"\r\n\t\t@click=\"click\"\r\n\t>\r\n\t\t<Icon v-if=\"icon\" :size=\"iconSize\" :type=\"icon\" />\r\n\t\t<slot></slot>\r\n\t</div>\r\n</template>\r\n","<!--FullPop “全屏”弹出页（绝对定位，和最近一个relative元素大小一致），自带header，提供方法开关页面，全局UI组件，直接用\r\n@created 2023.05.11\r\n@author Ricky email:zhangqingcq@foxmail.com-->\r\n\r\n<script setup lang=\"ts\">\r\n\timport { ref, computed } from 'vue'\r\n\timport t from '../../locale/i18nSFC'\r\n\timport HeaderBt from '../HeaderBt/HeaderBt.vue'\r\n\r\n\tconst props = withDefaults(\r\n\t\tdefineProps<{\r\n\t\t\ttitle?: string\r\n\t\t\theaderColor?: string\r\n\t\t\theaderBg?: string\r\n\t\t\theaderFontSize?: number | string\r\n\t\t\tzIndex?: number\r\n\t\t}>(),\r\n\t\t{\r\n\t\t\theaderFontSize: 12,\r\n\t\t\tzIndex: 1000\r\n\t\t}\r\n\t)\r\n\r\n\tconst emit = defineEmits(['on-open', 'on-close'])\r\n\r\n\tlet showPop = ref(false)\r\n\r\n\tconst hFontSize = computed(() => {\r\n\t\tif (typeof props.headerFontSize === 'number') {\r\n\t\t\treturn props.headerFontSize + 'px'\r\n\t\t}\r\n\t\treturn props.headerFontSize\r\n\t})\r\n\r\n\tconst popStyle = computed(() => {\r\n\t\treturn { zIndex: props.zIndex }\r\n\t})\r\n\r\n\tfunction open() {\r\n\t\tshowPop.value = true\r\n\t\temit('on-open')\r\n\t}\r\n\r\n\tfunction close(getData?: boolean) {\r\n\t\tshowPop.value = false\r\n\t\temit('on-close', getData === true)\r\n\t}\r\n\r\n\tdefineExpose({\r\n\t\topen,\r\n\t\tclose\r\n\t})\r\n</script>\r\n\r\n<template>\r\n\t<div v-show=\"showPop\" class=\"fullScreenPopBoxAM\" :style=\"popStyle\">\r\n\t\t<div class=\"headerAM\" :style=\"{ color: headerColor, backgroundColor: headerBg, fontSize: hFontSize }\">\r\n\t\t\t<!--这是标题-->\r\n\t\t\t<span class=\"headerTxtAM\">{{ title || t('r.title') }}</span>\r\n\t\t\t<!--这是返回按钮-->\r\n\t\t\t<HeaderBt icon=\"md-return-left\" @click=\"close\">{{ t('r.back') }}</HeaderBt>\r\n\t\t</div>\r\n\t\t<div class=\"contentAM\">\r\n\t\t\t<slot></slot>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n","<!--Hello\r\n@created 2023.04.27\r\n@author Ricky email:zhangqingcq@foxmail.com-->\r\n\r\n<script setup lang=\"ts\">\r\n\timport { ref } from 'vue'\r\n\r\n\tlet msg = ref('Greetings from Ricky.')\r\n</script>\r\n\r\n<template>\r\n\t<span class=\"msg\">{{ msg }}</span>\r\n</template>\r\n","<script setup lang=\"ts\">\n\timport { getCurrentInstance } from 'vue'\n\timport type { Router } from 'vue-router'\n\timport t from '../../locale/i18nSFC'\n\n\tconst instance = getCurrentInstance()!\n\tconst router = instance.appContext.config.globalProperties.$router as Router\n\n\tfunction back() {\n\t\trouter.go(-1)\n\t}\n</script>\n\n<template>\n\t<div class=\"c404K\">\n\t\t<div class=\"t404\">404</div>\n\t\t<div class=\"ct404\">UH OH! {{ t('r.pageNotFound') }}</div>\n\t\t<div class=\"p404\">{{ t('r.notFoundMsg') }}</div>\n\n\t\t<Button class=\"bt404\" @click=\"back\">{{ t('r.back') }}</Button>\n\t</div>\n</template>\n","/**\r\n * @description 提示框\r\n * @author ricky zhangqingcq@foxmail.com\r\n * @created 2023.05.08\r\n */\r\n\r\nimport swal from 'sweetalert'\r\nimport { myTypeof } from './globalFunc'\r\nimport { t } from '../locale'\r\n\r\ntype ButtonC = { text?: string; className?: string; value?: boolean | null; visible?: boolean }\r\ntype ButtonS = { cancel: ButtonC; confirm: ButtonC }\r\n\r\n/**\r\n * $swal实例\r\n * @param {object/string/boolean} option object:{title:'标题',content(or text):'内容，可以为空',type(or icon):'success(or error\r\n *   or warning)'}---string:'标题'---boolean:关闭$swal窗体\r\n * @param {string} text 当option为object时不传此变量，当option为string时该变量为'内容'\r\n * @param {string} icon 当option为object时不传此变量，当option为string时该变量为弹出框类型'success'/'error'/'warning'\r\n */\r\nexport default function (\r\n\tthis: any,\r\n\toption:\r\n\t\t| string\r\n\t\t| {\r\n\t\t\t\ttitle?: string\r\n\t\t\t\tcontent?: string\r\n\t\t\t\ttext?: string\r\n\t\t\t\ttype?: string\r\n\t\t\t\ticon?: string\r\n\t\t\t\tonOk?: () => void\r\n\t\t\t\tclassName?: string\r\n\t\t\t\tbuttons?: ButtonS | Array<string>\r\n\t\t  }\r\n\t\t| boolean,\r\n\ttext?: string | HTMLElement,\r\n\ticon?: string\r\n) {\r\n\tconst T = (...arg: Parameters<typeof t>) => t.apply(this, arg)\r\n\r\n\treturn new Promise((r, j) => {\r\n\t\tif (typeof option === 'object' && !Array.isArray(option)) {\r\n\t\t\tlet okTxt = T('r.confirm')\r\n\t\t\tlet cancelTxt = T('r.cancel')\r\n\t\t\tlet cancelVisible = false\r\n\t\t\tlet okClass = 'swalConfirmBt'\r\n\t\t\tlet cancelClass = 'swalCancelBt'\r\n\t\t\tconst reg = /^HTML.*Element$/\r\n\r\n\t\t\toption.type && (option.icon = option.type) && delete option.type\r\n\t\t\toption.content && (option.text = option.content) && delete option.content\r\n\t\t\toption.className = option.className || 'swalBoxX'\r\n\r\n\t\t\tlet t = ''\r\n\t\t\tif (option.text && reg.test(myTypeof(option.text))) {\r\n\t\t\t\tt = 'content'\r\n\t\t\t} else if (option.text && myTypeof(option.text) === 'String') {\r\n\t\t\t\tt = 'text'\r\n\t\t\t}\r\n\r\n\t\t\tif (option.buttons) {\r\n\t\t\t\tif (typeof option.buttons === 'object' && !Array.isArray(option.buttons)) {\r\n\t\t\t\t\tif (option.buttons.cancel) {\r\n\t\t\t\t\t\toption.buttons.cancel.text && (cancelTxt = option.buttons.cancel.text) && (cancelVisible = true)\r\n\t\t\t\t\t\toption.buttons.cancel.className && (cancelClass = option.buttons.cancel.className)\r\n\r\n\t\t\t\t\t\toption.buttons.confirm.text && (okTxt = option.buttons.confirm.text)\r\n\t\t\t\t\t\toption.buttons.confirm.className && (okClass = option.buttons.confirm.className)\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (Array.isArray(option.buttons)) {\r\n\t\t\t\t\tif (option.buttons[0]) {\r\n\t\t\t\t\t\tcancelTxt = option.buttons[0]\r\n\t\t\t\t\t\tcancelVisible = true\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (option.buttons[1]) {\r\n\t\t\t\t\t\tokTxt = option.buttons[1]\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tswal({\r\n\t\t\t\ttitle: option.title,\r\n\t\t\t\ticon: option.icon,\r\n\t\t\t\tclassName: option.className,\r\n\t\t\t\t[t]: option.text,\r\n\t\t\t\tbuttons: {\r\n\t\t\t\t\tconfirm: {\r\n\t\t\t\t\t\ttext: okTxt,\r\n\t\t\t\t\t\tvalue: true,\r\n\t\t\t\t\t\tvisible: true,\r\n\t\t\t\t\t\tclassName: okClass\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcancel: {\r\n\t\t\t\t\t\ttext: cancelTxt,\r\n\t\t\t\t\t\tvalue: null,\r\n\t\t\t\t\t\tvisible: cancelVisible,\r\n\t\t\t\t\t\tclassName: cancelClass\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tif (res && typeof option.onOk === 'function') {\r\n\t\t\t\t\t\toption.onOk()\r\n\t\t\t\t\t}\r\n\t\t\t\t\tr(res)\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tj(err)\r\n\t\t\t\t})\r\n\t\t} else if (typeof option === 'string') {\r\n\t\t\tlet t = ''\r\n\t\t\tif (text) {\r\n\t\t\t\tswitch (typeof text) {\r\n\t\t\t\t\tcase 'string':\r\n\t\t\t\t\t\tt = 'text'\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'object':\r\n\t\t\t\t\t\tt = 'content'\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tswal({\r\n\t\t\t\ttitle: option,\r\n\t\t\t\t[t]: text || '',\r\n\t\t\t\ticon: icon || '',\r\n\t\t\t\tclassName: 'swalBoxX',\r\n\t\t\t\tbuttons: {\r\n\t\t\t\t\tconfirm: {\r\n\t\t\t\t\t\ttext: T('r.confirm'),\r\n\t\t\t\t\t\tvalue: true,\r\n\t\t\t\t\t\tvisible: true,\r\n\t\t\t\t\t\tclassName: 'swalConfirmBt',\r\n\t\t\t\t\t\tcloseModal: true\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tr(res)\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tj(err)\r\n\t\t\t\t})\r\n\t\t} else if (typeof option === 'boolean') {\r\n\t\t\tif (!option && swal.close) {\r\n\t\t\t\tswal.close()\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthrow new TypeError('swal第一个参数类型有误，仅支持Object/String/false')\r\n\t\t}\r\n\t})\r\n}\r\n","/**\r\n * @description 公共方法集合，需要单独引用才能使用\r\n * @author ricky zhangqingcq@foxmail.com\r\n * @created 2023.07.14\r\n */\r\nimport type { Collection } from '../public'\r\nimport _ from 'lodash'\r\nimport { myTypeof } from './globalFunc'\r\n\r\n// 下划线转换驼峰\r\nexport function toHump(name: string): string {\r\n\treturn name.replace(/_(\\w)/g, function (all, letter) {\r\n\t\treturn letter.toUpperCase()\r\n\t})\r\n}\r\n\r\n/*用浏览器内部转换器实现html转码*/\r\nexport function htmlEncode(text: string): string | HTMLElement {\r\n\t//1.首先动态创建一个容器标签元素，如DIV\r\n\tlet temp = document.createElement('div')\r\n\t//2.然后将要转换的字符串设置为这个元素的innerText(ie支持)或者textContent(火狐，google支持)\r\n\ttemp.textContent !== undefined ? (temp.textContent = text) : (temp.innerText = text)\r\n\t//3.最后返回这个元素的innerHTML，即得到经过HTML编码转换的字符串了\r\n\treturn temp.innerHTML\r\n}\r\n\r\n/*用浏览器内部转换器实现html解码*/\r\nexport function htmlDecode(html: string): string | null {\r\n\t//1.首先动态创建一个容器标签元素，如DIV\r\n\tlet temp = document.createElement('div')\r\n\t//2.然后将要转换的字符串设置为这个元素的innerHTML(ie，火狐，google都支持)\r\n\ttemp.innerHTML = html\r\n\t//3.最后返回这个元素的innerText(ie支持)或者textContent(火狐，google支持)，即得到经过HTML解码的字符串了。\r\n\treturn temp.innerText || temp.textContent\r\n}\r\n\r\n/*根据file文件对象获取文件地址用来预览*/\r\nexport function getFileSrc(file: File) {\r\n\treturn new Promise((resolve) => {\r\n\t\tlet reader = new FileReader()\r\n\t\treader.readAsDataURL(file) // 读出 base64\r\n\t\treader.onloadend = () => {\r\n\t\t\tresolve(reader.result)\r\n\t\t}\r\n\t})\r\n}\r\n\r\n/*获取后缀名*/\r\nexport function getFileTypeByName(name: string): string {\r\n\treturn name.split('.').pop()!.toLocaleLowerCase()\r\n}\r\n\r\n/*判断是否为图片（type是否包含‘image’）*/\r\nexport function isImgByFile(type: string): boolean {\r\n\treturn myTypeof(type) === 'String' && type.indexOf('image') > -1\r\n}\r\n\r\n/*根据文件名获取图标（上传组件用）*/\r\nexport function getFileTypeIconByName(name: string): string {\r\n\tconst format = getFileTypeByName(name)\r\n\tlet type = 'ios-document-outline'\r\n\r\n\tif (['gif', 'jpg', 'jpeg', 'png', 'bmp', 'webp'].indexOf(format) > -1) {\r\n\t\ttype = 'ios-image'\r\n\t} else if (['mp4', 'm3u8', 'rmvb', 'avi', 'swf', '3gp', 'mkv', 'flv'].indexOf(format) > -1) {\r\n\t\ttype = 'ios-film'\r\n\t} else if (['mp3', 'wav', 'wma', 'ogg', 'aac', 'flac'].indexOf(format) > -1) {\r\n\t\ttype = 'ios-musical-notes'\r\n\t} else if (['doc', 'txt', 'docx', 'pages', 'epub', 'pdf'].indexOf(format) > -1) {\r\n\t\ttype = 'md-document'\r\n\t} else if (['numbers', 'csv', 'xls', 'xlsx'].indexOf(format) > -1) {\r\n\t\ttype = 'ios-stats'\r\n\t} else if (['keynote', 'ppt', 'pptx'].indexOf(format) > -1) {\r\n\t\ttype = 'ios-videocam'\r\n\t}\r\n\r\n\treturn type\r\n}\r\n\r\n/*下载一个文件（替换容易被浏览器屏蔽的window.open方法）*/\r\nexport function downloadFileReaderFile(name: string, href: string): void {\r\n\tlet saveLink = document.createElement('a')\r\n\tsaveLink.href = href\r\n\tsaveLink.download = name\r\n\tfakeALinkClick(saveLink)\r\n}\r\n\r\n/*模拟被点击（比如模拟用户点击链接下载东西）*/\r\nexport function fakeALinkClick(obj: Record<string, any>): void {\r\n\tlet ev = document.createEvent('MouseEvents')\r\n\tev.initMouseEvent('click', true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null)\r\n\tobj.dispatchEvent(ev)\r\n}\r\n\r\n/**\r\n * 按条件查找一个元素在集合中的位置（路径），返回找到的第一个符合条件的位置\r\n * 仅适用于[{children:[{...},...],...},...]类似树结构集合（最外层也可以是一个对象）或一维数组\r\n * @param {Array/Object} group - 集合，被查找的集合，必填\r\n * @param {Function/String/Number/Boolean} condition - 查找条件，为常量时，将常量和集合元素直接对比，必填\r\n * @param {String} pathKey - 查找结果（路径）元素在集合中的key，在集合为数组时，可以不填，返回index（索引）\r\n * @param {String} childKey - 集合子元素的key，默认值 children\r\n * @param {Array} path - 递归用参数，逻辑内部参数，不用传\r\n * @return {Array} 返回带有路径（层级）信息的数组\r\n * @example group: {id:1,name:'爸爸',children:[{id:2,name:'大儿子'},{id:3,name:'二儿子'}]}\r\n *          condition: e=>e.id === 3\r\n *          pathKey: 'name'\r\n *          childKey: 'children'\r\n *\r\n *          返回：['爸爸','二儿子']\r\n */\r\nexport function findPath({\r\n\tgroup,\r\n\tcondition,\r\n\tpathKey,\r\n\tchildKey = 'children',\r\n\tpath = []\r\n}: {\r\n\tgroup: Collection\r\n\tcondition: (item: any) => boolean\r\n\tpathKey?: any\r\n\tchildKey?: any\r\n\tpath?: string[]\r\n}): Array<string | number> {\r\n\tif (group && _.isObject(group)) {\r\n\t\tif (_.isFunction(condition)) {\r\n\t\t\tif (_.isPlainObject(group)) {\r\n\t\t\t\tlet item = group\r\n\t\t\t\tlet temp = _.cloneDeep(path)\r\n\t\t\t\tif (condition(item)) {\r\n\t\t\t\t\tif (pathKey && item[pathKey]) {\r\n\t\t\t\t\t\ttemp.push(item[pathKey])\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn temp\r\n\t\t\t\t} else if (item[childKey] && !_.isEmpty(item[childKey])) {\r\n\t\t\t\t\tif (pathKey && item[pathKey]) {\r\n\t\t\t\t\t\ttemp.push(item[pathKey])\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet rr = findPath({\r\n\t\t\t\t\t\tgroup: item[childKey],\r\n\t\t\t\t\t\tcondition: condition,\r\n\t\t\t\t\t\tpathKey: pathKey,\r\n\t\t\t\t\t\tchildKey: childKey,\r\n\t\t\t\t\t\tpath: temp\r\n\t\t\t\t\t})\r\n\t\t\t\t\tif (!_.isEmpty(rr)) {\r\n\t\t\t\t\t\treturn rr\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (Array.isArray(group)) {\r\n\t\t\t\tfor (let item of group) {\r\n\t\t\t\t\tlet temp = _.cloneDeep(path)\r\n\t\t\t\t\tif (condition(item)) {\r\n\t\t\t\t\t\tif (pathKey && item[pathKey]) {\r\n\t\t\t\t\t\t\ttemp.push(item[pathKey])\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\ttemp.push(String(group.indexOf(item)))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn temp\r\n\t\t\t\t\t} else if (item[childKey] && item[childKey].length > 0) {\r\n\t\t\t\t\t\tif (pathKey && item[pathKey]) {\r\n\t\t\t\t\t\t\ttemp.push(item[pathKey])\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\ttemp.push(String(group.indexOf(item)))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlet rr = findPath({\r\n\t\t\t\t\t\t\tgroup: item[childKey],\r\n\t\t\t\t\t\t\tcondition: condition,\r\n\t\t\t\t\t\t\tpathKey: pathKey,\r\n\t\t\t\t\t\t\tchildKey: childKey,\r\n\t\t\t\t\t\t\tpath: temp\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tif (!_.isEmpty(rr)) {\r\n\t\t\t\t\t\t\treturn rr\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else if (Array.isArray(group)) {\r\n\t\t\t//条件为常量，集合为数组，这种情况只会有一种业务场景：在一维数组中查找某个常量在数组中第一次出现的index\r\n\t\t\tfor (let item of group) {\r\n\t\t\t\tlet temp = _.cloneDeep(path)\r\n\t\t\t\tif (item === condition) {\r\n\t\t\t\t\ttemp.push(String(group.indexOf(item)))\r\n\t\t\t\t\treturn temp\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn []\r\n}\r\n\r\n/*获取字符串width*/\r\nexport function getStringWidth(str: string, fontSize: number = 12): number {\r\n\tif (myTypeof(str) === 'String' && str.length > 0) {\r\n\t\tlet nodesH = document.createElement('span')\r\n\t\tnodesH.style.fontSize = fontSize + 'px'\r\n\t\tnodesH.style.fontFamily = 'inherit'\r\n\t\tnodesH.innerHTML = str\r\n\t\tnodesH.style.opacity = '0'\r\n\t\tnodesH.style.position = 'fixed'\r\n\t\tnodesH.style.top = '3000px'\r\n\t\tdocument.body.append(nodesH)\r\n\t\tconst width = nodesH.clientWidth\r\n\t\tdocument.body.removeChild(nodesH)\r\n\t\treturn width\r\n\t}\r\n\treturn 0\r\n}\r\n\r\n/**\r\n * 如果值为''则将其替换为null\r\n * @param val 被替换的值\r\n * @returns {*}\r\n */\r\n\r\nexport function emptyInput(val: any) {\r\n\tif (val === '') {\r\n\t\treturn null\r\n\t}\r\n\treturn val\r\n}\r\n\r\n//阻止冒泡\r\nexport function stopBubbling(e: any): void {\r\n\te = e || window.Event\r\n\tif (e.stopPropagation) {\r\n\t\t//W3C阻止冒泡方法\r\n\t\te.stopPropagation()\r\n\t} else {\r\n\t\te.cancelBubble = true //IE阻止冒泡方法\r\n\t}\r\n}\r\n","/**\r\n * @description 全局公共方法集合，挂在app.config.globalProperties下\r\n * @author ricky zhangqingcq@foxmail.com\r\n * @created 2023.07.14\r\n */\r\nimport type { Collection, PlainObject } from '../public'\r\nimport _ from 'lodash'\r\nimport $swal from './swal'\r\nimport { getStringWidth } from './needImortFunc'\r\n\r\nexport function myTypeof(v: any): string {\r\n\tlet str = Object.prototype.toString.call(v)\r\n\treturn str.replace(/\\[object |]/g, '')\r\n}\r\n\r\n// 驼峰转换下划线\r\nexport function toLine(name: string): string {\r\n\treturn name.replace(/([A-Z])/g, '_$1').toLowerCase()\r\n}\r\n\r\n/**\r\n * 去掉对象属性前后空格\r\n */\r\nexport function trimObj(obj: Collection): Collection {\r\n\tlet p = myTypeof(obj)\r\n\tif (p === 'Object') {\r\n\t\tfor (let key in obj) {\r\n\t\t\tif (obj.hasOwnProperty(key)) {\r\n\t\t\t\tlet o = myTypeof(obj[key])\r\n\t\t\t\tif (o === 'String') {\r\n\t\t\t\t\tobj[key] = obj[key].trim()\r\n\t\t\t\t} else if (o === 'Object' || o === 'Array') {\r\n\t\t\t\t\ttrimObj(obj[key])\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t} else if (p === 'Array') {\r\n\t\tfor (let i = 0, l = obj.length; i < l; i++) {\r\n\t\t\tlet t = myTypeof(obj[i])\r\n\t\t\tif (t === 'String') {\r\n\t\t\t\tobj[i] = obj[i].trim()\r\n\t\t\t} else if (t === 'Array' || t === 'Object') {\r\n\t\t\t\ttrimObj(obj[i])\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn obj\r\n}\r\n\r\n/**\r\n * 清空集合\r\n * @param val 被清空的集合\r\n * @param ignoreList 不需要清理的字段集合\r\n * @return *\r\n */\r\nexport function clearObj(val: Collection, ignoreList: Array<keyof Collection | never> = []): Collection {\r\n\tif (myTypeof(val) === 'Array') {\r\n\t\tval.forEach((item: Collection, index: number) => {\r\n\t\t\tswitch (myTypeof(item)) {\r\n\t\t\t\tcase 'Array':\r\n\t\t\t\tcase 'Object':\r\n\t\t\t\t\tclearObj(item)\r\n\t\t\t\t\tbreak\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tval[index] = null\r\n\t\t\t}\r\n\t\t})\r\n\t\treturn val\r\n\t} else if (myTypeof(val) === 'Object') {\r\n\t\tfor (let key in val) {\r\n\t\t\tif (val.hasOwnProperty(key)) {\r\n\t\t\t\tlet go = true\r\n\t\t\t\tfor (let item of ignoreList) {\r\n\t\t\t\t\tif (item === key) {\r\n\t\t\t\t\t\tgo = false\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (go) {\r\n\t\t\t\t\tswitch (myTypeof(val[key])) {\r\n\t\t\t\t\t\tcase 'Array':\r\n\t\t\t\t\t\tcase 'Object':\r\n\t\t\t\t\t\t\tclearObj(val[key])\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tval[key] = null\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn val\r\n\t} else {\r\n\t\treturn val\r\n\t}\r\n}\r\n\r\n/*以form-data方式提交请求数据时，$fetch的config参数值*/\r\nexport const formDataHeadConfig = {\r\n\theaders: {\r\n\t\t'Content-Type': 'multipart/form-data'\r\n\t}\r\n}\r\n\r\n/*将普通对象转换成form-data请求参数格式*/\r\nexport function toFormData(data: Record<string, any>): FormData {\r\n\tlet temp = new FormData()\r\n\tfor (let key in data) {\r\n\t\tif (data.hasOwnProperty(key) && data[key] !== null) {\r\n\t\t\ttemp.append(key, data[key])\r\n\t\t}\r\n\t}\r\n\treturn temp\r\n}\r\n\r\n/**\r\n * 在目标集合中按条件查找或直接查找，返回第一个满足条件的元素或路径\r\n * 与findPath不同，这里的路径是完整路径（findPath省略了一些标准结构中间路径），找不到返回：false\r\n * @param {Array/Object} group 被查找的集合\r\n * @param {Function/String/Number/Boolean} condition 查找的条件或值\r\n * @param {Boolean} getPath 是否返回路径，默认为：false，返回找到的元素\r\n * @returns {*}\r\n */\r\nexport function findCollection(group: Collection, condition: (e: any) => boolean, getPath = false) {\r\n\tif (!group || !condition) {\r\n\t\treturn false\r\n\t}\r\n\tlet PATH\r\n\tlet target: string | Collection = 'notFoundC'\r\n\tlet deepSearch: Function = function (group: Collection, condition: (e: any) => boolean) {\r\n\t\tif (Array.isArray(group)) {\r\n\t\t\tif (myTypeof(condition) === 'Function' && condition(group)) {\r\n\t\t\t\ttarget = group\r\n\t\t\t\treturn []\r\n\t\t\t}\r\n\t\t\tfor (let e of group) {\r\n\t\t\t\tif (target !== 'notFoundC') {\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t\tif ((myTypeof(condition) === 'Function' && condition(e)) || e === condition) {\r\n\t\t\t\t\ttarget = e\r\n\t\t\t\t\treturn [group.indexOf(e)]\r\n\t\t\t\t} else if (myTypeof(e) === 'Array' || myTypeof(e) === 'Object') {\r\n\t\t\t\t\tlet r = deepSearch(e, condition)\r\n\t\t\t\t\tif (r !== undefined) {\r\n\t\t\t\t\t\treturn [group.indexOf(e), ...r]\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else if (myTypeof(group) === 'Object') {\r\n\t\t\tif (myTypeof(condition) === 'Function' && condition(group)) {\r\n\t\t\t\ttarget = group\r\n\t\t\t\treturn []\r\n\t\t\t}\r\n\t\t\tfor (let key in group) {\r\n\t\t\t\tif (target !== 'notFoundC') {\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t\tif (group.hasOwnProperty(key)) {\r\n\t\t\t\t\tif ((myTypeof(condition) === 'Function' && condition(key)) || group[key] === condition) {\r\n\t\t\t\t\t\ttarget = group[key]\r\n\t\t\t\t\t\treturn [key]\r\n\t\t\t\t\t} else if (myTypeof(group[key]) === 'Object' || myTypeof(group[key]) === 'Array') {\r\n\t\t\t\t\t\tlet r = deepSearch(group[key], condition)\r\n\t\t\t\t\t\tif (r !== undefined) {\r\n\t\t\t\t\t\t\treturn [key, ...r]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tPATH = deepSearch(group, condition)\r\n\tif (getPath) {\r\n\t\treturn PATH || false\r\n\t}\r\n\treturn target === 'notFoundC' ? false : target\r\n}\r\n\r\n/*判断某个值是否在集合中*/\r\nexport function oneOf(value: any, validList: any[]) {\r\n\tfor (let i = 0, l = validList.length; i < l; i++) {\r\n\t\tif (value === validList[i]) {\r\n\t\t\treturn true\r\n\t\t}\r\n\t}\r\n\treturn false\r\n}\r\n\r\n/**\r\n * 小数位数限制，超出会返回被去掉后的值\r\n * @param val 原来的值\r\n * @param num 小数点后的位数，默认：2\r\n * @return {number|*}\r\n */\r\nexport function decimalDigitsLimit(val: number | string, num: number = 2): string | number {\r\n\tlet expStr = new RegExp(`(^-?\\\\d+\\\\.\\\\d{${num}})(\\\\d+$)`)\r\n\tlet valStr = (val && String(val)) || ''\r\n\tif (expStr.test(valStr)) {\r\n\t\treturn Number(valStr.replace(expStr, '$1'))\r\n\t}\r\n\treturn val\r\n}\r\n\r\n/*文件导出，调用后端接口以form表单提交数据下载文件*/\r\nexport function downloadFileByFormSubmit(url: string, data: PlainObject = {}, method: string = 'get'): void {\r\n\tlet form = document.createElement('form')\r\n\tlet body = document.getElementsByTagName('body')[0]\r\n\tbody.appendChild(form)\r\n\tform.setAttribute('style', 'display:none')\r\n\tform.setAttribute('target', '')\r\n\tform.setAttribute('method', method)\r\n\tlet _url = url\r\n\tif (window && window.hasOwnProperty('g')) {\r\n\t\t/*所有特定缩写字母开头的地址，都会被改变加上config.js（public里的全局配置文件，在index.html引入，在打包后通过更改该文件用于不\r\n\t\t 同环境的部署）里配置的地址变成绝对地址，如:\r\n\t\t config.js里配置了 window.g={mgrURL:'http://mgr.myweb.com'}\r\n\t\t 请求地址 ‘/mgr/file’ 会被改变为 'http://mgr.myweb.com/file'\r\n\t\t */\r\n\t\t// @ts-ignore\r\n\t\tlet httpEnv = Object.keys(window.g)\r\n\t\t\t.filter((e) => e.indexOf('URL') > -1)\r\n\t\t\t.map((e) => e.replace('URL', ''))\r\n\r\n\t\tfor (let item of httpEnv) {\r\n\t\t\tlet regExp = new RegExp('^/' + item + '(?=/.*$)', 'i')\r\n\t\t\t// @ts-ignore\r\n\t\t\tif (regExp.test(url) && window.g[item + 'URL']) {\r\n\t\t\t\t// @ts-ignore\r\n\t\t\t\t_url = window.g[item + 'URL'] + url.replace(regExp, '')\r\n\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tform.setAttribute('action', _url)\r\n\r\n\tif (_.isPlainObject(data)) {\r\n\t\tfor (let key in data) {\r\n\t\t\tif (data.hasOwnProperty(key) && (data[key] || data[key] === 0 || data[key] === false || data[key] === '')) {\r\n\t\t\t\tlet input = document.createElement('input')\r\n\t\t\t\tinput.setAttribute('type', 'hidden')\r\n\t\t\t\tinput.setAttribute('name', key)\r\n\t\t\t\tinput.setAttribute('value', data[key])\r\n\t\t\t\tform.appendChild(input)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tform.submit()\r\n\r\n\t\tlet ta: any = setTimeout(() => {\r\n\t\t\tbody.removeChild(form)\r\n\t\t\tclearTimeout(ta)\r\n\t\t\tta = null\r\n\t\t}, 8000)\r\n\t} else {\r\n\t\tconsole.error('请求数据格式有误，无法下载文件')\r\n\t}\r\n}\r\n\r\n/**\r\n * 文件导出功能（调用文件下载方法downloadFileByFormSubmit）\r\n * @param url 导出路径\r\n * @param data 参数\r\n * @param method 请求方式\r\n */\r\nexport function fileExport(this: any, url: string, data: PlainObject = {}, method: string = 'get'): void {\r\n\tif (\r\n\t\tdata.hasOwnProperty('columns') &&\r\n\t\t(data['columns'] === '' || data['columns'] === null || data['columns'] === undefined)\r\n\t) {\r\n\t\t$swal.call(this, {\r\n\t\t\ttitle: '需要导出的列不能为空',\r\n\t\t\ttype: 'warning'\r\n\t\t})\r\n\t\treturn\r\n\t}\r\n\tdownloadFileByFormSubmit(url, data, method)\r\n}\r\n\r\n/**\r\n * 依据列显示设置缓存获取columns的key的集合\r\n * @param {String} sKey - 列显示设置插件的sKey\r\n * @param {Array} columns - 表格table的columns\r\n * @param {Boolean} returnArray - 是否返回数组，默认值false,返回String\r\n * */\r\nexport function getColumnsKeys(sKey: string, columns: any[], returnArray: boolean = false): string | string[] {\r\n\tlet temp\r\n\tif (sKey && myTypeof(columns) === 'Array') {\r\n\t\tlet names = localStorage.getItem(sKey)\r\n\t\tif (names) {\r\n\t\t\tlet t = JSON.parse(decodeURI(names))\r\n\t\t\ttemp = columns.filter((e) => e.key && t.indexOf(e.title) !== -1).map((e) => e.key)\r\n\t\t} else {\r\n\t\t\ttemp = columns.map((e) => e.key)\r\n\t\t}\r\n\t} else {\r\n\t\ttemp = []\r\n\t}\r\n\tif (!returnArray) {\r\n\t\ttemp = String(temp)\r\n\t}\r\n\treturn temp\r\n}\r\n\r\n/**\r\n * 判断一个值是否为有效值，有效值：不为空即为有效\r\n * @param val 需要判断的值\r\n * @returns {boolean}\r\n */\r\nexport function isValidValue(val: any): boolean {\r\n\treturn val !== undefined && val !== null && val !== ''\r\n}\r\n\r\nexport function isNumberValue(val: any): boolean {\r\n\tconst reg = /^-?\\d+(.\\d+)?$/\r\n\treturn reg.test(val)\r\n}\r\n\r\n/**\r\n * 手动tooltip(table 的 column 的tooltip失效的情况下用)\r\n * @param {String/Array/Function} contentKey 要设置tooltip的column的key或者key组成的数组（内容按数组中key对应的内容先后拼接），\r\n * 或获取值的自定义逻辑（Function回调，会传入params）\r\n * @param {boolean} dash 在内容为空时是否以'--'代替显示\r\n * @param {String} jointMark 在内容为多个字段拼接时，各字段间连接符，默认没有\r\n * @returns {function(...[*]=)}\r\n */\r\nexport function tooltipManual(contentKey: string | string[] | ((params: any) => string), dash = false, jointMark = '') {\r\n\treturn function (h: any, params: any) {\r\n\t\tlet content\r\n\t\tif (Array.isArray(contentKey)) {\r\n\t\t\tlet temp: any[] = []\r\n\t\t\tfor (let item of contentKey) {\r\n\t\t\t\tif (isValidValue(params.row[item])) {\r\n\t\t\t\t\ttemp.push(params.row[item])\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcontent = temp.join(jointMark)\r\n\t\t} else if (typeof contentKey === 'function') {\r\n\t\t\tcontent = contentKey(params)\r\n\t\t} else {\r\n\t\t\tcontent = params.row[contentKey]\r\n\t\t}\r\n\t\tlet contentWidth = getStringWidth(content)\r\n\t\tlet tdWidth = params.column._width\r\n\t\tif (content && contentWidth > tdWidth) {\r\n\t\t\treturn h(\r\n\t\t\t\t'Tooltip',\r\n\t\t\t\t{\r\n\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\twidth: '100%'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tprops: {\r\n\t\t\t\t\t\tcontent: content,\r\n\t\t\t\t\t\tmaxWidth: tdWidth * 2\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t[\r\n\t\t\t\t\th(\r\n\t\t\t\t\t\t'span',\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\t\t\t\tdisplay: 'inline-block',\r\n\t\t\t\t\t\t\t\t'text-overflow': 'ellipsis',\r\n\t\t\t\t\t\t\t\t'white-space': 'nowrap',\r\n\t\t\t\t\t\t\t\toverflow: 'hidden',\r\n\t\t\t\t\t\t\t\t'vertical-align': 'top'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcontent\r\n\t\t\t\t\t)\r\n\t\t\t\t]\r\n\t\t\t)\r\n\t\t}\r\n\t\treturn h('span', dash && !isValidValue(content) ? '--' : content)\r\n\t}\r\n}\r\n\r\n/*判断集合（数组或对象）每个元素或单个变量是否是有效值*/\r\nexport function isEmptyValue(data: Collection): boolean {\r\n\tif (_.isPlainObject(data)) {\r\n\t\tfor (let key in data) {\r\n\t\t\tif (data.hasOwnProperty(key) && isValidValue(data[key])) {\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true\r\n\t} else if (Array.isArray(data)) {\r\n\t\tfor (let item of data) {\r\n\t\t\tif (isValidValue(item)) {\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true\r\n\t}\r\n\treturn !isValidValue(data)\r\n}\r\n\r\n/*获取字符串长度，中文2，其他1（一般用于用户输入长度限制）*/\r\nexport function stringLength(str: string): number {\r\n\tif (myTypeof(str) === 'String') {\r\n\t\treturn str.replace(/[^\\x00-\\xff]/g, '01').length\r\n\t} else if (myTypeof(str) === 'Number') {\r\n\t\tstr += ''\r\n\t\treturn str.replace(/[^\\x00-\\xff]/g, '01').length\r\n\t}\r\n\treturn 0\r\n}\r\n\r\n/**\r\n * 按条件设置集合中指定字段的值\r\n * @param {Array} group 目标集合\r\n * @param {Function} condition 匹配条件\r\n * @param {String} key 要设置的字段键名\r\n * @param val 要设置的字段的值，或处理逻辑\r\n * @param {String} childKey 子集键名\r\n */\r\nexport function setValByOption({\r\n\tgroup,\r\n\tcondition,\r\n\tkey,\r\n\tval,\r\n\tchildKey = 'children'\r\n}: {\r\n\tgroup: Collection\r\n\tcondition: (item: any) => boolean\r\n\tkey: string\r\n\tval: any\r\n\tchildKey: string\r\n}) {\r\n\tif (\r\n\t\tmyTypeof(group) !== 'Array' ||\r\n\t\tmyTypeof(condition) !== 'Function' ||\r\n\t\tmyTypeof(key) !== 'String' ||\r\n\t\tmyTypeof(childKey) !== 'String'\r\n\t) {\r\n\t\treturn false\r\n\t}\r\n\tgroup.forEach((item: any) => {\r\n\t\tif (condition(item)) {\r\n\t\t\tif (myTypeof(val) === 'Function') {\r\n\t\t\t\titem[key] = val(item[key])\r\n\t\t\t} else {\r\n\t\t\t\titem[key] = val\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (myTypeof(item[childKey]) === 'Array' && item[childKey].length > 0) {\r\n\t\t\tsetValByOption({\r\n\t\t\t\tgroup: item[childKey],\r\n\t\t\t\tcondition,\r\n\t\t\t\tkey,\r\n\t\t\t\tval,\r\n\t\t\t\tchildKey\r\n\t\t\t})\r\n\t\t}\r\n\t})\r\n}\r\n\r\n/**\r\n * 是否有该权限，用于权限管理\r\n * @param {String} value 权限代码\r\n * @returns {boolean}\r\n */\r\nexport function hasPermission(value: string): boolean {\r\n\tlet btnPermissions = sessionStorage.getItem('btnPermissions')\r\n\tif (btnPermissions) {\r\n\t\treturn btnPermissions.split(',').indexOf(value) > -1\r\n\t}\r\n\treturn false\r\n}\r\n\r\n/**\r\n * 判断一个变量是否是NaN\r\n * @param v 变量\r\n * @returns {boolean}\r\n */\r\nexport function isNaN(v: any): boolean {\r\n\treturn myTypeof(v) === 'Number' && String(v) === 'NaN'\r\n}\r\n\r\n/**\r\n *过滤对象属性或者将对象转换成url的query字符串\r\n * @param {Object} data 需要处理的对象\r\n * @param {Boolean} toUrl 是否需要转换成url，为false时可以不传\r\n * @param {Boolean} keepEmptyVal 是否保留空值（用于接口置空某个字段），为false时可以不传\r\n * @returns {*}\r\n * 注意：当toUrl=false且keepEmptyVal=true时，两个参数都传比较好\r\n */\r\n\r\nexport function dataFilterOrToUrl(\r\n\tdata: PlainObject,\r\n\ttoUrl: boolean = false,\r\n\tkeepEmptyVal: boolean = false\r\n): string | PlainObject {\r\n\tif (myTypeof(data) !== 'Object') {\r\n\t\treturn data\r\n\t}\r\n\tlet _data = Object.assign(data, {})\r\n\tlet url = ''\r\n\tfor (let key in _data) {\r\n\t\tif (_data.hasOwnProperty(key)) {\r\n\t\t\tlet val = _data[key]\r\n\t\t\tif (\r\n\t\t\t\tval === undefined ||\r\n\t\t\t\tval === '' ||\r\n\t\t\t\t(myTypeof(val) === 'String' && val.trim() === '') ||\r\n\t\t\t\tval === null ||\r\n\t\t\t\tisNaN(val)\r\n\t\t\t) {\r\n\t\t\t\tif (keepEmptyVal) {\r\n\t\t\t\t\tif (toUrl) {\r\n\t\t\t\t\t\turl += key + '=&'\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t_data[key] = ''\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdelete _data[key]\r\n\t\t\t\t}\r\n\t\t\t} else if (toUrl) {\r\n\t\t\t\turl += key + '=' + val + '&'\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif (toUrl) {\r\n\t\tif (url.length > 0) {\r\n\t\t\treturn url.substr(0, url.length - 1)\r\n\t\t}\r\n\t\treturn ''\r\n\t}\r\n\treturn _data\r\n}\r\n\r\n/*过滤对象或数组中无效值*/\r\nexport function removeEmptyValue(data: Collection): Collection {\r\n\tlet temp: Collection = {}\r\n\tif (Array.isArray(data)) {\r\n\t\ttemp = []\r\n\t\tfor (let item of data) {\r\n\t\t\tif (Array.isArray(item) || _.isPlainObject(item)) {\r\n\t\t\t\ttemp.push(removeEmptyValue(item))\r\n\t\t\t} else if (isValidValue(item)) {\r\n\t\t\t\ttemp.push(item)\r\n\t\t\t}\r\n\t\t}\r\n\t} else if (_.isPlainObject(data)) {\r\n\t\tfor (let key in data) {\r\n\t\t\tif (data.hasOwnProperty(key)) {\r\n\t\t\t\tif (Array.isArray(data[key]) || _.isPlainObject(data[key])) {\r\n\t\t\t\t\ttemp[key] = removeEmptyValue(data[key])\r\n\t\t\t\t} else if (isValidValue(data[key])) {\r\n\t\t\t\t\ttemp[key] = data[key]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn temp\r\n}\r\n\r\n/**\r\n *打印页面，根据后端所传递的数据生成\r\n * @param data\r\n * @return {Promise<any>}\r\n */\r\nexport function htmlPrint(data: string): void {\r\n\tconst pWin = window.open()\r\n\tif (pWin) {\r\n\t\tpWin.document.write(data)\r\n\t\tlet ta: any = setTimeout(() => {\r\n\t\t\tpWin.print()\r\n\t\t\twindow.clearTimeout(ta)\r\n\t\t\tta = null\r\n\t\t}, 10)\r\n\t}\r\n}\r\n\r\n/**\r\n * 查找dom元素所有兄弟\r\n * @param elem - 被查找的元素\r\n */\r\nexport function siblingElems(elem: ChildNode) {\r\n\tlet nodes: any[] = []\r\n\tlet _elem = elem\r\n\twhile (elem.previousSibling && (elem = elem.previousSibling)) {\r\n\t\tif (elem.nodeType === 1) {\r\n\t\t\tnodes.push(elem)\r\n\t\t}\r\n\t}\r\n\r\n\twhile (_elem.nextSibling && (_elem = _elem.nextSibling)) {\r\n\t\tif (_elem.nodeType === 1) {\r\n\t\t\tnodes.push(_elem)\r\n\t\t}\r\n\t}\r\n\treturn nodes\r\n}\r\n","<script lang=\"ts\" setup>\n\timport { useRouter } from 'vue-router'\n\timport { siblingElems } from '../../methods/globalFunc'\n\n\tconst router = useRouter()\n\tconst props = withDefaults(defineProps<{ data?: any[]; pathName?: string }>(), { data: () => [], pathName: '' })\n\n\tfunction getClass(item) {\n\t\treturn item.path === props.pathName ? 'active' : ''\n\t}\n\tfunction handleClick(e, item) {\n\t\te.preventDefault()\n\t\tlet target = e.target\n\n\t\tif (!item.children && !target.classList.contains('active')) {\n\t\t\trouter.push(item.path)\n\t\t\treturn\n\t\t}\n\t\tlet parent = target.parentNode\n\t\tlet siblings = siblingElems(parent)\n\t\tfor (let item of siblings) {\n\t\t\titem.classList.remove('open') //手风琴效果\n\t\t\tconst child = item.querySelectorAll('.open')\n\t\t\tfor (let e of child) {\n\t\t\t\te.classList.remove('open')\n\t\t\t}\n\t\t}\n\t\tparent.classList.toggle('open')\n\t}\n</script>\n<template>\n\t<ul class=\"groupBoxRP\">\n\t\t<li :class=\"{ dropItemRP: item.children }\" v-for=\"(item, i) of props.data\" :key=\"item.path + i\">\n\t\t\t<div\n\t\t\t\tclass=\"menuTxtR\"\n\t\t\t\t:class=\"getClass(item)\"\n\t\t\t\t@click=\"handleClick($event, item)\"\n\t\t\t\t:style=\"{ paddingLeft: item.level * 20 + 'px' }\"\n\t\t\t>\n\t\t\t\t{{ item.name || '-- no name --' }}\n\t\t\t</div>\n\t\t\t<sideMenuGroup :data=\"item.children\" v-if=\"item.children\" :path-name=\"props.pathName\" />\n\t\t</li>\n\t</ul>\n</template>\n","<script lang=\"ts\" setup>\n\timport { computed, onBeforeMount, ref, watch, nextTick } from 'vue'\n\timport type { Ref } from 'vue'\n\timport { useRoute } from 'vue-router'\n\timport t from '../../locale/i18nSFC'\n\timport SideMenuGroup from './SideMenuGroup.vue'\n\n\tconst props = withDefaults(defineProps<{ data?: any[] }>(), { data: () => [] })\n\tconst emit = defineEmits(['on-change'])\n\tconst route = useRoute()\n\n\tconst menuDisplay: Ref<boolean> = ref(true)\n\tconst pathName = ref()\n\tconst menuRef = ref()\n\tconst titleC = computed(() => (menuDisplay.value ? t('r.hideMenu') : t('r.showMenu')))\n\tconst typeIco = computed(() => (menuDisplay.value ? 'ios-arrow-back' : 'ios-arrow-forward'))\n\n\tonBeforeMount(() => {\n\t\tlet t: string = localStorage.getItem('menuDisplayR') || ''\n\n\t\tif (t !== '') {\n\t\t\tmenuDisplay.value = JSON.parse(t)\n\t\t} else {\n\t\t\tmenuDisplay.value = true\n\t\t\tlocalStorage.setItem('menuDisplayR', JSON.stringify(true))\n\t\t}\n\t})\n\n\twatch(\n\t\t() => route,\n\t\t(after) => {\n\t\t\tpathName.value = after.path\n\t\t\tnextTick(addOpen)\n\t\t},\n\t\t{ immediate: true }\n\t)\n\n\tfunction showHideMenu() {\n\t\tmenuDisplay.value = !menuDisplay.value\n\t\tlocalStorage.setItem('menuDisplayR', JSON.stringify(menuDisplay.value))\n\t\temit('on-change', menuDisplay.value)\n\t}\n\n\tfunction addOpen() {\n\t\tlet t = menuRef.value.querySelectorAll('.dropItemRP')\n\t\tfor (let e of t) {\n\t\t\tif (e.querySelector('.active') && !e.classList.contains('open')) {\n\t\t\t\te.classList.add('open')\n\t\t\t}\n\t\t}\n\t}\n</script>\n<template>\n\t<div ref=\"menuRef\" class=\"menuBoxRP\">\n\t\t<div class=\"menuListR\" v-show=\"menuDisplay\">\n\t\t\t<side-menu-group :data=\"props.data\" :pathName=\"pathName\" />\n\t\t</div>\n\t\t<Icon\n\t\t\t:type=\"typeIco\"\n\t\t\t:size=\"25\"\n\t\t\t:class=\"{ showIco: !menuDisplay }\"\n\t\t\tclass=\"menuShowHideIco\"\n\t\t\t:title=\"titleC\"\n\t\t\t@click=\"showHideMenu\"\n\t\t\t:color=\"menuDisplay ? '#fff' : '#333'\"\n\t\t/>\n\t</div>\n</template>\n","let count = 0\r\nlet loader = document.createElement('div')\r\nloader.setAttribute('class', 'spinModal')\r\n\r\nloader.innerHTML =\r\n\t'<div class=\"loader\"><svg class=\"circular\" viewBox=\"25 25 50 50\"><circle class=\"path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" stroke-width=\"5\" stroke-miterlimit=\"10\" /></svg></div>'\r\n\r\nwindow.onload = function () {\r\n\tdocument.getElementsByTagName('body')[0].append(loader)\r\n}\r\n\r\n/**\r\n * 开关spin\r\n * @param d 开为：true，关：不传\r\n */\r\nexport function toggleSpin(d?: boolean): void {\r\n\tif (d) {\r\n\t\tloader.classList.add('show')\r\n\t} else {\r\n\t\tloader.classList.remove('show')\r\n\t}\r\n}\r\n\r\n/**\r\n * 网络请求计数\r\n * @param d 增加计数：true，减少计数：不传\r\n */\r\nexport function counts(d?: boolean) {\r\n\tlet t = count\r\n\tif (d) {\r\n\t\tcount++\r\n\t} else if (count > 0) {\r\n\t\tcount--\r\n\t}\r\n\r\n\tif (t !== count) {\r\n\t\tif (count === 0) {\r\n\t\t\ttoggleSpin(false)\r\n\t\t} else if (t === 0) {\r\n\t\t\ttoggleSpin(true)\r\n\t\t}\r\n\t}\r\n}\r\n","/**\r\n * @description 基于axios的网络请求插件\r\n * @author Ricky email:zhangqingcq@foxmail.com\r\n * @created 2023.05.10\r\n */\r\nimport axios from 'axios'\r\nimport type { AxiosInstance, AxiosRequestConfig, AxiosResponse } from 'axios'\r\nimport _ from 'lodash'\r\nimport { t } from '../locale'\r\n\r\nimport { counts } from './spin'\r\nimport type { Collection } from '../public'\r\n\r\nconst host = window.location.origin\r\n\r\nlet proxy: any = null\r\nconst T = (...arg: Parameters<typeof t>) => t.apply(proxy, arg)\r\n\r\ninterface ServiceR extends AxiosInstance {\r\n\tstore?: any\r\n}\r\n\r\ninterface RequestConfigR extends AxiosRequestConfig {\r\n\tspin?: boolean\r\n\tnoEmptyStr?: boolean\r\n}\r\n\r\n// 创建自定义对象\r\nlet service: ServiceR = axios.create({\r\n\tbaseURL: host,\r\n\twithCredentials: true // 允许携带cookie\r\n})\r\n\r\nfunction notInitYet() {\r\n\tconsole.info('store为空，请在安装插件时传入store实例：Vue.use(plugRQw,{store:store})，Pinia传{store:useStore}')\r\n}\r\n\r\n/**\r\n * 拦截器，在发起请求前调用\r\n */\r\nservice.interceptors.request.use(\r\n\t(q) => {\r\n\t\treturn q\r\n\t},\r\n\t(e) => {\r\n\t\treturn Promise.reject(e)\r\n\t}\r\n)\r\n\r\nfunction logoutHandle() {\r\n\tif (service.store) {\r\n\t\tif (typeof service.store === 'function') {\r\n\t\t\tconst store = service.store()\r\n\t\t\tif (store.logout) {\r\n\t\t\t\tstore.logout()\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tservice.store.dispatch('logout')\r\n\t\t}\r\n\t} else {\r\n\t\tnotInitYet()\r\n\t}\r\n}\r\n\r\n/**\r\n * 拦截器，在请求返回时调用\r\n */\r\nservice.interceptors.response.use(\r\n\t(r) => {\r\n\t\tif (proxy && r && r.data && (r.data.code === 403 || r.data.code === 409)) {\r\n\t\t\tproxy.messageBox({\r\n\t\t\t\tcontent: T('r.http.' + r.data.code),\r\n\t\t\t\tonOk: logoutHandle\r\n\t\t\t})\r\n\t\t}\r\n\t\treturn r\r\n\t},\r\n\t(e) => {\r\n\t\tif (proxy && e && e.response && (e.response.status === 403 || e.response.status === 409)) {\r\n\t\t\tproxy.messageBox({\r\n\t\t\t\tcontent: T('r.http.' + e.response.status),\r\n\t\t\t\tonOk: logoutHandle\r\n\t\t\t})\r\n\t\t}\r\n\t\tconsole.warn('请求出错：', e)\r\n\t\treturn Promise.reject(e)\r\n\t}\r\n)\r\n\r\n/**\r\n * 封装请求结果和错误处理\r\n */\r\nfunction checkResult(r: Partial<AxiosResponse>, msg?: string, rPath?: string[], config?: RequestConfigR) {\r\n\tif (config && config.spin) {\r\n\t\tcounts(false)\r\n\t}\r\n\tlet y = true\r\n\tlet d = r && r.data\r\n\tif (d) {\r\n\t\trPath = rPath ? rPath : []\r\n\t\tfor (let e of rPath) {\r\n\t\t\td = d[e]\r\n\t\t\ty = y && d\r\n\t\t}\r\n\t\tif (y) {\r\n\t\t\treturn d\r\n\t\t}\r\n\t\tmsg && console.warn(msg)\r\n\t\treturn false\r\n\t}\r\n\tmsg && console.warn(msg)\r\n\treturn false\r\n}\r\n\r\nfunction handleRequest(\r\n\tmethod: string,\r\n\turl: string,\r\n\tdata?: Collection,\r\n\tmsg?: string,\r\n\trPath?: string[],\r\n\tconfig?: RequestConfigR,\r\n\tisUrlData?: boolean\r\n) {\r\n\treturn new Promise((s, j) => {\r\n\t\tswitch (method) {\r\n\t\t\tcase 'get':\r\n\t\t\t\tservice\r\n\t\t\t\t\t.get(url, { params: data })\r\n\t\t\t\t\t.then((r) => {\r\n\t\t\t\t\t\tlet d = checkResult(r, msg, rPath, config)\r\n\t\t\t\t\t\tif (d) {\r\n\t\t\t\t\t\t\ts(d)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tj(r)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((e) => {\r\n\t\t\t\t\t\tcheckResult({}, msg, rPath, config)\r\n\t\t\t\t\t\tj(e)\r\n\t\t\t\t\t})\r\n\t\t\t\tbreak\r\n\t\t\tcase 'delete':\r\n\t\t\t\tlet keyT = isUrlData ? 'params' : 'data'\r\n\t\t\t\tservice\r\n\t\t\t\t\t.delete(url, { [keyT]: data })\r\n\t\t\t\t\t.then((r) => {\r\n\t\t\t\t\t\tlet d = checkResult(r, msg, rPath, config)\r\n\t\t\t\t\t\tif (d) {\r\n\t\t\t\t\t\t\ts(d)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tj(r)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((e) => {\r\n\t\t\t\t\t\tcheckResult({}, msg, rPath, config)\r\n\t\t\t\t\t\tj(e)\r\n\t\t\t\t\t})\r\n\t\t\t\tbreak\r\n\t\t\tcase 'post':\r\n\t\t\t\tservice\r\n\t\t\t\t\t.post(url, data, config)\r\n\t\t\t\t\t.then((r) => {\r\n\t\t\t\t\t\tlet d = checkResult(r, msg, rPath, config)\r\n\t\t\t\t\t\tif (d) {\r\n\t\t\t\t\t\t\ts(d)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tj(r)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((e) => {\r\n\t\t\t\t\t\tcheckResult({}, msg, rPath, config)\r\n\t\t\t\t\t\tj(e)\r\n\t\t\t\t\t})\r\n\t\t\t\tbreak\r\n\t\t\tcase 'put':\r\n\t\t\t\tservice\r\n\t\t\t\t\t.put(url, data, config)\r\n\t\t\t\t\t.then((r) => {\r\n\t\t\t\t\t\tlet d = checkResult(r, msg, rPath, config)\r\n\t\t\t\t\t\tif (d) {\r\n\t\t\t\t\t\t\ts(d)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tj(r)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((e) => {\r\n\t\t\t\t\t\tcheckResult({}, msg, rPath, config)\r\n\t\t\t\t\t\tj(e)\r\n\t\t\t\t\t})\r\n\t\t\t\tbreak\r\n\t\t\tdefault:\r\n\t\t}\r\n\t})\r\n}\r\n\r\n/**\r\n * 检查请求传入的各个参数\r\n * @param method 请求方法\r\n * @param url 地址\r\n * @param data 餐宿\r\n * @param msg 错误信息\r\n * @param rPath 返回数据路径（提取）\r\n * @param config 请求配置\r\n * @param isUrlData delete方法传参模式 true:params,false:data\r\n * @returns {Promise<*>}\r\n */\r\nfunction checkRequest(\r\n\tmethod: string,\r\n\turl: string,\r\n\tdata: Collection = {},\r\n\tmsg?: string,\r\n\trPath?: string[],\r\n\tconfig?: RequestConfigR,\r\n\tisUrlData?: boolean\r\n) {\r\n\treturn new Promise((s, j) => {\r\n\t\tif (url) {\r\n\t\t\tif (config && config.spin) {\r\n\t\t\t\tcounts(true)\r\n\t\t\t}\r\n\t\t\tlet url_ = url\r\n\t\t\tif (window && window.hasOwnProperty('g')) {\r\n\t\t\t\t/*所有特定缩写字母开头的地址，都会被改变加上config.js（public里的全局配置文件，在index.html引入，在打包后通过更改该文件用于不\r\n         同环境的部署）里配置的地址变成绝对地址，如:\r\n         config.js里配置了 window.g={mgrURL:'http://mgr.myweb.com'}\r\n         请求地址 ‘/mgr/file’ 会被改变为 'http://mgr.myweb.com/file'\r\n         */\r\n\r\n\t\t\t\t// @ts-ignore\r\n\t\t\t\tconst _g = window.g\r\n\t\t\t\tlet httpEnv = Object.keys(_g)\r\n\t\t\t\t\t.filter((e) => e.indexOf('URL') > -1)\r\n\t\t\t\t\t.map((e) => e.replace('URL', ''))\r\n\r\n\t\t\t\tfor (let e of httpEnv) {\r\n\t\t\t\t\tlet regExp = new RegExp('^/' + e + '(?=/.*$)', 'i')\r\n\t\t\t\t\tif (regExp.test(url) && _g[e + 'URL']) {\r\n\t\t\t\t\t\turl_ = _g[e + 'URL'] + url.replace(regExp, '')\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tlet data_: Collection | undefined\r\n\t\t\tif (config && config.headers && config.headers['Content-Type'] === 'multipart/form-data') {\r\n\t\t\t\tdata_ = data\r\n\t\t\t} else {\r\n\t\t\t\tif (data && !_.isEmpty(data)) {\r\n\t\t\t\t\tif (Array.isArray(data)) {\r\n\t\t\t\t\t\tdata_ = []\r\n\t\t\t\t\t\tfor (let e of data) {\r\n\t\t\t\t\t\t\tif (e || e === 0 || e === false || (e === '' && config && !config.noEmptyStr)) {\r\n\t\t\t\t\t\t\t\tdata_.push(e)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdata_ = {}\r\n\t\t\t\t\t\tfor (let key in data) {\r\n\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\tdata.hasOwnProperty(key) &&\r\n\t\t\t\t\t\t\t\t(data[key] ||\r\n\t\t\t\t\t\t\t\t\tdata[key] === 0 ||\r\n\t\t\t\t\t\t\t\t\tdata[key] === false ||\r\n\t\t\t\t\t\t\t\t\t(data[key] === '' && config && !config.noEmptyStr))\r\n\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\tdata_[key] = data[key]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tlet method_ = method.toLowerCase()\r\n\t\t\thandleRequest(method_, url_, data_, msg, rPath, config, isUrlData)\r\n\t\t\t\t.then((r) => {\r\n\t\t\t\t\ts(r)\r\n\t\t\t\t})\r\n\t\t\t\t.catch((e) => {\r\n\t\t\t\t\tj(e)\r\n\t\t\t\t})\r\n\t\t} else {\r\n\t\t\tconsole.error('没有请求地址:url')\r\n\t\t\tj('没有请求地址:url')\r\n\t\t}\r\n\t})\r\n}\r\n\r\n/**\r\n * @description 基于axios封装的请求插件，引入库时使用this.$fetch时直接调用以下方法，例如：this.$fetch.get(\"/getData\",{id:1})，\r\n * vue3的setup模式使用：proxy调用\r\n * 单独引入时遵循Es Modules规范即可\r\n * @class\r\n */\r\nexport default {\r\n\t/**\r\n\t * @description 初始化该请求插件，单独引入的话调用一次后，方可实现spin等功能，默认在该库安装时已自动化初始化了该请求插件\r\n\t * @function\r\n\t * @param {object} store 项目中vuex的store，或pinia的useStore\r\n\t * @param app 当前vue实例\r\n\t */\r\n\tinit(store: any, app: any) {\r\n\t\tservice.store = store\r\n\t\tproxy = app.config.globalProperties\r\n\t},\r\n\t/**\r\n\t * post 请求\r\n\t * @function\r\n\t * @param {string} url 请求地址\r\n\t * @param {object} data 请求数据\r\n\t * @param {string} msg 错误信息，在控制台输出，方便调试，不用可以不传，例如：\r\n\t * @example this.$fetch.post(\"/getDataB\",{name:'ricky'},\"获取数据B失败\")\r\n\t * @param {Array.<string>} rPath 请求结果提取路径，如：[data,list]表示data.list,如不需过滤可不传\r\n\t * @param {object} config 请求配置  如请求过程需要遮罩层，设置 spin:true即可\r\n\t * @return {Promise<object>}\r\n\t * @example this.$fetch.post(\"/getData\",{id:1},null,['result','list'])\r\n\t *  .then(r=>{\r\n\t *      console.log(r)\r\n\t *      r相当于:data.result.list,data是网络请求结果\r\n\t *  })\r\n\t *\r\n\t * 注意：\r\n\t *  请求最多支持5个入参，最少一个(url)，依次为：url,data,msg,rPath,config。如果要传靠后的入参，但不想传前面的，应该这样传：\r\n\t *  this.$fetch.post(\"/setData\",{},null,[],{\r\n\t *     headers: {\r\n\t *         'Content-Type': 'multipart/form-data'\r\n\t *       },\r\n\t *       spin:true\r\n\t *   }\r\n\t *  )\r\n\t */\r\n\tpost(url: string, data?: Collection, msg?: string, rPath?: string[], config?: RequestConfigR) {\r\n\t\treturn new Promise((s, j) => {\r\n\t\t\tcheckRequest('post', url, data, msg, rPath, config)\r\n\t\t\t\t.then((r) => {\r\n\t\t\t\t\ts(r)\r\n\t\t\t\t})\r\n\t\t\t\t.catch((e) => {\r\n\t\t\t\t\tj(e)\r\n\t\t\t\t})\r\n\t\t})\r\n\t},\r\n\t/**\r\n\t * put请求\r\n\t * @param {string} url 请求地址\r\n\t * @param {object} data 请求数据\r\n\t * @param {string} msg 错误信息，在控制台输出，方便调试，不用可以不传\r\n\t * @param {Array.<string>} rPath 请求结果提取路径\r\n\t * @param {object} config 请求配置  如请求过程需要遮罩层，设置 spin:true即可\r\n\t * @return {Promise<unknown>}\r\n\t */\r\n\tput(url: string, data?: Collection, msg?: string, rPath?: string[], config?: RequestConfigR) {\r\n\t\treturn new Promise((s, j) => {\r\n\t\t\tcheckRequest('put', url, data, msg, rPath, config)\r\n\t\t\t\t.then((r) => {\r\n\t\t\t\t\ts(r)\r\n\t\t\t\t})\r\n\t\t\t\t.catch((e) => {\r\n\t\t\t\t\tj(e)\r\n\t\t\t\t})\r\n\t\t})\r\n\t},\r\n\t/**\r\n\t * get请求\r\n\t * @param {string} url 请求地址\r\n\t * @param {object} data 请求数据\r\n\t * @param {string} msg 错误信息，在控制台输出，方便调试，不用可以不传\r\n\t * @param {Array.<string>} rPath 请求结果提取路径\r\n\t * @param {object} config 请求配置  如请求过程需要遮罩层，设置 spin:true即可\r\n\t * @return {Promise<unknown>}\r\n\t * PS: get请求时(delete请求同理)，可以把请求参数写在url里，也可以写在data里，注意写在data里时，data是对象\r\n\t * 以请求'/devices',找到id=2,name=meter举例：\r\n\t *  只传url时，url = '/devices?id=2&name=meter'\r\n\t *  url和data都传时,url = '/devices',data={id:2,name:'meter'}\r\n\t */\r\n\tget(url: string, data?: Collection, msg?: string, rPath?: string[], config?: RequestConfigR) {\r\n\t\treturn new Promise((s, j) => {\r\n\t\t\tcheckRequest('get', url, data, msg, rPath, config)\r\n\t\t\t\t.then((r) => {\r\n\t\t\t\t\ts(r)\r\n\t\t\t\t})\r\n\t\t\t\t.catch((e) => {\r\n\t\t\t\t\tj(e)\r\n\t\t\t\t})\r\n\t\t})\r\n\t},\r\n\t/**\r\n\t * delete 请求\r\n\t * @param {string} url 请求地址\r\n\t * @param {object} data 请求数据\r\n\t * @param {string} msg 错误信息，在控制台输出，方便调试，不用可以不传\r\n\t * @param {Array.<string>} rPath 请求结果提取路径\r\n\t * @param {object} config 请求配置  如请求过程需要遮罩层，设置 spin:true即可\r\n\t * @param isUrlData 传参模式 true:params,false:data\r\n\t * @return {Promise<unknown>}\r\n\t */\r\n\tdelete(\r\n\t\turl: string,\r\n\t\tdata?: Collection,\r\n\t\tmsg?: string,\r\n\t\trPath?: string[],\r\n\t\tconfig?: RequestConfigR,\r\n\t\tisUrlData: boolean = true\r\n\t) {\r\n\t\treturn new Promise((s, j) => {\r\n\t\t\tcheckRequest('delete', url, data, msg, rPath, config, isUrlData)\r\n\t\t\t\t.then((r) => {\r\n\t\t\t\t\ts(r)\r\n\t\t\t\t})\r\n\t\t\t\t.catch((e) => {\r\n\t\t\t\t\tj(e)\r\n\t\t\t\t})\r\n\t\t})\r\n\t},\r\n\t/**\r\n\t * 并发请求   例如：\r\n\t * @example this.$fetch.all(\r\n\t *  [\r\n\t *    this.$fetch.get(\"/getData\"),\r\n\t *    this.$fetch.post(\"/getDataB\",{name:'ricky'})\r\n\t *  ]\r\n\t * )\r\n\t */\r\n\tall: axios.all,\r\n\t/**\r\n\t * 并发请求结果分离 例如：\r\n\t * @example this.$fetch.all(\r\n\t *  [\r\n\t *    this.$fetch.get(\"/getData\"),\r\n\t *    this.$fetch.post(\"/getDataB\",{name:'ricky'})\r\n\t *  ]\r\n\t * )\r\n\t *  .then(\r\n\t *    this.$fetch.spread((result1,result2)=>{\r\n\t *        console.log(result1,result2)\r\n\t *    })\r\n\t *   )\r\n\t */\r\n\tspread: axios.spread,\r\n\t/**\r\n\t * 该请求插件暴露给外界的配置对象，为axios.create创建的实例对象，使用方法见axios官方网站\r\n\t */\r\n\tconfig: service\r\n}\r\n","/**\r\n * @description 基于view-ui:Modal的对话框插件\r\n * @author Ricky email:zhangqingcq@foxmail.com\r\n * @created 2023.05.04\r\n */\r\nimport { Modal } from 'view-ui-plus'\r\nimport { myTypeof } from './globalFunc'\r\nimport { t } from '../locale'\r\nimport type { RichTxt } from '../public'\r\n\r\n/**\r\n * config为一个对象，支持：\r\n * @param {string/html} content:弹框内容，同iView的content,\r\n * @param {number} height:弹框高度,默认值130,最小值130\r\n * @param {number} width:弹框宽度，默认值416,最小值416\r\n * @param {string/html} title:弹框标题内容，默认值“提示”\r\n * @param {function} onOk:确定按钮回调函数\r\n * @param {function} onCancel:取消按钮回调函数\r\n * @param {string/html} okText:确定按钮文字，默认值“确定”\r\n * @param {string/html} cancelText:取消按钮文字，默认值“取消”\r\n * @param {boolean} noWarnIcon:不展示内容开头的警告图标(非字符串内容默认不展示)，默认值“false”\r\n * @param {string} footerAlign:底部对齐方式，string，默认值“center”\r\n * @param {boolean} cancelBt:展示取消按钮，boolean，默认值“true”\r\n * 组件中调用示例：this.messageBox({\r\n *                      content:'确定执行操作？'\r\n *                    })\r\n */\r\n\r\nexport default function messageBox(\r\n\tthis: any,\r\n\t{\r\n\t\theight,\r\n\t\twidth = 416,\r\n\t\ttitle,\r\n\t\tcontent,\r\n\t\tonOk,\r\n\t\tonCancel,\r\n\t\tokText,\r\n\t\tcancelText,\r\n\t\tnoWarnIcon,\r\n\t\tfooterAlign,\r\n\t\tcancelBt\r\n\t}: {\r\n\t\theight?: number\r\n\t\twidth?: number\r\n\t\ttitle?: RichTxt\r\n\t\tcontent: RichTxt\r\n\t\tonOk?: () => void\r\n\t\tonCancel?: () => void\r\n\t\tokText?: RichTxt\r\n\t\tcancelText?: RichTxt\r\n\t\tnoWarnIcon?: boolean\r\n\t\tfooterAlign?: string\r\n\t\tcancelBt?: boolean\r\n\t}\r\n): void {\r\n\tconst T = (...arg: Parameters<typeof t>) => t.apply(this, arg)\r\n\r\n\tlet heightTemp = height && Number(height) - 90 > 100 ? Number(height) - 90 + 'px' : 0\r\n\tlet heightT = heightTemp || '100px'\r\n\tcontent = content || T('r.info.text')\r\n\tlet stringContent = myTypeof(content) === 'String'\r\n\r\n\tModal.warning({\r\n\t\twidth: width,\r\n\t\tfooterHide: true,\r\n\t\trender: (h: any) => {\r\n\t\t\treturn h(\r\n\t\t\t\t'div',\r\n\t\t\t\t{\r\n\t\t\t\t\tclass: 'customMessageBox',\r\n\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\theight: heightT\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t[\r\n\t\t\t\t\th(\r\n\t\t\t\t\t\t'div',\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tclass: 'containerN'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\th(\r\n\t\t\t\t\t\t\t\t'div',\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tclass: 'titleN'\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t\th('span', title || T('r.info.title')),\r\n\t\t\t\t\t\t\t\t\th(\r\n\t\t\t\t\t\t\t\t\t\t'Button',\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tclass: 'fr closeN ivu-btn ivu-btn-text',\r\n\t\t\t\t\t\t\t\t\t\t\ttype: 'text',\r\n\t\t\t\t\t\t\t\t\t\t\tonclick() {\r\n\t\t\t\t\t\t\t\t\t\t\t\tModal.remove()\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t\t\t\th('i', {\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass: 'ivu-icon ivu-icon-ios-close',\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '30px'\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\th(\r\n\t\t\t\t\t\t\t\t'div',\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tclass: 'contentN',\r\n\t\t\t\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\t\t\t\ttextAlign: stringContent ? 'center' : 'left'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t\th('i', {\r\n\t\t\t\t\t\t\t\t\t\tclass: stringContent && !noWarnIcon ? 'ivu-icon ivu-icon-ios-alert-outline' : 'hide',\r\n\t\t\t\t\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\t\t\t\t\tfontSize: '60px',\r\n\t\t\t\t\t\t\t\t\t\t\tcolor: '#f8bb86'\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\th('div', { class: 'msgBoxConO' }, content)\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\th(\r\n\t\t\t\t\t\t\t\t'div',\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tclass: 'footerN',\r\n\t\t\t\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\t\t\t\ttextAlign: footerAlign || 'center'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t\th(\r\n\t\t\t\t\t\t\t\t\t\t'Button',\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tclass: 'okBtN ivu-btn ivu-btn-default',\r\n\t\t\t\t\t\t\t\t\t\t\tonclick() {\r\n\t\t\t\t\t\t\t\t\t\t\t\tModal.remove()\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (onOk && myTypeof(onOk) === 'Function') {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonOk()\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t\t\t\th('i', {\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass: 'ivu-load-loop ivu-icon ivu-icon-ios-loading'\r\n\t\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t\t\th('span', okText || T('r.confirm'))\r\n\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\th(\r\n\t\t\t\t\t\t\t\t\t\t'Button',\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tclass: ['cancelBtN ivu-btn ivu-btn-default', !cancelBt && 'hide'],\r\n\t\t\t\t\t\t\t\t\t\t\tonclick() {\r\n\t\t\t\t\t\t\t\t\t\t\t\tModal.remove()\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (myTypeof(onCancel) === 'Function') {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonCancel && onCancel()\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tcancelText || T('r.cancel')\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t)\r\n\t\t\t\t]\r\n\t\t\t)\r\n\t\t}\r\n\t})\r\n}\r\n","/**\r\n * @description 提示框\r\n * @author ricky zhangqingcq@foxmail.com\r\n * @created 2023.05.09\r\n */\r\n\r\nimport $swal from './swal'\r\nimport { t } from '../locale'\r\n\r\nexport default function (this: any, title: string, text: string, icon: string, onOk: () => void) {\r\n\tconst T = (...arg: Parameters<typeof t>) => t.apply(this, arg)\r\n\t$swal.call(this, {\r\n\t\ttitle: title || T('r.info.title'),\r\n\t\ttext: text || T('r.info.text'),\r\n\t\ticon: icon || 'warning',\r\n\t\tonOk: onOk,\r\n\t\tbuttons: [T('r.cancel')]\r\n\t})\r\n}\r\n","/**\r\n * @description 可自动销毁的定时器和计时器\r\n * @author ricky zhangqingcq@foxmail.com\r\n * @created 2023.07.14\r\n */\r\n\r\nlet timeoutBox: any[] = []\r\nlet intervalBox: any[] = []\r\n/**\r\n * 初始化\r\n * @param {object} r router实例\r\n */\r\nexport const init = function (r) {\r\n\tif (r && r.beforeEach) {\r\n\t\tr.beforeEach(() => {\r\n\t\t\ttimeoutBox.map((e) => {\r\n\t\t\t\twindow.clearTimeout(e)\r\n\t\t\t})\r\n\t\t\tintervalBox.map((e) => {\r\n\t\t\t\twindow.clearInterval(e)\r\n\t\t\t})\r\n\t\t\ttimeoutBox.length = 0\r\n\t\t\tintervalBox.length = 0\r\n\t\t})\r\n\t} else {\r\n\t\tconsole.warn(\r\n\t\t\t'安装库plug-r-qw时未传入router，调用该库的定时器方法产生的定时器将不能自动销毁，请传入router：Vue.use(plugRQw,{router,...})'\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport const setTimeout = function (fn, time) {\r\n\tlet handler = window.setTimeout(fn, time)\r\n\ttimeoutBox.push(handler)\r\n\treturn handler\r\n}\r\n\r\nexport const setInterval = function (fn, time) {\r\n\tlet handler = window.setInterval(fn, time)\r\n\tintervalBox.push(handler)\r\n\treturn handler\r\n}\r\n\r\nexport default {\r\n\tinit,\r\n\tsetTimeout,\r\n\tsetInterval\r\n}\r\n","/**\r\n * @description plug-r-qw 源代码入口文件\r\n * @author Ricky email:zhangqingcq@foxmail.com\r\n * @created 2023.04.27\r\n */\r\n\r\nimport type { App } from 'vue'\r\nimport * as components from './components'\r\nexport * from './components'\r\nimport localeFile from './locale'\r\nimport $fetch from './methods/fetch'\r\nexport { default as fetch } from './methods/fetch'\r\nimport * as globalFunc from './methods/globalFunc'\r\nexport * from './methods/globalFunc'\r\nexport * from './methods/needImortFunc'\r\nimport messageBox from './methods/messageBox'\r\nexport { default as messageBox } from './methods/messageBox'\r\nimport $swal from './methods/swal'\r\nexport { default as swal } from './methods/swal'\r\nimport $swalConfirm from './methods/swalConfirm'\r\nexport { default as swalConfirm } from './methods/swalConfirm'\r\nimport { init, setInterval, setTimeout } from './methods/timer'\r\nexport { setInterval, setTimeout } from './methods/timer'\r\n\r\nconst methodsR: Record<string, any> = {\r\n\t$fetch,\r\n\t$swal,\r\n\t$swalConfirm,\r\n\tmessageBox,\r\n\tsetInterval,\r\n\tsetTimeout,\r\n\t...globalFunc\r\n}\r\n\r\nconst install = function (app: App, options: Record<string, any> = {}) {\r\n\t$fetch.init(options.useStore || options.store, app)\r\n\r\n\tif (options.locale) {\r\n\t\tlocaleFile.use(options.locale)\r\n\t}\r\n\r\n\tif (options.i18n) {\r\n\t\tlocaleFile.i18n(options.i18n)\r\n\t}\r\n\r\n\tif (options.router) {\r\n\t\tinit(options.router)\r\n\t}\r\n\r\n\tObject.keys(components).forEach((key) => {\r\n\t\tapp.component(key, components[key])\r\n\t})\r\n\r\n\tObject.keys(methodsR).forEach((key) => {\r\n\t\tapp.config.globalProperties[key] = methodsR[key]\r\n\t})\r\n}\r\n\r\nconst locale = localeFile.use\r\n\r\nconst i18n = localeFile.i18n\r\n\r\nexport default {\r\n\tlocale,\r\n\ti18n,\r\n\tinstall\r\n}\r\n"],"names":["zhLang","REG_NAME","Format","hasOwn","obj","key","template","string","a","args","match","prefix","i","index","result","format","lang","message","nowLang","merged","vueI18n","i18nHandler","localMessage","newLocalMessage","deepmerge","t","path","options","value","array","current","j","property","localeFile","l","initI18n","proxy","getCurrentInstance","click","props","emit","showPop","ref","hFontSize","computed","popStyle","open","close","getData","__expose","msg","router","back","$swal","option","text","icon","T","arg","r","okTxt","cancelTxt","cancelVisible","okClass","cancelClass","reg","myTypeof","swal","res","err","toHump","name","all","letter","htmlEncode","temp","htmlDecode","html","getFileSrc","file","resolve","reader","getFileTypeByName","isImgByFile","type","getFileTypeIconByName","downloadFileReaderFile","href","saveLink","fakeALinkClick","ev","findPath","group","condition","pathKey","childKey","_","item","rr","getStringWidth","str","fontSize","nodesH","width","emptyInput","val","stopBubbling","v","toLine","trimObj","p","o","clearObj","ignoreList","go","formDataHeadConfig","toFormData","data","findCollection","getPath","PATH","target","deepSearch","e","oneOf","validList","decimalDigitsLimit","num","expStr","valStr","downloadFileByFormSubmit","url","method","form","body","_url","httpEnv","regExp","input","ta","fileExport","getColumnsKeys","sKey","columns","returnArray","names","isValidValue","isNumberValue","tooltipManual","contentKey","dash","jointMark","h","params","content","contentWidth","tdWidth","isEmptyValue","stringLength","setValByOption","hasPermission","btnPermissions","isNaN","dataFilterOrToUrl","toUrl","keepEmptyVal","_data","removeEmptyValue","htmlPrint","pWin","siblingElems","elem","nodes","_elem","useRouter","getClass","handleClick","parent","siblings","child","route","useRoute","menuDisplay","pathName","menuRef","titleC","typeIco","onBeforeMount","watch","after","nextTick","addOpen","showHideMenu","count","loader","toggleSpin","d","counts","host","service","axios","notInitYet","q","logoutHandle","store","checkResult","rPath","config","y","handleRequest","isUrlData","s","keyT","checkRequest","url_","_g","data_","method_","$fetch","app","messageBox","height","title","onOk","onCancel","okText","cancelText","noWarnIcon","footerAlign","cancelBt","heightT","stringContent","Modal","$swalConfirm","timeoutBox","intervalBox","init","setTimeout","fn","time","handler","setInterval","methodsR","globalFunc","install","components","locale","i18n"],"mappings":"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"}