{"version":3,"file":"plugRQw.umd.cjs","sources":["../src/locale/lang/zh-CN.js","../src/locale/format.ts","../src/locale/index.ts","../src/locale/i18nSFC.ts","../src/components/HeaderBt/HeaderBt.vue","../src/components/FullPop/FullPop.vue","../src/components/Hello.vue","../src/methods/proxy.ts","../src/components/IconTxtBtn/IconTxtBtn.vue","../src/components/Page404/Page404.vue","../src/methods/swal.ts","../src/methods/needImportFunc.ts","../src/methods/globalFunc.ts","../src/components/SideMenu/SideMenuGroup.vue","../src/components/SideMenu/SideMenu.vue","../src/components/TableIconBtn/TableIconBtn.vue","../src/components/ShowHidePanel/ShowHidePanel.vue","../src/components/ShowHidePanelB/ShowHidePanelB.vue","../src/methods/timer.ts","../src/components/TableSearch/TableSearch.vue","../src/components/TableSetting/TableSetting.vue","../src/methods/spin.ts","../src/methods/fetch.ts","../src/components/BtTablePage/BtTablePage.vue","../src/components/SelectInput/SelectInput.vue","../node_modules/.pnpm/@amap+amap-jsapi-loader@1.0.1/node_modules/@amap/amap-jsapi-loader/dist/index.js","../src/methods/amap.ts","../src/components/InputMap/InputMap.vue","../src/components/AsyncCascader/AsyncCascader.vue","../src/components/AlCascaderMC/AlCascaderMC.vue","../src/methods/fullScreenImgByDom.ts","../src/components/UploadGroup/UploadGroup.vue","../src/components/MonthRange/MonthRange.vue","../src/components/EditorPro/EditorPro.vue","../src/components/FormR/ItemR.vue","../src/components/FormR/FormR.vue","../src/components/FormGroup/FormGroup.vue","../src/components/SearchForm/SearchForm.vue","../src/components/FormModal/FormModal.vue","../src/components/CheckboxTree/CheckboxTree.vue","../src/components/TransferBox/TransferBox.vue","../src/components/CheckboxGroupTwoClass/CheckboxGroupTwoClass.vue","../src/components/CheckboxGroupThreeClass/CheckboxGroupThreeClass.vue","../src/methods/fullScreenImgPreview.ts","../src/methods/messageBox.ts","../src/methods/swalConfirm.ts","../src/methods/wangeditor5init.ts","../src/index.ts"],"sourcesContent":["export default {\r\n\tr: {\r\n\t\tlocale: 'zh-CN',\r\n\t\ttestMsg: '测试国际化',\r\n\t\tconfirm: '确定',\r\n\t\tcancel: '取消',\r\n\t\tclear: '清空',\r\n\t\tinfo: {\r\n\t\t\ttitle: '提示',\r\n\t\t\ttext: '确定执行该操作？'\r\n\t\t},\r\n\t\thttp: {\r\n\t\t\t403: '登录状态失效,请重新登录！',\r\n\t\t\t409: '该账号已在其他地方登录,点击确定退出。'\r\n\t\t},\r\n\t\tpSelect: '请选择',\r\n\t\tpInput: '请输入',\r\n\t\tselectDate: '选择日期',\r\n\t\tselectTime: '选择时间',\r\n\t\tsearch: '搜索',\r\n\t\tlevel: {\r\n\t\t\t1: '一级',\r\n\t\t\t2: '二级',\r\n\t\t\t3: '三级'\r\n\t\t},\r\n\t\tunknown: '未知',\r\n\t\ttitle: '标题',\r\n\t\trequired: '该项为必填',\r\n\t\tback: '返回',\r\n\t\tbutton: '按钮',\r\n\t\tcheck: '查询',\r\n\t\tadSearch: '高级查询',\r\n\t\tall: '全选',\r\n\t\ttabSetting: ' 列表显示设置',\r\n\t\tdelete: '删除',\r\n\t\tfView: '全屏预览',\r\n\t\tdownload: '点击下载',\r\n\t\tfile: '文件',\r\n\t\tselectFile: '选择文件',\r\n\t\tnotImg: '文件不是图片，不可预览',\r\n\t\twrongFileType: '文件类型不被允许',\r\n\t\tsupportType: '支持类型：',\r\n\t\tnone: '无',\r\n\t\tfileIsBig: '文件过大',\r\n\t\tsupportSize: '支持最大：',\r\n\t\tuploadError: '上传出错',\r\n\t\tuploadFail: '上传失败',\r\n\t\tclosePreview: '关闭预览',\r\n\t\tfullImg: '全屏图片',\r\n\t\tpreview: '预览',\r\n\t\tsearchFor: '当前搜索：',\r\n\t\tnoMore: '没有更多数据了',\r\n\t\toptionLabel: '选项',\r\n\t\tgetDataError: '拉取数据出错',\r\n\t\tadd: '添加',\r\n\t\tremove: '移除',\r\n\t\taddAll: '全部添加',\r\n\t\tremoveAll: '全部移除',\r\n\t\tadded: '已添加',\r\n\t\tnotAdded: '未添加',\r\n\t\tsuccess: '成功',\r\n\t\tfailed: '失败',\r\n\t\terror: '出错',\r\n\t\tpageNotFound: '页面没找到',\r\n\t\tnotFoundMsg: '您访问的页面不存在，点击下面按钮返回上一个页面。',\r\n\t\thideMenu: '隐藏菜单',\r\n\t\tshowMenu: '显示菜单'\r\n\t}\r\n}\r\n","/**\n * @description 国际化\n * @author Ricky email:zhangqingcq@foxmail.com\n * @created 2023.04.27\n */\n\n/**\n * t('XXX',...arg)\n *  去掉XXX中双花括号，或替换%{XXX}为arg[XXX]，arg为t('XXX',...arg)中arg\n *  如果XXX没有花括号，则返回XXX本身\n */\n\nconst REG_NAME = /(%|){([0-9a-zA-Z_]+)}/g\n\nexport default function () {\n\tfunction hasOwn(obj: any, key: keyof any) {\n\t\treturn Object.prototype.hasOwnProperty.call(obj, key)\n\t}\n\n\t/**\n\t * template\n\t *\n\t * @param {String} string\n\t * @param {Array} a\n\t * @return {String}\n\t */\n\n\tfunction template(string: string, ...a: any[]) {\n\t\tlet args: any\n\t\tif (a.length === 1 && typeof a[0] === 'object') {\n\t\t\targs = a[0]\n\t\t}\n\n\t\tif (!args || !args.hasOwnProperty) {\n\t\t\targs = {}\n\t\t}\n\t\tif (string === undefined) {\n\t\t\treturn ''\n\t\t}\n\n\t\treturn string.replace(REG_NAME, (match, prefix, i, index) => {\n\t\t\tlet result\n\n\t\t\tif (string[index - 1] === '{' && string[index + match.length] === '}') {\n\t\t\t\treturn i\n\t\t\t} else {\n\t\t\t\tresult = hasOwn(args, i) ? args[i] : null\n\n\t\t\t\treturn result ?? ''\n\t\t\t}\n\t\t})\n\t}\n\n\treturn template\n}\n","/**\n * @description 国际化\n * @author Ricky email:zhangqingcq@foxmail.com\n * @created 2023.04.27\n */\nimport deepmerge from 'deepmerge'\nimport zhLang from './lang/zh-CN'\nimport Format from './format'\n\nconst format = Format()\nlet lang: Record<keyof any, any> = zhLang\nconst message: Record<string, any> = {\n\tzh: zhLang\n}\nlet nowLang: Record<keyof any, any>\nlet merged: Record<string, any> = {}\nlet vueI18n: Record<keyof any, any>\nlet i18nHandler = function (this: any, path: string, options?: Record<keyof any, any> | Array<string | number>) {\n\tif (typeof this === 'object' && Reflect.has(this, '$t')) {\n\t\treturn this.$t(path, options)\n\t}\n\tif (vueI18n && vueI18n.global) {\n\t\treturn vueI18n.global.t(path, options)\n\t}\n\tif (vueI18n && vueI18n.locale) {\n\t\tif (!merged[vueI18n.locale] || nowLang != vueI18n.locale) {\n\t\t\tmerged[vueI18n.locale] = true\n\t\t\tlet localMessage = vueI18n.getLocaleMessage(vueI18n.locale) || {}\n\t\t\tlet newLocalMessage: Record<keyof any, any> = deepmerge(message[vueI18n.locale], localMessage, { clone: true })\n\t\t\tlang = newLocalMessage\n\t\t\tvueI18n.setLocaleMessage(vueI18n.locale, newLocalMessage)\n\t\t\tnowLang = vueI18n.locale\n\t\t}\n\t\treturn vueI18n.hlang(path, options)\n\t}\n}\n\nexport const t = function (this: any, path: string, options?: Record<keyof any, any> | Array<string | number>) {\n\tlet value = i18nHandler.apply(this, [path, options])\n\tif (value !== null && value !== undefined) {\n\t\treturn value\n\t}\n\n\tconst array = path.split('.')\n\tlet current = lang\n\n\tfor (let i = 0, j = array.length; i < j; i++) {\n\t\tconst property = array[i]\n\t\tvalue = current[property]\n\t\tif (i === j - 1) {\n\t\t\treturn format(value, options)\n\t\t}\n\t\tif (!value) {\n\t\t\treturn ''\n\t\t}\n\t\tcurrent = value\n\t}\n\treturn ''\n}\n\nexport const use = function (l: Record<keyof any, any>) {\n\tlang = l || lang\n}\n\nexport const i18n = function (initI18n: Record<keyof any, any>) {\n\tvueI18n = initI18n\n}\n\nexport default {\n\tuse,\n\tt,\n\ti18n\n}\n","import { t } from './index'\nimport { getCurrentInstance } from 'vue'\n\nexport default function (path: string, options?: Record<keyof any, any> | Array<string | number>) {\n\tconst proxy = getCurrentInstance()?.appContext?.config?.globalProperties\n\treturn t.apply(proxy, [path, options])\n}\n","<!--HeaderBt header右侧按钮，和header同高，左侧带白色分割线，按钮内容直接写在标签内\n@created 2023.05.11\n@author Ricky email:zhangqingcq@foxmail.com-->\n\n<script setup lang=\"ts\">\n\tconst props = withDefaults(\n\t\tdefineProps<{\n\t\t\ticon?: string\n\t\t\twithIcon?: boolean\n\t\t\ticonSize?: number | string\n\t\t\tcolor?: string\n\t\t\tborderColor?: string\n\t\t\tdisabled?: boolean\n\t\t}>(),\n\t\t{\n\t\t\twithIcon: false,\n\t\t\ticonSize: 18,\n\t\t\tcolor: 'inherit',\n\t\t\tborderColor: '#fff',\n\t\t\tdisabled: false\n\t\t}\n\t)\n\n\tconst emit = defineEmits(['click'])\n\n\tfunction click() {\n\t\tif (props.disabled) {\n\t\t\treturn\n\t\t}\n\t\temit('click')\n\t}\n</script>\n\n<template>\n\t<div\n\t\t:class=\"{ headerBtCTM: true, withIconCTM: props.icon || props.withIcon, disabled: props.disabled }\"\n\t\t:style=\"{ color: props.color, borderLeftColor: props.borderColor }\"\n\t\t@click=\"click\"\n\t>\n\t\t<Icon v-if=\"props.icon\" :size=\"props.iconSize\" :type=\"props.icon\" />\n\t\t<slot></slot>\n\t</div>\n</template>\n","<!--FullPop “全屏”弹出页（绝对定位，和最近一个relative元素大小一致），自带header，提供方法开关页面\n@created 2023.05.11\n@author Ricky email:zhangqingcq@foxmail.com-->\n\n<script setup lang=\"ts\">\n\timport t from '../../locale/i18nSFC'\n\timport HeaderBt from '../HeaderBt/HeaderBt.vue'\n\n\tconst props = withDefaults(\n\t\tdefineProps<{\n\t\t\ttitle?: string\n\t\t\theaderColor?: string\n\t\t\theaderBg?: string\n\t\t\theaderFontSize?: number | string\n\t\t\tzIndex?: number\n\t\t}>(),\n\t\t{\n\t\t\theaderFontSize: 12,\n\t\t\tzIndex: 1000\n\t\t}\n\t)\n\n\tconst emit = defineEmits(['on-open', 'on-close'])\n\n\tlet showPop = ref(false)\n\n\tconst hFontSize = computed(() => {\n\t\tif (typeof props.headerFontSize === 'number') {\n\t\t\treturn props.headerFontSize + 'px'\n\t\t}\n\t\treturn props.headerFontSize\n\t})\n\n\tconst popStyle = computed(() => {\n\t\treturn { zIndex: props.zIndex }\n\t})\n\n\tfunction open() {\n\t\tshowPop.value = true\n\t\temit('on-open')\n\t}\n\n\tfunction close(getData?: boolean) {\n\t\tshowPop.value = false\n\t\temit('on-close', getData === true)\n\t}\n\n\tdefineExpose({\n\t\topen,\n\t\tclose\n\t})\n</script>\n\n<template>\n\t<div v-show=\"showPop\" class=\"fullScreenPopBoxAM\" :style=\"popStyle\">\n\t\t<div class=\"headerAM\" :style=\"{ color: props.headerColor, backgroundColor: props.headerBg, fontSize: hFontSize }\">\n\t\t\t<!--这是标题-->\n\t\t\t<span class=\"headerTxtAM\">{{ title || t('r.title') }}</span>\n\t\t\t<!--这是返回按钮-->\n\t\t\t<HeaderBt icon=\"md-return-left\" @click=\"close\">{{ t('r.back') }}</HeaderBt>\n\t\t</div>\n\t\t<div class=\"contentAM\">\n\t\t\t<slot></slot>\n\t\t</div>\n\t</div>\n</template>\n","<!--Hello\n@created 2023.04.27\n@author Ricky email:zhangqingcq@foxmail.com-->\n\n<script setup lang=\"ts\">\n\tlet msg = ref('Greetings from Ricky.')\n</script>\n\n<template>\n\t<span class=\"msg\">{{ msg }}</span>\n</template>\n","import type { ComponentInternalInstance } from 'vue'\r\nimport { getCurrentInstance } from 'vue'\r\n\r\nexport default function () {\r\n\tconst { appContext } = getCurrentInstance() as ComponentInternalInstance\r\n\treturn appContext.config.globalProperties\r\n}\r\n","<!--IconTxtBtn 表格顶部带图标的文字按钮（批量操作等），集成了权限v-has(自定义指令)，可指定图标、大小、按钮文字内容，可禁用\n@created 2023.07.19\n@author Ricky email:zhangqingcq@foxmail.com-->\n\n<script lang=\"ts\" setup>\n\timport t from '../../locale/i18nSFC'\n\timport Proxy from '../../methods/proxy'\n\n\tconst props = withDefaults(\n\t\tdefineProps<{\n\t\t\tname: string\n\t\t\ticon?: string\n\t\t\tsize?: number\n\t\t\tdisabled?: boolean\n\t\t\thas?: string\n\t\t}>(),\n\t\t{\n\t\t\ticon: 'md-download',\n\t\t\tsize: () => Proxy().iconTxtBtnIconSize,\n\t\t\tdisabled: false,\n\t\t\thas: ''\n\t\t}\n\t)\n\tconst emit = defineEmits(['click'])\n\n\tconst txtSize = computed(() => Math.floor((props.size / 17) * 12) + 'px')\n\n\tfunction click(e: any) {\n\t\tif (props.disabled) {\n\t\t\treturn\n\t\t}\n\t\temit('click', e)\n\t}\n</script>\n\n<template>\n\t<div\n\t\tclass=\"tabTopBtnsT\"\n\t\t@click=\"click\"\n\t\tv-has=\"has\"\n\t\t:class=\"{ disabled: props.disabled }\"\n\t\t:style=\"{ 'font-size': txtSize }\"\n\t>\n\t\t<Icon :type=\"props.icon\" :size=\"props.size\" />\n\t\t{{ props.name || t('r.button') }}\n\t</div>\n</template>\n","<!--Page404 404页面\n@created 2023.06.12\n@author Ricky email:zhangqingcq@foxmail.com-->\n\n<script setup lang=\"ts\">\n\timport type { Router } from 'vue-router'\n\timport t from '../../locale/i18nSFC'\n\n\tconst instance = getCurrentInstance()!\n\tconst router = instance.appContext.config.globalProperties.$router as Router\n\n\tfunction back() {\n\t\trouter.go(-1)\n\t}\n</script>\n\n<template>\n\t<div class=\"c404K\">\n\t\t<div class=\"t404\">404</div>\n\t\t<div class=\"ct404\">UH OH! {{ t('r.pageNotFound') }}</div>\n\t\t<div class=\"p404\">{{ t('r.notFoundMsg') }}</div>\n\n\t\t<Button class=\"bt404\" @click=\"back\">{{ t('r.back') }}</Button>\n\t</div>\n</template>\n","/**\n * @description 提示框\n * @author ricky zhangqingcq@foxmail.com\n * @created 2023.05.08\n */\n\nimport swal from 'sweetalert'\nimport { myTypeof } from './globalFunc'\nimport { t } from '../locale'\n\ntype ButtonC = { text?: string; className?: string; value?: boolean | null; visible?: boolean }\ntype ButtonS = { cancel: ButtonC; confirm: ButtonC }\n\n/**\n * $swal实例\n * @param {object|string|boolean} option object:{title:'标题',content(or text):'内容，可以为空',type(or icon):'success(or error\n *   or warning)'}---string:'标题'---boolean:关闭$swal窗体\n * @param {string} text 当option为object时不传此变量，当option为string时该变量为'内容'\n * @param {string} icon 当option为object时不传此变量，当option为string时该变量为弹出框类型'success'/'error'/'warning'\n */\nexport default function (\n\tthis: any,\n\toption:\n\t\t| string\n\t\t| {\n\t\t\t\ttitle?: string\n\t\t\t\tcontent?: string\n\t\t\t\ttext?: string | HTMLElement\n\t\t\t\ttype?: string\n\t\t\t\ticon?: string\n\t\t\t\tonOk?: () => void\n\t\t\t\tclassName?: string\n\t\t\t\tbuttons?: ButtonS | Array<string>\n\t\t  }\n\t\t| boolean,\n\ttext?: string | HTMLElement,\n\ticon?: string\n) {\n\tconst T = (...arg: Parameters<typeof t>) => t.apply(this, arg)\n\n\treturn new Promise((r, j) => {\n\t\tif (typeof option === 'object' && !Array.isArray(option)) {\n\t\t\tlet okTxt = T('r.confirm')\n\t\t\tlet cancelTxt = T('r.cancel')\n\t\t\tlet cancelVisible = false\n\t\t\tlet okClass = 'swalConfirmBt'\n\t\t\tlet cancelClass = 'swalCancelBt'\n\t\t\tconst reg = /^HTML.*Element$/\n\n\t\t\toption.type && (option.icon = option.type) && delete option.type\n\t\t\toption.content && (option.text = option.content) && delete option.content\n\t\t\toption.className = option.className || 'swalBoxX'\n\n\t\t\tlet t = ''\n\t\t\tif (option.text && reg.test(myTypeof(option.text))) {\n\t\t\t\tt = 'content'\n\t\t\t} else if (option.text && myTypeof(option.text) === 'String') {\n\t\t\t\tt = 'text'\n\t\t\t}\n\n\t\t\tif (option.buttons) {\n\t\t\t\tif (typeof option.buttons === 'object' && !Array.isArray(option.buttons)) {\n\t\t\t\t\tif (option.buttons.cancel) {\n\t\t\t\t\t\toption.buttons.cancel.text && (cancelTxt = option.buttons.cancel.text) && (cancelVisible = true)\n\t\t\t\t\t\toption.buttons.cancel.className && (cancelClass = option.buttons.cancel.className)\n\n\t\t\t\t\t\toption.buttons.confirm.text && (okTxt = option.buttons.confirm.text)\n\t\t\t\t\t\toption.buttons.confirm.className && (okClass = option.buttons.confirm.className)\n\t\t\t\t\t}\n\t\t\t\t} else if (Array.isArray(option.buttons)) {\n\t\t\t\t\tif (option.buttons[0]) {\n\t\t\t\t\t\tcancelTxt = option.buttons[0]\n\t\t\t\t\t\tcancelVisible = true\n\t\t\t\t\t}\n\t\t\t\t\tif (option.buttons[1]) {\n\t\t\t\t\t\tokTxt = option.buttons[1]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tswal({\n\t\t\t\ttitle: option.title,\n\t\t\t\ticon: option.icon,\n\t\t\t\tclassName: option.className,\n\t\t\t\t[t]: option.text,\n\t\t\t\tbuttons: {\n\t\t\t\t\tconfirm: {\n\t\t\t\t\t\ttext: okTxt,\n\t\t\t\t\t\tvalue: true,\n\t\t\t\t\t\tvisible: true,\n\t\t\t\t\t\tclassName: okClass\n\t\t\t\t\t},\n\t\t\t\t\tcancel: {\n\t\t\t\t\t\ttext: cancelTxt,\n\t\t\t\t\t\tvalue: null,\n\t\t\t\t\t\tvisible: cancelVisible,\n\t\t\t\t\t\tclassName: cancelClass\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t\t.then((res) => {\n\t\t\t\t\tif (res && typeof option.onOk === 'function') {\n\t\t\t\t\t\toption.onOk()\n\t\t\t\t\t}\n\t\t\t\t\tr(res)\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\tj(err)\n\t\t\t\t})\n\t\t} else if (typeof option === 'string') {\n\t\t\tlet t = ''\n\t\t\tif (text) {\n\t\t\t\tswitch (typeof text) {\n\t\t\t\t\tcase 'string':\n\t\t\t\t\t\tt = 'text'\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase 'object':\n\t\t\t\t\t\tt = 'content'\n\t\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t\tswal({\n\t\t\t\ttitle: option,\n\t\t\t\t[t]: text || '',\n\t\t\t\ticon: icon || '',\n\t\t\t\tclassName: 'swalBoxX',\n\t\t\t\tbuttons: {\n\t\t\t\t\tconfirm: {\n\t\t\t\t\t\ttext: T('r.confirm'),\n\t\t\t\t\t\tvalue: true,\n\t\t\t\t\t\tvisible: true,\n\t\t\t\t\t\tclassName: 'swalConfirmBt',\n\t\t\t\t\t\tcloseModal: true\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t\t.then((res) => {\n\t\t\t\t\tr(res)\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\tj(err)\n\t\t\t\t})\n\t\t} else if (typeof option === 'boolean') {\n\t\t\tif (!option && swal.close) {\n\t\t\t\tswal.close()\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new TypeError('swal第一个参数类型有误，仅支持Object/String/false')\n\t\t}\n\t})\n}\n","/**\n * @description 公共方法集合，需要单独引用才能使用\n * @author ricky zhangqingcq@foxmail.com\n * @created 2023.07.14\n */\nimport type { Collection } from '../public'\nimport { isObject, isFunction, isPlainObject, cloneDeep, isEmpty } from 'lodash-es'\nimport { myTypeof } from './globalFunc'\n\n// 下划线转换驼峰\nexport function toHump(name: string): string {\n\treturn name.replace(/_(\\w)/g, function (all, letter) {\n\t\treturn letter.toUpperCase()\n\t})\n}\n\n/*用浏览器内部转换器实现html转码*/\nexport function htmlEncode(text: string): string | HTMLElement {\n\t//1.首先动态创建一个容器标签元素，如DIV\n\tlet temp = document.createElement('div')\n\t//2.然后将要转换的字符串设置为这个元素的innerText(ie支持)或者textContent(火狐，google支持)\n\ttemp.textContent !== undefined ? (temp.textContent = text) : (temp.innerText = text)\n\t//3.最后返回这个元素的innerHTML，即得到经过HTML编码转换的字符串了\n\treturn temp.innerHTML\n}\n\n/*用浏览器内部转换器实现html解码*/\nexport function htmlDecode(html: string): string | null {\n\t//1.首先动态创建一个容器标签元素，如DIV\n\tlet temp = document.createElement('div')\n\t//2.然后将要转换的字符串设置为这个元素的innerHTML(ie，火狐，google都支持)\n\ttemp.innerHTML = html\n\t//3.最后返回这个元素的innerText(ie支持)或者textContent(火狐，google支持)，即得到经过HTML解码的字符串了。\n\treturn temp.innerText || temp.textContent\n}\n\n/*根据file文件对象获取文件地址用来预览*/\nexport function getFileSrc(file: File) {\n\treturn new Promise((resolve) => {\n\t\tlet reader = new FileReader()\n\t\treader.readAsDataURL(file) // 读出 base64\n\t\treader.onloadend = () => {\n\t\t\tresolve(reader.result)\n\t\t}\n\t})\n}\n\n/*获取后缀名*/\nexport function getFileTypeByName(name: string): string {\n\treturn name.split('.').pop()!.toLocaleLowerCase()\n}\n\n/*判断是否为图片（type是否包含‘image’）*/\nexport function isImgByFile(type: string): boolean {\n\treturn myTypeof(type) === 'String' && type.indexOf('image') > -1\n}\n\n/*根据文件名获取图标（上传组件用）*/\nexport function getFileTypeIconByName(name: string): string {\n\tconst format = getFileTypeByName(name)\n\tlet type = 'ios-document-outline'\n\n\tif (['gif', 'jpg', 'jpeg', 'png', 'bmp', 'webp'].indexOf(format) > -1) {\n\t\ttype = 'ios-image'\n\t} else if (['mp4', 'm3u8', 'rmvb', 'avi', 'swf', '3gp', 'mkv', 'flv'].indexOf(format) > -1) {\n\t\ttype = 'ios-film'\n\t} else if (['mp3', 'wav', 'wma', 'ogg', 'aac', 'flac'].indexOf(format) > -1) {\n\t\ttype = 'ios-musical-notes'\n\t} else if (['doc', 'txt', 'docx', 'pages', 'epub', 'pdf'].indexOf(format) > -1) {\n\t\ttype = 'md-document'\n\t} else if (['numbers', 'csv', 'xls', 'xlsx'].indexOf(format) > -1) {\n\t\ttype = 'ios-stats'\n\t} else if (['keynote', 'ppt', 'pptx'].indexOf(format) > -1) {\n\t\ttype = 'ios-videocam'\n\t}\n\n\treturn type\n}\n\n/*下载一个文件（替换容易被浏览器屏蔽的window.open方法）*/\nexport function downloadFileReaderFile(name: string, href: string): void {\n\tlet saveLink = document.createElement('a')\n\tsaveLink.href = href\n\tsaveLink.download = name\n\tfakeALinkClick(saveLink)\n}\n\n/*模拟被点击（比如模拟用户点击链接下载东西）*/\nexport function fakeALinkClick(obj: Record<string, any>): void {\n\tlet ev = document.createEvent('MouseEvents')\n\tev.initMouseEvent('click', true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null)\n\tobj.dispatchEvent(ev)\n}\n\n/**\n * 按条件查找一个元素在集合中的位置（路径），返回找到的第一个符合条件的位置\n * 仅适用于[{children:[{...},...],...},...]类似树结构集合（最外层也可以是一个对象）或一维数组\n * @param {Array/Object} group - 集合，被查找的集合，必填\n * @param {Function/String/Number/Boolean} condition - 查找条件，为常量时，将常量和集合元素直接对比，必填\n * @param {String} pathKey - 查找结果（路径）元素在集合中的key，在集合为数组时，可以不填，返回index（索引）\n * @param {String} childKey - 集合子元素的key，默认值 children\n * @param {Array} path - 递归用参数，逻辑内部参数，不用传\n * @return {Array} 返回带有路径（层级）信息的数组\n * @example group: {id:1,name:'爸爸',children:[{id:2,name:'大儿子'},{id:3,name:'二儿子'}]}\n *          condition: e=>e.id === 3\n *          pathKey: 'name'\n *          childKey: 'children'\n *\n *          返回：['爸爸','二儿子']\n */\nexport function findPath({\n\tgroup,\n\tcondition,\n\tpathKey,\n\tchildKey = 'children',\n\tpath = []\n}: {\n\tgroup: Collection\n\tcondition: (item: any) => boolean\n\tpathKey?: any\n\tchildKey?: any\n\tpath?: string[]\n}): Array<string | number> {\n\tif (group && isObject(group)) {\n\t\tif (isFunction(condition)) {\n\t\t\tif (isPlainObject(group)) {\n\t\t\t\tlet item = group\n\t\t\t\tlet temp = cloneDeep(path)\n\t\t\t\tif (condition(item)) {\n\t\t\t\t\tif (pathKey && item[pathKey]) {\n\t\t\t\t\t\ttemp.push(item[pathKey])\n\t\t\t\t\t}\n\t\t\t\t\treturn temp\n\t\t\t\t} else if (item[childKey] && !isEmpty(item[childKey])) {\n\t\t\t\t\tif (pathKey && item[pathKey]) {\n\t\t\t\t\t\ttemp.push(item[pathKey])\n\t\t\t\t\t}\n\t\t\t\t\tlet rr = findPath({\n\t\t\t\t\t\tgroup: item[childKey],\n\t\t\t\t\t\tcondition: condition,\n\t\t\t\t\t\tpathKey: pathKey,\n\t\t\t\t\t\tchildKey: childKey,\n\t\t\t\t\t\tpath: temp\n\t\t\t\t\t})\n\t\t\t\t\tif (!isEmpty(rr)) {\n\t\t\t\t\t\treturn rr\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (Array.isArray(group)) {\n\t\t\t\tfor (let item of group) {\n\t\t\t\t\tlet temp = cloneDeep(path)\n\t\t\t\t\tif (condition(item)) {\n\t\t\t\t\t\tif (pathKey && item[pathKey]) {\n\t\t\t\t\t\t\ttemp.push(item[pathKey])\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttemp.push(String(group.indexOf(item)))\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn temp\n\t\t\t\t\t} else if (item[childKey] && item[childKey].length > 0) {\n\t\t\t\t\t\tif (pathKey && item[pathKey]) {\n\t\t\t\t\t\t\ttemp.push(item[pathKey])\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttemp.push(String(group.indexOf(item)))\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet rr = findPath({\n\t\t\t\t\t\t\tgroup: item[childKey],\n\t\t\t\t\t\t\tcondition: condition,\n\t\t\t\t\t\t\tpathKey: pathKey,\n\t\t\t\t\t\t\tchildKey: childKey,\n\t\t\t\t\t\t\tpath: temp\n\t\t\t\t\t\t})\n\t\t\t\t\t\tif (!isEmpty(rr)) {\n\t\t\t\t\t\t\treturn rr\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (Array.isArray(group)) {\n\t\t\t//条件为常量，集合为数组，这种情况只会有一种业务场景：在一维数组中查找某个常量在数组中第一次出现的index\n\t\t\tfor (let item of group) {\n\t\t\t\tlet temp = cloneDeep(path)\n\t\t\t\tif (item === condition) {\n\t\t\t\t\ttemp.push(String(group.indexOf(item)))\n\t\t\t\t\treturn temp\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn []\n}\n\n/*获取字符串width*/\nexport function getStringWidth(str: string, fontSize: number = 12): number {\n\tif (myTypeof(str) === 'String' && str.length > 0) {\n\t\tlet nodesH = document.createElement('span')\n\t\tnodesH.style.fontSize = fontSize + 'px'\n\t\tnodesH.style.fontFamily = 'inherit'\n\t\tnodesH.innerHTML = str\n\t\tnodesH.style.opacity = '0'\n\t\tnodesH.style.position = 'fixed'\n\t\tnodesH.style.top = '3000px'\n\t\tdocument.body.append(nodesH)\n\t\tconst width = nodesH.clientWidth\n\t\tdocument.body.removeChild(nodesH)\n\t\treturn width\n\t}\n\treturn 0\n}\n\n/**\n * 如果值为''则将其替换为null\n * @param val 被替换的值\n * @returns {*}\n */\n\nexport function emptyInput(val: any) {\n\tif (val === '') {\n\t\treturn null\n\t}\n\treturn val\n}\n\n//阻止冒泡\nexport function stopBubbling(e: any): void {\n\te = e || window.Event\n\tif (e.stopPropagation) {\n\t\t//W3C阻止冒泡方法\n\t\te.stopPropagation()\n\t} else {\n\t\te.cancelBubble = true //IE阻止冒泡方法\n\t}\n}\n","/**\n * @description 全局公共方法集合，挂在app.config.globalProperties下(按需引入模式下除外)\n * @author ricky zhangqingcq@foxmail.com\n * @created 2023.07.14\n */\nimport { h } from 'vue'\nimport type { Collection, PlainObject } from '../public'\nimport { isPlainObject } from 'lodash-es'\nimport $swal from './swal'\nimport { getStringWidth } from './needImportFunc'\nimport { Tooltip } from 'view-ui-plus'\n\nexport function myTypeof(v: any): string {\n\tlet str = Object.prototype.toString.call(v)\n\treturn str.replace(/\\[object |]/g, '')\n}\n\n// 驼峰转换下划线\nexport function toLine(name: string): string {\n\treturn name.replace(/([A-Z])/g, '_$1').toLowerCase()\n}\n\n/**\n * 去掉对象属性前后空格\n */\nexport function trimObj(obj: Collection): Collection {\n\tlet p = myTypeof(obj)\n\tif (p === 'Object') {\n\t\tfor (let key in obj) {\n\t\t\tif (obj.hasOwnProperty(key)) {\n\t\t\t\tlet o = myTypeof(obj[key])\n\t\t\t\tif (o === 'String') {\n\t\t\t\t\tobj[key] = obj[key].trim()\n\t\t\t\t} else if (o === 'Object' || o === 'Array') {\n\t\t\t\t\ttrimObj(obj[key])\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} else if (p === 'Array') {\n\t\tfor (let i = 0, l = obj.length; i < l; i++) {\n\t\t\tlet t = myTypeof(obj[i])\n\t\t\tif (t === 'String') {\n\t\t\t\tobj[i] = obj[i].trim()\n\t\t\t} else if (t === 'Array' || t === 'Object') {\n\t\t\t\ttrimObj(obj[i])\n\t\t\t}\n\t\t}\n\t}\n\treturn obj\n}\n\n/**\n * 清空集合\n * @param val 被清空的集合\n * @param ignoreList 不需要清理的字段集合\n * @return *\n */\nexport function clearObj(val: Collection, ignoreList: Array<keyof Collection | never> = []): Collection {\n\tif (myTypeof(val) === 'Array') {\n\t\tval.forEach((item: Collection, index: number) => {\n\t\t\tswitch (myTypeof(item)) {\n\t\t\t\tcase 'Array':\n\t\t\t\tcase 'Object':\n\t\t\t\t\tclearObj(item)\n\t\t\t\t\tbreak\n\t\t\t\tdefault:\n\t\t\t\t\tval[index] = null\n\t\t\t}\n\t\t})\n\t\treturn val\n\t} else if (myTypeof(val) === 'Object') {\n\t\tfor (let key in val) {\n\t\t\tif (val.hasOwnProperty(key)) {\n\t\t\t\tlet go = true\n\t\t\t\tfor (let item of ignoreList) {\n\t\t\t\t\tif (item === key) {\n\t\t\t\t\t\tgo = false\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (go) {\n\t\t\t\t\tswitch (myTypeof(val[key])) {\n\t\t\t\t\t\tcase 'Array':\n\t\t\t\t\t\tcase 'Object':\n\t\t\t\t\t\t\tclearObj(val[key])\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tval[key] = null\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn val\n\t} else {\n\t\treturn val\n\t}\n}\n\n/*以form-data方式提交请求数据时，$fetch的config参数值*/\nexport const formDataHeadConfig = {\n\theaders: {\n\t\t'Content-Type': 'multipart/form-data'\n\t}\n}\n\n/*将普通对象转换成form-data请求参数格式*/\nexport function toFormData(data: Record<string, any>): FormData {\n\tlet temp = new FormData()\n\tfor (let key in data) {\n\t\tif (data.hasOwnProperty(key) && data[key] !== null) {\n\t\t\ttemp.append(key, data[key])\n\t\t}\n\t}\n\treturn temp\n}\n\n/**\n * 在目标集合中按条件查找或直接查找，返回第一个满足条件的元素或路径\n * 与findPath不同，这里的路径是完整路径（findPath省略了一些标准结构中间路径），找不到返回：false\n * @param {Array|Object} group 被查找的集合\n * @param {Function|String|Number|Boolean} condition 查找的条件或值\n * @param {Boolean} getPath 是否返回路径，默认为：false，返回找到的元素\n * @returns {*}\n */\nexport function findCollection(group: Collection, condition: (e: any) => boolean, getPath = false) {\n\tif (!group || !condition) {\n\t\treturn false\n\t}\n\tlet PATH\n\tlet target: string | Collection = 'notFoundC'\n\tlet deepSearch: Function = function (group: Collection, condition: (e: any) => boolean) {\n\t\tif (Array.isArray(group)) {\n\t\t\tif (myTypeof(condition) === 'Function' && condition(group)) {\n\t\t\t\ttarget = group\n\t\t\t\treturn []\n\t\t\t}\n\t\t\tfor (let e of group) {\n\t\t\t\tif (target !== 'notFoundC') {\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t\tif ((myTypeof(condition) === 'Function' && condition(e)) || e === condition) {\n\t\t\t\t\ttarget = e\n\t\t\t\t\treturn [group.indexOf(e)]\n\t\t\t\t} else if (myTypeof(e) === 'Array' || myTypeof(e) === 'Object') {\n\t\t\t\t\tlet r = deepSearch(e, condition)\n\t\t\t\t\tif (r !== undefined) {\n\t\t\t\t\t\treturn [group.indexOf(e), ...r]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (myTypeof(group) === 'Object') {\n\t\t\tif (myTypeof(condition) === 'Function' && condition(group)) {\n\t\t\t\ttarget = group\n\t\t\t\treturn []\n\t\t\t}\n\t\t\tfor (let key in group) {\n\t\t\t\tif (target !== 'notFoundC') {\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t\tif (group.hasOwnProperty(key)) {\n\t\t\t\t\tif ((myTypeof(condition) === 'Function' && condition(key)) || group[key] === condition) {\n\t\t\t\t\t\ttarget = group[key]\n\t\t\t\t\t\treturn [key]\n\t\t\t\t\t} else if (myTypeof(group[key]) === 'Object' || myTypeof(group[key]) === 'Array') {\n\t\t\t\t\t\tlet r = deepSearch(group[key], condition)\n\t\t\t\t\t\tif (r !== undefined) {\n\t\t\t\t\t\t\treturn [key, ...r]\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tPATH = deepSearch(group, condition)\n\tif (getPath) {\n\t\treturn PATH || false\n\t}\n\treturn target === 'notFoundC' ? false : target\n}\n\n/*判断某个值是否在集合中*/\nexport function oneOf(value: any, validList: any[]) {\n\tfor (let i = 0, l = validList.length; i < l; i++) {\n\t\tif (value === validList[i]) {\n\t\t\treturn true\n\t\t}\n\t}\n\treturn false\n}\n\n/**\n * 小数位数限制，超出会返回被去掉后的值\n * @param val 原来的值\n * @param num 小数点后的位数，默认：2\n * @return {number|*}\n */\nexport function decimalDigitsLimit(val: number | string, num: number = 2): string | number {\n\tlet expStr = new RegExp(`(^-?\\\\d+\\\\.\\\\d{${num}})(\\\\d+$)`)\n\tlet valStr = (val && String(val)) || ''\n\tif (expStr.test(valStr)) {\n\t\treturn Number(valStr.replace(expStr, '$1'))\n\t}\n\treturn val\n}\n\n/*文件导出，调用后端接口以form表单提交数据下载文件*/\nexport function downloadFileByFormSubmit(url: string, data: PlainObject = {}, method: string = 'get'): void {\n\tlet form = document.createElement('form')\n\tlet body = document.getElementsByTagName('body')[0]\n\tbody.appendChild(form)\n\tform.setAttribute('style', 'display:none')\n\tform.setAttribute('target', '')\n\tform.setAttribute('method', method)\n\tlet _url = url\n\tif (window && window.hasOwnProperty('g')) {\n\t\t/*所有特定缩写字母开头的地址，都会被改变加上config.js（public里的全局配置文件，在index.html引入，在打包后通过更改该文件用于不\n\t\t 同环境的部署）里配置的地址变成绝对地址，如:\n\t\t config.js里配置了 window.g={mgrURL:'http://mgr.myweb.com'}\n\t\t 请求地址 ‘/mgr/file’ 会被改变为 'http://mgr.myweb.com/file'\n\t\t */\n\t\t// @ts-ignore\n\t\tlet httpEnv = Object.keys(window.g)\n\t\t\t.filter((e) => e.indexOf('URL') > -1)\n\t\t\t.map((e) => e.replace('URL', ''))\n\n\t\tfor (let item of httpEnv) {\n\t\t\tlet regExp = new RegExp('^/' + item + '(?=/.*$)', 'i')\n\t\t\t// @ts-ignore\n\t\t\tif (regExp.test(url) && window.g[item + 'URL']) {\n\t\t\t\t// @ts-ignore\n\t\t\t\t_url = window.g[item + 'URL'] + url.replace(regExp, '')\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t}\n\tform.setAttribute('action', _url)\n\n\tif (isPlainObject(data)) {\n\t\tfor (let key in data) {\n\t\t\tif (data.hasOwnProperty(key) && (data[key] || data[key] === 0 || data[key] === false || data[key] === '')) {\n\t\t\t\tlet input = document.createElement('input')\n\t\t\t\tinput.setAttribute('type', 'hidden')\n\t\t\t\tinput.setAttribute('name', key)\n\t\t\t\tinput.setAttribute('value', data[key])\n\t\t\t\tform.appendChild(input)\n\t\t\t}\n\t\t}\n\n\t\tform.submit()\n\n\t\tlet ta: any = setTimeout(() => {\n\t\t\tbody.removeChild(form)\n\t\t\tclearTimeout(ta)\n\t\t\tta = null\n\t\t}, 8000)\n\t} else {\n\t\tconsole.error('请求数据格式有误，无法下载文件')\n\t}\n}\n\n/**\n * 文件导出功能（调用文件下载方法downloadFileByFormSubmit）\n * @param url 导出路径\n * @param data 参数\n * @param method 请求方式\n */\nexport function fileExport(this: any, url: string, data: PlainObject = {}, method: string = 'get'): void {\n\tif (\n\t\tdata.hasOwnProperty('columns') &&\n\t\t(data['columns'] === '' || data['columns'] === null || data['columns'] === undefined)\n\t) {\n\t\t$swal.call(this, {\n\t\t\ttitle: '需要导出的列不能为空',\n\t\t\ttype: 'warning'\n\t\t})\n\t\treturn\n\t}\n\tdownloadFileByFormSubmit(url, data, method)\n}\n\n/**\n * 依据列显示设置缓存获取columns的key的集合\n * @param {String} sKey - 列显示设置插件的sKey\n * @param {Array} columns - 表格table的columns\n * @param {Boolean} returnArray - 是否返回数组，默认值false,返回String\n * */\nexport function getColumnsKeys(sKey: string, columns: any[], returnArray: boolean = false): string | string[] {\n\tlet temp\n\tif (sKey && myTypeof(columns) === 'Array') {\n\t\tlet names = localStorage.getItem(sKey)\n\t\tif (names) {\n\t\t\tlet t = JSON.parse(decodeURI(names))\n\t\t\ttemp = columns.filter((e) => e.key && t.indexOf(e.title) !== -1).map((e) => e.key)\n\t\t} else {\n\t\t\ttemp = columns.map((e) => e.key)\n\t\t}\n\t} else {\n\t\ttemp = []\n\t}\n\tif (!returnArray) {\n\t\ttemp = String(temp)\n\t}\n\treturn temp\n}\n\n/**\n * 判断一个值是否为有效值，有效值：不为空即为有效\n * @param val 需要判断的值\n * @returns {boolean}\n */\nexport function isValidValue(val: any): boolean {\n\treturn val !== undefined && val !== null && val !== ''\n}\n\nexport function isNumberValue(val: any): boolean {\n\tconst reg = /^-?\\d+(.\\d+)?$/\n\treturn reg.test(val)\n}\n\n/**\n * 手动tooltip(table 的 column 的tooltip失效的情况下用)\n * @param {String|Array|Function} contentKey 要设置tooltip的column的key或者key组成的数组（内容按数组中key对应的内容先后拼接），\n * 或获取值的自定义逻辑（Function回调，会传入params）\n * @param {boolean} dash 在内容为空时是否以'--'代替显示\n * @param {String} jointMark 在内容为多个字段拼接时，各字段间连接符，默认没有\n * @returns {function(...[*]=)}\n */\nexport function tooltipManual(contentKey: string | string[] | ((params: any) => string), dash = false, jointMark = '') {\n\treturn function (_h: any, params: any) {\n\t\tlet content: string\n\t\tif (Array.isArray(contentKey)) {\n\t\t\tlet temp: any[] = []\n\t\t\tfor (let item of contentKey) {\n\t\t\t\tif (isValidValue(params.row?.[item])) {\n\t\t\t\t\ttemp.push(params.row[item])\n\t\t\t\t}\n\t\t\t}\n\t\t\tcontent = temp.join(jointMark)\n\t\t} else if (typeof contentKey === 'function') {\n\t\t\tcontent = contentKey(params)\n\t\t} else {\n\t\t\tcontent = params.row?.[contentKey]\n\t\t}\n\t\tlet contentWidth = getStringWidth(content)\n\t\tlet tdWidth = params.column._width\n\t\tif (content && contentWidth > tdWidth) {\n\t\t\treturn h(\n\t\t\t\tTooltip,\n\t\t\t\t{\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\twidth: '100%'\n\t\t\t\t\t},\n\t\t\t\t\tcontent: content,\n\t\t\t\t\tmaxWidth: tdWidth * 2\n\t\t\t\t},\n\t\t\t\t() =>\n\t\t\t\t\th(\n\t\t\t\t\t\t'span',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\t\tdisplay: 'inline-block',\n\t\t\t\t\t\t\t\t'text-overflow': 'ellipsis',\n\t\t\t\t\t\t\t\t'white-space': 'nowrap',\n\t\t\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\t\t\t'vertical-align': 'top'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcontent\n\t\t\t\t\t)\n\t\t\t)\n\t\t}\n\t\treturn h('span', dash && !isValidValue(content) ? '--' : content)\n\t}\n}\n\n/*判断集合（数组或对象）每个元素或单个变量是否是有效值*/\nexport function isEmptyValue(data: Collection): boolean {\n\tif (isPlainObject(data)) {\n\t\tfor (let key in data) {\n\t\t\tif (data.hasOwnProperty(key) && isValidValue(data[key])) {\n\t\t\t\treturn false\n\t\t\t}\n\t\t}\n\t\treturn true\n\t} else if (Array.isArray(data)) {\n\t\tfor (let item of data) {\n\t\t\tif (isValidValue(item)) {\n\t\t\t\treturn false\n\t\t\t}\n\t\t}\n\t\treturn true\n\t}\n\treturn !isValidValue(data)\n}\n\n/*获取字符串长度，中文2，其他1（一般用于用户输入长度限制）*/\nexport function stringLength(str: string): number {\n\tif (myTypeof(str) === 'String') {\n\t\treturn str.replace(/[^\\x00-\\xff]/g, '01').length\n\t} else if (myTypeof(str) === 'Number') {\n\t\tstr += ''\n\t\treturn str.replace(/[^\\x00-\\xff]/g, '01').length\n\t}\n\treturn 0\n}\n\n/**\n * 按条件设置集合中指定字段的值\n * @param {Object} option\n * @param {Array} option.group 目标集合\n * @param {Function} option.condition 匹配条件\n * @param {String} option.key 要设置的字段键名\n * @param  option.val 要设置的字段的值，或处理逻辑\n * @param {String} option.childKey 子集键名\n */\nexport function setValByOption({\n\tgroup,\n\tcondition,\n\tkey,\n\tval,\n\tchildKey = 'children'\n}: {\n\tgroup: Collection\n\tcondition: (item: any) => boolean\n\tkey: string\n\tval: any\n\tchildKey?: string\n}) {\n\tif (\n\t\tmyTypeof(group) !== 'Array' ||\n\t\tmyTypeof(condition) !== 'Function' ||\n\t\tmyTypeof(key) !== 'String' ||\n\t\tmyTypeof(childKey) !== 'String'\n\t) {\n\t\treturn false\n\t}\n\tgroup.forEach((item: any) => {\n\t\tif (condition(item)) {\n\t\t\tif (myTypeof(val) === 'Function') {\n\t\t\t\titem[key] = val(item[key])\n\t\t\t} else {\n\t\t\t\titem[key] = val\n\t\t\t}\n\t\t}\n\t\tif (myTypeof(item[childKey]) === 'Array' && item[childKey].length > 0) {\n\t\t\tsetValByOption({\n\t\t\t\tgroup: item[childKey],\n\t\t\t\tcondition,\n\t\t\t\tkey,\n\t\t\t\tval,\n\t\t\t\tchildKey\n\t\t\t})\n\t\t}\n\t})\n}\n\n/**\n * 是否有该权限，用于权限管理\n * @param {String} value 权限代码\n * @returns {boolean}\n */\nexport function hasPermission(value: string): boolean {\n\tlet btnPermissions = sessionStorage.getItem('btnPermissions')\n\tif (btnPermissions) {\n\t\treturn btnPermissions.split(',').indexOf(value) > -1\n\t}\n\treturn false\n}\n\n/**\n * 判断一个变量是否是NaN\n * @param v 变量\n * @returns {boolean}\n */\nexport function isNaN(v: any): boolean {\n\treturn myTypeof(v) === 'Number' && String(v) === 'NaN'\n}\n\n/**\n *过滤对象属性或者将对象转换成url的query字符串\n * @param {Object} data 需要处理的对象\n * @param {Boolean} toUrl 是否需要转换成url，为false时可以不传\n * @param {Boolean} keepEmptyVal 是否保留空值（用于接口置空某个字段），为false时可以不传\n * @returns {*}\n * 注意：当toUrl=false且keepEmptyVal=true时，两个参数都传比较好\n */\n\nexport function dataFilterOrToUrl(\n\tdata: PlainObject,\n\ttoUrl: boolean = false,\n\tkeepEmptyVal: boolean = false\n): string | PlainObject {\n\tif (myTypeof(data) !== 'Object') {\n\t\treturn data\n\t}\n\tlet _data = Object.assign(data, {})\n\tlet url = ''\n\tfor (let key in _data) {\n\t\tif (_data.hasOwnProperty(key)) {\n\t\t\tlet val = _data[key]\n\t\t\tif (\n\t\t\t\tval === undefined ||\n\t\t\t\tval === '' ||\n\t\t\t\t(myTypeof(val) === 'String' && val.trim() === '') ||\n\t\t\t\tval === null ||\n\t\t\t\tisNaN(val)\n\t\t\t) {\n\t\t\t\tif (keepEmptyVal) {\n\t\t\t\t\tif (toUrl) {\n\t\t\t\t\t\turl += key + '=&'\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_data[key] = ''\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tdelete _data[key]\n\t\t\t\t}\n\t\t\t} else if (toUrl) {\n\t\t\t\turl += key + '=' + val + '&'\n\t\t\t}\n\t\t}\n\t}\n\tif (toUrl) {\n\t\tif (url.length > 0) {\n\t\t\treturn url.substring(0, url.length - 1)\n\t\t}\n\t\treturn ''\n\t}\n\treturn _data\n}\n\n/*过滤对象或数组中无效值*/\nexport function removeEmptyValue(data: Collection): Collection {\n\tlet temp: Collection = {}\n\tif (Array.isArray(data)) {\n\t\ttemp = []\n\t\tfor (let item of data) {\n\t\t\tif (Array.isArray(item) || isPlainObject(item)) {\n\t\t\t\ttemp.push(removeEmptyValue(item))\n\t\t\t} else if (isValidValue(item)) {\n\t\t\t\ttemp.push(item)\n\t\t\t}\n\t\t}\n\t} else if (isPlainObject(data)) {\n\t\tfor (let key in data) {\n\t\t\tif (data.hasOwnProperty(key)) {\n\t\t\t\tif (Array.isArray(data[key]) || isPlainObject(data[key])) {\n\t\t\t\t\ttemp[key] = removeEmptyValue(data[key])\n\t\t\t\t} else if (isValidValue(data[key])) {\n\t\t\t\t\ttemp[key] = data[key]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn temp\n}\n\n/**\n *打印页面，根据后端所传递的数据生成\n * @param data\n * @return {Promise<any>}\n */\nexport function htmlPrint(data: string): void {\n\tconst pWin = window.open()\n\tif (pWin) {\n\t\tpWin.document.write(data)\n\t\tlet ta: any = setTimeout(() => {\n\t\t\tpWin.print()\n\t\t\twindow.clearTimeout(ta)\n\t\t\tta = null\n\t\t}, 10)\n\t}\n}\n\n/**\n * 查找dom元素所有兄弟\n * @param elem - 被查找的元素\n */\nexport function siblingElems(elem: ChildNode) {\n\tlet nodes: any[] = []\n\tlet _elem = elem\n\twhile (elem.previousSibling && (elem = elem.previousSibling)) {\n\t\tif (elem.nodeType === 1) {\n\t\t\tnodes.push(elem)\n\t\t}\n\t}\n\n\twhile (_elem.nextSibling && (_elem = _elem.nextSibling)) {\n\t\tif (_elem.nodeType === 1) {\n\t\t\tnodes.push(_elem)\n\t\t}\n\t}\n\treturn nodes\n}\n","<script lang=\"ts\" setup>\n\timport { siblingElems } from '../../methods/globalFunc'\n\n\tconst router = useRouter()\n\tconst props = withDefaults(defineProps<{ data?: any[]; pathName?: string }>(), {\n\t\tdata: () => [],\n\t\tpathName: ''\n\t})\n\n\tfunction getClass(item: any) {\n\t\treturn item.path === props.pathName ? 'active' : ''\n\t}\n\n\tfunction handleClick(e: any, item: any) {\n\t\te.preventDefault()\n\t\tlet target = e.target\n\n\t\tif (!item.children && !target.classList.contains('active')) {\n\t\t\trouter.push(item.path)\n\t\t\treturn\n\t\t}\n\t\tlet parent = target.parentNode\n\t\tlet siblings = siblingElems(parent)\n\t\tfor (let item of siblings) {\n\t\t\titem.classList.remove('open') //手风琴效果\n\t\t\tconst child = item.querySelectorAll('.open')\n\t\t\tfor (let e of child) {\n\t\t\t\te.classList.remove('open')\n\t\t\t}\n\t\t}\n\t\tparent.classList.toggle('open')\n\t}\n</script>\n<template>\n\t<ul class=\"groupBoxRP\">\n\t\t<li :class=\"{ dropItemRP: item.children }\" v-for=\"(item, i) of props.data\" :key=\"item.path + i\">\n\t\t\t<div\n\t\t\t\tclass=\"menuTxtR\"\n\t\t\t\t:class=\"getClass(item)\"\n\t\t\t\t@click=\"handleClick($event, item)\"\n\t\t\t\t:style=\"{ paddingLeft: item.level * 20 + 'px' }\"\n\t\t\t>\n\t\t\t\t{{ item.name || '-- no name --' }}\n\t\t\t</div>\n\t\t\t<sideMenuGroup :data=\"item.children\" v-if=\"item.children\" :path-name=\"props.pathName\" />\n\t\t</li>\n\t</ul>\n</template>\n","<!--SideMenu 侧边菜单，贴在父容器左侧，可向左将整个菜单收起\n@created 2023.07.17\n@author Ricky email:zhangqingcq@foxmail.com-->\n\n<script lang=\"ts\" setup>\n\timport t from '../../locale/i18nSFC'\n\timport SideMenuGroup from './SideMenuGroup.vue'\n\n\tconst props = withDefaults(defineProps<{ data?: any[] }>(), { data: () => [] })\n\tconst emit = defineEmits(['on-change'])\n\tconst route = useRoute()\n\n\tconst menuDisplay = ref<boolean>(true)\n\tconst pathName = ref()\n\tconst menuRef = ref()\n\tconst titleC = computed(() => (menuDisplay.value ? t('r.hideMenu') : t('r.showMenu')))\n\tconst typeIco = computed(() => (menuDisplay.value ? 'ios-arrow-back' : 'ios-arrow-forward'))\n\n\tonBeforeMount(() => {\n\t\tlet t: string = localStorage.getItem('menuDisplayR') || ''\n\n\t\tif (t !== '') {\n\t\t\tmenuDisplay.value = JSON.parse(t)\n\t\t} else {\n\t\t\tmenuDisplay.value = true\n\t\t\tlocalStorage.setItem('menuDisplayR', JSON.stringify(true))\n\t\t}\n\t})\n\n\twatch(\n\t\t() => route.path,\n\t\t(after) => {\n\t\t\tpathName.value = after\n\t\t\tnextTick(addOpen)\n\t\t},\n\t\t{ immediate: true }\n\t)\n\n\tfunction showHideMenu() {\n\t\tmenuDisplay.value = !menuDisplay.value\n\t\tlocalStorage.setItem('menuDisplayR', JSON.stringify(menuDisplay.value))\n\t\temit('on-change', menuDisplay.value)\n\t}\n\n\tfunction addOpen() {\n\t\tlet t = menuRef.value.querySelectorAll('.dropItemRP')\n\t\tfor (let e of t) {\n\t\t\tif (e.querySelector('.active') && !e.classList.contains('open')) {\n\t\t\t\te.classList.add('open')\n\t\t\t}\n\t\t}\n\t}\n</script>\n<template>\n\t<div ref=\"menuRef\" class=\"menuBoxRP\">\n\t\t<div class=\"menuListR\" v-show=\"menuDisplay\">\n\t\t\t<side-menu-group :data=\"props.data\" :pathName=\"pathName\" />\n\t\t</div>\n\t\t<Icon\n\t\t\t:type=\"typeIco\"\n\t\t\t:size=\"25\"\n\t\t\t:class=\"{ showIco: !menuDisplay }\"\n\t\t\tclass=\"menuShowHideIco\"\n\t\t\t:title=\"titleC\"\n\t\t\t@click=\"showHideMenu\"\n\t\t\t:color=\"menuDisplay ? '#fff' : '#333'\"\n\t\t/>\n\t</div>\n</template>\n","<!--TableIconBtn 表格用图标按钮，集成了权限v-has(自定义指令)，可指定图标、大小、提示信息，可禁用\n@created 2023.07.20\n@author Ricky email:zhangqingcq@foxmail.com-->\n<script lang=\"ts\" setup>\n\timport t from '../../locale/i18nSFC'\n\n\tconst emit = defineEmits(['click'])\n\tconst props = withDefaults(\n\t\tdefineProps<{ icon?: string; title?: string; has?: string; disabled?: boolean; size?: number }>(),\n\t\t{\n\t\t\ticon: 'md-radio-button-on',\n\t\t\thas: '',\n\t\t\tdisabled: false,\n\t\t\tsize: 24\n\t\t}\n\t)\n\n\tfunction onClick(e: any) {\n\t\tif (props.disabled) {\n\t\t\treturn\n\t\t}\n\t\temit('click', e)\n\t}\n</script>\n\n<template>\n\t<div\n\t\tclass=\"tableBtnsG\"\n\t\t:class=\"{ disabled: props.disabled }\"\n\t\tv-has=\"props.has\"\n\t\t@click=\"onClick\"\n\t\t:title=\"props.title || t('r.button')\"\n\t>\n\t\t<Icon :type=\"props.icon\" :size=\"props.size\" />\n\t</div>\n</template>\n","<!--ShowHidePanel 收展面板，用于展示或收起表格页条件查询表单组\n@created 2023.07.20\n@author Ricky email:zhangqingcq@foxmail.com\n@params bg 例如：bg = '#fff' 或 bg = 'white' 不传为透明背景 (bg为自定义属性，控制该组件背景色) <show-hide-panel bg=\"#fff\">需要包装的代码</show-hide-panel> -->\n<script lang=\"ts\" setup>\n\tconst props = defineProps<{ bg?: string }>()\n\n\tconst show = ref(true)\n\tconst getBg = computed(() => (show ? 'background:' + props.bg || 'transparent' : ''))\n</script>\n\n<template>\n\t<div :style=\"getBg\">\n\t\t<div v-show=\"show\" class=\"contentX\">\n\t\t\t<slot />\n\t\t</div>\n\t\t<div class=\"arrowA\">\n\t\t\t<div class=\"btA\" @click=\"show = !show\">\n\t\t\t\t<Icon :type=\"show ? 'ios-arrow-up' : 'ios-arrow-down'\" size=\"20\" />\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n","<!--ShowHidePanelB 收展面板，用于展示或收起表格页条件查询表单组\n@created 2023.07.31\n@author Ricky email:zhangqingcq@foxmail.com\n@params modelValue(v-model绑定)展开收起\n@params bg 例如：bg = '#fff' 或 bg = 'white' 不传为透明背景 (bg为自定义属性，控制该组件背景色) <show-hide-panel-b v-model=\"open\" bg=\"#fff\">需要包装的代码</show-hide-panel-b> -->\n\n<script setup lang=\"ts\">\n\tconst props = withDefaults(defineProps<{ modelValue?: boolean; bg?: string }>(), {\n\t\tmodelValue: false,\n\t\tbg: 'transparent'\n\t})\n\tconst emit = defineEmits(['update:modelValue'])\n\tconst show = computed({\n\t\tget() {\n\t\t\treturn props.modelValue\n\t\t},\n\t\tset(d: boolean) {\n\t\t\temit('update:modelValue', d)\n\t\t}\n\t})\n\n\tconst getBg = computed(() => (show.value ? 'background:' + props.bg : ''))\n</script>\n\n<template>\n\t<div :style=\"getBg\">\n\t\t<div v-show=\"show\" class=\"contentZ\">\n\t\t\t<slot />\n\t\t</div>\n\t</div>\n</template>\n","/**\n * @description 可自动销毁的定时器和计时器\n * @author ricky zhangqingcq@foxmail.com\n * @created 2023.07.14\n */\n\nlet timeoutBox: any[] = []\nlet intervalBox: any[] = []\n/**\n * 初始化\n * @param {object} r router实例\n */\nexport const init = function (r: any) {\n\tif (r && r.beforeEach) {\n\t\tr.beforeEach(() => {\n\t\t\ttimeoutBox.map((e) => {\n\t\t\t\twindow.clearTimeout(e)\n\t\t\t})\n\t\t\tintervalBox.map((e) => {\n\t\t\t\twindow.clearInterval(e)\n\t\t\t})\n\t\t\ttimeoutBox.length = 0\n\t\t\tintervalBox.length = 0\n\t\t})\n\t} else {\n\t\tconsole.warn(\n\t\t\t'安装库plug-r-qw时未传入router，调用该库的定时器方法产生的定时器将不能自动销毁，请传入router：Vue.use(plugRQw,{router,...})'\n\t\t)\n\t}\n}\n\nexport const setTimeout = function (fn: () => void, time: number): number {\n\tlet handler = window.setTimeout(fn, time)\n\ttimeoutBox.push(handler)\n\treturn handler\n}\n\nexport const setInterval = function (fn: () => void, time: number): number {\n\tlet handler = window.setInterval(fn, time)\n\tintervalBox.push(handler)\n\treturn handler\n}\n\nexport default {\n\tinit,\n\tsetTimeout,\n\tsetInterval\n}\n","<!--TableSearch 带高级查询按钮的快捷搜索组件，v-model绑定搜索框的值，高级查询按钮控制是否展开高级查询组件（showHidePanelB+searchForm）\n@created 2023.07.31\n@author Ricky email:zhangqingcq@foxmail.com-->\n<script setup lang=\"ts\">\n\t/**\n\t * @desc 联合showHidePanelB、searchForm等插件对table进行查询\n\t * @param {string} modelValue - 搜索框的值（v-model）必填\n\t * @param {boolean} open - 高级搜索是否开启 必填\n\t * @param {string} placeholder - 搜索框的placeholder\n\t * @param {string} width - 整个插件宽度\n\t * @param {string} right - 整个插件定位-右（最近relative）\n\t * @param {string} top - 整个插件定位-上（最近relative）\n\t * @example 调用示例 <table-search v-model=\"areaName\" :open=\"openSearch\" placeholder=\"片区名称\" @on-search=\"search\" @on-toggle=\"openSearch=!openSearch\"/>\n\t */\n\n\timport t from '../../locale/i18nSFC'\n\timport { setTimeout } from '../../methods/timer'\n\n\tconst emit = defineEmits(['update:modelValue', 'on-toggle', 'on-search'])\n\tconst props = withDefaults(\n\t\tdefineProps<{\n\t\t\tmodelValue: string\n\t\t\topen: boolean\n\t\t\tplaceholder?: string\n\t\t\tshowBtn?: boolean\n\t\t\tfixed?: boolean\n\t\t\twidth?: string | number\n\t\t\tright?: string | number\n\t\t\ttop?: string | number\n\t\t\tbtnColor?: string\n\t\t}>(),\n\t\t{\n\t\t\topen: false,\n\t\t\tshowBtn: true,\n\t\t\tfixed: false,\n\t\t\twidth: '210px',\n\t\t\tright: '0',\n\t\t\ttop: '0',\n\t\t\tbtnColor: 'inherit'\n\t\t}\n\t)\n\n\tlet isDebounce = false\n\tconst value = computed({\n\t\tget() {\n\t\t\treturn props.modelValue\n\t\t},\n\t\tset(d: string) {\n\t\t\temit('update:modelValue', d)\n\t\t}\n\t})\n\tconst openX = computed({\n\t\tget() {\n\t\t\treturn props.open\n\t\t},\n\t\tset(d: boolean) {\n\t\t\temit('on-toggle', d)\n\t\t}\n\t})\n\tconst iconL = computed(() => (openX.value ? 'ios-arrow-up' : 'ios-arrow-down'))\n\n\tfunction onSearch() {\n\t\tif (!isDebounce) {\n\t\t\tisDebounce = true\n\t\t\temit('on-search', value.value)\n\t\t\tsetTimeout(() => {\n\t\t\t\tisDebounce = false\n\t\t\t}, 2000)\n\t\t}\n\t}\n</script>\n\n<template>\n\t<div\n\t\tclass=\"tableSearchV\"\n\t\t:style=\"{ position: props.fixed ? 'fixed' : 'absolute', right: props.right, top: props.top }\"\n\t>\n\t\t<slot>\n\t\t\t<Input\n\t\t\t\tv-model=\"value\"\n\t\t\t\t:style=\"{ width: props.width }\"\n\t\t\t\tsearch\n\t\t\t\t@on-search=\"onSearch\"\n\t\t\t\tclass=\"searchInputC\"\n\t\t\t\t:placeholder=\"props.placeholder || t('r.pInput')\"\n\t\t\t/>\n\t\t</slot>\n\t\t<span class=\"sbt\" @click=\"openX = !openX\" v-show=\"props.showBtn\" :style=\"{ color: props.btnColor }\"\n\t\t\t><icon :type=\"iconL\" :color=\"props.btnColor\" />{{ t('r.adSearch') }}</span\n\t\t>\n\t</div>\n</template>\n","<!--TableSetting 设置表格哪些列展示，支持指定列默认展示、指定列禁止修改展示设置\n@created 2023.08.14\n@author Ricky email:zhangqingcq@foxmail.com-->\n<script lang=\"ts\" setup>\n\t/**\n\t * @desc 利用table的columns和localstorage对table进行列的显示设置\n\t * @param {array} value - 插件的值（v-model,对应table的columns）必填\n\t * @param {string} sKey - 插件数据在localstorage的唯一标识，命名规则：插件所在单文件名称_取名时间，如areaNew_202003231639 必填\n\t * @param {string} top - 设置面板定位-上（相对于按钮）\n\t * @param {string} right - 设置面板定位-右（相对于按钮）\n\t * @param {string} width - 设置面板宽度\n\t * @param {string} bg - 设置面板背景色\n\t * @param {boolean} defaultCheck - 是否设置默认勾选（默认false，用于默认展示所有列），如果设为true（用于默认展示部分列）,则在v-model绑定的columns项里设置showSettingCheck:true\n\t * @example 调用示例 <table-search v-model=\"areaName\" :open=\"openSearch\" placeholder=\"片区名称\" @on-search=\"search\" @on-toggle=\"openSearch=!openSearch\"/>\n\t */\n\timport { cloneDeep } from 'lodash-es'\n\timport t from '../../locale/i18nSFC'\n\timport { useI18n } from 'vue-i18n'\n\n\tconst emit = defineEmits(['update:modelValue'])\n\tconst props = withDefaults(\n\t\tdefineProps<{\n\t\t\tmodelValue?: any[]\n\t\t\tsKey: string\n\t\t\ttop?: string\n\t\t\tright?: string\n\t\t\twidth?: string\n\t\t\tbg?: string\n\t\t\tdefaultCheck?: boolean\n\t\t}>(),\n\t\t{\n\t\t\tmodelValue: () => [],\n\t\t\ttop: '30px',\n\t\t\tright: '0',\n\t\t\twidth: '150px',\n\t\t\tbg: '#ccc',\n\t\t\tdefaultCheck: false\n\t\t}\n\t)\n\n\tconst indeterminate = ref(true)\n\tconst checkAll = ref(false)\n\tconst show = ref(false)\n\tconst groupT = ref<any[]>([])\n\tconst groupX = computed(() => {\n\t\tlet unknown = t('r.unknown')\n\t\tif (props.modelValue.length > groupT.value.length) {\n\t\t\tgroupT.value = cloneDeep(props.modelValue)\n\t\t}\n\t\treturn groupT.value.map((e: Record<string, any>) => {\n\t\t\tlet temp: Record<string, any> = { label: (e && e.title) || unknown }\n\t\t\tif (e && e.disableShowSetting) {\n\t\t\t\ttemp.disabled = true\n\t\t\t}\n\t\t\treturn temp\n\t\t})\n\t})\n\tconst disabledGroup = computed(() => groupX.value.filter((e: Record<string, any>) => e.disabled))\n\tconst checkAllGroup = computed({\n\t\tget() {\n\t\t\treturn props.modelValue.map((e: Record<string, any>) => (e && e.title) || t('r.unknown'))\n\t\t},\n\t\tset(v: any[]) {\n\t\t\tlet subV = groupT.value.filter((e: Record<string, any>) => {\n\t\t\t\tfor (let item of v) {\n\t\t\t\t\tif (item === e.title) {\n\t\t\t\t\t\treturn true\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false\n\t\t\t})\n\t\t\temit('update:modelValue', subV)\n\t\t}\n\t})\n\n\tconst { locale } = useI18n()\n\n\tonMounted(() => {\n\t\tlet unknown = t('r.unknown')\n\t\tlet localStr: string | null\n\t\tif (locale.value) {\n\t\t\tlocalStr = localStorage.getItem(props.sKey + '_' + locale.value)\n\t\t} else {\n\t\t\tlocalStr = localStorage.getItem(props.sKey)\n\t\t}\n\t\tif (localStr) {\n\t\t\tcheckAllGroup.value = JSON.parse(decodeURI(localStr))\n\t\t} else {\n\t\t\tif (props.defaultCheck) {\n\t\t\t\tcheckAllGroup.value = props.modelValue\n\t\t\t\t\t.filter((e: Record<string, any>) => e.showSettingCheck)\n\t\t\t\t\t.map((e) => (e && e.title) || unknown)\n\t\t\t}\n\t\t}\n\t})\n\n\tfunction checkAllGroupChange(data: any[]) {\n\t\tif (data.length === groupX.value.length) {\n\t\t\tindeterminate.value = false\n\t\t\tcheckAll.value = true\n\t\t} else if (data.length > disabledGroup.value.length) {\n\t\t\tindeterminate.value = true\n\t\t\tcheckAll.value = false\n\t\t} else {\n\t\t\tindeterminate.value = false\n\t\t\tcheckAll.value = false\n\t\t}\n\t}\n\n\twatch(() => checkAllGroup.value, checkAllGroupChange, {\n\t\timmediate: true,\n\t\tdeep: true\n\t})\n\n\tfunction labelClick() {\n\t\tif (!show.value) {\n\t\t\tshow.value = true\n\t\t}\n\t}\n\n\tfunction save() {\n\t\tif (locale.value) {\n\t\t\tlocalStorage.setItem(props.sKey + '_' + locale.value, encodeURI(JSON.stringify(checkAllGroup.value)))\n\t\t} else {\n\t\t\tlocalStorage.setItem(props.sKey, encodeURI(JSON.stringify(checkAllGroup.value)))\n\t\t}\n\t\tshow.value = false\n\t}\n\n\tfunction handleCheckAll() {\n\t\tif (indeterminate.value) {\n\t\t\tcheckAll.value = false\n\t\t} else {\n\t\t\tcheckAll.value = !checkAll.value\n\t\t}\n\t\tindeterminate.value = false\n\n\t\tif (checkAll.value) {\n\t\t\tcheckAllGroup.value = groupX.value.map((e: Record<string, any>) => e.label)\n\t\t} else {\n\t\t\tcheckAllGroup.value = disabledGroup.value.map((e: Record<string, any>) => e.label)\n\t\t}\n\t}\n</script>\n\n<template>\n\t<div class=\"tabSetF\">\n\t\t<div class=\"tabSetBt\" @click=\"labelClick\">\n\t\t\t<Icon type=\"md-settings\" size=\"17\" />\n\t\t\t<span>{{ t('r.tabSetting') }}</span>\n\t\t</div>\n\t\t<div\n\t\t\tclass=\"tabSetCard\"\n\t\t\tv-show=\"show\"\n\t\t\t:style=\"{ top: props.top, right: props.right, width: props.width, backgroundColor: props.bg }\"\n\t\t>\n\t\t\t<div class=\"topCheck\">\n\t\t\t\t<Checkbox :indeterminate=\"indeterminate\" v-model=\"checkAll\" @click.prevent.native=\"handleCheckAll\">{{\n\t\t\t\t\tt('r.all')\n\t\t\t\t}}</Checkbox>\n\t\t\t\t<span style=\"cursor: pointer; float: right\" @click=\"save\">{{ t('r.confirm') }}</span>\n\t\t\t</div>\n\t\t\t<CheckboxGroup v-model=\"checkAllGroup\">\n\t\t\t\t<Checkbox\n\t\t\t\t\tv-for=\"(itemT, index) in groupX\"\n\t\t\t\t\tclass=\"setItem\"\n\t\t\t\t\t:label=\"itemT && itemT.label\"\n\t\t\t\t\t:key=\"'tabSet_' + props.sKey + index\"\n\t\t\t\t\t:disabled=\"itemT && itemT.disabled\"\n\t\t\t\t/>\n\t\t\t</CheckboxGroup>\n\t\t</div>\n\t</div>\n</template>\n","let count = 0\r\nlet loader = document.createElement('div')\r\nloader.setAttribute('class', 'spinModal')\r\n\r\nloader.innerHTML =\r\n\t'<div class=\"loader\"><svg class=\"circular\" viewBox=\"25 25 50 50\"><circle class=\"path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" stroke-width=\"5\" stroke-miterlimit=\"10\" /></svg></div>'\r\n\r\nwindow.onload = function () {\r\n\tdocument.getElementsByTagName('body')[0].append(loader)\r\n}\r\n\r\n/**\r\n * 开关spin\r\n * @param d 开为：true，关：不传\r\n */\r\nexport function toggleSpin(d?: boolean): void {\r\n\tif (d) {\r\n\t\tloader.classList.add('show')\r\n\t} else {\r\n\t\tloader.classList.remove('show')\r\n\t}\r\n}\r\n\r\n/**\r\n * 网络请求计数\r\n * @param d 增加计数：true，减少计数：不传\r\n */\r\nexport function counts(d?: boolean) {\r\n\tlet t = count\r\n\tif (d) {\r\n\t\tcount++\r\n\t} else if (count > 0) {\r\n\t\tcount--\r\n\t}\r\n\r\n\tif (t !== count) {\r\n\t\tif (count === 0) {\r\n\t\t\ttoggleSpin(false)\r\n\t\t} else if (t === 0) {\r\n\t\t\ttoggleSpin(true)\r\n\t\t}\r\n\t}\r\n}\r\n","/**\n * @description 基于axios的网络请求插件\n * @author Ricky email:zhangqingcq@foxmail.com\n * @created 2023.05.10\n */\nimport type { AxiosInstance, AxiosRequestConfig, AxiosResponse } from 'axios'\nimport { isEmpty } from 'lodash-es'\nimport { t } from '../locale'\n\nimport { counts } from './spin'\nimport type { Collection } from '../public'\n\nconst host = window.location.origin\n\nlet proxy: any = null\nconst T = (...arg: Parameters<typeof t>) => t.apply(proxy, arg)\n\nexport interface ServiceR extends AxiosInstance {\n\tstore?: any\n}\n\nexport interface RequestConfigR extends AxiosRequestConfig {\n\tspin?: boolean\n\tnoEmptyStr?: boolean\n}\n\n// 创建自定义对象\nlet service: ServiceR = axios.create({\n\tbaseURL: host,\n\twithCredentials: true // 允许携带cookie\n})\n\nfunction notInitYet() {\n\tconsole.info('store为空，请在安装插件时传入store实例：Vue.use(plugRQw,{store:store})，Pinia传{store:useStore}')\n}\n\n/**\n * 拦截器，在发起请求前调用\n */\nservice.interceptors.request.use(\n\t(q) => {\n\t\treturn q\n\t},\n\t(e) => {\n\t\treturn Promise.reject(e)\n\t}\n)\n\nfunction logoutHandle() {\n\tif (service.store) {\n\t\tif (typeof service.store === 'function') {\n\t\t\tconst store = service.store()\n\t\t\tif (store.logout) {\n\t\t\t\tstore.logout()\n\t\t\t}\n\t\t} else {\n\t\t\tservice.store?.dispatch?.('logout')\n\t\t}\n\t} else {\n\t\tnotInitYet()\n\t}\n}\n\n/**\n * 拦截器，在请求返回时调用\n */\nservice.interceptors.response.use(\n\t(r) => {\n\t\tif (proxy && (r?.data?.code === 403 || r?.data?.code === 409)) {\n\t\t\tproxy.messageBox({\n\t\t\t\tcontent: T('r.http.' + r.data.code),\n\t\t\t\tonOk: logoutHandle\n\t\t\t})\n\t\t}\n\t\treturn r\n\t},\n\t(e) => {\n\t\tif (proxy && (e?.response?.status === 403 || e?.response?.status === 409)) {\n\t\t\tproxy.messageBox({\n\t\t\t\tcontent: T('r.http.' + e.response.status),\n\t\t\t\tonOk: logoutHandle\n\t\t\t})\n\t\t}\n\t\tconsole.warn('请求出错：', e)\n\t\treturn Promise.reject(e)\n\t}\n)\n\n/**\n * 封装请求结果和错误处理\n */\nfunction checkResult(r: Partial<AxiosResponse>, msg?: string | null, rPath?: string[], config?: RequestConfigR) {\n\tif (config && config.spin) {\n\t\tcounts(false)\n\t}\n\tlet y = true\n\tlet d = r && r.data\n\tif (d) {\n\t\trPath = rPath ? rPath : []\n\t\tfor (let e of rPath) {\n\t\t\td = d[e]\n\t\t\ty = y && d\n\t\t}\n\t\tif (y) {\n\t\t\treturn d\n\t\t}\n\t\tmsg && console.warn(msg)\n\t\treturn false\n\t}\n\tmsg && console.warn(msg)\n\treturn false\n}\n\nfunction handleRequest(\n\tmethod: string,\n\turl: string,\n\tdata?: Collection,\n\tmsg?: string | null,\n\trPath?: string[],\n\tconfig?: RequestConfigR,\n\tisUrlData?: boolean\n) {\n\treturn new Promise((s, j) => {\n\t\tswitch (method) {\n\t\t\tcase 'get':\n\t\t\t\tservice\n\t\t\t\t\t.get(url, { params: data })\n\t\t\t\t\t.then((r) => {\n\t\t\t\t\t\tlet d = checkResult(r, msg, rPath, config)\n\t\t\t\t\t\tif (d) {\n\t\t\t\t\t\t\ts(d)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tj(r)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch((e) => {\n\t\t\t\t\t\tcheckResult({}, msg, rPath, config)\n\t\t\t\t\t\tj(e)\n\t\t\t\t\t})\n\t\t\t\tbreak\n\t\t\tcase 'delete':\n\t\t\t\tlet keyT = isUrlData ? 'params' : 'data'\n\t\t\t\tservice\n\t\t\t\t\t.delete(url, { [keyT]: data })\n\t\t\t\t\t.then((r) => {\n\t\t\t\t\t\tlet d = checkResult(r, msg, rPath, config)\n\t\t\t\t\t\tif (d) {\n\t\t\t\t\t\t\ts(d)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tj(r)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch((e) => {\n\t\t\t\t\t\tcheckResult({}, msg, rPath, config)\n\t\t\t\t\t\tj(e)\n\t\t\t\t\t})\n\t\t\t\tbreak\n\t\t\tcase 'post':\n\t\t\t\tservice\n\t\t\t\t\t.post(url, data, config)\n\t\t\t\t\t.then((r) => {\n\t\t\t\t\t\tlet d = checkResult(r, msg, rPath, config)\n\t\t\t\t\t\tif (d) {\n\t\t\t\t\t\t\ts(d)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tj(r)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch((e) => {\n\t\t\t\t\t\tcheckResult({}, msg, rPath, config)\n\t\t\t\t\t\tj(e)\n\t\t\t\t\t})\n\t\t\t\tbreak\n\t\t\tcase 'put':\n\t\t\t\tservice\n\t\t\t\t\t.put(url, data, config)\n\t\t\t\t\t.then((r) => {\n\t\t\t\t\t\tlet d = checkResult(r, msg, rPath, config)\n\t\t\t\t\t\tif (d) {\n\t\t\t\t\t\t\ts(d)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tj(r)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch((e) => {\n\t\t\t\t\t\tcheckResult({}, msg, rPath, config)\n\t\t\t\t\t\tj(e)\n\t\t\t\t\t})\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t}\n\t})\n}\n\n/**\n * 检查请求传入的各个参数\n * @param method 请求方法\n * @param url 地址\n * @param data 餐宿\n * @param msg 错误信息\n * @param rPath 返回数据路径（提取）\n * @param config 请求配置\n * @param isUrlData delete方法传参模式 true:params,false:data\n * @returns {Promise<*>}\n */\nfunction checkRequest(\n\tmethod: string,\n\turl: string,\n\tdata: Collection = {},\n\tmsg?: string | null,\n\trPath?: string[],\n\tconfig?: RequestConfigR,\n\tisUrlData?: boolean\n) {\n\treturn new Promise((s, j) => {\n\t\tif (url) {\n\t\t\tif (config && config.spin) {\n\t\t\t\tcounts(true)\n\t\t\t}\n\t\t\tlet url_ = url\n\t\t\tif (window && window.hasOwnProperty('g')) {\n\t\t\t\t/*所有特定缩写字母开头的地址，都会被改变加上config.js（public里的全局配置文件，在index.html引入，在打包后通过更改该文件用于不\n\t\t\t\t 同环境的部署）里配置的地址变成绝对地址，如:\n\t\t\t\t config.js里配置了 window.g={mgrURL:'http://mgr.myweb.com'}\n\t\t\t\t 请求地址 ‘/mgr/file’ 会被改变为 'http://mgr.myweb.com/file'\n\t\t\t\t */\n\n\t\t\t\t// @ts-ignore\n\t\t\t\tconst _g = window.g\n\t\t\t\tlet httpEnv = Object.keys(_g)\n\t\t\t\t\t.filter((e) => e.indexOf('URL') > -1)\n\t\t\t\t\t.map((e) => e.replace('URL', ''))\n\n\t\t\t\tfor (let e of httpEnv) {\n\t\t\t\t\tlet regExp = new RegExp('^/' + e + '(?=/.*$)', 'i')\n\t\t\t\t\tif (regExp.test(url) && _g[e + 'URL']) {\n\t\t\t\t\t\turl_ = _g[e + 'URL'] + url.replace(regExp, '')\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet data_: Collection | undefined\n\t\t\tif (config?.headers?.['Content-Type'] === 'multipart/form-data') {\n\t\t\t\tdata_ = data\n\t\t\t} else {\n\t\t\t\tif (data && !isEmpty(data)) {\n\t\t\t\t\tif (Array.isArray(data)) {\n\t\t\t\t\t\tdata_ = []\n\t\t\t\t\t\tfor (let e of data) {\n\t\t\t\t\t\t\tif (e || e === 0 || e === false || (e === '' && config && !config.noEmptyStr)) {\n\t\t\t\t\t\t\t\tdata_.push(e)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdata_ = {}\n\t\t\t\t\t\tfor (let key in data) {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tdata.hasOwnProperty(key) &&\n\t\t\t\t\t\t\t\t(data[key] ||\n\t\t\t\t\t\t\t\t\tdata[key] === 0 ||\n\t\t\t\t\t\t\t\t\tdata[key] === false ||\n\t\t\t\t\t\t\t\t\t(data[key] === '' && config && !config.noEmptyStr))\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tdata_[key] = data[key]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet method_ = method.toLowerCase()\n\t\t\thandleRequest(method_, url_, data_, msg, rPath, config, isUrlData)\n\t\t\t\t.then((r) => {\n\t\t\t\t\ts(r)\n\t\t\t\t})\n\t\t\t\t.catch((e) => {\n\t\t\t\t\tj(e)\n\t\t\t\t})\n\t\t} else {\n\t\t\tconsole.error('没有请求地址:url')\n\t\t\tj('没有请求地址:url')\n\t\t}\n\t})\n}\n\n/**\n * @description 基于axios封装的请求插件，引入库时使用this.$fetch时直接调用以下方法，例如：this.$fetch.get(\"/getData\",{id:1})，\n * vue3的setup模式使用：proxy调用\n * 单独引入时遵循Es Modules规范即可\n * @class\n */\nexport default {\n\t/**\n\t * @description 初始化该请求插件，单独引入的话调用一次后，方可实现spin等功能，默认在该库安装时已自动化初始化了该请求插件\n\t * @function\n\t * @param {object} store 项目中vuex的store，或pinia的useStore\n\t * @param app 当前vue实例\n\t */\n\tinit(store: any, app: any) {\n\t\tservice.store = store\n\t\tproxy = app.config.globalProperties\n\t} /**\n\t * post 请求\n\t * @function\n\t * @param {string} url 请求地址\n\t * @param {object} data 请求数据\n\t * @param {string} msg 错误信息，在控制台输出，方便调试，不用可以不传，例如：\n\t * @example this.$fetch.post(\"/getDataB\",{name:'ricky'},\"获取数据B失败\")\n\t * @param {Array.<string>} rPath 请求结果提取路径，如：[data,list]表示data.list,如不需过滤可不传\n\t * @param {object} config 请求配置  如请求过程需要遮罩层，设置 spin:true即可\n\t * @return {Promise<object>}\n\t * @example this.$fetch.post(\"/getData\",{id:1},null,['result','list'])\n\t *  .then(r=>{\n\t *      console.log(r)\n\t *      r相当于:data.result.list,data是网络请求结果\n\t *  })\n\t *\n\t * 注意：\n\t *  请求最多支持5个入参，最少一个(url)，依次为：url,data,msg,rPath,config。如果要传靠后的入参，但不想传前面的，应该这样传：\n\t *  this.$fetch.post(\"/setData\",{},null,[],{\n\t *     headers: {\n\t *         'Content-Type': 'multipart/form-data'\n\t *       },\n\t *       spin:true\n\t *   }\n\t *  )\n\t */,\n\tpost(url: string, data?: Collection, msg?: string | null, rPath?: string[], config?: RequestConfigR) {\n\t\treturn new Promise((s, j) => {\n\t\t\tcheckRequest('post', url, data, msg, rPath, config)\n\t\t\t\t.then((r) => {\n\t\t\t\t\ts(r)\n\t\t\t\t})\n\t\t\t\t.catch((e) => {\n\t\t\t\t\tj(e)\n\t\t\t\t})\n\t\t})\n\t} /**\n\t * put请求\n\t * @param {string} url 请求地址\n\t * @param {object} data 请求数据\n\t * @param {string} msg 错误信息，在控制台输出，方便调试，不用可以不传\n\t * @param {Array.<string>} rPath 请求结果提取路径\n\t * @param {object} config 请求配置  如请求过程需要遮罩层，设置 spin:true即可\n\t * @return {Promise<unknown>}\n\t */,\n\tput(url: string, data?: Collection, msg?: string | null, rPath?: string[], config?: RequestConfigR) {\n\t\treturn new Promise((s, j) => {\n\t\t\tcheckRequest('put', url, data, msg, rPath, config)\n\t\t\t\t.then((r) => {\n\t\t\t\t\ts(r)\n\t\t\t\t})\n\t\t\t\t.catch((e) => {\n\t\t\t\t\tj(e)\n\t\t\t\t})\n\t\t})\n\t} /**\n\t * get请求\n\t * @param {string} url 请求地址\n\t * @param {object} data 请求数据\n\t * @param {string} msg 错误信息，在控制台输出，方便调试，不用可以不传\n\t * @param {Array.<string>} rPath 请求结果提取路径\n\t * @param {object} config 请求配置  如请求过程需要遮罩层，设置 spin:true即可\n\t * @return {Promise<unknown>}\n\t * PS: get请求时(delete请求同理)，可以把请求参数写在url里，也可以写在data里，注意写在data里时，data是对象\n\t * 以请求'/devices',找到id=2,name=meter举例：\n\t *  只传url时，url = '/devices?id=2&name=meter'\n\t *  url和data都传时,url = '/devices',data={id:2,name:'meter'}\n\t */,\n\tget(url: string, data?: Collection, msg?: string | null, rPath?: string[], config?: RequestConfigR) {\n\t\treturn new Promise((s, j) => {\n\t\t\tcheckRequest('get', url, data, msg, rPath, config)\n\t\t\t\t.then((r) => {\n\t\t\t\t\ts(r)\n\t\t\t\t})\n\t\t\t\t.catch((e) => {\n\t\t\t\t\tj(e)\n\t\t\t\t})\n\t\t})\n\t} /**\n\t * delete 请求\n\t * @param {string} url 请求地址\n\t * @param {object} data 请求数据\n\t * @param {string} msg 错误信息，在控制台输出，方便调试，不用可以不传\n\t * @param {Array.<string>} rPath 请求结果提取路径\n\t * @param {object} config 请求配置  如请求过程需要遮罩层，设置 spin:true即可\n\t * @param isUrlData 传参模式 true:params,false:data\n\t * @return {Promise<unknown>}\n\t */,\n\tdelete(\n\t\turl: string,\n\t\tdata?: Collection,\n\t\tmsg?: string | null,\n\t\trPath?: string[],\n\t\tconfig?: RequestConfigR,\n\t\tisUrlData: boolean = true\n\t) {\n\t\treturn new Promise((s, j) => {\n\t\t\tcheckRequest('delete', url, data, msg, rPath, config, isUrlData)\n\t\t\t\t.then((r) => {\n\t\t\t\t\ts(r)\n\t\t\t\t})\n\t\t\t\t.catch((e) => {\n\t\t\t\t\tj(e)\n\t\t\t\t})\n\t\t})\n\t} /**\n\t * 并发请求   例如：\n\t * @example this.$fetch.all(\n\t *  [\n\t *    this.$fetch.get(\"/getData\"),\n\t *    this.$fetch.post(\"/getDataB\",{name:'ricky'})\n\t *  ]\n\t * )\n\t */,\n\tall: axios.all /**\n\t * 并发请求结果分离 例如：\n\t * @example this.$fetch.all(\n\t *  [\n\t *    this.$fetch.get(\"/getData\"),\n\t *    this.$fetch.post(\"/getDataB\",{name:'ricky'})\n\t *  ]\n\t * )\n\t *  .then(\n\t *    this.$fetch.spread((result1,result2)=>{\n\t *        console.log(result1,result2)\n\t *    })\n\t *   )\n\t */,\n\tspread: axios.spread /**\n\t * 该请求插件暴露给外界的配置对象，为axios.create创建的实例对象，使用方法见axios官方网站\n\t */,\n\tconfig: service\n}\n","<!--BtTablePage 表格-页签-表顶操作（如：批量XX，导出）集成UI组件\n@created 2023.08.15\n@author Ricky email:zhangqingcq@foxmail.com-->\n\n<script lang=\"ts\" setup>\n\timport { toLine, tooltipManual } from '../../methods/globalFunc'\n\timport { toHump } from '../../methods/needImportFunc'\n\timport $fetch from '../../methods/fetch.js'\n\timport { cloneDeep, isBoolean, isNumber } from 'lodash-es'\n\timport { setTimeout } from '../../methods/timer'\n\timport { TableColumnConfig, Radio } from 'view-ui-plus'\n\timport { h } from 'vue'\n\n\tconst { globalProperties } = getCurrentInstance()!.appContext!.config\n\n\tconst emit = defineEmits(['on-selection-change', 'on-data-change'])\n\n\tlet tc: { showSettingCheck?: boolean; disableShowSetting?: boolean } = {\n\t\tshowSettingCheck: false,\n\t\tdisableShowSetting: false\n\t}\n\n\tconst TableColumnR = { ...tc, ...TableColumnConfig }\n\n\tconst props = withDefaults(\n\t\tdefineProps<{\n\t\t\turl?: string /*表格拉取数据的接口地址*/\n\t\t\tsearchData?: Record<string, any> /*表格条件查询数据*/\n\t\t\tcolumns?: Array<typeof TableColumnR> /*表格表头结构数据，同view-ui-plus*/\n\t\t\tdataHandler?: (d: any) => {\n\t\t\t\tdata: Record<string, any>\n\t\t\t\ttotal: number\n\t\t\t\t[k: keyof any]: any\n\t\t\t} /*接口数据处理方法，处理后格式须为{data:[...],total:xx}*/\n\t\t\tselection?: boolean /*是否展示每列开头选择框*/\n\t\t\tradio?: boolean /*表格是否是单选表格，每次只能选中一行*/\n\t\t\tselectionFixed?: 'left' | 'right' | false /*每列开头选择框固定*/\n\t\t\trowClickSelect?: boolean /*是否点击行操作开头选择框*/\n\t\t\tdata?: any[] /*表格默认数据，没有url的本地静态表格使用*/\n\t\t\tpageSize?: number /*每页条数*/\n\t\t\tsortable?: 'custom' | '' /*排序模式*/\n\t\t\tinitData?: boolean /*初始化数据，即组件创建后自动拉取第一次数据*/\n\t\t\thighlightRow?: boolean /*高亮当前行*/\n\t\t\trowClickNum?: number /*自动拉取第一次数据时点击第几行，默认-1，不点击*/\n\t\t\ttableEmptyTdHandle?: boolean /*表格内容为空是否显示为‘--’*/\n\t\t\tnoBorderTable?: boolean /*表格无边框*/\n\t\t\tnoPage?: boolean /*表格页签*/\n\t\t\torderDefault?: 'asc' | 'desc' /*排序是升是降*/\n\t\t\torderKey?: string /*排序的key*/\n\t\t\torderKeyFormat?: 'underline' | 'camelcase' /*排序key的格式*/\n\t\t\tgetDataLoading?: boolean /*拉取表格数据时显示遮罩层*/\n\t\t\tshowTopRow?: boolean /*展示顶行（列表设置、批量操作按钮、导出等按钮、统计信息等）,各项子内容通过slot接入*/\n\t\t\tlightHead?: boolean /*浅色背景表头，避免和headerBar菜单紧邻时页面局部颜色不平衡*/\n\t\t\tpageComponentSize?: 'small' | 'default' /*页签大小*/\n\t\t\tnoElevator?: boolean /*页签不带电梯*/\n\t\t}>(),\n\t\t{\n\t\t\turl: '',\n\t\t\tsearchData: () => ({}),\n\t\t\tcolumns: () => [],\n\t\t\tselection: false,\n\t\t\tradio: false,\n\t\t\tselectionFixed: false,\n\t\t\trowClickSelect: true,\n\t\t\tdata: () => [],\n\t\t\tpageSize: 10,\n\t\t\tsortable: '',\n\t\t\tinitData: true,\n\t\t\thighlightRow: false,\n\t\t\trowClickNum: -1,\n\t\t\ttableEmptyTdHandle: false,\n\t\t\tnoBorderTable: false,\n\t\t\tnoPage: false,\n\t\t\torderDefault: 'desc',\n\t\t\torderKey: 'id',\n\t\t\torderKeyFormat: 'underline',\n\t\t\tgetDataLoading: false,\n\t\t\tshowTopRow: false,\n\t\t\tlightHead: false,\n\t\t\tpageComponentSize: 'default',\n\t\t\tnoElevator: false\n\t\t}\n\t)\n\n\tconst pageSizes = globalProperties.pageSizes || [10, 20, 30, 40]\n\tconst dataT = ref(props.data)\n\tconst pageSizeT = ref<number>(\n\t\t(localStorage.getItem('btPageSize') && Number(localStorage.getItem('btPageSize'))) || props.pageSize\n\t)\n\tconst current = ref(1)\n\tconst total = ref(0)\n\tlet selected: Record<string, any>[] = []\n\tlet currentKey: string | null\n\tlet currentIndex: number | null\n\tlet _key: string = props.orderKey\n\tlet _order: string = props.orderDefault\n\tconst tableContainerHeight = 300\n\n\tconst columnsFixed = computed(() => {\n\t\tfor (let e of props.columns) {\n\t\t\tif (e.fixed) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t}\n\t\treturn false\n\t})\n\n\tconst fixedTable = computed(() => props.selectionFixed || columnsFixed.value)\n\n\tconst queryData = computed(() => {\n\t\tlet t: Record<string, any> = {\n\t\t\t...props.searchData,\n\t\t\tcurrent: current.value,\n\t\t\tsize: pageSizeT.value\n\t\t}\n\t\tif (props.sortable === 'custom') {\n\t\t\tif (props.orderKeyFormat === 'underline') {\n\t\t\t\tt[_order] = toLine(_key)\n\t\t\t} else if (props.orderKeyFormat === 'camelcase') {\n\t\t\t\tt[_order] = toHump(_key)\n\t\t\t}\n\t\t}\n\t\treturn t\n\t})\n\n\tconst columnsT = computed(() => {\n\t\tlet t = props.columns.filter((e) => {\n\t\t\treturn e.type !== 'selection'\n\t\t})\n\t\tif (props.selection || props.radio) {\n\t\t\tlet c: Record<string, any>\n\t\t\tif (props.radio) {\n\t\t\t\tc = {\n\t\t\t\t\ttitle: ' ',\n\t\t\t\t\twidth: 65,\n\t\t\t\t\trender: (_h: any, params: Record<string, any>) => {\n\t\t\t\t\t\treturn h(Radio, {\n\t\t\t\t\t\t\tvalue: params.row.btChecked\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tc = {\n\t\t\t\t\ttype: 'selection',\n\t\t\t\t\twidth: 60\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (props.selectionFixed) {\n\t\t\t\tc.fixed = props.selectionFixed\n\t\t\t}\n\t\t\tt.unshift(c)\n\t\t}\n\t\tt.forEach((e) => {\n\t\t\tif (props.sortable === 'custom') {\n\t\t\t\tif (e.key && e.sortable !== true && e.sortable !== false) {\n\t\t\t\t\te.sortable = 'custom'\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\te.sortable = false\n\t\t\t}\n\t\t\tif (!e.align) {\n\t\t\t\te.align = 'center'\n\t\t\t}\n\t\t})\n\t\tif (props.tableEmptyTdHandle) {\n\t\t\tt.forEach((e: Record<string, any>) => {\n\t\t\t\tif (e.key && e.render === undefined) {\n\t\t\t\t\tif (e.tooltip) {\n\t\t\t\t\t\te.render = tooltipManual(e.key, true)\n\t\t\t\t\t} else {\n\t\t\t\t\t\te.render = (h: any, params: Record<string, any>) => {\n\t\t\t\t\t\t\tlet td = params.row[e.key]\n\t\t\t\t\t\t\treturn h('span', td === '' || td === null || td === undefined ? '--' : td)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t\treturn t\n\t})\n\n\tconst dataS = computed({\n\t\tget() {\n\t\t\treturn dataT.value.map((e: Record<string, any>, i: number) => {\n\t\t\t\treturn {\n\t\t\t\t\tbtKey: 'bt-' + i,\n\t\t\t\t\tbtChecked: false,\n\t\t\t\t\t...e\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tset(v: any) {\n\t\t\tdataT.value = v\n\t\t}\n\t})\n\n\tconst selectedIds = computed(() => selected.map((e: Record<string, any>) => e.id))\n\n\tconst selectedKeys = computed(() => selected.map((e: Record<string, any>) => e.btKey))\n\n\tconst tableRef = ref()\n\n\twatch(() => props.searchData, search, { deep: true })\n\n\tfunction search() {\n\t\t/*私有*/\n\t\tcurrent.value = 1\n\t\tgetDataAndClickRow()\n\t}\n\n\tfunction initTable() {\n\t\t/*私有*/\n\t\tif (props.initData) {\n\t\t\tgetDataAndClickRow()\n\t\t}\n\t}\n\n\tfunction addRow(row: Record<string, any>) {\n\t\t/*添加行（公开），分页时不推荐使用，详细见说明文档*/\n\t\tdataT.value.unshift(cloneDeep(row))\n\t\tsetTimeout(() => {\n\t\t\ttableRef.value?.clickCurrentRow?.(0)\n\t\t}, 100)\n\t}\n\n\tfunction setRowData(row: Record<string, any>, setCurrentRow: boolean, clickCurrentRow: boolean) {\n\t\t/*更新行数据（公开）*/\n\t\tlet index: number | null = null\n\t\tif (isBoolean(setCurrentRow) && setCurrentRow) {\n\t\t\tindex = currentIndex\n\t\t} else if (isNumber(setCurrentRow)) {\n\t\t\tindex = setCurrentRow\n\t\t}\n\t\tif (index !== null) {\n\t\t\tlet t = dataT.value[index]\n\t\t\tfor (let key in row) {\n\t\t\t\tif (row.hasOwnProperty(key)) {\n\t\t\t\t\tt[key] = row[key]\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (clickCurrentRow) {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\ttableRef.value?.clickCurrentRow?.(index)\n\t\t\t\t}, 10)\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction deleteRow(index: number) {\n\t\t/*根据索引数字删除行（公开），分页时不推荐使用，详细见说明文档*/\n\t\tdataT.value.splice(index, 1)\n\t\tsetTimeout(() => {\n\t\t\ttableRef.value?.clickCurrentRow?.(0)\n\t\t}, 100)\n\t}\n\n\tfunction onRowClick(row: Record<string, any>, i: number) {\n\t\t/*私有*/\n\t\tif (row.btChecked && props.radio) {\n\t\t\treturn\n\t\t}\n\t\tif ((props.selection || props.radio) && props.rowClickSelect) {\n\t\t\ttableRef.value?.toggleSelect?.(i)\n\t\t}\n\t}\n\n\tfunction onSelect(s: any, row: Record<string, any>) {\n\t\t/*私有*/\n\t\tcurrentKey = row.btKey\n\t\tcurrentIndex = Number(row.btKey.split('-')[1])\n\t\tif (props.radio) {\n\t\t\tdataT.value[currentIndex].btChecked = true\n\t\t}\n\t}\n\n\tfunction selectionHandle(selection: any) {\n\t\t/*私有*/\n\t\tif (props.radio) {\n\t\t\tfor (let e of dataS.value) {\n\t\t\t\tif (e.btKey !== currentKey) {\n\t\t\t\t\tdataT.value[Number(e.btKey.split('-')[1])].btChecked = false\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tselected = selection\n\t\temit('on-selection-change', selection)\n\t}\n\n\tfunction getSelected() {\n\t\t/*获取已选行数据（公开）*/\n\t\treturn cloneDeep(selected)\n\t}\n\n\tfunction changePage(v: number) {\n\t\t/*私有*/\n\t\tcurrent.value = v\n\t\tgetDataAndClickRow()\n\t}\n\n\tfunction pageSizeChange(v: number) {\n\t\t/*私有*/\n\t\tpageSizeT.value = v\n\t\tlocalStorage.setItem('btPageSize', String(v))\n\t\tif (current.value === 1) {\n\t\t\tgetDataAndClickRow()\n\t\t}\n\t}\n\n\tfunction onSortChange({ key, order }: { key: string; order: string }) {\n\t\t/*表头排序(私有)*/\n\t\tif (_order === 'normal') {\n\t\t\t/*恢复到默认页面排序*/\n\t\t\t_key = props.orderKey\n\t\t\t_order = props.orderDefault\n\t\t} else {\n\t\t\t_key = key\n\t\t\t_order = order\n\t\t}\n\t\tcurrent.value = 1\n\t\tgetTableData()\n\t}\n\n\tfunction clearSelect() {\n\t\t/*清空选择（公开）*/\n\t\tif (props.radio) {\n\t\t\tif (selectedKeys.value.length > 0 && dataS.value.length > 0) {\n\t\t\t\tlet i = selectedKeys.value[0].split('-')[1]\n\t\t\t\tdataS.value[i].btChecked = false\n\t\t\t}\n\t\t} else {\n\t\t\ttableRef.value?.selectAll?.(false)\n\t\t}\n\t\tif (selected.length > 0) {\n\t\t\tselected = []\n\t\t\temit('on-selection-change', [])\n\t\t}\n\t\tcurrentKey = null\n\t\tcurrentIndex = null\n\t}\n\n\tfunction clearTableData() {\n\t\t/*清空选择（公开）,用于特殊场景下重置表格，不拉取数据，如需刷新数据直接调用getTableData*/\n\t\tdataT.value = []\n\t\tclearSelect()\n\t\tcurrent.value = 1\n\t\ttotal.value = 0\n\t}\n\n\tfunction getTableData(order?: string, orderKey?: string, keepSelect?: boolean) {\n\t\t/*拉取表格数据（公开）*/\n\t\treturn new Promise((resolve) => {\n\t\t\tif (order) {\n\t\t\t\t_order = order\n\t\t\t}\n\t\t\tif (orderKey) {\n\t\t\t\t_key = orderKey\n\t\t\t}\n\t\t\tif (props.url) {\n\t\t\t\t$fetch\n\t\t\t\t\t.get(props.url, queryData.value, '', [], { spin: props.getDataLoading })\n\t\t\t\t\t.then((d: any) => {\n\t\t\t\t\t\tlet r: Record<string, any>\n\t\t\t\t\t\tif (!keepSelect) {\n\t\t\t\t\t\t\tclearSelect()\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (typeof props.dataHandler === 'function') {\n\t\t\t\t\t\t\tr = props.dataHandler(d)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tr = d\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (r.data) {\n\t\t\t\t\t\t\t/*接口返回数据为空时可能是用null表示，所以有下面逻辑*/\n\t\t\t\t\t\t\tif (r.data.records || r.data.records === null) {\n\t\t\t\t\t\t\t\tdataT.value = r.data.records || []\n\t\t\t\t\t\t\t} else if (r.data.page) {\n\t\t\t\t\t\t\t\tif (r.data.page.records || r.data.page.records === null) {\n\t\t\t\t\t\t\t\t\tdataT.value = r.data.page.records || []\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (r.data.data) {\n\t\t\t\t\t\t\t\tif (r.data.data.records || r.data.data.records === null) {\n\t\t\t\t\t\t\t\t\tdataT.value = r.data.data.records || []\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tdataT.value = r.data\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttotal.value = r.data.page?.total || r.data.data?.total || r.data.total || r.total || 0\n\t\t\t\t\t\t\tif (total.value === 0 && current.value > 1 && dataT.value && dataT.value.length === 0) {\n\t\t\t\t\t\t\t\t/*如果没有数据，将当前页置为1*/\n\t\t\t\t\t\t\t\tcurrent.value = 1\n\t\t\t\t\t\t\t} else if (current.value > 1 && total.value <= (current.value - 1) * pageSizeT.value) {\n\t\t\t\t\t\t\t\t/*当前页并没有数据，自动拉取前一页数据*/\n\t\t\t\t\t\t\t\tcurrent.value--\n\t\t\t\t\t\t\t\tnextTick(function () {\n\t\t\t\t\t\t\t\t\tgetTableData(order, orderKey)\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\temit('on-data-change', r)\n\t\t\t\t\t\t\tresolve(r)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.warn('请求返回数据有误，无法使用')\n\t\t\t\t\t\t\tclearTableData()\n\t\t\t\t\t\t\temit('on-data-change', r)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch((e) => {\n\t\t\t\t\t\tconsole.warn(e)\n\t\t\t\t\t\tclearSelect()\n\t\t\t\t\t\tclearTableData()\n\t\t\t\t\t\temit('on-data-change', e)\n\t\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tconsole.warn('没有有效的请求地址，无法获取表格数据')\n\t\t\t}\n\t\t})\n\t}\n\n\tfunction getDataAndClickRow(clickCurrentRow?: boolean, order?: string, orderKey?: string) {\n\t\t/*单选模式时（非单选模式只拉数据不点击），拉取表格数据并且点击行，如果传true，则点击当前行，不传则点击 rowClickNum 指定行（公开）*/\n\t\tif (props.radio && (clickCurrentRow || props.rowClickNum !== -1)) {\n\t\t\tgetTableData(order, orderKey, clickCurrentRow).then(() => {\n\t\t\t\t//点击对应行\n\t\t\t\tif (dataT.value.length > 0) {\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tif (clickCurrentRow) {\n\t\t\t\t\t\t\ttableRef.value?.clickCurrentRow?.(currentIndex || 0)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttableRef.value?.clickCurrentRow?.(props.rowClickNum)\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 10)\n\t\t\t\t}\n\t\t\t})\n\t\t} else {\n\t\t\tgetTableData()\n\t\t}\n\t}\n\n\tonMounted(initTable)\n\n\tdefineExpose({\n\t\tselectedIds,\n\t\taddRow,\n\t\tsetRowData,\n\t\tdeleteRow,\n\t\tgetSelected,\n\t\tclearSelect,\n\t\tclearTableData,\n\t\tgetTableData,\n\t\tgetDataAndClickRow\n\t})\n</script>\n\n<template>\n\t<div class=\"btTablePage fullHeight\" ref=\"tableBox\">\n\t\t<div class=\"topBtn\" v-show=\"props.showTopRow\">\n\t\t\t<slot name=\"tableSetting\" />\n\n\t\t\t<slot name=\"topMsg\" />\n\n\t\t\t<slot name=\"topBtnGroup\" />\n\t\t</div>\n\t\t<div class=\"tableContainer fullHeight\" :class=\"{ noTop: !props.showTopRow, noPage: props.noPage }\">\n\t\t\t<div class=\"fullHeight relativeBox\">\n\t\t\t\t<div ref=\"tableContainerLOI\" class=\"fullFlowContent\">\n\t\t\t\t\t<Table\n\t\t\t\t\t\tref=\"tableRef\"\n\t\t\t\t\t\tv-bind=\"$attrs\"\n\t\t\t\t\t\t:height=\"(fixedTable && tableContainerHeight) || null\"\n\t\t\t\t\t\t:class=\"{ noBorderTable: props.noBorderTable, fullHeightTable: !fixedTable, lightHeadO: props.lightHead }\"\n\t\t\t\t\t\t:columns=\"columnsT\"\n\t\t\t\t\t\t:data=\"dataS\"\n\t\t\t\t\t\t:highlight-row=\"props.radio || props.highlightRow\"\n\t\t\t\t\t\t@on-select=\"onSelect\"\n\t\t\t\t\t\t@on-selection-change=\"selectionHandle\"\n\t\t\t\t\t\t@on-sort-change=\"onSortChange\"\n\t\t\t\t\t\t@on-row-click=\"onRowClick\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"pageContainer\" v-show=\"!props.noPage\">\n\t\t\t<Page\n\t\t\t\tv-model=\"current\"\n\t\t\t\t:page-size-opts=\"pageSizes\"\n\t\t\t\t:total=\"total\"\n\t\t\t\t:page-size=\"pageSizeT\"\n\t\t\t\tshow-sizer\n\t\t\t\tshow-total\n\t\t\t\t:showElevator=\"!props.noElevator\"\n\t\t\t\t:size=\"props.pageComponentSize\"\n\t\t\t\t@on-change=\"changePage\"\n\t\t\t\t@on-page-size-change=\"pageSizeChange\"\n\t\t\t/>\n\t\t</div>\n\t</div>\n</template>\n","<!--SelectInput 下拉选择和输入框组合，select选择要输入的key,input输入val\n@created 2023.08.16\n@author Ricky email:zhangqingcq@foxmail.com-->\n\n<script lang=\"ts\" setup>\n\timport { debounce } from 'lodash-es'\n\timport t from '../../locale/i18nSFC'\n\n\tconst emit = defineEmits(['update:modelValue', 'on-change'])\n\tconst props = withDefaults(\n\t\tdefineProps<{\n\t\t\tmodelValue?: Record<string, any> /*组件的值，建议使用v-model绑定，key对应select值，val对应input值*/\n\t\t\tlabelWidth?: number /*表单项标签宽度*/\n\t\t\tlabelTextAlign?: 'left' | 'center' | 'right' /*select内容对齐方式*/\n\t\t\titemWidth?: number /*表单项内容宽度,用于行内表单*/\n\t\t\tselectOption?: any[] /*选择框待选项*/\n\t\t\tplaceholder?: string\n\t\t\tclearable?: boolean\n\t\t\tdisabled?: boolean /*禁用，仅展示*/\n\t\t}>(),\n\t\t{\n\t\t\tmodelValue: () => ({\n\t\t\t\tkey: null,\n\t\t\t\tval: null\n\t\t\t}),\n\t\t\tlabelWidth: 160,\n\t\t\tlabelTextAlign: 'right',\n\t\t\titemWidth: 200,\n\t\t\tselectOption: () => [],\n\t\t\tclearable: false,\n\t\t\tdisabled: false\n\t\t}\n\t)\n\n\tconst selectVal = computed({\n\t\tget() {\n\t\t\treturn (props.modelValue && props.modelValue.key) || null\n\t\t},\n\t\tset(v: any) {\n\t\t\tlet temp: Record<string, any> = {\n\t\t\t\tkey: v,\n\t\t\t\tval: null\n\t\t\t}\n\t\t\tif (selectVal.value && selectVal.value !== v) {\n\t\t\t\ttemp.beforeKey = selectVal.value\n\t\t\t}\n\t\t\temit('update:modelValue', temp)\n\t\t\temit('on-change', temp)\n\t\t}\n\t})\n\n\tconst inputVal = computed({\n\t\tget() {\n\t\t\treturn (props.modelValue && props.modelValue.val) || null\n\t\t},\n\t\tset(v: any) {\n\t\t\temit('update:modelValue', {\n\t\t\t\tkey: selectVal.value,\n\t\t\t\tval: v\n\t\t\t})\n\t\t}\n\t})\n\n\tconst labelSelectStyle = computed(() => ({\n\t\twidth: props.labelWidth + 'px',\n\t\ttextAlign: props.labelTextAlign\n\t}))\n\n\tconst inputStyle = computed(() => ({ width: props.itemWidth + 'px' }))\n\n\tfunction inputChange(e: Record<string, any>) {\n\t\tif (e?.target?.value !== undefined) {\n\t\t\thandleChange({\n\t\t\t\tkey: selectVal.value,\n\t\t\t\tval: e.target.value\n\t\t\t})\n\t\t}\n\t}\n\n\tconst handleChange = debounce((data) => {\n\t\temit('on-change', data)\n\t}, 500)\n</script>\n\n<template>\n\t<div>\n\t\t<Select v-model=\"selectVal\" :style=\"labelSelectStyle\" :disabled=\"Boolean(props.disabled)\" transfer>\n\t\t\t<Option\n\t\t\t\tv-for=\"(item, index) in props.selectOption\"\n\t\t\t\t:value=\"item.val\"\n\t\t\t\t:key=\"'selectInputOp' + item.value + index\"\n\t\t\t\t:style=\"{ textAlign: props.labelTextAlign }\"\n\t\t\t\t>{{ item.label }}</Option\n\t\t\t>\n\t\t</Select>\n\t\t<Input\n\t\t\tv-model=\"inputVal\"\n\t\t\t:placeholder=\"props.placeholder || t('r.pInput')\"\n\t\t\t:style=\"inputStyle\"\n\t\t\t:clearable=\"props.clearable\"\n\t\t\t:disabled=\"Boolean(props.disabled)\"\n\t\t\t@on-change=\"inputChange\"\n\t\t/>\n\t</div>\n</template>\n","'use strict';(function(m,p){\"object\"===typeof exports&&\"undefined\"!==typeof module?module.exports=p():\"function\"===typeof define&&define.amd?define(p):(m=m||self,m.AMapLoader=p())})(this,function(){function m(a){var b=[];a.AMapUI&&b.push(p(a.AMapUI));a.Loca&&b.push(r(a.Loca));return Promise.all(b)}function p(a){return new Promise(function(h,c){var f=[];if(a.plugins)for(var e=0;e<a.plugins.length;e+=1)-1==d.AMapUI.plugins.indexOf(a.plugins[e])&&f.push(a.plugins[e]);if(g.AMapUI===b.failed)c(\"\\u524d\\u6b21\\u8bf7\\u6c42 AMapUI \\u5931\\u8d25\");\nelse if(g.AMapUI===b.notload){g.AMapUI=b.loading;d.AMapUI.version=a.version||d.AMapUI.version;e=d.AMapUI.version;var l=document.body||document.head,k=document.createElement(\"script\");k.type=\"text/javascript\";k.src=\"https://webapi.amap.com/ui/\"+e+\"/main.js\";k.onerror=function(a){g.AMapUI=b.failed;c(\"\\u8bf7\\u6c42 AMapUI \\u5931\\u8d25\")};k.onload=function(){g.AMapUI=b.loaded;if(f.length)window.AMapUI.loadUI(f,function(){for(var a=0,b=f.length;a<b;a++){var c=f[a].split(\"/\").slice(-1)[0];window.AMapUI[c]=\narguments[a]}for(h();n.AMapUI.length;)n.AMapUI.splice(0,1)[0]()});else for(h();n.AMapUI.length;)n.AMapUI.splice(0,1)[0]()};l.appendChild(k)}else g.AMapUI===b.loaded?a.version&&a.version!==d.AMapUI.version?c(\"\\u4e0d\\u5141\\u8bb8\\u591a\\u4e2a\\u7248\\u672c AMapUI \\u6df7\\u7528\"):f.length?window.AMapUI.loadUI(f,function(){for(var a=0,b=f.length;a<b;a++){var c=f[a].split(\"/\").slice(-1)[0];window.AMapUI[c]=arguments[a]}h()}):h():a.version&&a.version!==d.AMapUI.version?c(\"\\u4e0d\\u5141\\u8bb8\\u591a\\u4e2a\\u7248\\u672c AMapUI \\u6df7\\u7528\"):\nn.AMapUI.push(function(a){a?c(a):f.length?window.AMapUI.loadUI(f,function(){for(var a=0,b=f.length;a<b;a++){var c=f[a].split(\"/\").slice(-1)[0];window.AMapUI[c]=arguments[a]}h()}):h()})})}function r(a){return new Promise(function(h,c){if(g.Loca===b.failed)c(\"\\u524d\\u6b21\\u8bf7\\u6c42 Loca \\u5931\\u8d25\");else if(g.Loca===b.notload){g.Loca=b.loading;d.Loca.version=a.version||d.Loca.version;var f=d.Loca.version,e=d.AMap.version.startsWith(\"2\"),l=f.startsWith(\"2\");if(e&&!l||!e&&l)c(\"JSAPI \\u4e0e Loca \\u7248\\u672c\\u4e0d\\u5bf9\\u5e94\\uff01\\uff01\");\nelse{e=d.key;l=document.body||document.head;var k=document.createElement(\"script\");k.type=\"text/javascript\";k.src=\"https://webapi.amap.com/loca?v=\"+f+\"&key=\"+e;k.onerror=function(a){g.Loca=b.failed;c(\"\\u8bf7\\u6c42 AMapUI \\u5931\\u8d25\")};k.onload=function(){g.Loca=b.loaded;for(h();n.Loca.length;)n.Loca.splice(0,1)[0]()};l.appendChild(k)}}else g.Loca===b.loaded?a.version&&a.version!==d.Loca.version?c(\"\\u4e0d\\u5141\\u8bb8\\u591a\\u4e2a\\u7248\\u672c Loca \\u6df7\\u7528\"):h():a.version&&a.version!==d.Loca.version?\nc(\"\\u4e0d\\u5141\\u8bb8\\u591a\\u4e2a\\u7248\\u672c Loca \\u6df7\\u7528\"):n.Loca.push(function(a){a?c(a):c()})})}if(!window)throw Error(\"AMap JSAPI can only be used in Browser.\");var b;(function(a){a.notload=\"notload\";a.loading=\"loading\";a.loaded=\"loaded\";a.failed=\"failed\"})(b||(b={}));var d={key:\"\",AMap:{version:\"1.4.15\",plugins:[]},AMapUI:{version:\"1.1\",plugins:[]},Loca:{version:\"1.3.2\"}},g={AMap:b.notload,AMapUI:b.notload,Loca:b.notload},n={AMap:[],AMapUI:[],Loca:[]},q=[],t=function(a){\"function\"==typeof a&&\n(g.AMap===b.loaded?a(window.AMap):q.push(a))};return{load:function(a){return new Promise(function(h,c){if(g.AMap==b.failed)c(\"\");else if(g.AMap==b.notload){var f=a.key,e=a.version,l=a.plugins;f?(window.AMap&&\"lbs.amap.com\"!==location.host&&c(\"\\u7981\\u6b62\\u591a\\u79cdAPI\\u52a0\\u8f7d\\u65b9\\u5f0f\\u6df7\\u7528\"),d.key=f,d.AMap.version=e||d.AMap.version,d.AMap.plugins=l||d.AMap.plugins,g.AMap=b.loading,e=document.body||document.head,window.___onAPILoaded=function(d){delete window.___onAPILoaded;if(d)g.AMap=\nb.failed,c(d);else for(g.AMap=b.loaded,m(a).then(function(){h(window.AMap)})[\"catch\"](c);q.length;)q.splice(0,1)[0]()},l=document.createElement(\"script\"),l.type=\"text/javascript\",l.src=\"https://webapi.amap.com/maps?callback=___onAPILoaded&v=\"+d.AMap.version+\"&key=\"+f+\"&plugin=\"+d.AMap.plugins.join(\",\"),l.onerror=function(a){g.AMap=b.failed;c(a)},e.appendChild(l)):c(\"\\u8bf7\\u586b\\u5199key\")}else if(g.AMap==b.loaded)if(a.key&&a.key!==d.key)c(\"\\u591a\\u4e2a\\u4e0d\\u4e00\\u81f4\\u7684 key\");else if(a.version&&\na.version!==d.AMap.version)c(\"\\u4e0d\\u5141\\u8bb8\\u591a\\u4e2a\\u7248\\u672c JSAPI \\u6df7\\u7528\");else{f=[];if(a.plugins)for(e=0;e<a.plugins.length;e+=1)-1==d.AMap.plugins.indexOf(a.plugins[e])&&f.push(a.plugins[e]);if(f.length)window.AMap.plugin(f,function(){m(a).then(function(){h(window.AMap)})[\"catch\"](c)});else m(a).then(function(){h(window.AMap)})[\"catch\"](c)}else if(a.key&&a.key!==d.key)c(\"\\u591a\\u4e2a\\u4e0d\\u4e00\\u81f4\\u7684 key\");else if(a.version&&a.version!==d.AMap.version)c(\"\\u4e0d\\u5141\\u8bb8\\u591a\\u4e2a\\u7248\\u672c JSAPI \\u6df7\\u7528\");\nelse{var k=[];if(a.plugins)for(e=0;e<a.plugins.length;e+=1)-1==d.AMap.plugins.indexOf(a.plugins[e])&&k.push(a.plugins[e]);t(function(){if(k.length)window.AMap.plugin(k,function(){m(a).then(function(){h(window.AMap)})[\"catch\"](c)});else m(a).then(function(){h(window.AMap)})[\"catch\"](c)})}})},reset:function(){delete window.AMap;delete window.AMapUI;delete window.Loca;d={key:\"\",AMap:{version:\"1.4.15\",plugins:[]},AMapUI:{version:\"1.1\",plugins:[]},Loca:{version:\"1.3.2\"}};g={AMap:b.notload,AMapUI:b.notload,\nLoca:b.notload};n={AMap:[],AMapUI:[],Loca:[]}}}})\n","type AmapR = { securityJsCode: string; key: string }\nlet _amap: AmapR = { securityJsCode: '', key: '' }\n\nexport function set({ securityJsCode, key }: AmapR): void {\n\t_amap.securityJsCode = securityJsCode\n\t_amap.key = key\n}\n\nexport function get(d: 'securityJsCode' | 'key'): string {\n\treturn _amap[d]\n}\n","<!--InputMap 带搜索框的地图组件，支持搜索地点，经纬度回显地点，缩放，移动地图，拖动标记，点击标记显示地点信息\n@created 2023.08.16\n@author Ricky email:zhangqingcq@foxmail.com-->\n\n<script lang=\"ts\" setup>\n\timport { cloneDeep, isNumber } from 'lodash-es'\n\timport t from '../../locale/i18nSFC'\n\timport { setTimeout } from '../../methods/timer'\n\timport AMapLoader from '@amap/amap-jsapi-loader'\n\timport { get } from '../../methods/amap'\n\timport { Input } from 'view-ui-plus'\n\n\tconst emit = defineEmits(['update:modelValue', 'on-change'])\n\tconst props = withDefaults(\n\t\tdefineProps<{\n\t\t\tmodelValue?: Record<string, any>\n\t\t\twidth?: string | number\n\t\t\theight?: string | number\n\t\t\tplaceholder?: string\n\t\t\tdisabled?: boolean\n\t\t\tshowMap?: boolean\n\t\t}>(),\n\t\t{\n\t\t\tmodelValue: () => ({}),\n\t\t\twidth: '100%',\n\t\t\tdisabled: false,\n\t\t\tshowMap: true\n\t\t}\n\t)\n\n\tconst valueT = computed({\n\t\tget() {\n\t\t\tlet temp\n\t\t\tif (!props.modelValue) {\n\t\t\t\ttemp = {\n\t\t\t\t\tname: null\n\t\t\t\t}\n\t\t\t} else if (!props.modelValue.name) {\n\t\t\t\ttemp = {\n\t\t\t\t\t...props.modelValue,\n\t\t\t\t\tname: null\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\ttemp = cloneDeep(props.modelValue)\n\t\t\t}\n\t\t\treturn temp\n\t\t},\n\t\tset(val) {\n\t\t\temit('update:modelValue', cloneDeep(val))\n\t\t}\n\t})\n\n\tconst widthT = computed(() => {\n\t\tif (isNumber(props.width)) {\n\t\t\treturn props.width + 'px'\n\t\t} else {\n\t\t\treturn props.width\n\t\t}\n\t})\n\n\tconst heightT = computed(() => {\n\t\tif (isNumber(props.height)) {\n\t\t\treturn props.height + 'px'\n\t\t} else if (props.height) {\n\t\t\treturn props.height\n\t\t} else if (isNumber(props.width)) {\n\t\t\treturn props.width * 0.66 + 'px'\n\t\t} else {\n\t\t\treturn '200px'\n\t\t}\n\t})\n\n\tconst containerStyle = computed<Record<string, any>>(() => ({\n\t\twidth: widthT.value,\n\t\tposition: 'relative'\n\t}))\n\n\tconst mapStyle = computed<Record<string, any>>(() => ({\n\t\twidth: widthT.value,\n\t\theight: heightT.value,\n\t\tmarginTop: '6px',\n\t\topacity: props.showMap ? 1 : 0,\n\t\tposition: props.showMap ? 'relative' : 'absolute',\n\t\ttop: props.showMap ? 0 : '-10000px'\n\t}))\n\n\twatch(\n\t\t() => props.modelValue,\n\t\t(after) => {\n\t\t\t//更新地图mark\n\t\t\tif (after && after.lng && after.lat) {\n\t\t\t\tif (!Map || !GeoCoder) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tcreateMarker({\n\t\t\t\t\tlng: after.lng,\n\t\t\t\t\tlat: after.lat,\n\t\t\t\t\tname: after.name\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t)\n\n\tconst mapId = 'mapId' + Math.floor(Math.random() * 1000000000)\n\tconst mapInputRef = ref<InstanceType<typeof Input> | null>(null)\n\tconst mapRef = ref<HTMLDivElement | null>(null)\n\tlet infoWindow: Record<string, any> | null\n\n\tfunction checkHeight() {\n\t\tif ((mapRef.value && mapRef.value.clientHeight < 10) || !mapRef.value) {\n\t\t\tsetTimeout(checkHeight, 300)\n\t\t} else {\n\t\t\t/*高德地图实例初始化较慢，暂时延时1秒，后面寻找完美解决方案*/\n\t\t\tsetTimeout(initMap, 100)\n\t\t}\n\t}\n\n\tlet AMap: any\n\tlet Map: any\n\tlet GeoCoder: any\n\tlet AutoComplete: any\n\n\tfunction initMap() {\n\t\tAMapLoader.load({\n\t\t\tkey: get('key'),\n\t\t\tversion: '2.0',\n\t\t\tplugins: ['AMap.AutoComplete', 'AMap.Geocoder']\n\t\t}).then((_map) => {\n\t\t\tAMap = _map\n\t\t\tMap = new AMap.Map(mapId).on('complete', () => {\n\t\t\t\tGeoCoder = new AMap.Geocoder()\n\n\t\t\t\tif (props.modelValue?.lng && props.modelValue?.lat) {\n\t\t\t\t\tcreateMarker({\n\t\t\t\t\t\tlng: props.modelValue.lng,\n\t\t\t\t\t\tlat: props.modelValue.lat,\n\t\t\t\t\t\tname: props.modelValue.name\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tconst iEl = mapInputRef.value?.$el?.children\n\t\t\t\tif (iEl && iEl.length > 1) {\n\t\t\t\t\tAutoComplete = new AMap.AutoComplete({\n\t\t\t\t\t\tinput: iEl[1]\n\t\t\t\t\t}).on('select', (val: Record<string, any>) => {\n\t\t\t\t\t\tif (val?.poi?.name) {\n\t\t\t\t\t\t\tif (val.poi.location?.lng && val.poi.location?.lat) {\n\t\t\t\t\t\t\t\tcreateMarker({\n\t\t\t\t\t\t\t\t\tname: val.poi.name,\n\t\t\t\t\t\t\t\t\tlng: val.poi.location.lng,\n\t\t\t\t\t\t\t\t\tlat: val.poi.location.lat\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tvalueT.value = {\n\t\t\t\t\t\t\t\t\tname: val.poi.name,\n\t\t\t\t\t\t\t\t\tlng: val.poi.location.lng,\n\t\t\t\t\t\t\t\t\tlat: val.poi.location.lat\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tMap.setCity(val.poi.name, () => {\n\t\t\t\t\t\t\t\t\tlet center = Map.getCenter()\n\t\t\t\t\t\t\t\t\tcreateMarker({\n\t\t\t\t\t\t\t\t\t\tname: val.poi.name,\n\t\t\t\t\t\t\t\t\t\tlng: center.lng,\n\t\t\t\t\t\t\t\t\t\tlat: center.lat\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\tvalueT.value = {\n\t\t\t\t\t\t\t\t\t\tname: val.poi.name,\n\t\t\t\t\t\t\t\t\t\tlng: center.lng,\n\t\t\t\t\t\t\t\t\t\tlat: center.lat\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\temit('on-change', valueT.value)\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\tMap.on('hotspotclick', (d: Record<string, any>) => {\n\t\t\t\t\tcreateMarker({\n\t\t\t\t\t\tname: d.name,\n\t\t\t\t\t\tlng: d.lnglat.lng,\n\t\t\t\t\t\tlat: d.lnglat.lat\n\t\t\t\t\t})\n\t\t\t\t\tvalueT.value = {\n\t\t\t\t\t\tname: d.name,\n\t\t\t\t\t\tlng: d.lnglat.lng,\n\t\t\t\t\t\tlat: d.lnglat.lat\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\t\t})\n\t}\n\n\tfunction createMarker({ lng, lat, name }: { lng: number; lat: number; name: string }) {\n\t\tMap.clearMap()\n\t\tlet point = new AMap.LngLat(lng, lat)\n\t\tlet marker = new AMap.Marker({\n\t\t\tmap: Map,\n\t\t\tposition: point,\n\t\t\tdraggable: true\n\t\t})\n\t\tMap.add(marker)\n\t\tgetAddress(lng, lat)\n\t\tmarker.on('dragend', () => {\n\t\t\tlet dragPoint = marker.getPosition()\n\t\t\tvalueT.value = {\n\t\t\t\tname: name || null,\n\t\t\t\tlng: dragPoint.lng,\n\t\t\t\tlat: dragPoint.lat\n\t\t\t}\n\t\t\tgetAddress(lng, lat)\n\t\t})\n\t\tmarker.on('click', (e: Record<string, any>) => {\n\t\t\tif (infoWindow) {\n\t\t\t\tinfoWindow.open(Map, e.target.getPosition())\n\t\t\t}\n\t\t})\n\t\tMap.setFitView()\n\t}\n\n\tfunction getAddress(lng: number, lat: number) {\n\t\tGeoCoder.getAddress([lng, lat], (status: string, result: Record<string, any>) => {\n\t\t\tif (status === 'complete' && result.info === 'OK' && result.regeocode && result.regeocode.formattedAddress) {\n\t\t\t\tinfoWindow = new AMap.InfoWindow({\n\t\t\t\t\t//创建信息窗体\n\t\t\t\t\tisCustom: true,\n\t\t\t\t\tcontent: '<div class=\"mapInfoWindowIKJ\">' + result.regeocode.formattedAddress + '</div>',\n\t\t\t\t\toffset: new AMap.Pixel(16, -45),\n\t\t\t\t\tcloseWhenClickMap: true\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tinfoWindow = null\n\t\t\t\tconsole.warn('地图获取位置信息失败', result)\n\t\t\t}\n\t\t})\n\t}\n\n\tonMounted(checkHeight)\n\n\tonUnmounted(() => {\n\t\tif (!Map) {\n\t\t\treturn\n\t\t}\n\t\tMap.destroy()\n\t\t//@ts-ignore\n\t\tAMapLoader?.reset()\n\t\tMap = null\n\t\tGeoCoder = null\n\t\tAutoComplete = null\n\t\tinfoWindow = null\n\t})\n</script>\n\n<template>\n\t<div :style=\"containerStyle\" class=\"containerIKJ\">\n\t\t<Input\n\t\t\tref=\"mapInputRef\"\n\t\t\tv-model=\"valueT.name\"\n\t\t\t:class=\"{ mapInputIKJ: props.showMap }\"\n\t\t\t:placeholder=\"props.placeholder || t('r.search')\"\n\t\t\t:disabled=\"props.disabled\"\n\t\t\ticon=\"ios-search\"\n\t\t/>\n\t\t<div :style=\"mapStyle\" ref=\"mapRef\" :id=\"mapId\"></div>\n\t</div>\n</template>\n","<!--AsyncCascader 远程拉取数据的级联下拉选择框，依据url属性从后端拉取数据，失焦时选择，v-model绑定选中的ID\n@created 2023.08.17\n@author Ricky email:zhangqingcq@foxmail.com-->\n\n<script lang=\"ts\" setup>\n\timport { myTypeof } from '../../methods/globalFunc'\n\timport { findPath } from '../../methods/needImportFunc'\n\timport $fetch from '../../methods/fetch'\n\timport t from '../../locale/i18nSFC'\n\timport { isEmpty, last, isEqual, isString, isNumber, cloneDeep } from 'lodash-es'\n\n\tconst emit = defineEmits(['update:modelValue', 'on-label-change'])\n\tconst props = withDefaults(\n\t\tdefineProps<{\n\t\t\tmodelValue?: any[] | number | string /*级联绑定值(v-model)*/\n\t\t\turl?: string /*级联数据接口地址*/\n\t\t\toptionVal?: string /*v-model收集节点的哪些字段*/\n\t\t\toptionLabel?: string /*选项的标签对应接口字段*/\n\t\t\toptionFilter?: <T>(\n\t\t\t\td: T[]\n\t\t\t) => T[] /*筛选待选项的方法，入参是接口请求回来的待选项数据，返回处理后的待选项（仅进行筛选操作，不要做其它处理）*/\n\t\t\tseparator?: string /*选中的label分隔符（多级展示时）,valProp为String（多级）时分隔符*/\n\t\t\tonlyLastVal?: boolean /*只取最后一级*/\n\t\t\tonlyLastLabel?: boolean /*只显示最后一级*/\n\t\t\tfilterable?: boolean\n\t\t\tplaceholder?: string\n\t\t\tdisabled?: boolean\n\t\t}>(),\n\t\t{\n\t\t\turl: window?.g?.mgrURL ? window.g.mgrURL + '/web/v1/umc/orgs' : '',\n\t\t\toptionVal: 'id',\n\t\t\toptionLabel: 'name',\n\t\t\tseparator: '/',\n\t\t\tonlyLastVal: true,\n\t\t\tonlyLastLabel: true,\n\t\t\tfilterable: false,\n\t\t\tplaceholder: '',\n\t\t\tdisabled: false\n\t\t}\n\t)\n\tconst dataC = ref<any[]>([])\n\n\tconst value = computed<any[]>({\n\t\tget() {\n\t\t\tlet valProp = props.modelValue\n\t\t\tif (Array.isArray(valProp)) {\n\t\t\t\treturn cloneDeep(valProp)\n\t\t\t} else if (isNumber(valProp)) {\n\t\t\t\treturn findPath({\n\t\t\t\t\tgroup: dataC.value,\n\t\t\t\t\tcondition: (item) => item.value === valProp,\n\t\t\t\t\tpathKey: 'value'\n\t\t\t\t})\n\t\t\t} else if (isString(valProp)) {\n\t\t\t\treturn valProp.split(props.separator)\n\t\t\t}\n\t\t\treturn []\n\t\t},\n\t\tset(v: any[]) {\n\t\t\tif (props.onlyLastVal) {\n\t\t\t\tif (isEmpty(v)) {\n\t\t\t\t\temit('update:modelValue', null)\n\t\t\t\t\temit('on-label-change', null)\n\t\t\t\t} else {\n\t\t\t\t\temit('update:modelValue', last(v))\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (isEqual(props.modelValue, v)) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\temit('update:modelValue', cloneDeep(v))\n\t\t\t}\n\t\t}\n\t})\n\n\tfunction getData() {\n\t\tif (!props.url) {\n\t\t\tconsole.error('没有用于拉取级联数据的有效接口地址')\n\t\t\treturn\n\t\t}\n\t\t$fetch\n\t\t\t.get(props.url)\n\t\t\t.then((r: any) => {\n\t\t\t\tlet d: any[] | null = null\n\t\t\t\tif (r?.data?.records) {\n\t\t\t\t\td = r.data.records\n\t\t\t\t} else if (r?.data) {\n\t\t\t\t\td = r.data\n\t\t\t\t} else if (r) {\n\t\t\t\t\td = r\n\t\t\t\t}\n\t\t\t\tif (d) {\n\t\t\t\t\tif (typeof props.optionFilter === 'function' && myTypeof(props.optionFilter) === 'Function') {\n\t\t\t\t\t\td = props.optionFilter(d)\n\t\t\t\t\t}\n\t\t\t\t\tdataC.value = dataFilter(d)\n\t\t\t\t} else {\n\t\t\t\t\tconsole.warn('级联数据错误，不能使用')\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\tconsole.warn('拉取级联数据出错')\n\t\t\t})\n\t}\n\n\tfunction dataFilter(d: any[]): any[] {\n\t\tlet temp: any[] = []\n\t\tfor (let item of d) {\n\t\t\tlet tt: Record<string, any> = {\n\t\t\t\tvalue: item[props.optionVal],\n\t\t\t\tlabel: item[props.optionLabel]\n\t\t\t}\n\t\t\tif (item.children && !isEmpty(item.children)) {\n\t\t\t\ttt.children = dataFilter(item.children)\n\t\t\t}\n\t\t\ttemp.push(tt)\n\t\t}\n\t\treturn temp\n\t}\n\n\tfunction format(labels: any[]) {\n\t\tif (props.onlyLastLabel) {\n\t\t\treturn last(labels)\n\t\t}\n\t\treturn labels.join(props.separator)\n\t}\n\n\tfunction onChange(v: any, selectedDetail: any[]) {\n\t\tlet label: string = ''\n\t\tif (!isEmpty(selectedDetail)) {\n\t\t\tlabel = selectedDetail\n\t\t\t\t.map((item) => {\n\t\t\t\t\treturn item.label\n\t\t\t\t})\n\t\t\t\t.join(props.separator)\n\t\t}\n\t\temit('on-label-change', label)\n\t}\n\n\tonMounted(getData)\n</script>\n\n<template>\n\t<Cascader\n\t\t:data=\"dataC\"\n\t\tv-model=\"value\"\n\t\t@on-change=\"onChange\"\n\t\tchange-on-select\n\t\ttransfer\n\t\t:disabled=\"props.disabled\"\n\t\t:render-format=\"format\"\n\t\t:placeholder=\"props.placeholder || t('r.pSelect')\"\n\t\t:filterable=\"props.filterable\"\n\t/>\n</template>\n","<!--AlCascaderMC 行政区域级联，v-model绑定区域代码，内置数据，可设置地址级别\n@created 2023.08.21\n@author Ricky email:zhangqingcq@foxmail.com-->\n\n<script lang=\"ts\" setup>\n\timport { isNumber, cloneDeep, isEmpty, isString, last } from 'lodash-es'\n\timport t from '../../locale/i18nSFC'\n\timport ArCascader from 'ar-cascader'\n\n\tconst emit = defineEmits(['update:modelValue', 'on-name-change'])\n\tconst props = withDefaults(\n\t\tdefineProps<{\n\t\t\tmodelValue?: string | number | any[] | null /*组件绑定的值（v-model）*/\n\t\t\tlevel?: 0 | 1 | 2 | '0' | '1' | '2' /*精确至几级行政区域（0：省级，1：市级，2：县级）*/\n\t\t\tdisabled?: boolean /*禁用组件*/\n\t\t\ttransfer?: boolean /*弹出框元素直接放置于body下*/\n\t\t\tfilterable?: boolean /*可搜索*/\n\t\t\tseparator?: string /*地址名称分隔符*/\n\t\t\tplaceholder?: string /*占位符*/\n\t\t}>(),\n\t\t{\n\t\t\tlevel: 2,\n\t\t\tdisabled: false,\n\t\t\ttransfer: true,\n\t\t\tfilterable: true,\n\t\t\tseparator: '/'\n\t\t}\n\t)\n\tconst alCRef = ref()\n\tconst valueT = computed({\n\t\tget() {\n\t\t\tif (props.modelValue && (isNumber(props.modelValue) || isString(props.modelValue))) {\n\t\t\t\tlet temp = String(props.modelValue).trim()\n\n\t\t\t\tlet regP = /^\\d*$/\n\t\t\t\tif (regP.test(temp)) {\n\t\t\t\t\tlet lv1 = temp.substring(0, 2) + '0000'\n\t\t\t\t\tlet lv2\n\t\t\t\t\tlet lv3 = getLastCode(temp)\n\t\t\t\t\tif (lv3.length < 7) {\n\t\t\t\t\t\tlv2 = temp.substring(0, 4) + '00'\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlv2 = temp.substring(0, 6)\n\t\t\t\t\t}\n\t\t\t\t\tif (/^8\\d+$/.test(temp)) {\n\t\t\t\t\t\treturn [lv1, lv3]\n\t\t\t\t\t}\n\t\t\t\t\treturn [lv1, lv2, lv3]\n\t\t\t\t}\n\n\t\t\t\tif (temp.indexOf(props.separator) !== -1) {\n\t\t\t\t\t/*以中文名称和分隔符拼接的String地址*/\n\t\t\t\t\treturn temp.split(props.separator)\n\t\t\t\t}\n\n\t\t\t\treturn [temp]\n\t\t\t} else if (Array.isArray(props.modelValue)) {\n\t\t\t\treturn cloneDeep(props.modelValue)\n\t\t\t} else {\n\t\t\t\tif (alCRef.value) {\n\t\t\t\t\talCRef.value.select = []\n\t\t\t\t}\n\t\t\t\treturn []\n\t\t\t}\n\t\t},\n\t\tset(val) {\n\t\t\tif (isEmpty(val)) {\n\t\t\t\temit('update:modelValue', null)\n\t\t\t\temit('on-name-change', null)\n\t\t\t} else {\n\t\t\t\tlet l: Record<string, any> = last(val)\n\t\t\t\tlet code = ''\n\t\t\t\tlet name = ''\n\t\t\t\tif (l) {\n\t\t\t\t\tcode = l.code\n\t\t\t\t}\n\t\t\t\tif (code && code.length < 12) {\n\t\t\t\t\tlet t: any[] = [...code]\n\t\t\t\t\twhile (t.length < 12) {\n\t\t\t\t\t\tt.push(0)\n\t\t\t\t\t}\n\t\t\t\t\tcode = t.join('')\n\t\t\t\t}\n\t\t\t\tif (Array.isArray(val)) {\n\t\t\t\t\tname = val\n\t\t\t\t\t\t.map((item) => {\n\t\t\t\t\t\t\treturn item.name\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.join(props.separator)\n\t\t\t\t}\n\t\t\t\tif (code) {\n\t\t\t\t\tif (code === props.modelValue) {\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\temit('update:modelValue', code)\n\t\t\t\t}\n\t\t\t\tif (name) {\n\t\t\t\t\temit('on-name-change', name)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t})\n\n\tfunction getLastCode(d: string) {\n\t\tlet t = [...d]\n\t\twhile (t[t.length - 1] === '0') {\n\t\t\tt.pop()\n\t\t}\n\t\treturn t.join('')\n\t}\n</script>\n\n<template>\n\t<ar-cascader\n\t\tv-bind=\"$attrs\"\n\t\tclass=\"alCascaderMC\"\n\t\tref=\"alCRef\"\n\t\tv-model=\"valueT\"\n\t\t:level=\"props.level\"\n\t\t:disabled=\"props.disabled\"\n\t\t:placeholder=\"props.placeholder || t('r.pSelect')\"\n\t\t:transfer=\"props.transfer\"\n\t\t:searchable=\"props.filterable\"\n\t/>\n</template>\n","/**\n * @description 全屏预览，原生dom技术\n * @author ricky zhangqingcq@foxmail.com\n * @created 2023.08.23\n */\n\nimport { first } from 'lodash-es'\nimport { t } from '../locale'\n\nexport default function fullScreenImgByDom(this: any, src: string) {\n\tconst T = (...arg: Parameters<typeof t>) => t.apply(this, arg)\n\n\tconst close = T('r.closePreview')\n\tconst fullImg = T('r.fullImg')\n\tlet bodyEl = first(document.getElementsByTagName('body'))\n\tlet child = document.createElement('div')\n\tchild.setAttribute('class', 'fullScreenImgByDom')\n\tchild.innerHTML = `<div class='previewInner'><img src='${src}' alt='${fullImg}' ><i class='ivu-icon ivu-icon-md-close' title='${close}' ></i></div>`\n\tchild.querySelector('.ivu-icon-md-close')?.addEventListener?.('click', function () {\n\t\tlet bb = first(document.getElementsByTagName('body'))\n\t\tbb?.removeChild?.(child)\n\t})\n\tbodyEl?.appendChild?.(child)\n}\n","<!--UploadGroup 支持本地上传或直接上传到服务器、上传文件列表展示或缩略图展示或不展示等功能的上传组件\n@created 2023.08.23\n@author Ricky email:zhangqingcq@foxmail.com-->\n\n<script lang=\"ts\" setup>\n\timport t from '../../locale/i18nSFC'\n\timport { first, cloneDeep, indexOf, last } from 'lodash-es'\n\timport { myTypeof } from '../../methods/globalFunc'\n\timport {\n\t\tgetFileSrc,\n\t\tgetFileTypeByName,\n\t\tisImgByFile,\n\t\tgetFileTypeIconByName,\n\t\tdownloadFileReaderFile\n\t} from '../../methods/needImportFunc'\n\timport $fetch from '../../methods/fetch.js'\n\timport fullScreenImgByDom from '../../methods/fullScreenImgByDom'\n\timport $swal from '../../methods/swal'\n\n\tconst emit = defineEmits(['update:modelValue', 'on-change'])\n\tconst props = withDefaults(\n\t\tdefineProps<{\n\t\t\tmodelValue?: number | string | File | any[]\n\t\t\turl?: string /*文件上传的地址*/\n\t\t\tdata?: Record<string, any> /*文件上传接口其他参数*/\n\t\t\tmanualUpload?: boolean\n\t\t\tmaxSize?: number\n\t\t\tlength?: number\n\t\t\tshowUploadList?: boolean\n\t\t\twithCredentials?: boolean\n\t\t\tmultiple?: boolean\n\t\t\tformat?: string[]\n\t\t\tshowImg?: boolean\n\t\t\tdisabled?: boolean /*禁用，仅展示*/\n\t\t}>(),\n\t\t{\n\t\t\tmodelValue: () => [],\n\t\t\turl: window?.g?.mgrURL ? window.g.mgrURL + '/web/v1/fsc/file' : '',\n\t\t\tdata: () => ({\n\t\t\t\tappId: 0,\n\t\t\t\tmoduleId: 0,\n\t\t\t\ttypeId: 0\n\t\t\t}),\n\t\t\tmanualUpload: false,\n\t\t\tmaxSize: 0,\n\t\t\tlength: 0,\n\t\t\tshowUploadList: true,\n\t\t\twithCredentials: true,\n\t\t\tmultiple: false,\n\t\t\tformat: () => [],\n\t\t\tshowImg: false,\n\t\t\tdisabled: false\n\t\t}\n\t)\n\tconst fileSrcList = shallowRef<any[]>([])\n\tconst fileDefaultList = shallowRef<any[]>([])\n\tconst previewType = computed(() => {\n\t\tif (!props.manualUpload && props.showImg && fileListItemIsIMG.value) {\n\t\t\treturn 'img'\n\t\t} else if (props.manualUpload && props.showImg && fileListItemIsIMG.value) {\n\t\t\treturn 'localImg'\n\t\t} else if (props.manualUpload && props.showUploadList && (!props.showImg || !fileListItemIsIMG.value)) {\n\t\t\treturn 'localList'\n\t\t} else if (!props.manualUpload && props.showUploadList && (!props.showImg || !fileListItemIsIMG.value)) {\n\t\t\treturn 'list'\n\t\t} else {\n\t\t\treturn ''\n\t\t}\n\t})\n\tconst urlT = computed(() => {\n\t\tif (props.manualUpload) {\n\t\t\treturn '//jsonplaceholder.typicode.com/posts/'\n\t\t} else {\n\t\t\treturn props.url\n\t\t}\n\t})\n\tconst fileList = computed<any[]>({\n\t\tget() {\n\t\t\tif (props.manualUpload) {\n\t\t\t\treturn fileIdList.value\n\t\t\t} else {\n\t\t\t\tlet temp: any[] = []\n\t\t\t\tfor (let item of fileIdList.value) {\n\t\t\t\t\tif (typeof item === 'object' && myTypeof(item) === 'File') {\n\t\t\t\t\t\ttemp.push(item)\n\t\t\t\t\t} else if (typeof item === 'number' || typeof item === 'string') {\n\t\t\t\t\t\ttemp.push({\n\t\t\t\t\t\t\tresponse: {\n\t\t\t\t\t\t\t\tdata: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: item\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn temp\n\t\t\t}\n\t\t},\n\t\tset(val) {\n\t\t\tif (props.manualUpload) {\n\t\t\t\tfileIdList.value = val\n\t\t\t} else {\n\t\t\t\tlet temp: any[] = []\n\t\t\t\tfor (let item of val) {\n\t\t\t\t\tif (item.response?.data?.[0]?.id) {\n\t\t\t\t\t\ttemp.push(item.response.data[0].id)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfileIdList.value = temp\n\t\t\t}\n\t\t}\n\t})\n\tconst fileIdList = computed({\n\t\tget() {\n\t\t\tswitch (typeof props.modelValue) {\n\t\t\t\tcase 'number':\n\t\t\t\t\treturn [props.modelValue]\n\t\t\t\tcase 'string':\n\t\t\t\t\tif (props.modelValue.indexOf('--') !== -1) {\n\t\t\t\t\t\treturn []\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (/^\\d*$/.test(props.modelValue)) {\n\t\t\t\t\t\t\treturn [Number(props.modelValue)]\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn [props.modelValue]\n\t\t\t\t\t}\n\t\t\t\tcase 'object':\n\t\t\t\t\tif (Array.isArray(props.modelValue)) {\n\t\t\t\t\t\treturn props.modelValue.filter((e) => e !== '--')\n\t\t\t\t\t} else if (myTypeof(props.modelValue) === 'File') {\n\t\t\t\t\t\treturn [props.modelValue]\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn []\n\t\t\t\t\t}\n\t\t\t\tdefault:\n\t\t\t\t\treturn []\n\t\t\t}\n\t\t},\n\t\tset(val) {\n\t\t\tif (props.length === 1) {\n\t\t\t\tlet temp = first(val)\n\t\t\t\temit('update:modelValue', temp ?? null)\n\t\t\t\temit('on-change', temp ?? null)\n\t\t\t} else {\n\t\t\t\temit('update:modelValue', cloneDeep(val))\n\t\t\t\temit('on-change', cloneDeep(val))\n\t\t\t}\n\t\t}\n\t})\n\tconst fileListItemIsIMG = computed(() => {\n\t\tlet temp\n\t\tif (props.manualUpload) {\n\t\t\ttemp = fileList.value\n\t\t} else {\n\t\t\ttemp = fileDefaultList.value\n\t\t}\n\t\tfor (let item of temp) {\n\t\t\tlet type\n\t\t\tif (props.manualUpload) {\n\t\t\t\ttype = item && item.type\n\t\t\t} else {\n\t\t\t\ttype = item && item.mimeType\n\t\t\t}\n\t\t\tif (!type || (type && !isImgByFile(type))) {\n\t\t\t\treturn false\n\t\t\t}\n\t\t}\n\t\treturn true\n\t})\n\n\twatch(\n\t\t() => fileList.value,\n\t\tasync (after) => {\n\t\t\tif (previewType.value === 'localImg') {\n\t\t\t\tif (after?.length > 0) {\n\t\t\t\t\tfileSrcList.value = await getFileSrcList(after)\n\t\t\t\t} else {\n\t\t\t\t\tfileSrcList.value = []\n\t\t\t\t}\n\t\t\t} else if (after?.length > 0 && previewType.value !== 'localList') {\n\t\t\t\tlet temp: any = []\n\t\t\t\tfor (let item of after) {\n\t\t\t\t\tif (item.name === undefined) {\n\t\t\t\t\t\tif (item.response?.data?.[0]?.id) {\n\t\t\t\t\t\t\tlet r: any = await $fetch.get(props.url + '/' + item.response.data[0].id).catch(() => {\n\t\t\t\t\t\t\t\ttemp.push({ name: t('r.file') + indexOf(after, item) })\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tlet itemT = cloneDeep(item)\n\t\t\t\t\t\t\titemT.name = r?.data?.returnValue?.[0]?.name || t('r.file') + indexOf(after, item)\n\t\t\t\t\t\t\titemT.mimeType = r?.data?.returnValue?.[0]?.mimeType || 'unknown'\n\t\t\t\t\t\t\ttemp.push(itemT)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttemp.push({ name: t('r.unknown') })\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttemp.push(item)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfileDefaultList.value = temp\n\t\t\t} else {\n\t\t\t\tfileDefaultList.value = []\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\timmediate: true,\n\t\t\tdeep: true\n\t\t}\n\t)\n\n\tfunction clear() {\n\t\tfileList.value = []\n\t}\n\n\tfunction getName(item: any) {\n\t\treturn item.name || (item.split && last(item.split('/'))) || item\n\t}\n\n\tasync function getFileSrcList(data: any[]) {\n\t\tlet temp: any[] = []\n\t\tfor (let item of data) {\n\t\t\tlet src = await getFileSrc(item)\n\t\t\ttemp.push(src)\n\t\t}\n\t\treturn temp\n\t}\n\n\tfunction clearManualItem(index: number) {\n\t\tif (!props.disabled) {\n\t\t\t//触发computed的set\n\t\t\tlet _f = fileList.value\n\t\t\t_f.splice(index, 1)\n\t\t\tfileList.value = _f\n\t\t}\n\t}\n\n\tfunction downloadDefaultFile(item: Record<string, any>) {\n\t\tif (item?.response?.data?.[0]?.id) {\n\t\t\twindow.open(props.url + '/' + item.response.data[0].id + '/download')\n\t\t}\n\t}\n\n\tfunction showPreview(file: any) {\n\t\tif (props.manualUpload) {\n\t\t\treturn file.type && isImgByFile(file.type)\n\t\t}\n\t\treturn file?.response?.data?.[0]?.id && file.mimeType && isImgByFile(file.mimeType)\n\t}\n\n\tfunction listExpand(file: any) {\n\t\t//列表图片预览\n\t\tif (props.manualUpload) {\n\t\t\tgetFileSrc(file).then((r: any) => {\n\t\t\t\t//图片的 base64 格式, 可以直接当成 img 的 src 属性值\n\t\t\t\tfullScreenImgByDom(r)\n\t\t\t})\n\t\t} else {\n\t\t\tfullScreenImgByDom(props.url + '/' + file.response.data[0].id + '/download?preview=true')\n\t\t}\n\t}\n\n\tfunction downloadManualFile(file: any) {\n\t\tif (myTypeof(file) === 'String' && file.indexOf('http') > -1) {\n\t\t\twindow.open(file)\n\t\t} else if (myTypeof(file) === 'File') {\n\t\t\tgetFileSrc(file).then((r: any) => {\n\t\t\t\tdownloadFileReaderFile(file.name, r)\n\t\t\t})\n\t\t}\n\t}\n\n\tfunction handelManualUpload(file: any) {\n\t\tif (props.manualUpload) {\n\t\t\tif (file) {\n\t\t\t\tlet type = getFileTypeByName(file.name)\n\t\t\t\tif (props.format.length > 0 && props.format.indexOf(type) < 0) {\n\t\t\t\t\t$swal(\n\t\t\t\t\t\tt('r.wrongFileType'),\n\t\t\t\t\t\tt('r.supportType') + ((props.format.length > 0 && String(props.format)) || t('r.none')),\n\t\t\t\t\t\t'warning'\n\t\t\t\t\t)\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t\tif (props.maxSize && file.size > props.maxSize * 1024) {\n\t\t\t\t\t$swal(t('r.fileIsBig'), t('r.supportSize') + props.maxSize + 'kb', 'warning')\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t\t//触发computed的set\n\t\t\t\tlet _f = fileList.value\n\t\t\t\t_f.push(file)\n\t\t\t\tfileList.value = _f\n\t\t\t}\n\t\t\treturn false\n\t\t} else {\n\t\t\treturn true\n\t\t}\n\t}\n\n\tfunction uploadError(error: any) {\n\t\tconsole.warn(error)\n\t\t$swal(t('r.uploadError'), '', 'error')\n\t}\n\n\tfunction uploadSuccess(response: any, file: any, _fileList: any) {\n\t\tif (response && response.code === 0) {\n\t\t\t//触发computed的set\n\t\t\tlet _f = fileList.value\n\t\t\t_f.push(file)\n\t\t\tfileList.value = _f\n\t\t} else {\n\t\t\t$swal(t('r.uploadFail'), (response && response.message) || '', 'error')\n\t\t}\n\t}\n\n\tfunction overSize() {\n\t\t$swal(t('r.fileIsBig'), t('r.supportSize') + props.maxSize + ' kb', 'warning')\n\t}\n\n\tfunction onFormatError() {\n\t\t$swal(\n\t\t\tt('r.wrongFileType'),\n\t\t\tt('r.supportType') + ((props.format.length > 0 && String(props.format)) || t('r.none')),\n\t\t\t'warning'\n\t\t)\n\t}\n\n\tfunction onPreview(file: any) {\n\t\tlet id = file?.response?.data?.[0]?.id\n\t\tlet type = file?.response?.data?.[0]?.mimeType\n\t\tif (id) {\n\t\t\tif (myTypeof(type) === 'String' && type.indexOf('image') > -1) {\n\t\t\t\tfullScreenImgByDom(props.url + '/' + id + '/download?preview=true')\n\t\t\t} else {\n\t\t\t\twindow.open(props.url + '/' + id + '/download?preview=true')\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction onRemove(file: any) {\n\t\tlet id = file?.response?.data?.[0]?.id\n\t\tdeleteById(null, id)\n\t}\n\n\tfunction deleteById(e: any, id: any) {\n\t\tif (!props.disabled && fileIdList.value.indexOf(id) !== -1) {\n\t\t\tconst _fileIdList = cloneDeep(fileIdList.value)\n\t\t\t//触发computed的set\n\t\t\tlet _f = fileList.value\n\t\t\t_f.splice(_fileIdList.indexOf(id), 1)\n\t\t\tfileList.value = _f\n\t\t}\n\t}\n</script>\n\n<template>\n\t<div>\n\t\t<Upload\n\t\t\tname=\"files\"\n\t\t\t:action=\"urlT\"\n\t\t\t:before-upload=\"handelManualUpload\"\n\t\t\t:on-error=\"uploadError\"\n\t\t\t:on-success=\"uploadSuccess\"\n\t\t\t:on-exceeded-size=\"overSize\"\n\t\t\t:on-preview=\"onPreview\"\n\t\t\t:on-remove=\"onRemove\"\n\t\t\t:on-format-error=\"onFormatError\"\n\t\t\t:data=\"props.data\"\n\t\t\t:max-size=\"props.maxSize\"\n\t\t\t:show-upload-list=\"false\"\n\t\t\t:with-credentials=\"props.withCredentials\"\n\t\t\t:format=\"props.format\"\n\t\t\t:multiple=\"props.multiple || false\"\n\t\t\t:disabled=\"(props.length > 0 && fileList.length >= props.length) || Boolean(props.disabled)\"\n\t\t>\n\t\t\t<!--暂时屏蔽multiple选项-->\n\t\t\t<Button\n\t\t\t\ticon=\"ios-cloud-upload-outline\"\n\t\t\t\t:class=\"{ disabledR: (props.length > 0 && fileList.length >= props.length) || Boolean(props.disabled) }\"\n\t\t\t\t>{{ t('r.selectFile') }}\n\t\t\t</Button>\n\t\t</Upload>\n\t\t<div class=\"previewBoxM\" v-show=\"previewType === 'img' && fileIdList.length > 0\">\n\t\t\t<template v-for=\"item of fileIdList\" :key=\"item\">\n\t\t\t\t<div class=\"previewImg\" v-if=\"!props.manualUpload && item !== null\">\n\t\t\t\t\t<img :src=\"url + '/' + item + '/download?preview=true'\" :alt=\"item\" />\n\t\t\t\t\t<div class=\"deleteModal\">\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\ttype=\"ios-expand\"\n\t\t\t\t\t\t\tsize=\"40\"\n\t\t\t\t\t\t\tclass=\"previewExpand\"\n\t\t\t\t\t\t\t:title=\"t('r.fView')\"\n\t\t\t\t\t\t\t@click=\"fullScreenImgByDom(props.url + '/' + item + '/download?preview=true')\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\ttype=\"ios-trash-outline\"\n\t\t\t\t\t\t\tsize=\"40\"\n\t\t\t\t\t\t\tclass=\"previewDelete\"\n\t\t\t\t\t\t\t@click=\"deleteById($event, item)\"\n\t\t\t\t\t\t\t:title=\"t('r.delete')\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</div>\n\t\t<div class=\"previewBoxM\" v-show=\"previewType === 'localImg' && fileSrcList.length > 0\">\n\t\t\t<template v-for=\"(item, index) of fileSrcList\" :key=\"'manualImg' + index\">\n\t\t\t\t<div class=\"previewImg\" v-if=\"props.manualUpload && item !== null\">\n\t\t\t\t\t<img :src=\"item\" :alt=\"'manualImg' + index\" />\n\t\t\t\t\t<div class=\"deleteModal\">\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\ttype=\"ios-expand\"\n\t\t\t\t\t\t\tsize=\"40\"\n\t\t\t\t\t\t\tclass=\"previewExpand\"\n\t\t\t\t\t\t\t@click=\"fullScreenImgByDom(item)\"\n\t\t\t\t\t\t\t:title=\"t('r.fView')\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\ttype=\"ios-trash-outline\"\n\t\t\t\t\t\t\tsize=\"40\"\n\t\t\t\t\t\t\tclass=\"previewDelete\"\n\t\t\t\t\t\t\t@click=\"clearManualItem(index)\"\n\t\t\t\t\t\t\t:title=\"t('r.delete')\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</div>\n\t\t<div class=\"customFileListM\" v-show=\"previewType === 'localList' && fileList.length > 0\">\n\t\t\t<template v-for=\"(item, index) of fileList\" :key=\"'manualItem' + index\">\n\t\t\t\t<p class=\"customFileListItem\" v-if=\"props.manualUpload && item !== null\">\n\t\t\t\t\t<Icon v-if=\"item.name\" :type=\"getFileTypeIconByName(item.name)\" />\n\t\t\t\t\t<span\n\t\t\t\t\t\tclass=\"upNameT\"\n\t\t\t\t\t\t:class=\"{ previewName: showPreview(item) }\"\n\t\t\t\t\t\t@click=\"downloadManualFile(item)\"\n\t\t\t\t\t\t:title=\"t('r.download')\"\n\t\t\t\t\t\t>{{ getName(item) }}</span\n\t\t\t\t\t>\n\t\t\t\t\t<span class=\"btBoxJ\">\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\tv-if=\"showPreview(item)\"\n\t\t\t\t\t\t\ttype=\"md-qr-scanner\"\n\t\t\t\t\t\t\tsize=\"14\"\n\t\t\t\t\t\t\tclass=\"listBtH\"\n\t\t\t\t\t\t\t@click=\"listExpand(item)\"\n\t\t\t\t\t\t\t:title=\"t('r.fView')\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Icon type=\"ios-close\" size=\"22\" class=\"listBtH\" @click=\"clearManualItem(index)\" :title=\"t('r.delete')\" />\n\t\t\t\t\t</span>\n\t\t\t\t</p>\n\t\t\t</template>\n\t\t</div>\n\t\t<div class=\"customFileListM\" v-show=\"previewType === 'list' && fileDefaultList.length > 0\">\n\t\t\t<template v-for=\"(item, index) of fileDefaultList\" :key=\"'defaultItem' + index\">\n\t\t\t\t<p class=\"customFileListItem\" v-if=\"!props.manualUpload && item !== null\">\n\t\t\t\t\t<Icon :type=\"getFileTypeIconByName(item.name)\" />\n\t\t\t\t\t<span\n\t\t\t\t\t\tclass=\"upNameT\"\n\t\t\t\t\t\t:class=\"{ previewName: showPreview(item) }\"\n\t\t\t\t\t\t@click=\"downloadDefaultFile(item)\"\n\t\t\t\t\t\t:title=\"t('r.download')\"\n\t\t\t\t\t\t>{{ item.name || t('r.file') + (index + 1) }}</span\n\t\t\t\t\t>\n\t\t\t\t\t<span class=\"btBoxJ\">\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\tv-if=\"showPreview(item)\"\n\t\t\t\t\t\t\ttype=\"md-qr-scanner\"\n\t\t\t\t\t\t\tsize=\"14\"\n\t\t\t\t\t\t\tclass=\"listBtH\"\n\t\t\t\t\t\t\t@click=\"listExpand(item)\"\n\t\t\t\t\t\t\t:title=\"t('r.fView')\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Icon type=\"ios-close\" size=\"22\" class=\"listBtH\" @click=\"clearManualItem(index)\" :title=\"t('r.delete')\" />\n\t\t\t\t\t</span>\n\t\t\t\t</p>\n\t\t\t</template>\n\t\t</div>\n\t</div>\n</template>\n","<!--MonthRange 月份区间选择器\n@created 2023.08.28\n@author Ricky email:zhangqingcq@foxmail.com-->\n\n<script lang=\"ts\" setup>\n\timport t from '../../locale/i18nSFC'\n\n\tconst emit = defineEmits(['update:modelValue', 'on-change'])\n\tconst props = withDefaults(\n\t\tdefineProps<{\n\t\t\tmodelValue?: string[]\n\t\t\tplacement?:\n\t\t\t\t| 'top'\n\t\t\t\t| 'top-start'\n\t\t\t\t| 'top-end'\n\t\t\t\t| 'bottom'\n\t\t\t\t| 'bottom-start'\n\t\t\t\t| 'bottom-end'\n\t\t\t\t| 'left'\n\t\t\t\t| 'left-start'\n\t\t\t\t| 'left-end'\n\t\t\t\t| 'right'\n\t\t\t\t| 'right-start'\n\t\t\t\t| 'right-end'\n\t\t\tplaceholder?: string\n\t\t\toptions1?: Record<string, any>\n\t\t\toptions2?: Record<string, any>\n\t\t\tdisabled?: boolean\n\t\t}>(),\n\t\t{\n\t\t\tmodelValue: () => ['', ''],\n\t\t\tplacement: 'bottom-start',\n\t\t\tdisabled: false\n\t\t}\n\t)\n\n\tconst openA = ref(false)\n\tconst openB = ref(false)\n\tconst mouseOver = ref(false)\n\n\tconst valueA = computed({\n\t\tget() {\n\t\t\treturn (props.modelValue && props.modelValue[0]) || null\n\t\t},\n\t\tset(v: any) {\n\t\t\temit('update:modelValue', [v, valueB.value])\n\t\t\temit('on-change', [v, valueB.value])\n\t\t}\n\t})\n\tconst valueB = computed({\n\t\tget() {\n\t\t\treturn (props.modelValue && props.modelValue[1]) || null\n\t\t},\n\t\tset(v: any) {\n\t\t\temit('update:modelValue', [valueA.value, v])\n\t\t\temit('on-change', [valueA.value, v])\n\t\t}\n\t})\n\tconst valueT = computed(\n\t\t() => (valueA.value || '') + (((valueA.value || valueB.value) && ' - ') || '') + (valueB.value || '')\n\t)\n\n\tconst mPickerRef = ref()\n\n\tonMounted(() => {\n\t\tmPickerRef.value.querySelector('.aRoot .ivu-input-suffix').addEventListener('mouseover', () => {\n\t\t\tmouseOver.value = true\n\t\t})\n\t\tmPickerRef.value.querySelector('.aRoot .ivu-input-suffix').addEventListener('mouseout', () => {\n\t\t\tmouseOver.value = false\n\t\t})\n\t\tmPickerRef.value.querySelector('.aRoot .ivu-input-suffix').addEventListener('click', (e: any) => {\n\t\t\tif (!props.disabled && (valueA.value || valueB.value)) {\n\t\t\t\te.stopPropagation()\n\t\t\t\tclear()\n\t\t\t}\n\t\t})\n\t})\n\n\tfunction focus() {\n\t\tif (!props.disabled) {\n\t\t\topenA.value = true\n\t\t}\n\t}\n\n\tfunction changeA(d: any) {\n\t\tvalueA.value = d\n\t\topenA.value = false\n\t\topenB.value = true\n\t}\n\n\tfunction changeB(d: any) {\n\t\tvalueB.value = d\n\t\topenB.value = false\n\t}\n\n\tfunction clear() {\n\t\temit('update:modelValue', [null, null])\n\t\temit('on-change', [null, null])\n\t}\n\n\tfunction close() {\n\t\topenA.value = false\n\t\topenB.value = false\n\t\tif (valueA.value && valueB.value === null) {\n\t\t\tvalueA.value = null\n\t\t}\n\t}\n</script>\n\n<template>\n\t<div class=\"monthRangeBoxR\" ref=\"mPickerRef\">\n\t\t<DatePicker\n\t\t\t:open=\"openB\"\n\t\t\t:modelValue=\"valueB\"\n\t\t\ttransfer\n\t\t\ttype=\"month\"\n\t\t\t:placement=\"props.placement\"\n\t\t\t:options=\"props.options2\"\n\t\t\t@on-change=\"changeB\"\n\t\t\t@on-clickoutside=\"close\"\n\t\t>\n\t\t\t<div class=\"bRoot\"></div>\n\t\t</DatePicker>\n\t\t<DatePicker\n\t\t\t:open=\"openA\"\n\t\t\t:modelValue=\"valueA\"\n\t\t\ttransfer\n\t\t\ttype=\"month\"\n\t\t\t:placement=\"props.placement\"\n\t\t\t:options=\"props.options1\"\n\t\t\t@on-change=\"changeA\"\n\t\t\t@on-clickoutside=\"close\"\n\t\t>\n\t\t\t<!--suppress HtmlExtraClosingTag -->\n\t\t\t<div @click=\"focus\">\n\t\t\t\t<Input\n\t\t\t\t\tclass=\"aRoot\"\n\t\t\t\t\tv-model=\"valueT\"\n\t\t\t\t\treadonly\n\t\t\t\t\t:placeholder=\"props.placeholder || t('r.selectDate')\"\n\t\t\t\t\t:disabled=\"props.disabled\"\n\t\t\t\t>\n\t\t\t\t\t<template #suffix>\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t:type=\"mouseOver && (valueA || valueB) && !props.disabled ? 'ios-close-circle' : 'ios-calendar-outline'\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</template>\n\t\t\t\t</Input>\n\t\t\t</div>\n\t\t</DatePicker>\n\t</div>\n</template>\n","<!--EditorPro 富文本编辑器\n@created 2023.08.28\n@author Ricky email:zhangqingcq@foxmail.com-->\n\n<script lang=\"ts\" setup>\n\timport { Editor, Toolbar } from '@wangeditor/editor-for-vue'\n\timport t from '../../locale/i18nSFC'\n\timport $fetch from '../../methods/fetch'\n\timport $swal from '../../methods/swal'\n\n\tconst emit = defineEmits(['update:modelValue', 'on-change'])\n\tconst props = withDefaults(\n\t\tdefineProps<{\n\t\t\tmodelValue?: string\n\t\t\ttoolbarConfig?: Record<string, any>\n\t\t\teditorConfig?: Record<string, any>\n\t\t\tmode?: 'default' | 'simple'\n\t\t\theight?: string | number\n\t\t\timgUploadUrl?: string\n\t\t\tvideoUploadUrl?: string\n\t\t\tplaceholder?: string\n\t\t\tdisabled?: boolean\n\t\t}>(),\n\t\t{\n\t\t\tmodelValue: '<p></p>',\n\t\t\ttoolbarConfig: () => ({}),\n\t\t\teditorConfig: () => ({}),\n\t\t\tmode: 'default',\n\t\t\theight: 300,\n\t\t\tplaceholder: '',\n\t\t\tdisabled: false\n\t\t}\n\t)\n\n\tconst _editor = shallowRef()\n\tconst valueT = computed({\n\t\tget() {\n\t\t\treturn props.modelValue\n\t\t},\n\t\tset(v: any) {\n\t\t\temit('update:modelValue', v)\n\t\t\temit('on-change', v)\n\t\t}\n\t})\n\tconst toolbarConfigT = computed(() =>\n\t\tObject.assign(\n\t\t\t{\n\t\t\t\tplaceholder: props.placeholder || t('r.pInput'),\n\t\t\t\tinsertKeys: {\n\t\t\t\t\tindex: 31,\n\t\t\t\t\tkeys: ['previewX']\n\t\t\t\t}\n\t\t\t},\n\t\t\tprops.toolbarConfig\n\t\t)\n\t)\n\tconst editorConfigT = computed(() =>\n\t\tObject.assign(\n\t\t\t{\n\t\t\t\treadOnly: props.disabled,\n\t\t\t\tMENU_CONF: {\n\t\t\t\t\tuploadImage: {\n\t\t\t\t\t\tasync customUpload(file: any, insertFn: any) {\n\t\t\t\t\t\t\t// file 是 input 中选中的文件列表\n\t\t\t\t\t\t\t// insertFn 是获取图片 url 后，插入到编辑器的方法\n\t\t\t\t\t\t\t// 自己实现上传，并得到图片 url alt href\n\t\t\t\t\t\t\tlet temp = new FormData()\n\t\t\t\t\t\t\ttemp.append('files', file)\n\t\t\t\t\t\t\tconst n = file.name\n\t\t\t\t\t\t\tconst u = props.imgUploadUrl ?? '/node-serve/file'\n\t\t\t\t\t\t\t$fetch\n\t\t\t\t\t\t\t\t.post(u, temp, null, [], {\n\t\t\t\t\t\t\t\t\tspin: true,\n\t\t\t\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\t\t\t'Content-Type': 'multipart/form-data'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.then((r: any) => {\n\t\t\t\t\t\t\t\t\tif (r && r.data) {\n\t\t\t\t\t\t\t\t\t\tif (Array.isArray(r.data)) {\n\t\t\t\t\t\t\t\t\t\t\tfor (let e of r.data) {\n\t\t\t\t\t\t\t\t\t\t\t\tconst url = u + '/' + e.id + '/download'\n\t\t\t\t\t\t\t\t\t\t\t\t// 上传图片，返回结果，将图片插入到编辑器中\n\t\t\t\t\t\t\t\t\t\t\t\tinsertFn(url, n, url)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tconst url = u + '/' + r.data.id + '/download'\n\t\t\t\t\t\t\t\t\t\t\t// 上传图片，返回结果，将图片插入到编辑器中\n\t\t\t\t\t\t\t\t\t\t\tinsertFn(url, n, url)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.catch(() => {\n\t\t\t\t\t\t\t\t\t$swal(t('r.uploadFail'), '', 'error')\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tuploadVideo: {\n\t\t\t\t\t\tasync customUpload(file: any, insertFn: any) {\n\t\t\t\t\t\t\t// file 即选中的文件\n\t\t\t\t\t\t\t// insertFn 是获取视频 url 后，插入到编辑器的方法\n\t\t\t\t\t\t\t// 自己实现上传，并得到视频 url poster(封面地址,可选)\n\t\t\t\t\t\t\tlet temp = new FormData()\n\t\t\t\t\t\t\ttemp.append('files', file)\n\t\t\t\t\t\t\tconst u = props.videoUploadUrl ?? '/node-serve/file'\n\t\t\t\t\t\t\t$fetch\n\t\t\t\t\t\t\t\t.post(u, temp, null, [], {\n\t\t\t\t\t\t\t\t\tspin: true,\n\t\t\t\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\t\t\t'Content-Type': 'multipart/form-data'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.then((r: any) => {\n\t\t\t\t\t\t\t\t\tif (r && r.data) {\n\t\t\t\t\t\t\t\t\t\tif (Array.isArray(r.data)) {\n\t\t\t\t\t\t\t\t\t\t\tfor (let e of r.data) {\n\t\t\t\t\t\t\t\t\t\t\t\tconst url = u + '/' + e.id + '/download'\n\t\t\t\t\t\t\t\t\t\t\t\t// 最后插入视频\n\t\t\t\t\t\t\t\t\t\t\t\tinsertFn(url)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tconst url = u + '/' + r.data.id + '/download'\n\t\t\t\t\t\t\t\t\t\t\t// 最后插入视频\n\t\t\t\t\t\t\t\t\t\t\tinsertFn(url)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.catch(() => {\n\t\t\t\t\t\t\t\t\t$swal(t('r.uploadFail'), '', 'error')\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tprops.editorConfig\n\t\t)\n\t)\n\tconst editorTextareaStyle = computed(() => ({\n\t\theight: typeof props.height === 'number' ? props.height + 'px' : props.height\n\t}))\n\n\tfunction onCreated(d: any) {\n\t\t_editor.value = d\n\t}\n\n\twatch(\n\t\t() => props.disabled,\n\t\t(a: any) => {\n\t\t\tif (a) {\n\t\t\t\t_editor.value.disable()\n\t\t\t} else {\n\t\t\t\t_editor.value.enable()\n\t\t\t}\n\t\t}\n\t)\n\n\tonBeforeUnmount(() => {\n\t\tif (!_editor.value) {\n\t\t\treturn\n\t\t}\n\t\t_editor.value.destroy()\n\t})\n</script>\n\n<template>\n\t<div class=\"editor-pro-root\">\n\t\t<Toolbar\n\t\t\tclass=\"editor-pro-toolbar\"\n\t\t\t:editor=\"_editor\"\n\t\t\t:defaultConfig=\"toolbarConfigT\"\n\t\t\t:mode=\"mode\"\n\t\t\tv-show=\"!disabled\"\n\t\t/>\n\t\t<Editor\n\t\t\tclass=\"editor-pro-editor\"\n\t\t\tv-model=\"valueT\"\n\t\t\t:defaultConfig=\"editorConfigT\"\n\t\t\t:mode=\"mode\"\n\t\t\t@onCreated=\"onCreated\"\n\t\t\t:style=\"editorTextareaStyle\"\n\t\t/>\n\t</div>\n</template>\n","<!--ItemR 表单项组件\n@created 2023.08.21\n@author Ricky email:zhangqingcq@foxmail.com-->\n<script lang=\"ts\" setup>\n\timport t from '../../locale/i18nSFC'\n\timport SelectInput from '../SelectInput/SelectInput.vue'\n\timport AlCascaderMC from '../AlCascaderMC/AlCascaderMC.vue'\n\timport AsyncCascader from '../AsyncCascader/AsyncCascader.vue'\n\timport UploadGroup from '../UploadGroup/UploadGroup.vue'\n\timport EditorPro from '../EditorPro/EditorPro.vue'\n\timport InputMap from '../InputMap/InputMap.vue'\n\timport MonthRange from '../MonthRange/MonthRange.vue'\n\n\tconst emit = defineEmits([\n\t\t'item-change',\n\t\t're-validate',\n\t\t'select-input-change',\n\t\t'al-name-change',\n\t\t'async-label-change'\n\t])\n\tconst props = defineProps<{\n\t\titem: any\n\t\titemStyle: Record<string, any>\n\t\tvalGroup: Record<string, any>\n\t\ttempKeys: Record<string, any>\n\t\tinline: boolean\n\t\tdisabled: boolean\n\t\tlabelWidth: number\n\t\titemWidth: number\n\t\tmgrUrl: string\n\t\tuploadUrl: string\n\t}>()\n\n\tfunction itemClass(root: any) {\n\t\treturn {\n\t\t\twithInfo: Boolean(root.info),\n\t\t\twithTitle: Boolean(root.title),\n\t\t\tinlineFormItemXN: props.inline,\n\t\t\tnoLabel: root.type === 'selectInput',\n\t\t\t[root.class]: root.class,\n\t\t\tslotInput: root.slotPosition\n\t\t}\n\t}\n\n\tfunction itemChange(e: any, root: any) {\n\t\temit('item-change', {\n\t\t\te,\n\t\t\troot\n\t\t})\n\t}\n\n\tfunction reValidateAndChangeHandle(e: any, root: any) {\n\t\temit('re-validate', {\n\t\t\te,\n\t\t\troot\n\t\t})\n\t}\n\n\tfunction onSelectInputChange(d: any) {\n\t\temit('select-input-change', d)\n\t}\n\n\tfunction alNameChange(name: any, root: any) {\n\t\temit('al-name-change', {\n\t\t\tname,\n\t\t\troot\n\t\t})\n\t}\n\n\tfunction asyncLabelChange(label: any, root: any) {\n\t\temit('async-label-change', {\n\t\t\tlabel,\n\t\t\troot\n\t\t})\n\t}\n</script>\n\n<template>\n\t<!--suppress HtmlExtraClosingTag -->\n\t<FormItem\n\t\t:label=\"props.item.type !== 'radio' && props.item.type !== 'checkbox' ? props.item.label : ' '\"\n\t\t:prop=\"props.item.key || ''\"\n\t\tclass=\"relativeBox\"\n\t\t:class=\"itemClass(props.item)\"\n\t>\n\t\t<!--纯文本,也可以不传label和val,单纯用来布局占位-->\n\t\t<div\n\t\t\tv-if=\"props.item.type === 'txt'\"\n\t\t\t:style=\"props.itemStyle\"\n\t\t\tstyle=\"display: inline-block\"\n\t\t\t:class=\"{ likeInputX: props.item.likeInput, disabled: Boolean(props.item.disabled) || props.disabled }\"\n\t\t\t>{{ props.item.valKey ? props.valGroup[props.item.valKey] || '无' : props.item.val }}\n\t\t</div>\n\t\t<!--数字输入框-->\n\t\t<InputNumber\n\t\t\t:style=\"props.itemStyle\"\n\t\t\tv-else-if=\"props.item.type === 'inputNumber'\"\n\t\t\tv-model=\"props.tempKeys[props.item.tempKey]\"\n\t\t\t:max=\"props.item.max || props.item.max === 0 ? props.item.max : Infinity\"\n\t\t\t:min=\"props.item.min || props.item.min === 0 ? props.item.min : -Infinity\"\n\t\t\t:precision=\"props.item.precision\"\n\t\t\t:step=\"props.item.step || 1\"\n\t\t\t:placeholder=\"props.item.placeholder || t('r.pInput')\"\n\t\t\t:disabled=\"Boolean(props.item.disabled) || props.disabled\"\n\t\t\t:readonly=\"Boolean(props.item.readonly)\"\n\t\t\t:editable=\"props.item.editable !== false\"\n\t\t\t@on-blur=\"itemChange($event, props.item)\"\n\t\t\t:active-change=\"Boolean(props.item.activeChange)\"\n\t\t\t:clearable=\"props.item.clearable !== false\"\n\t\t/>\n\t\t<!--输入框-->\n\t\t<Input\n\t\t\t:style=\"itemStyle\"\n\t\t\tv-else-if=\"props.item.type === 'input'\"\n\t\t\tv-model=\"props.tempKeys[props.item.tempKey]\"\n\t\t\t:maxlength=\"props.item.maxLength || null\"\n\t\t\t:password=\"Boolean(props.item.password)\"\n\t\t\t:icon=\"props.item.icon\"\n\t\t\t:prefix=\"props.item.prefix\"\n\t\t\t:suffix=\"props.item.suffix\"\n\t\t\t:placeholder=\"props.item.placeholder || t('r.pInput')\"\n\t\t\t:disabled=\"Boolean(props.item.disabled) || props.disabled\"\n\t\t\t@on-blur=\"itemChange($event, props.item)\"\n\t\t\t:clearable=\"props.item.clearable !== false\"\n\t\t>\n\t\t\t<template v-if=\"props.item.slotPosition && props.item.slotName\" #[props.item.slotPosition]>\n\t\t\t\t<slot :name=\"props.item.slotName\" />\n\t\t\t</template>\n\t\t\t<template v-if=\"props.item.slotPosition !== 'prepend' && props.item.prepend\" #prepend>\n\t\t\t\t<span>{{ props.item.prepend }}</span>\n\t\t\t</template>\n\t\t\t<template v-if=\"props.item.slotPosition !== 'append' && props.item.append\" #append>\n\t\t\t\t<span>{{ props.item.append }}</span>\n\t\t\t</template>\n\t\t</Input>\n\t\t<!--下拉框-->\n\t\t<Select\n\t\t\tv-else-if=\"props.item.type === 'select'\"\n\t\t\tv-model=\"tempKeys[props.item.tempKey]\"\n\t\t\t:style=\"itemStyle\"\n\t\t\t:filterable=\"props.item.filterable === true || props.item.filterable === false ? props.item.filterable : false\"\n\t\t\t:disabled=\"Boolean(props.item.disabled) || props.disabled\"\n\t\t\t:multiple=\"Boolean(props.item.multiple)\"\n\t\t\t:placeholder=\"props.item.placeholder || t('r.pSelect')\"\n\t\t\t@on-change=\"itemChange($event, props.item)\"\n\t\t\ttransfer\n\t\t\t:clearable=\"props.item.clearable !== false\"\n\t\t>\n\t\t\t<Option\n\t\t\t\tv-for=\"(optionItem, i) in props.item.options\"\n\t\t\t\t:value=\"optionItem.val\"\n\t\t\t\t:label=\"optionItem.label || optionItem.val\"\n\t\t\t\t:key=\"'option-' + props.item.key + i\"\n\t\t\t\t:disabled=\"!!optionItem.disabled\"\n\t\t\t/>\n\t\t</Select>\n\t\t<!--选择输入框（可以选择输入的key，比如选择是想收集体重还是身高）-->\n\t\t<select-input\n\t\t\tv-else-if=\"props.item.type === 'selectInput'\"\n\t\t\tv-model=\"tempKeys[props.item.tempKey]\"\n\t\t\t:label-width=\"labelWidth\"\n\t\t\t:item-width=\"itemWidth\"\n\t\t\t:select-option=\"props.item.options || []\"\n\t\t\t:placeholder=\"props.item.placeholder || t('r.pInput')\"\n\t\t\t:clearable=\"props.item.clearable !== false\"\n\t\t\t:disabled=\"Boolean(props.item.disabled) || props.disabled\"\n\t\t\t@on-change=\"onSelectInputChange\"\n\t\t/>\n\t\t<!--行政区域级联-->\n\t\t<al-cascader-m-c\n\t\t\t:style=\"itemStyle\"\n\t\t\tclass=\"inlineBlock\"\n\t\t\tv-else-if=\"props.item.type === 'alCascader'\"\n\t\t\tv-model=\"props.valGroup[props.item.key]\"\n\t\t\t:level=\"props.item.level || props.item.level === 0 ? props.item.level : 2\"\n\t\t\t:disabled=\"Boolean(props.item.disabled) || props.disabled\"\n\t\t\t:filterable=\"props.item.filterable !== false\"\n\t\t\t:placeholder=\"props.item.placeholder || t('r.pSelect')\"\n\t\t\t:change-on-select=\"Boolean(props.item.changeOnSelect)\"\n\t\t\t@on-name-change=\"alNameChange($event, props.item)\"\n\t\t/>\n\t\t<!--远程数据级联-->\n\t\t<async-cascader\n\t\t\t:style=\"itemStyle\"\n\t\t\tv-else-if=\"props.item.type === 'asyncCascader'\"\n\t\t\tv-model=\"props.valGroup[props.item.key]\"\n\t\t\t:url=\"props.item.url || mgrUrl + '/web/v1/umc/orgs'\"\n\t\t\t:option-val=\"props.item.optionVal || 'id'\"\n\t\t\t:option-label=\"props.item.optionLabel || 'name'\"\n\t\t\t:option-filter=\"props.item.optionFilter || null\"\n\t\t\t:only-last-val=\"props.item.onlyLastVal !== false\"\n\t\t\t:only-last-label=\"props.item.onlyLastLabel !== false\"\n\t\t\t:separator=\"props.item.separator || '/'\"\n\t\t\t:placeholder=\"props.item.placeholder || t('r.pSelect')\"\n\t\t\t:filterable=\"Boolean(props.item.filterable)\"\n\t\t\t:disabled=\"Boolean(props.item.disabled) || props.disabled\"\n\t\t\t@on-label-change=\"asyncLabelChange($event, props.item)\"\n\t\t/>\n\t\t<!--单选（不可取消选择）-->\n\t\t<Radio\n\t\t\tv-else-if=\"props.item.type === 'radio'\"\n\t\t\tv-model=\"props.valGroup[props.item.key]\"\n\t\t\t:disabled=\"Boolean(props.item.disabled) || props.disabled\"\n\t\t\t@on-change=\"itemChange($event, props.item)\"\n\t\t\t>{{ props.item.label }}</Radio\n\t\t>\n\t\t<!--单选组-->\n\t\t<RadioGroup\n\t\t\t:style=\"itemStyle\"\n\t\t\tv-else-if=\"props.item.type === 'radioGroup'\"\n\t\t\t@on-change=\"reValidateAndChangeHandle($event, props.item)\"\n\t\t\t:type=\"props.item.buttonType ? 'button' : null\"\n\t\t\tv-model=\"tempKeys[props.item.tempKey]\"\n\t\t>\n\t\t\t<Radio\n\t\t\t\tv-for=\"radioItem of props.item.options\"\n\t\t\t\t:key=\"'radioItem' + radioItem.val\"\n\t\t\t\t:label=\"radioItem.val\"\n\t\t\t\t:border=\"Boolean(props.item.itemBorder)\"\n\t\t\t\t:disabled=\"Boolean(props.item.disabled) || props.disabled || radioItem.disabled\"\n\t\t\t>\n\t\t\t\t<Icon v-if=\"radioItem.icon && !props.item.buttonType\" :type=\"radioItem.icon\" />\n\t\t\t\t<span>{{ radioItem.label || radioItem.val }}</span>\n\t\t\t</Radio>\n\t\t</RadioGroup>\n\t\t<!--单选（可取消选择）-->\n\t\t<Checkbox\n\t\t\tv-else-if=\"props.item.type === 'checkbox'\"\n\t\t\tv-model=\"props.valGroup[props.item.key]\"\n\t\t\t:disabled=\"!!props.item.disabled\"\n\t\t\t@on-change=\"itemChange($event, props.item)\"\n\t\t\t>{{ props.item.label }}</Checkbox\n\t\t>\n\t\t<!--多选组-->\n\t\t<CheckboxGroup\n\t\t\t:style=\"itemStyle\"\n\t\t\tv-else-if=\"props.item.type === 'checkboxGroup'\"\n\t\t\tv-model=\"tempKeys[props.item.tempKey]\"\n\t\t\t@on-change=\"reValidateAndChangeHandle($event, props.item)\"\n\t\t>\n\t\t\t<Checkbox\n\t\t\t\tv-for=\"checkItem of props.item.options\"\n\t\t\t\t:key=\"'checkItem' + checkItem.val\"\n\t\t\t\t:label=\"checkItem.val\"\n\t\t\t\t:disabled=\"Boolean(props.item.disabled) || props.disabled || checkItem.disabled\"\n\t\t\t>\n\t\t\t\t<Icon v-if=\"checkItem.icon\" :type=\"checkItem.icon\" />\n\t\t\t\t<span>{{ checkItem.label || checkItem.val }}</span>\n\t\t\t</Checkbox>\n\t\t</CheckboxGroup>\n\t\t<!--文本框-->\n\t\t<!--suppress HtmlWrongAttributeValue -->\n\t\t<Input\n\t\t\tv-else-if=\"props.item.type === 'textarea'\"\n\t\t\ttype=\"textarea\"\n\t\t\tv-model=\"tempKeys[props.item.tempKey]\"\n\t\t\t:autosize=\"props.item.autosize || { minRows: 2 }\"\n\t\t\t:style=\"itemStyle\"\n\t\t\t:maxlength=\"props.item.maxLength || null\"\n\t\t\t:show-word-limit=\"Boolean(props.item.showWordLimit)\"\n\t\t\t:placeholder=\"props.item.placeholder || t('r.pInput')\"\n\t\t\t:disabled=\"Boolean(props.item.disabled) || props.disabled\"\n\t\t\t@on-blur=\"itemChange($event, props.item)\"\n\t\t\t:clearable=\"props.item.clearable !== false\"\n\t\t/>\n\t\t<!--上传组件-->\n\t\t<upload-group\n\t\t\t:style=\"itemStyle\"\n\t\t\tclass=\"inlineBlock\"\n\t\t\tv-else-if=\"props.item.type === 'upload'\"\n\t\t\tv-model=\"props.valGroup[props.item.key]\"\n\t\t\t:url=\"props.item.url || uploadUrl\"\n\t\t\t:manual-upload=\"Boolean(props.item.manualUpload)\"\n\t\t\t:format=\"props.item.format || []\"\n\t\t\t:data=\"props.item.data\"\n\t\t\t:max-size=\"props.item.maxSize || 0\"\n\t\t\t:show-img=\"Boolean(props.item.showImg)\"\n\t\t\t:length=\"props.item.length || 0\"\n\t\t\t:disabled=\"Boolean(props.item.disabled) || props.disabled\"\n\t\t\t:with-credentials=\"props.item.withCredentials !== false\"\n\t\t\t@on-file-id-change=\"reValidateAndChangeHandle($event, props.item)\"\n\t\t/>\n\t\t<!--日期选择器-->\n\t\t<DatePicker\n\t\t\t:style=\"itemStyle\"\n\t\t\tv-else-if=\"props.item.type === 'date'\"\n\t\t\tv-model=\"tempKeys[props.item.tempKey]\"\n\t\t\t:type=\"props.item.dateType\"\n\t\t\t:disabled=\"Boolean(props.item.disabled) || props.disabled\"\n\t\t\tplacement=\"bottom-end\"\n\t\t\t:placeholder=\"props.item.placeholder || t('r.selectDate')\"\n\t\t\t:options=\"props.item.dateOptions || null\"\n\t\t\t:clearable=\"props.item.clearable !== false\"\n\t\t\t:editable=\"false\"\n\t\t\ttransfer\n\t\t\t@on-change=\"itemChange($event, props.item)\"\n\t\t/>\n\t\t<!--时间选择器-->\n\t\t<TimePicker\n\t\t\t:style=\"itemStyle\"\n\t\t\tv-else-if=\"props.item.type === 'time'\"\n\t\t\tv-model=\"tempKeys[props.item.tempKey]\"\n\t\t\t:type=\"props.item.dateType\"\n\t\t\t:disabled=\"Boolean(props.item.disabled) || props.disabled\"\n\t\t\tplacement=\"bottom-end\"\n\t\t\t:placeholder=\"props.item.placeholder || t('r.selectTime')\"\n\t\t\t:steps=\"props.item.steps || []\"\n\t\t\t:clearable=\"props.item.clearable !== false\"\n\t\t\t:editable=\"false\"\n\t\t\t:format=\"props.item.format || 'HH:mm:ss'\"\n\t\t\ttransfer\n\t\t\t@on-change=\"itemChange($event, props.item)\"\n\t\t/>\n\t\t<!--月份区间选择-->\n\t\t<month-range\n\t\t\t:style=\"itemStyle\"\n\t\t\tv-else-if=\"props.item.type === 'monthRange'\"\n\t\t\tv-model=\"tempKeys[props.item.tempKey]\"\n\t\t\t:disabled=\"Boolean(props.item.disabled) || props.disabled\"\n\t\t\tplacement=\"bottom-end\"\n\t\t\t:placeholder=\"props.item.placeholder || t('r.selectDate')\"\n\t\t\t:options1=\"props.item.dateOptions1 || null\"\n\t\t\t:options2=\"props.item.dateOptions2 || null\"\n\t\t\t@on-change=\"itemChange($event, props.item)\"\n\t\t/>\n\t\t<!--富文本编辑器Pro-->\n\t\t<editor-pro\n\t\t\tclass=\"inlineBlock\"\n\t\t\t:style=\"itemStyle\"\n\t\t\tv-else-if=\"props.item.type === 'editorPro'\"\n\t\t\tv-model=\"props.valGroup[props.item.key]\"\n\t\t\t:placeholder=\"props.item.placeholder || t('r.pInput')\"\n\t\t\t:disabled=\"Boolean(props.item.disabled) || props.disabled\"\n\t\t\t:toolbar-config=\"props.item.toolbarConfig || {}\"\n\t\t\t:editor-config=\"props.item.editorConfig || {}\"\n\t\t\t:mode=\"props.item.mode || 'simple'\"\n\t\t\t:height=\"props.item.height || 300\"\n\t\t\t@input=\"itemChange($event, props.item)\"\n\t\t/>\n\t\t<input-map\n\t\t\tv-else-if=\"props.item.type === 'inputMap'\"\n\t\t\tv-model=\"tempKeys[props.item.tempKey]\"\n\t\t\t:style=\"itemStyle\"\n\t\t\t:placeholder=\"props.item.placeholder || t('r.search')\"\n\t\t\t:disabled=\"Boolean(props.item.disabled) || props.disabled\"\n\t\t\t:show-map=\"props.item.showMap !== false\"\n\t\t\t:height=\"props.item.mapHeight || '250px'\"\n\t\t\t@on-change=\"itemChange($event, props.item)\"\n\t\t/>\n\t\t<div v-else-if=\"props.item.type === 'custom'\" class=\"inlineBlock\" :style=\"itemStyle\">\n\t\t\t<slot :name=\"props.item.slotName\" :val-group=\"props.valGroup\" />\n\t\t</div>\n\t\t<!--表单项提示文字-->\n\t\t<div v-if=\"Boolean(props.item.info)\" class=\"formInfoTxtXN\">{{ props.item.info }}</div>\n\t\t<!--表单项标题-->\n\t\t<div v-if=\"Boolean(props.item.title)\" class=\"formTitleTxtXN\">{{ props.item.title }}</div>\n\t</FormItem>\n</template>\n","<!--FormR 表单组件，支持formData属性定义结构，formRules定义规则，submit方法提交收集到的数据\n@created 2023.08.18\n@author Ricky email:zhangqingcq@foxmail.com-->\n\n<script lang=\"ts\" setup>\n\timport { cloneDeep, remove, isEmpty, findIndex } from 'lodash-es'\n\timport moment from 'moment'\n\timport t from '../../locale/i18nSFC'\n\timport { myTypeof, isValidValue, trimObj, findCollection } from '../../methods/globalFunc'\n\timport $fetch from '../../methods/fetch'\n\timport { setTimeout } from '../../methods/timer'\n\timport type { FormItem } from '../../public'\n\timport ItemR from './ItemR.vue'\n\n\tconst emit = defineEmits(['on-item-change', 'on-reset', 'on-re-render', 'on-submit'])\n\tconst props = withDefaults(\n\t\tdefineProps<{\n\t\t\tformData?: Array<FormItem | FormItem[]> /*表单结构数据*/\n\t\t\tformRules?: Record<string, any> /*表单结构规则*/\n\t\t\tshowMessage?: boolean /*显示校验信息*/\n\t\t\tlabelWidth?: number /*表单项标签宽度*/\n\t\t\tcontentWidth?: string /*表单项内容宽度，默认70%*/\n\t\t\titemWidth?: number /*表单项内容宽度,用于行内表单*/\n\t\t\tinline?: boolean /*行内表单*/\n\t\t\tshowLongOkBt?: boolean /*是否展示长确定按钮*/\n\t\t\tlongOkBtTxt?: string /*长确定按钮内容*/\n\t\t\tshowInlineOkBt?: boolean /*是否展示行内短确定按钮*/\n\t\t\tinlineOkBtTxt?: string /*短确定按钮内容*/\n\t\t\tshowInlineClearBt?: boolean /*是否展示行内短清空按钮*/\n\t\t\tinlineClearBtTxt?: string /*短清空按钮内容*/\n\t\t\tdisabled?: boolean /*全表禁用，仅展示*/\n\t\t\tbtnLoading?: boolean /*提交按钮显示loading*/\n\t\t\ttrim?: boolean /*是否去除提交数据中的字符串首尾空格*/\n\t\t\tteamClass?: string /*分组表单-组容器class*/\n\t\t}>(),\n\t\t{\n\t\t\tformData: () => [],\n\t\t\tformRules: () => ({}),\n\t\t\tshowMessage: true,\n\t\t\tlabelWidth: 160,\n\t\t\tcontentWidth: '70%',\n\t\t\titemWidth: 200,\n\t\t\tinline: false,\n\t\t\tshowLongOkBt: false,\n\t\t\tshowInlineOkBt: false,\n\t\t\tshowInlineClearBt: false,\n\t\t\tdisabled: false,\n\t\t\tbtnLoading: false,\n\t\t\ttrim: true,\n\t\t\tteamClass: 'formTeamBox'\n\t\t}\n\t)\n\tconst formGroupXRef = ref<any>(null)\n\n\tconst valGroup = ref<Record<string, any>>({}) /*表单项值，对外公开，提交时传递到外层*/\n\tconst formDataT = ref<any>([]) /*表单结构数据*/\n\tconst tempKeys = ref<Record<string, any>>({}) /*不对外暴露表单项值*/\n\tlet watchGroup: any[] = []\n\tconst mgrUrl = window?.g?.mgrURL ?? ''\n\t/*selectInput的key没有写死在formData中（因为是动态的）,为了在showingKeys中能捕捉到这类组件的key,特声明此变量*/\n\tlet selectInputKeys: string[] = []\n\tlet hiddenKeys: string[] = []\n\tconst showLoading = ref(false)\n\tconst formReRenderKey = ref<number>(Math.random() * 100000000 + 1000) /*刷新表单*/\n\t/*上传组件的文件上传地址，远程上传（直接上传到服务器）时，如果没设置，则用该地址*/\n\tconst uploadUrl = window?.g?.mgrURL ? window.g.mgrURL + '/web/v1/fsc/file' : '/file'\n\tlet debounceCount = false\n\n\tconst formTeam = computed<boolean>(() => Array.isArray(props.formData.length ? props.formData[0] : false))\n\tconst formStyle = computed<Record<string, any>>(() =>\n\t\tprops.inline\n\t\t\t? {\n\t\t\t\t\twidth: props.itemWidth + props.labelWidth + 'px'\n\t\t\t  }\n\t\t\t: {}\n\t)\n\tconst itemStyle = computed<Record<string, any>>(() =>\n\t\tprops.inline\n\t\t\t? {\n\t\t\t\t\twidth: '100%'\n\t\t\t  }\n\t\t\t: { width: props.contentWidth }\n\t)\n\t/*计算表单规则*/\n\tconst formRulesT = computed<Record<string, any>>(() => {\n\t\tlet tr = cloneDeep(props.formRules)\n\t\tfor (let k in tr) {\n\t\t\tif (tr.hasOwnProperty(k)) {\n\t\t\t\tif (Array.isArray(tr[k])) {\n\t\t\t\t\tfor (let e of tr[k]) {\n\t\t\t\t\t\tif (!(e.message || e.validator)) {\n\t\t\t\t\t\t\te.message = t('r.required')\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (myTypeof(tr[k]) === 'Object') {\n\t\t\t\t\tif (!(tr[k].message || tr[k].validator)) {\n\t\t\t\t\t\ttr[k].message = t('r.required')\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn tr\n\t})\n\t/*展示的key(需要提交的)*/\n\tconst submitKeys = computed<string[]>(() => {\n\t\tlet t: string[] = []\n\t\tif (formTeam.value) {\n\t\t\tfor (let e of formDataT.value) {\n\t\t\t\tsubmitItems(e as FormItem[], t)\n\t\t\t}\n\t\t} else {\n\t\t\tsubmitItems(formDataT.value as FormItem[], t)\n\t\t}\n\t\treturn t.concat(selectInputKeys, hiddenKeys)\n\t})\n\tconst showingKeys = computed<string[]>(() => {\n\t\tlet t: any[] = []\n\t\tif (formTeam.value) {\n\t\t\tfor (let e of formDataT.value) {\n\t\t\t\tshowingItems(e as FormItem[], t)\n\t\t\t}\n\t\t} else {\n\t\t\tshowingItems(formDataT.value as FormItem[], t)\n\t\t}\n\t\treturn t\n\t})\n\n\tfunction getSlotFormData(d: any[]) {\n\t\t/*私有，获取插槽数据*/\n\t\treturn d.filter((e: Record<string, any>) => e.slotName)\n\t}\n\n\t/**\n\t * 计算需要提交的key\n\t * @param d 表单结构数据\n\t * @param t 储存需要提交的key的对象\n\t */\n\tfunction submitItems(d: FormItem[], t: string[]) {\n\t\tfor (let root of d) {\n\t\t\tif (root.showing === true && root.key && root.type !== 'selectInput') {\n\t\t\t\tt.push(root.key)\n\t\t\t\tif (root.key2) {\n\t\t\t\t\tt.push(root.key2)\n\t\t\t\t}\n\t\t\t\tif (root.collectLabel) {\n\t\t\t\t\tif (!Array.isArray(root.collectLabel) && root.collectLabel.key) {\n\t\t\t\t\t\tt.push(root.collectLabel.key)\n\t\t\t\t\t} else if (Array.isArray(root.collectLabel)) {\n\t\t\t\t\t\tfor (let l of root.collectLabel) {\n\t\t\t\t\t\t\tif (l.key) {\n\t\t\t\t\t\t\t\tt.push(l.key)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * 计算需要展示的key\n\t * @param d 表单结构数据\n\t * @param t 储存需要展示的key的对象\n\t */\n\tfunction showingItems(d: FormItem[], t: string[]) {\n\t\tfor (let root of d) {\n\t\t\tif (root.showing === true && root.key && root.type !== 'selectInput') {\n\t\t\t\tt.push(root.key)\n\t\t\t}\n\t\t}\n\t}\n\n\t/*重置表单，会清空表单值并刷新表单dom，异步方法（公开）*/\n\tfunction resetForm() {\n\t\treturn new Promise((r) => {\n\t\t\tclearForm()\n\t\t\trefreshFormDom().then(() => {\n\t\t\t\temit('on-reset')\n\t\t\t\tr(true)\n\t\t\t})\n\t\t})\n\t}\n\n\t/*重新渲染表单，异步方法（公开）*/\n\tfunction reRenderForm() {\n\t\treturn new Promise((r) => {\n\t\t\tfor (let f of watchGroup) {\n\t\t\t\tf()\n\t\t\t}\n\t\t\twatchGroup = []\n\t\t\ttempKeys.value = {}\n\t\t\tinitValGroup()\n\t\t\tinitFormDataT()\n\n\t\t\trefreshFormDom().then(() => {\n\t\t\t\temit('on-re-render')\n\t\t\t\tr(true)\n\t\t\t})\n\t\t})\n\t}\n\n\t/*刷新表单dom，异步方法（公开）*/\n\tfunction refreshFormDom() {\n\t\treturn new Promise((r) => {\n\t\t\tformReRenderKey.value = Math.floor(Math.random() * 100000000 + 1000)\n\t\t\t/*刷新表单*/\n\t\t\tnextTick(function () {\n\t\t\t\tr(true)\n\t\t\t})\n\t\t})\n\t}\n\n\t/*清空表单值（私有，不推荐直接调用，可以调用resetForm）*/\n\tfunction clearForm() {\n\t\tlet defaultV = getDefaultValues()\n\n\t\tfor (let k in valGroup.value) {\n\t\t\tif (valGroup.value.hasOwnProperty(k)) {\n\t\t\t\tif (isValidValue(defaultV[k])) {\n\t\t\t\t\tvalGroup.value[k] = defaultV[k]\n\t\t\t\t} else {\n\t\t\t\t\tif (Array.isArray(valGroup.value[k])) {\n\t\t\t\t\t\tvalGroup.value[k] = []\n\t\t\t\t\t} else if (myTypeof(valGroup.value[k]) === 'Boolean') {\n\t\t\t\t\t\tvalGroup.value[k] = false\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst formItem = findCollection(props.formData, (e) => e.key === k)\n\t\t\t\t\t\tif (formItem && (formItem.type === 'editor' || formItem.type === 'editorPro')) {\n\t\t\t\t\t\t\tvalGroup.value[k] = ''\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvalGroup.value[k] = null\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tclearTempKeys(defaultV)\n\t}\n\n\t/*清空缓存表单值（私有，不推荐直接调用，可以调用resetForm）*/\n\tfunction clearTempKeys(defaultV: Record<string, any>) {\n\t\tfor (let k in tempKeys.value) {\n\t\t\tif (tempKeys.value.hasOwnProperty(k)) {\n\t\t\t\tif (isValidValue(defaultV[k])) {\n\t\t\t\t\ttempKeys.value[k] = defaultV[k]\n\t\t\t\t} else {\n\t\t\t\t\tif (Array.isArray(tempKeys.value[k])) {\n\t\t\t\t\t\ttempKeys.value[k] = []\n\t\t\t\t\t} else if (\n\t\t\t\t\t\tmyTypeof(tempKeys.value[k]) === 'Object' &&\n\t\t\t\t\t\ttempKeys.value[k].hasOwnProperty('key') &&\n\t\t\t\t\t\ttempKeys.value[k].hasOwnProperty('val')\n\t\t\t\t\t) {\n\t\t\t\t\t\t/*selectInput*/\n\t\t\t\t\t\ttempKeys.value[k].val = null\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttempKeys.value[k] = null\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/*清空缓存表单项值（私有）*/\n\tfunction clearTempKeyItem(k: string) {\n\t\tlet defaultV = getDefaultValues()\n\t\tif (isValidValue(defaultV[k])) {\n\t\t\ttempKeys.value[k] = defaultV[k]\n\t\t} else {\n\t\t\tif (Array.isArray(tempKeys.value[k])) {\n\t\t\t\ttempKeys.value[k] = []\n\t\t\t} else {\n\t\t\t\ttempKeys.value[k] = null\n\t\t\t}\n\t\t}\n\t}\n\n\t/*获取默认值（私有）*/\n\tfunction getDefaultValues(): Record<string, any> {\n\t\tlet t: Record<string, any> = {}\n\t\tif (formTeam.value) {\n\t\t\tfor (let e of formDataT.value) {\n\t\t\t\tdefaultValItems(e as FormItem[], t)\n\t\t\t}\n\t\t} else {\n\t\t\tdefaultValItems(formDataT.value as FormItem[], t)\n\t\t}\n\t\treturn t\n\t}\n\n\t/**\n\t * 从表单结构数据获取默认值(私有)\n\t * @param d 表单结构数据\n\t * @param a 储存默认值的对象\n\t */\n\tfunction defaultValItems(d: FormItem[], a: Record<string, any>) {\n\t\tfor (let root of d) {\n\t\t\tif (root.tempKey && isValidValue(root.defaultVal)) {\n\t\t\t\t/*将默认值转换为表单项绑定值对应的格式*/\n\t\t\t\tgetTempKeyDefaultVal(root, a)\n\t\t\t}\n\t\t\tif (root.key && isValidValue(root.defaultVal)) {\n\t\t\t\ta[root.key] = root.defaultVal\n\t\t\t}\n\t\t\tif (root.key2 && isValidValue(root.defaultVal2)) {\n\t\t\t\ta[root.key2] = root.defaultVal2\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * 判断是否展示表单项（私有，高频被调用方法，每次表单中有任何值更改，都会被调用formDataT的长度<formDataT.length>次，而且还可能触发连锁反应）\n\t * @param root 表单项结构数据\n\t */\n\tfunction getFormItemIfVal(root: FormItem) {\n\t\tif (root.show) {\n\t\t\tif (myTypeof(root.show) === 'Object') {\n\t\t\t\treturn returnIfVal(root, dealIfItem(root.show))\n\t\t\t} else if (Array.isArray(root.show)) {\n\t\t\t\tif (root.showOr) {\n\t\t\t\t\tfor (let x of root.show) {\n\t\t\t\t\t\tif (dealIfItem(x) === true) {\n\t\t\t\t\t\t\treturn returnIfVal(root, true)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn returnIfVal(root, false)\n\t\t\t\t} else {\n\t\t\t\t\tfor (let x of root.show) {\n\t\t\t\t\t\tif (dealIfItem(x) === false) {\n\t\t\t\t\t\t\treturn returnIfVal(root, false)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn returnIfVal(root, true)\n\t\t\t\t}\n\t\t\t} else if (myTypeof(root.show) === 'Function') {\n\t\t\t\treturn returnIfVal(root, root.show(valGroup.value))\n\t\t\t}\n\t\t} else if (!root.showing) {\n\t\t\troot.showing = true\n\t\t}\n\t\treturn true\n\t}\n\n\t/**\n\t * 判断表单项是否展示（私有）\n\t * @param show 表单项的展示配置数据\n\t */\n\tfunction dealIfItem(show: Record<string, any>) {\n\t\tif (show.reg && typeof show.reg.test === 'function') {\n\t\t\treturn show.reg.test(valGroup.value[show.key])\n\t\t} else if (Array.isArray(show.val)) {\n\t\t\tfor (let v of show.val) {\n\t\t\t\tif (\n\t\t\t\t\t(valGroup.value[show.key] || valGroup.value[show.key] === 0 || valGroup.value[show.key] === false) &&\n\t\t\t\t\tv === '.'\n\t\t\t\t) {\n\t\t\t\t\t/*只要控制项有值及展示*/\n\t\t\t\t\treturn true\n\t\t\t\t} else if (valGroup.value[show.key] === v) {\n\t\t\t\t\treturn true\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false\n\t\t} else {\n\t\t\treturn false\n\t\t}\n\t}\n\n\t/**\n\t * 将是否展示的结果写入表单结构对象，同时处理默认值相关逻辑（私有）\n\t * @param root 表单项结构数据\n\t * @param {boolean}val 是否展示的结果\n\t */\n\tfunction returnIfVal(root: FormItem, val: boolean) {\n\t\tif (!root.showing && val && root.key) {\n\t\t\troot.showing = val\n\n\t\t\tif (root.defaultVal !== undefined) {\n\t\t\t\t/*对之前没展示且没值的表单项赋默认值*/\n\t\t\t\tif (root.tempKey) {\n\t\t\t\t\tif (\n\t\t\t\t\t\ttempKeys.value[root.tempKey] === null ||\n\t\t\t\t\t\ttempKeys.value[root.tempKey] === undefined ||\n\t\t\t\t\t\t((myTypeof(tempKeys.value[root.tempKey]) === 'Object' || Array.isArray(tempKeys.value[root.tempKey])) &&\n\t\t\t\t\t\t\tisEmpty(tempKeys.value[root.tempKey]))\n\t\t\t\t\t) {\n\t\t\t\t\t\tgetTempKeyDefaultVal(root, tempKeys.value)\n\t\t\t\t\t}\n\t\t\t\t} else if (valGroup.value[root.key] === null || valGroup.value[root.key] === undefined) {\n\t\t\t\t\tvalGroup.value[root.key] = root.defaultVal\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\troot.key2 &&\n\t\t\t\t\troot.deafultVal2 !== undefined &&\n\t\t\t\t\t(valGroup.value[root.key2] === null || valGroup.value[root.key2] === undefined) &&\n\t\t\t\t\troot.type !== 'inputMap'\n\t\t\t\t) {\n\t\t\t\t\tvalGroup.value[root.key2] = root.defaultVal2\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (root.tempKey) {\n\t\t\t\t/*在隐藏表单项展示时把它的值赋给统计对象*/\n\t\t\t\ttempKeysWatchHandle(tempKeys.value[root.tempKey], root)\n\t\t\t}\n\t\t} else {\n\t\t\troot.showing = val\n\t\t}\n\t\treturn val\n\t}\n\n\t/**\n\t * 将使用tempKey的表单项的默认值赋转换成对应格式并储存(私有)\n\t * @param root 表单项结构数据\n\t * @param a 储存默认值的容器\n\t */\n\tfunction getTempKeyDefaultVal(root: FormItem, a: Record<string, any>) {\n\t\tswitch (root.type) {\n\t\t\tcase 'selectInput':\n\t\t\t\ta[root.tempKey] = {\n\t\t\t\t\tkey: root.key,\n\t\t\t\t\tval: root.defaultVal\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t\tcase 'inputMap':\n\t\t\t\tif (root.key3) {\n\t\t\t\t\ta[root.tempKey] = {\n\t\t\t\t\t\tlng: root.defaultVal || 0,\n\t\t\t\t\t\tlat: root.defaultVal2 || 0,\n\t\t\t\t\t\tname: root.defaultVal3 || ''\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\ta[root.tempKey] = {\n\t\t\t\t\t\tlng: root.defaultVal || 0,\n\t\t\t\t\t\tlat: root.defaultVal2 || 0\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t\tcase 'input':\n\t\t\tcase 'inputNumber':\n\t\t\tcase 'textarea':\n\t\t\t\ta[root.tempKey] = root.defaultVal\n\t\t\t\tbreak\n\t\t\tcase 'radioGroup':\n\t\t\tcase 'select':\n\t\t\tcase 'checkboxGroup':\n\t\t\t\tif (root.booleanVal) {\n\t\t\t\t\ta[root.tempKey] = Boolean(root.defaultVal) ? 1 : 0\n\t\t\t\t} else {\n\t\t\t\t\ta[root.tempKey] = root.defaultVal\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t\tcase 'date':\n\t\t\tcase 'time':\n\t\t\tcase 'monthRange':\n\t\t\t\tif (\n\t\t\t\t\troot.dateType === 'date' ||\n\t\t\t\t\troot.dateType === 'datetime' ||\n\t\t\t\t\troot.dateType === 'time' ||\n\t\t\t\t\troot.dateType === 'year' ||\n\t\t\t\t\troot.dateType === 'month'\n\t\t\t\t) {\n\t\t\t\t\ta[root.tempKey] = root.defaultVal\n\t\t\t\t} else if (\n\t\t\t\t\troot.dateType === 'daterange' ||\n\t\t\t\t\troot.dateType === 'datetimerange' ||\n\t\t\t\t\troot.dateType === 'timerange' ||\n\t\t\t\t\troot.type === 'monthRange'\n\t\t\t\t) {\n\t\t\t\t\ta[root.tempKey] = (root.defaultVal && root.defaultVal2 && [root.defaultVal, root.defaultVal2]) || []\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t}\n\t}\n\n\t/*初始化表单结构（私有）*/\n\tfunction initFormDataT() {\n\t\tlet t = cloneDeep(props.formData)\n\t\tif (formTeam.value) {\n\t\t\tfor (let box of t) {\n\t\t\t\tinitItems(box as FormItem[])\n\t\t\t}\n\t\t} else {\n\t\t\tinitItems(t as FormItem[])\n\t\t}\n\t\tformDataT.value = t\n\t}\n\n\tfunction initItems(d: FormItem[]) {\n\t\tfor (let root of d) {\n\t\t\tswitch (root.type) {\n\t\t\t\tcase 'selectInput':\n\t\t\t\t\tconst tempKeyF = 'selectInput' + Math.floor(Math.random() * 100000000)\n\t\t\t\t\troot.tempKey = tempKeyF\n\t\t\t\t\ttempKeys.value[tempKeyF] = {\n\t\t\t\t\t\tkey: root.key || null,\n\t\t\t\t\t\tval: root.defaultVal || null\n\t\t\t\t\t}\n\t\t\t\t\twatchGroup.push(\n\t\t\t\t\t\twatch(\n\t\t\t\t\t\t\t() => tempKeys.value[tempKeyF],\n\t\t\t\t\t\t\t(after) => {\n\t\t\t\t\t\t\t\ttempKeysWatchHandle(after, root)\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{ immediate: true }\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t\tbreak\n\t\t\t\tcase 'inputMap':\n\t\t\t\t\tconst tempKeyE = 'inputMap' + Math.floor(Math.random() * 100000000)\n\t\t\t\t\tif (root.key) {\n\t\t\t\t\t\troot.tempKey = tempKeyE\n\t\t\t\t\t\tif (root.key3) {\n\t\t\t\t\t\t\ttempKeys.value[tempKeyE] =\n\t\t\t\t\t\t\t\troot.defaultVal !== undefined && root.defaultVal2 !== undefined\n\t\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\t\tlng: root.defaultVal,\n\t\t\t\t\t\t\t\t\t\t\tlat: root.defaultVal2,\n\t\t\t\t\t\t\t\t\t\t\tname: root.defaultVal3 || ''\n\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\t\t\t\tlng: null,\n\t\t\t\t\t\t\t\t\t\t\tlat: null,\n\t\t\t\t\t\t\t\t\t\t\tname: null\n\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttempKeys.value[tempKeyE] =\n\t\t\t\t\t\t\t\troot.defaultVal !== undefined && root.defaultVal2 !== undefined\n\t\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\t\tlng: root.defaultVal,\n\t\t\t\t\t\t\t\t\t\t\tlat: root.defaultVal2\n\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\t\t\t\tlng: null,\n\t\t\t\t\t\t\t\t\t\t\tlat: null\n\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t}\n\t\t\t\t\t\twatchGroup.push(\n\t\t\t\t\t\t\twatch(\n\t\t\t\t\t\t\t\t() => tempKeys.value[tempKeyE],\n\t\t\t\t\t\t\t\t(after) => {\n\t\t\t\t\t\t\t\t\ttempKeysWatchHandle(after, root)\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{ immediate: true }\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\t\t\t\tcase 'input':\n\t\t\t\tcase 'inputNumber':\n\t\t\t\tcase 'textarea':\n\t\t\t\t\tconst tempKeyD = 'inputT' + Math.floor(Math.random() * 100000000)\n\t\t\t\t\tif (root.key) {\n\t\t\t\t\t\troot.tempKey = tempKeyD\n\t\t\t\t\t\ttempKeys.value[tempKeyD] = root.defaultVal !== undefined ? root.defaultVal : null\n\t\t\t\t\t\twatchGroup.push(\n\t\t\t\t\t\t\twatch(\n\t\t\t\t\t\t\t\t() => tempKeys.value[tempKeyD],\n\t\t\t\t\t\t\t\t(after) => {\n\t\t\t\t\t\t\t\t\ttempKeysWatchHandle(after, root)\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{ immediate: true }\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\t\t\t\tcase 'select':\n\t\t\t\tcase 'radioGroup':\n\t\t\t\tcase 'checkboxGroup':\n\t\t\t\t\tif (!root.options) {\n\t\t\t\t\t\troot.options = []\n\t\t\t\t\t}\n\t\t\t\t\tif (root.asyncOption) {\n\t\t\t\t\t\t/*远程待选项*/\n\t\t\t\t\t\tif (root.changeOption) {\n\t\t\t\t\t\t\t/*待选项会根据条件改变*/\n\t\t\t\t\t\t\tif (Array.isArray(root.changeOption)) {\n\t\t\t\t\t\t\t\tlet go = true\n\t\t\t\t\t\t\t\tfor (let cp of root.changeOption) {\n\t\t\t\t\t\t\t\t\t/*检验changeOption参数是否可用*/\n\t\t\t\t\t\t\t\t\tif (!cp.valKey || !cp.key) {\n\t\t\t\t\t\t\t\t\t\tgo = false\n\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (go) {\n\t\t\t\t\t\t\t\t\twatchGroup.push(\n\t\t\t\t\t\t\t\t\t\twatch(\n\t\t\t\t\t\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\t\t\t\t\t\tlet tUrl = ''\n\t\t\t\t\t\t\t\t\t\t\t\tif (Array.isArray(root.changeOption)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tfor (let cp of root.changeOption) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlet vT = valGroup.value[cp.valKey]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (vT || vT === 0 || vT === false) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/*如果条件有有效值，则拉取待选项*/\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttUrl += '&' + cp.key + '=' + vT\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (!cp.notRequired) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/*条件为必填（notRequired!==true,默认必填），且没有有效值，则不拉取待选项*/\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn false\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\treturn tUrl\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t(after) => {\n\t\t\t\t\t\t\t\t\t\t\t\tlet tV = cloneDeep(tempKeys.value[root.tempKey])\n\t\t\t\t\t\t\t\t\t\t\t\ttempKeys.value[root.tempKey] = null\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (after && root.optionUrl) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet urlT = root.optionUrl.indexOf('?') !== -1 ? root.optionUrl : root.optionUrl + '?'\n\t\t\t\t\t\t\t\t\t\t\t\t\tinitOption((urlT + after).replace(/\\?&/, '?'), root, tV)\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\troot.options = []\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (root.localOption) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\troot.options = [...root.localOption]\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (isValidValue(tV)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trecoverVal(tV, root)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\timmediate: true\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\troot.options = []\n\t\t\t\t\t\t\t\t\tif (root.localOption) {\n\t\t\t\t\t\t\t\t\t\troot.options = [...root.localOption]\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (typeof root.changeOption === 'object') {\n\t\t\t\t\t\t\t\tif (root.changeOption.valKey && root.changeOption.key) {\n\t\t\t\t\t\t\t\t\twatchGroup.push(\n\t\t\t\t\t\t\t\t\t\twatch(\n\t\t\t\t\t\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\t\t\t\t\t\tif (typeof root.changeOption === 'object' && !Array.isArray(root.changeOption)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn valGroup.value[root.changeOption.valKey]\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\treturn false\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t(after) => {\n\t\t\t\t\t\t\t\t\t\t\t\tlet tV = cloneDeep(tempKeys.value[root.tempKey])\n\t\t\t\t\t\t\t\t\t\t\t\ttempKeys.value[root.tempKey] = null\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t\t\t(after || after === 0 || after === false) &&\n\t\t\t\t\t\t\t\t\t\t\t\t\troot.optionUrl &&\n\t\t\t\t\t\t\t\t\t\t\t\t\ttypeof root.changeOption === 'object' &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t!Array.isArray(root.changeOption)\n\t\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet urlT = root.optionUrl.indexOf('?') !== -1 ? root.optionUrl : root.optionUrl + '?'\n\t\t\t\t\t\t\t\t\t\t\t\t\tinitOption((urlT + '&' + root.changeOption.key + '=' + after).replace(/\\?&/, '?'), root, tV)\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\troot.options = []\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (root.localOption) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\troot.options = [...root.localOption]\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (isValidValue(tV)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trecoverVal(tV, root)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t{ immediate: true }\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (myTypeof(root.changeOption) === 'Boolean') {\n\t\t\t\t\t\t\t\t/*设置changeOption为true时,当待选项地址改变后重新拉取待选项，在使用该表单组件的地方改变传入的formData对应项的optionUrl*/\n\t\t\t\t\t\t\t\twatchGroup.push(\n\t\t\t\t\t\t\t\t\twatch(\n\t\t\t\t\t\t\t\t\t\t() => findCollection(props.formData, (e) => e.key === root.key).optionUrl,\n\t\t\t\t\t\t\t\t\t\t(after) => {\n\t\t\t\t\t\t\t\t\t\t\tlet tV = cloneDeep(tempKeys.value[root.tempKey])\n\t\t\t\t\t\t\t\t\t\t\ttempKeys.value[root.tempKey] = null\n\n\t\t\t\t\t\t\t\t\t\t\tif (after) {\n\t\t\t\t\t\t\t\t\t\t\t\tinitOption(after, root, tV)\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\troot.options = []\n\t\t\t\t\t\t\t\t\t\t\t\tif (root.localOption) {\n\t\t\t\t\t\t\t\t\t\t\t\t\troot.options = [...root.localOption]\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (isValidValue(tV)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\trecoverVal(tV, root)\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\timmediate: true\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (root.optionUrl) {\n\t\t\t\t\t\t\tinitOption(root.optionUrl, root)\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (myTypeof(root.borrowOption) === 'String') {\n\t\t\t\t\t\t/*借用待选项*/\n\t\t\t\t\t\troot.options = findCollection(formDataT.value, (e) => e.key === root.borrowOption).options\n\t\t\t\t\t}\n\n\t\t\t\t\tconst tempKeyC = 'opEle' + Math.floor(Math.random() * 100000000)\n\t\t\t\t\tif (root.key) {\n\t\t\t\t\t\troot.tempKey = tempKeyC\n\t\t\t\t\t\tif ((root.type === 'select' && root.multiple) || root.type === 'checkboxGroup') {\n\t\t\t\t\t\t\ttempKeys.value[tempKeyC] = root.defaultVal !== undefined ? root.defaultVal : []\n\t\t\t\t\t\t} else if (root.booleanVal) {\n\t\t\t\t\t\t\ttempKeys.value[tempKeyC] = root.defaultVal !== undefined ? (Boolean(root.defaultVal) ? 1 : 0) : null\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttempKeys.value[tempKeyC] = root.defaultVal !== undefined ? root.defaultVal : null\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\twatchGroup.push(\n\t\t\t\t\t\t\twatch(\n\t\t\t\t\t\t\t\t() => tempKeys.value[tempKeyC],\n\t\t\t\t\t\t\t\t(after) => {\n\t\t\t\t\t\t\t\t\ttempKeysWatchHandle(after, root)\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\timmediate: true\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\t\t\t\tcase 'date':\n\t\t\t\tcase 'time':\n\t\t\t\tcase 'monthRange':\n\t\t\t\t\tconst tempKeyB = 'date' + Math.floor(Math.random() * 100000000)\n\t\t\t\t\troot.tempKey = tempKeyB\n\t\t\t\t\tif (\n\t\t\t\t\t\troot.dateType === 'date' ||\n\t\t\t\t\t\troot.dateType === 'datetime' ||\n\t\t\t\t\t\troot.dateType === 'time' ||\n\t\t\t\t\t\troot.dateType === 'year' ||\n\t\t\t\t\t\troot.dateType === 'month'\n\t\t\t\t\t) {\n\t\t\t\t\t\ttempKeys.value[tempKeyB] = root.defaultVal || null\n\t\t\t\t\t} else if (\n\t\t\t\t\t\troot.dateType === 'daterange' ||\n\t\t\t\t\t\troot.dateType === 'datetimerange' ||\n\t\t\t\t\t\troot.dateType === 'timerange' ||\n\t\t\t\t\t\troot.type === 'monthRange'\n\t\t\t\t\t) {\n\t\t\t\t\t\ttempKeys.value[tempKeyB] =\n\t\t\t\t\t\t\t(root.defaultVal && root.defaultVal2 && [root.defaultVal, root.defaultVal2]) || []\n\t\t\t\t\t}\n\t\t\t\t\twatchGroup.push(\n\t\t\t\t\t\twatch(\n\t\t\t\t\t\t\t() => tempKeys.value[tempKeyB],\n\t\t\t\t\t\t\t(after) => {\n\t\t\t\t\t\t\t\ttempKeysWatchHandle(after, root)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * 初始化表单项的选项，如下拉选项，多选、单选组选项（私有）\n\t * @param url 远程选项接口地址\n\t * @param root 表单项结构数据对象\n\t * @param itemVal 缓存的表单项旧值\n\t */\n\tfunction initOption(url: string, root: FormItem, itemVal?: any) {\n\t\t$fetch\n\t\t\t.get(url)\n\t\t\t.then((r: any) => {\n\t\t\t\tif (!root.options) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tlet tOption = r?.data?.records || r?.data || r || []\n\t\t\t\tif (Array.isArray(tOption)) {\n\t\t\t\t\tif (root.optionFilter && myTypeof(root.optionFilter) === 'Function') {\n\t\t\t\t\t\ttOption = root.optionFilter(tOption)\n\t\t\t\t\t}\n\t\t\t\t\tif (root.optionLabel && root.optionVal) {\n\t\t\t\t\t\t/*label由多个字段组合成*/\n\t\t\t\t\t\troot.options.length = 0\n\t\t\t\t\t\troot.options.push(\n\t\t\t\t\t\t\t...tOption.map((eP: Record<string, any>) => {\n\t\t\t\t\t\t\t\tlet rP: Record<string, any>\n\t\t\t\t\t\t\t\tif (Array.isArray(root.optionLabel)) {\n\t\t\t\t\t\t\t\t\t/*组合成的label*/\n\t\t\t\t\t\t\t\t\tlet rL = ''\n\t\t\t\t\t\t\t\t\troot.optionLabel.forEach((v, i) => {\n\t\t\t\t\t\t\t\t\t\t/*需要在label中显示的字段的值*/\n\t\t\t\t\t\t\t\t\t\tlet lVal = String(eP[v])\n\t\t\t\t\t\t\t\t\t\tif (i === 1) {\n\t\t\t\t\t\t\t\t\t\t\trL += '（' + lVal\n\t\t\t\t\t\t\t\t\t\t} else if (i > 1) {\n\t\t\t\t\t\t\t\t\t\t\trL += '、' + lVal\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\trL += lVal\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\trP = {\n\t\t\t\t\t\t\t\t\t\tlabel: rL + '）',\n\t\t\t\t\t\t\t\t\t\tval: root.optionVal && eP[root.optionVal]\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\trP = {\n\t\t\t\t\t\t\t\t\t\tlabel: root.optionLabel && eP[root.optionLabel],\n\t\t\t\t\t\t\t\t\t\tval: root.optionVal && eP[root.optionVal]\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/*除了要收集绑定值，还要一并收集其他字段,则将其他字段加入到待选列表项*/\n\t\t\t\t\t\t\t\tif (root.collectLabel) {\n\t\t\t\t\t\t\t\t\tif (Array.isArray(root.collectLabel)) {\n\t\t\t\t\t\t\t\t\t\tfor (let tC of root.collectLabel) {\n\t\t\t\t\t\t\t\t\t\t\tif (tC.valKey && tC.valKey !== 'label') {\n\t\t\t\t\t\t\t\t\t\t\t\trP[tC.valKey] = eP[tC.valKey]\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif (root.collectLabel.valKey && root.collectLabel.valKey !== 'label') {\n\t\t\t\t\t\t\t\t\t\t\trP[root.collectLabel.valKey] = eP[root.collectLabel.valKey]\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (rP.val !== null && rP.val !== undefined) {\n\t\t\t\t\t\t\t\t\treturn rP\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t)\n\t\t\t\t\t} else {\n\t\t\t\t\t\troot.options.length = 0\n\t\t\t\t\t\troot.options.push(...tOption)\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\troot.options.length = 0\n\t\t\t\t}\n\t\t\t\tif (root.localOption) {\n\t\t\t\t\troot.options.unshift(...root.localOption)\n\t\t\t\t}\n\t\t\t\tif (isValidValue(itemVal)) {\n\t\t\t\t\trecoverVal(itemVal, root)\n\t\t\t\t}\n\n\t\t\t\t/*待选项禁用*/\n\t\t\t\tif (root.disableOptionByOthers) {\n\t\t\t\t\tif (myTypeof(root.disableOptionByOthers) === 'String') {\n\t\t\t\t\t\twatchGroup.push(\n\t\t\t\t\t\t\twatch(\n\t\t\t\t\t\t\t\t() => valGroup.value[root.disableOptionByOthers],\n\t\t\t\t\t\t\t\t(after) => {\n\t\t\t\t\t\t\t\t\tclearTempKeyItem(root.tempKey)\n\t\t\t\t\t\t\t\t\tif (!root.options) {\n\t\t\t\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tfor (let iP of root.options) {\n\t\t\t\t\t\t\t\t\t\tif (iP.disabled) {\n\t\t\t\t\t\t\t\t\t\t\tiP.disabled = false\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (after || after === 0 || after === false) {\n\t\t\t\t\t\t\t\t\t\tfor (let iP of root.options) {\n\t\t\t\t\t\t\t\t\t\t\tif (iP.val === after) {\n\t\t\t\t\t\t\t\t\t\t\t\tiP.disabled = true\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\timmediate: true\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t} else if (Array.isArray(root.disableOptionByOthers)) {\n\t\t\t\t\t\twatchGroup.push(\n\t\t\t\t\t\t\twatch(\n\t\t\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\t\t\treturn root.disableOptionByOthers.filter((e: any) => e).map((e: string) => valGroup.value[e])\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t(after) => {\n\t\t\t\t\t\t\t\t\tclearTempKeyItem(root.tempKey)\n\t\t\t\t\t\t\t\t\tif (!root.options) {\n\t\t\t\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tfor (let iP of root.options) {\n\t\t\t\t\t\t\t\t\t\tif (iP.disabled) {\n\t\t\t\t\t\t\t\t\t\t\tiP.disabled = false\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (after) {\n\t\t\t\t\t\t\t\t\t\tfor (let iP of root.options) {\n\t\t\t\t\t\t\t\t\t\t\tfor (let i = 0; i < after.length; i++) {\n\t\t\t\t\t\t\t\t\t\t\t\tif (iP.val === after[i]) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tiP.disabled = true\n\t\t\t\t\t\t\t\t\t\t\t\t\tafter.splice(i, 1)\n\t\t\t\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\timmediate: true\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\tconsole.warn('拉取选项出错')\n\t\t\t})\n\t}\n\n\t/**\n\t * 如果options中选项的值和缓存的表单项旧值相等,则为表单项恢复之前因待选项改变而清除的值（私有）\n\t * @param itemVal 缓存的旧值\n\t * @param root 表单项结构数据对象\n\t */\n\tfunction recoverVal(itemVal: any, root: FormItem) {\n\t\tif (Array.isArray(root.options)) {\n\t\t\tif (findIndex(root.options, { val: itemVal }) !== -1) {\n\t\t\t\ttempKeys.value[root.tempKey] = itemVal\n\t\t\t}\n\t\t}\n\t}\n\n\t/*初始化表单项值（私有）*/\n\tfunction initValGroup() {\n\t\tvalGroup.value = {}\n\t\tif (formTeam.value) {\n\t\t\tfor (let e of props.formData) {\n\t\t\t\tinitValItems(e as FormItem[])\n\t\t\t}\n\t\t} else {\n\t\t\tinitValItems(props.formData as FormItem[])\n\t\t}\n\t}\n\n\t/**\n\t * 根据表单结构数据，初始化valGroup（私有）\n\t * @param d 表单结构数据\n\t */\n\tfunction initValItems(d: FormItem[]) {\n\t\tfor (let root of d) {\n\t\t\tif (root.key) {\n\t\t\t\tif (root.type === 'checkboxGroup' || (root.type === 'select' && root.multiple)) {\n\t\t\t\t\tvalGroup.value[root.key] = root.defaultVal !== undefined && root.show === undefined ? root.defaultVal : []\n\t\t\t\t} else if (root.type === 'editor' || root.type === 'editorPro') {\n\t\t\t\t\tvalGroup.value[root.key] = root.defaultVal !== undefined && root.show === undefined ? root.defaultVal : ''\n\t\t\t\t} else {\n\t\t\t\t\tvalGroup.value[root.key] = root.defaultVal !== undefined && root.show === undefined ? root.defaultVal : null\n\t\t\t\t\tif (root.key2) {\n\t\t\t\t\t\tvalGroup.value[root.key2] =\n\t\t\t\t\t\t\troot.defaultVal2 !== undefined && root.show === undefined ? root.defaultVal2 : null\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/*将缓存表单值给统计对象（私有）*/\n\tfunction tempKeysWatchHandle(after: any, root: FormItem) {\n\t\tif (root.showing) {\n\t\t\tswitch (root.type) {\n\t\t\t\tcase 'selectInput':\n\t\t\t\t\tif (after) {\n\t\t\t\t\t\tif (after.beforeKey) {\n\t\t\t\t\t\t\tdelete valGroup.value[after.beforeKey]\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvalGroup.value[after.key] = after.val\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\t\t\t\tcase 'inputMap':\n\t\t\t\t\tif (!root.key || !root.key2) {\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\tif (after) {\n\t\t\t\t\t\tvalGroup.value[root.key] = after.lng\n\t\t\t\t\t\tvalGroup.value[root.key2] = after.lat\n\t\t\t\t\t\tif (root.key3) {\n\t\t\t\t\t\t\tvalGroup.value[root.key3] = after.name\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvalGroup.value[root.key] = null\n\t\t\t\t\t\tvalGroup.value[root.key2] = null\n\t\t\t\t\t\tif (root.key3) {\n\t\t\t\t\t\t\tvalGroup.value[root.key3] = null\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\t\t\t\tcase 'input':\n\t\t\t\tcase 'inputNumber':\n\t\t\t\tcase 'textarea':\n\t\t\t\t\tif (!root.key) {\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\tif (after || after === 0) {\n\t\t\t\t\t\tlet reg = /^-?\\d+(.\\d+)?$/\n\t\t\t\t\t\tif (root.numberVal && reg.test(after)) {\n\t\t\t\t\t\t\tvalGroup.value[root.key] = Number(after)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvalGroup.value[root.key] = after\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvalGroup.value[root.key] = null\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\t\t\t\tcase 'select':\n\t\t\t\tcase 'radioGroup':\n\t\t\t\tcase 'checkboxGroup':\n\t\t\t\t\tif (!root.key) {\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\tif (root.booleanVal && !root.multiple) {\n\t\t\t\t\t\tvalGroup.value[root.key] = after === undefined || after === '' || after === null ? null : Boolean(after)\n\t\t\t\t\t} else if (root.multiple || root.type === 'checkboxGroup') {\n\t\t\t\t\t\tvalGroup.value[root.key] = Object.assign([], after)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvalGroup.value[root.key] = after\n\t\t\t\t\t}\n\t\t\t\t\t/*除了要收集绑定值，还要一并收集其他字段*/\n\t\t\t\t\tif (root.collectLabel) {\n\t\t\t\t\t\tconst targetOption = findOptions(root, after)\n\n\t\t\t\t\t\tif (Array.isArray(root.collectLabel)) {\n\t\t\t\t\t\t\tfor (let l of root.collectLabel) {\n\t\t\t\t\t\t\t\tif (l.key && l.valKey) {\n\t\t\t\t\t\t\t\t\tconst collectTempKey = findTempKey(l.key)\n\t\t\t\t\t\t\t\t\tlet t: any = null\n\n\t\t\t\t\t\t\t\t\tif (Array.isArray(targetOption)) {\n\t\t\t\t\t\t\t\t\t\tt = targetOption.map((e) => e[l.valKey])\n\t\t\t\t\t\t\t\t\t\tvalGroup.value[l.key] = t\n\t\t\t\t\t\t\t\t\t\tif (collectTempKey) {\n\t\t\t\t\t\t\t\t\t\t\ttempKeys.value[collectTempKey] = t\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif (targetOption && isValidValue(targetOption[l.valKey])) {\n\t\t\t\t\t\t\t\t\t\t\tt = targetOption[l.valKey]\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tvalGroup.value[l.key] = t\n\t\t\t\t\t\t\t\t\t\tif (collectTempKey) {\n\t\t\t\t\t\t\t\t\t\t\ttempKeys.value[collectTempKey] = t\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tlet sameKeyCom = findCollection(formDataT.value, (e) => e.key === l.key)\n\t\t\t\t\t\t\t\t\tif (sameKeyCom && sameKeyCom.tempKey) {\n\t\t\t\t\t\t\t\t\t\ttempKeys.value[sameKeyCom.tempKey] = valGroup.value[l.key]\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (typeof root.collectLabel === 'object') {\n\t\t\t\t\t\t\tif (root.collectLabel.key && root.collectLabel.valKey) {\n\t\t\t\t\t\t\t\tconst collectTempKey = findTempKey(root.collectLabel.key)\n\t\t\t\t\t\t\t\tlet t: any = null\n\t\t\t\t\t\t\t\tif (Array.isArray(targetOption)) {\n\t\t\t\t\t\t\t\t\tt = targetOption.map(\n\t\t\t\t\t\t\t\t\t\t(e) => root.collectLabel && !Array.isArray(root.collectLabel) && e[root.collectLabel.valKey]\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\tvalGroup.value[root.collectLabel.key] = t\n\t\t\t\t\t\t\t\t\tif (collectTempKey) {\n\t\t\t\t\t\t\t\t\t\ttempKeys.value[collectTempKey] = t\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tif (targetOption && isValidValue(targetOption[root.collectLabel.valKey])) {\n\t\t\t\t\t\t\t\t\t\tt = targetOption[root.collectLabel.valKey]\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tvalGroup.value[root.collectLabel.key] = t\n\t\t\t\t\t\t\t\t\tif (collectTempKey) {\n\t\t\t\t\t\t\t\t\t\ttempKeys.value[collectTempKey] = t\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tlet sameKeyCom = findCollection(\n\t\t\t\t\t\t\t\t\tformDataT.value,\n\t\t\t\t\t\t\t\t\t(e) =>\n\t\t\t\t\t\t\t\t\t\t(root.collectLabel && !Array.isArray(root.collectLabel) && e.key === root.collectLabel.key) || false\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\tif (sameKeyCom && sameKeyCom.tempKey) {\n\t\t\t\t\t\t\t\t\ttempKeys.value[sameKeyCom.tempKey] = valGroup.value[root.collectLabel.key]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\t\t\t\tcase 'date':\n\t\t\t\tcase 'time':\n\t\t\t\tcase 'monthRange':\n\t\t\t\t\tif (!root.key) {\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\tlet tp = root.dateType\n\n\t\t\t\t\tconst fm: Record<string, any> = {\n\t\t\t\t\t\tdate: 'YYYY-MM-DD',\n\t\t\t\t\t\tdaterange: 'YYYY-MM-DD',\n\t\t\t\t\t\tdatetime: 'YYYY-MM-DD HH:mm:ss',\n\t\t\t\t\t\tdatetimerange: 'YYYY-MM-DD HH:mm:ss',\n\t\t\t\t\t\tyear: 'YYYY',\n\t\t\t\t\t\tmonth: 'MM'\n\t\t\t\t\t}\n\n\t\t\t\t\tif (tp === 'date' || tp === 'datetime' || tp === 'time' || tp === 'year' || tp === 'month') {\n\t\t\t\t\t\tif (after) {\n\t\t\t\t\t\t\tif (tp === 'time') {\n\t\t\t\t\t\t\t\tvalGroup.value[root.key] = after\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvalGroup.value[root.key] = moment(after).format(typeof root.format === 'string' ? root.format : fm[tp])\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (tp === 'date' && root.addTime) {\n\t\t\t\t\t\t\t\tvalGroup.value[root.key] += ' 00:00:00'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvalGroup.value[root.key] = null\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (root.type === 'monthRange' || tp === 'daterange' || tp === 'datetimerange' || tp === 'timerange') {\n\t\t\t\t\t\tif (!root.key2) {\n\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (after && after[0] && after[1]) {\n\t\t\t\t\t\t\tif (tp === 'timerange') {\n\t\t\t\t\t\t\t\tvalGroup.value[root.key] = after[0]\n\t\t\t\t\t\t\t\tvalGroup.value[root.key2] = after[1]\n\t\t\t\t\t\t\t} else if (root.type === 'monthRange') {\n\t\t\t\t\t\t\t\tvalGroup.value[root.key] =\n\t\t\t\t\t\t\t\t\t(typeof root.format === 'string' && moment(after[0]).format(root.format)) || after[0]\n\t\t\t\t\t\t\t\tvalGroup.value[root.key2] =\n\t\t\t\t\t\t\t\t\t(typeof root.format === 'string' && root.format && moment(after[1]).format(root.format)) || after[1]\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvalGroup.value[root.key] = moment(after[0]).format(root.format || (tp && fm[tp]))\n\t\t\t\t\t\t\t\tvalGroup.value[root.key2] = moment(after[1]).format(root.format || (tp && fm[tp]))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (tp === 'daterange' && root.addTime) {\n\t\t\t\t\t\t\t\tvalGroup.value[root.key] += ' 00:00:00'\n\t\t\t\t\t\t\t\tvalGroup.value[root.key2] += ' 23:59:59'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvalGroup.value[root.key] = null\n\t\t\t\t\t\t\tvalGroup.value[root.key2] = null\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t}\n\n\t/*collectLabel时找出选中的选项（私有）*/\n\tfunction findOptions(root: FormItem, after: any) {\n\t\tif (!root.options) {\n\t\t\treturn\n\t\t}\n\t\tif (root.multiple || root.type === 'checkboxGroup') {\n\t\t\tif (after) {\n\t\t\t\tlet t: any[] = []\n\t\t\t\tfor (let e of root.options) {\n\t\t\t\t\tif (after.indexOf(e.val) !== -1) {\n\t\t\t\t\t\tt.push(e)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn t\n\t\t\t}\n\t\t\treturn false\n\t\t} else {\n\t\t\tif (after || after === 0 || after === false) {\n\t\t\t\tfor (let e of root.options) {\n\t\t\t\t\tif (e.val === after) {\n\t\t\t\t\t\treturn e\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false\n\t\t}\n\t}\n\n\t/*找到需要收集的key对应的tempKey(私有)*/\n\tfunction findTempKey(k: string) {\n\t\tif (formTeam.value) {\n\t\t\tfor (let e of formDataT.value) {\n\t\t\t\tconst t = findTempKeyItem(e as FormItem[], k)\n\t\t\t\tif (t) {\n\t\t\t\t\treturn t\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false\n\t\t}\n\t\treturn findTempKeyItem(formDataT.value as FormItem[], k)\n\t}\n\n\tfunction findTempKeyItem(d: FormItem[], k: string) {\n\t\tfor (let root of d) {\n\t\t\tif (root.key === k) {\n\t\t\t\treturn root.tempKey\n\t\t\t}\n\t\t}\n\t\treturn false\n\t}\n\n\t/*设置表单项的值（可添加新字段，例如添加隐藏字段，需要提交这个值，但页面不展示，公开）*/\n\tfunction setItemToValGroup(data: Record<string, any>, notClearOthers?: boolean) {\n\t\tlet t: Record<string, any> = {}\n\t\tfor (let k in valGroup.value) {\n\t\t\tif (valGroup.value.hasOwnProperty(k) && data[k] !== undefined) {\n\t\t\t\tt[k] = data[k]\n\t\t\t\tdelete data[k]\n\t\t\t}\n\t\t}\n\t\tupdateValGroup(t, notClearOthers)\n\t\tfor (let kk in data) {\n\t\t\t/*用Object.assign出错，只有第一次能正常合并*/\n\t\t\tif (data.hasOwnProperty(kk)) {\n\t\t\t\tif (hiddenKeys.indexOf(kk) < 0) {\n\t\t\t\t\thiddenKeys.push(kk)\n\t\t\t\t}\n\t\t\t\tvalGroup.value[kk] = data[kk]\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * 获取需要校验的表单项的key（私有）\n\t * @param d 更新的数据对象\n\t */\n\tfunction getValidateKeys(d: Record<string, any>) {\n\t\tlet t = cloneDeep(d)\n\t\tif (formTeam.value) {\n\t\t\tlet r: any[] = []\n\t\t\tfor (let e of props.formData) {\n\t\t\t\tr.push(...getValidateItems(e as FormItem[], t))\n\t\t\t}\n\t\t\treturn r\n\t\t}\n\t\treturn getValidateItems(props.formData as FormItem[], t)\n\t}\n\n\t/**\n\t * 获取需要校验的表单项的key（私有）\n\t * @param a 表单结构数据\n\t * @param d 更新的数据对象\n\t */\n\tfunction getValidateItems(a: FormItem[], d: Record<string, any>) {\n\t\treturn a\n\t\t\t.filter((e) => {\n\t\t\t\tfor (let k of Object.keys(d)) {\n\t\t\t\t\t/*需要校验的表单项满足条件：1.在更新队列；2.没有处于隐藏状态；3.不能是手动置空的表单项；*/\n\t\t\t\t\tif (\n\t\t\t\t\t\te.key === k &&\n\t\t\t\t\t\tshowingKeys.value.indexOf(k) > -1 &&\n\t\t\t\t\t\t!(d[k] === null || ((Array.isArray(d[k]) || myTypeof(d[k]) === 'Object') && isEmpty(d[k])))\n\t\t\t\t\t) {\n\t\t\t\t\t\tdelete d[k]\n\t\t\t\t\t\treturn true\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false\n\t\t\t})\n\t\t\t.map((e) => e.key)\n\t}\n\n\t/**\n\t * 更新表单项的值（只能更新已有字段，公开）\n\t * @param data 新数据\n\t * @param notClearOthers 是否清空其他表单项，默认清空\n\t */\n\tfunction updateValGroup(data: Record<string, any>, notClearOthers: boolean = false) {\n\t\tlet t = cloneDeep(data)\n\t\tupdateTempKeys(data, notClearOthers)\n\t\t/*先更新tempKeys再更新valGroup 避免更新同key的tempKeys元素清空valGroup元素*/\n\t\tfor (let k in valGroup.value) {\n\t\t\tif (valGroup.value.hasOwnProperty(k) && data[k] !== undefined && data[k] !== '--') {\n\t\t\t\tif (Array.isArray(data[k])) {\n\t\t\t\t\tdata[k] = data[k].filter((e: any) => e !== '--')\n\t\t\t\t} else if (myTypeof(data[k]) === 'Object') {\n\t\t\t\t\tfor (let n in data[k]) {\n\t\t\t\t\t\tif (data[k].hasOwnProperty(n) && data[k][n] === '--') {\n\t\t\t\t\t\t\tdata[k][n] = null\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvalGroup.value[k] = data[k]\n\t\t\t} else if (!notClearOthers) {\n\t\t\t\tvalGroup.value[k] = Array.isArray(valGroup.value[k]) ? [] : null\n\t\t\t}\n\t\t}\n\t\tvalidateFields(getValidateKeys(t))\n\t}\n\n\t/**\n\t * 更新未暴露表单项值（私有）\n\t * @param data 新数据\n\t * @param notClearOthers 是否清空其他表单项，默认清空\n\t */\n\tfunction updateTempKeys(data: Record<string, any>, notClearOthers: boolean = false) {\n\t\tif (formTeam.value) {\n\t\t\tfor (let t of formDataT.value) {\n\t\t\t\tupdateTempKeyItem(t as FormItem[], data, notClearOthers)\n\t\t\t}\n\t\t} else {\n\t\t\tupdateTempKeyItem(formDataT.value as FormItem[], data, notClearOthers)\n\t\t}\n\t}\n\n\t/**\n\t * 更新tampKey\n\t * @param a 表单结构数据\n\t * @param d 新数据\n\t * @param notClearOthers 是否清空其他表单项，默认清空\n\t */\n\tfunction updateTempKeyItem(a: FormItem[], d: Record<string, any>, notClearOthers: boolean = false) {\n\t\tfor (let root of a) {\n\t\t\tif (!root.key) {\n\t\t\t\tcontinue\n\t\t\t}\n\t\t\tif (\n\t\t\t\t((notClearOthers && (d[root.key] !== undefined || (root.key2 && d[root.key2] !== undefined))) ||\n\t\t\t\t\t!notClearOthers) &&\n\t\t\t\troot.tempKey\n\t\t\t) {\n\t\t\t\tswitch (root.type) {\n\t\t\t\t\tcase 'inputMap':\n\t\t\t\t\t\tif (!root.key2) {\n\t\t\t\t\t\t\tcontinue\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (myTypeof(d[root.key]) === 'Number' && myTypeof(d[root.key2] === 'Number')) {\n\t\t\t\t\t\t\tif (root.key3) {\n\t\t\t\t\t\t\t\ttempKeys.value[root.tempKey] = {\n\t\t\t\t\t\t\t\t\tlng: d[root.key],\n\t\t\t\t\t\t\t\t\tlat: d[root.key2],\n\t\t\t\t\t\t\t\t\tname: d[root.key3]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ttempKeys.value[root.tempKey] = {\n\t\t\t\t\t\t\t\t\tlng: d[root.key],\n\t\t\t\t\t\t\t\t\tlat: d[root.key2]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (root.key3) {\n\t\t\t\t\t\t\t\ttempKeys.value[root.tempKey] = {\n\t\t\t\t\t\t\t\t\tlng: null,\n\t\t\t\t\t\t\t\t\tlat: null,\n\t\t\t\t\t\t\t\t\tname: null\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ttempKeys.value[root.tempKey] = {\n\t\t\t\t\t\t\t\t\tlng: null,\n\t\t\t\t\t\t\t\t\tlat: null\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase 'input':\n\t\t\t\t\tcase 'inputNumber':\n\t\t\t\t\tcase 'textarea':\n\t\t\t\t\t\tif ((d[root.key] && d[root.key] !== '--') || d[root.key] === 0) {\n\t\t\t\t\t\t\ttempKeys.value[root.tempKey] = d[root.key]\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttempKeys.value[root.tempKey] = null\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase 'select':\n\t\t\t\t\tcase 'radioGroup':\n\t\t\t\t\tcase 'checkboxGroup':\n\t\t\t\t\t\tif ((d[root.key] && d[root.key] !== '--') || d[root.key] === 0 || d[root.key] === false) {\n\t\t\t\t\t\t\tif (root.multiple || root.type === 'checkboxGroup') {\n\t\t\t\t\t\t\t\ttempKeys.value[root.tempKey] = [...d[root.key]]\n\t\t\t\t\t\t\t} else if (root.booleanVal) {\n\t\t\t\t\t\t\t\ttempKeys.value[root.tempKey] = Boolean(d[root.key]) ? 1 : 0\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ttempKeys.value[root.tempKey] = d[root.key]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (root.multiple || root.type === 'checkboxGroup') {\n\t\t\t\t\t\t\t\t/*当notClearOthers为false时用来清空*/\n\t\t\t\t\t\t\t\ttempKeys.value[root.tempKey] = []\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ttempKeys.value[root.tempKey] = null\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase 'date':\n\t\t\t\t\tcase 'time':\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\troot.dateType === 'date' ||\n\t\t\t\t\t\t\troot.dateType === 'datetime' ||\n\t\t\t\t\t\t\troot.dateType === 'year' ||\n\t\t\t\t\t\t\troot.dateType === 'month' ||\n\t\t\t\t\t\t\troot.dateType === 'time'\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\ttempKeys.value[root.tempKey] = d[root.key] && d[root.key] !== '--' ? d[root.key] : null\n\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\troot.dateType === 'daterange' ||\n\t\t\t\t\t\t\troot.dateType === 'datetimerange' ||\n\t\t\t\t\t\t\troot.dateType === 'timerange'\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tif (!root.key2) {\n\t\t\t\t\t\t\t\tcontinue\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttempKeys.value[root.tempKey] =\n\t\t\t\t\t\t\t\t(d[root.key] &&\n\t\t\t\t\t\t\t\t\td[root.key] !== '--' &&\n\t\t\t\t\t\t\t\t\td[root.key2] &&\n\t\t\t\t\t\t\t\t\td[root.key2] !== '--' && [d[root.key], d[root.key2]]) ||\n\t\t\t\t\t\t\t\t[]\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * 更新表单结构，例如设置或取消禁用,或者给type为txt的表单项（没有key）赋值（公开）；\n\t * @param {Object|Array} d 为对象（改变单个）或数组（改变多个），支持的属性：index（必填）-需要改变的formData项的索引值、\n\t * indexB-当表单为`分组表单`时必填（表示表单项的二位数组索引第二位）、需要改变的属性，如要改变第二个表单组件的label和title,\n\t * 则为:{index:1,label:XXX,title:XXX}\n\t */\n\tfunction updateFormDataT(d: Record<string, any> | Record<string, any>[]) {\n\t\tif (Array.isArray(d)) {\n\t\t\tfor (let e of d) {\n\t\t\t\tchangeDataHandle(e)\n\t\t\t}\n\t\t} else if (myTypeof(d) === 'Object') {\n\t\t\tchangeDataHandle(d)\n\t\t}\n\t}\n\n\t/**\n\t * 改变表单结构（私有）\n\t * @param d 同updateFormDataT的 d\n\t */\n\tfunction changeDataHandle(d: Record<string, any>) {\n\t\tconst { index, indexB, key, val } = d\n\t\tif (typeof index !== 'number') {\n\t\t\treturn\n\t\t}\n\t\tif (Array.isArray(formDataT.value[index])) {\n\t\t\tif (typeof indexB === 'number') {\n\t\t\t\tif (key && (val || val !== undefined)) {\n\t\t\t\t\tformDataT.value[index][indexB][key] = val\n\t\t\t\t} else {\n\t\t\t\t\tfor (let k of Object.keys(d)) {\n\t\t\t\t\t\tif (k !== 'index' && key !== 'indexB') {\n\t\t\t\t\t\t\tformDataT.value[index][indexB][k] = d[k]\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif (key && (val || val !== undefined)) {\n\t\t\t\tformDataT.value[index][key] = val\n\t\t\t} else {\n\t\t\t\tfor (let k of Object.keys(d)) {\n\t\t\t\t\tif (k !== 'index') {\n\t\t\t\t\t\tformDataT.value[index][k] = d[k]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/*更新远程数据级联名称（私有）*/\n\tfunction asyncLabelChange({ label, root }: { label: string; root: FormItem }) {\n\t\tif (root.key2) {\n\t\t\tvalGroup.value[root.key2] = label\n\t\t}\n\t\titemChange({\n\t\t\te: label,\n\t\t\troot\n\t\t})\n\t}\n\n\t/*更新选择输入框值（私有）*/\n\tfunction onSelectInputChange(d: any) {\n\t\tif (d.beforeKey) {\n\t\t\tremove(selectInputKeys, (o) => o === d.beforeKey)\n\t\t}\n\t\tif (d.key) {\n\t\t\tif (selectInputKeys.indexOf(d.key) === -1) {\n\t\t\t\tselectInputKeys.push(d.key)\n\t\t\t}\n\t\t\titemChange({\n\t\t\t\te: null,\n\t\t\t\troot: d\n\t\t\t})\n\t\t}\n\t}\n\n\t/*更新行政区域名称（私有）*/\n\tfunction alNameChange({ name, root }: { name: string; root: FormItem }) {\n\t\tif (root.key2) {\n\t\t\tvalGroup.value[root.key2] = name\n\t\t}\n\t\titemChange({\n\t\t\te: name,\n\t\t\troot\n\t\t})\n\t}\n\n\t/**\n\t * 重新校验（私有）\n\t * @param e 事件的$event对象，一般是组件change事件的值\n\t * @param root 表单项结构数据\n\t */\n\tfunction reValidateAndChangeHandle({ e, root }: { e: any; root: FormItem }) {\n\t\titemChange({\n\t\t\te: e,\n\t\t\troot\n\t\t})\n\t\tnextTick(function () {\n\t\t\tformGroupXRef.value?.validateField?.(root.key)\n\t\t})\n\t}\n\n\t/**\n\t * 表单项值更新（私有）\n\t * @param e 事件的$event对象，一般是组件change事件的值\n\t * @param root 表单项结构数据\n\t */\n\tfunction itemChange({ e, root }: { e: any; root: FormItem }) {\n\t\tsetTimeout(() => {\n\t\t\tlet d: Record<string, any> = {\n\t\t\t\tevent: e\n\t\t\t}\n\t\t\tif (root.key) {\n\t\t\t\td[root.key] = valGroup.value[root.key]\n\t\t\t}\n\t\t\tif (root.key2) {\n\t\t\t\td[root.key2] = valGroup.value[root.key2]\n\t\t\t}\n\t\t\tif (Array.isArray(root.collectLabel)) {\n\t\t\t\tfor (let l of root.collectLabel) {\n\t\t\t\t\td[l.key] = valGroup.value[l.key]\n\t\t\t\t}\n\t\t\t} else if (root.collectLabel && root.collectLabel.key) {\n\t\t\t\td[root.collectLabel.key] = valGroup.value[root.collectLabel.key]\n\t\t\t}\n\t\t\temit('on-item-change', d)\n\t\t}, 500)\n\t}\n\n\t/**\n\t * 获取需要提交的数据(私有)\n\t */\n\tfunction getValGroup() {\n\t\tlet t: Record<string, any> = {}\n\t\tfor (let e of submitKeys.value) {\n\t\t\tt[e] = valGroup.value[e]\n\t\t}\n\t\tif (props.trim) {\n\t\t\tt = trimObj(t)\n\t\t}\n\t\treturn t\n\t}\n\n\t/*主动验证整个表单（公开）*/\n\tfunction validate() {\n\t\tformGroupXRef.value?.validate?.()\n\t}\n\n\t/**\n\t * 手动验证表单项（公开）\n\t * @param prop 需要校验的表单项(rules中对应的key)\n\t */\n\tfunction reValidate(prop: any) {\n\t\tsetTimeout(() => {\n\t\t\tformGroupXRef.value?.validateField?.(prop, () => {})\n\t\t}, 10)\n\t}\n\n\t/**\n\t * 批量校验部分表单\n\t * @param {Array}props 需要校验的表单prop集合\n\t */\n\tfunction validateFields(props: any[]) {\n\t\tsetTimeout(() => {\n\t\t\tif (Array.isArray(props)) {\n\t\t\t\tfor (let e of props) {\n\t\t\t\t\tformGroupXRef.value?.validateField?.(e, () => {})\n\t\t\t\t}\n\t\t\t}\n\t\t}, 10)\n\t}\n\n\t/*主动改变表单按钮loading状态（在开启btnLoading的前提下，公开）*/\n\tfunction changeLoading(v: any) {\n\t\tif (v === undefined) {\n\t\t\treturn\n\t\t}\n\t\tshowLoading.value = Boolean(v)\n\t}\n\n\t/*触发提交事件（一般不需要调用，会通过插件内部提交按钮触发，公开）*/\n\tfunction submit() {\n\t\tif (props.disabled) {\n\t\t\treturn\n\t\t}\n\t\tformGroupXRef.value?.validate?.((valid: any) => {\n\t\t\tif (!debounceCount) {\n\t\t\t\tdebounceCount = true\n\t\t\t\tif (valid) {\n\t\t\t\t\tshowLoading.value = true\n\n\t\t\t\t\temit('on-submit', getValGroup())\n\t\t\t\t}\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tdebounceCount = false\n\t\t\t\t}, 2000)\n\t\t\t}\n\t\t})\n\t}\n\n\tonMounted(() => {\n\t\tinitValGroup()\n\t\tinitFormDataT()\n\t})\n\n\tdefineExpose({\n\t\tresetForm,\n\t\trefreshFormDom,\n\t\treRenderForm,\n\t\tsetItemToValGroup,\n\t\tupdateValGroup,\n\t\tupdateFormDataT,\n\t\tvalidate,\n\t\treValidate,\n\t\tchangeLoading,\n\t\tgetValGroup,\n\t\tsubmit\n\t})\n</script>\n\n<template>\n\t<Form\n\t\tref=\"formGroupXRef\"\n\t\t:model=\"valGroup\"\n\t\t:rules=\"formRulesT\"\n\t\t:label-width=\"props.labelWidth\"\n\t\t:inline=\"props.inline\"\n\t\t:show-message=\"props.showMessage\"\n\t\tclass=\"formXN\"\n\t\t:key=\"formReRenderKey\"\n\t>\n\t\t<!--解决form只有一个input时enter触发页面刷新的问题-->\n\t\t<FormItem style=\"display: none\"><input type=\"text\" /></FormItem>\n\t\t<div v-for=\"(box, n) of formDataT\" v-if=\"formTeam\" :class=\"[teamClass, 'formTeamBox' + n]\" :key=\"'formTeamBox' + n\">\n\t\t\t<template v-for=\"(item, i) of box\" :key=\"'formItem' + i\">\n\t\t\t\t<item-r\n\t\t\t\t\t:item=\"item\"\n\t\t\t\t\tv-if=\"getFormItemIfVal(item)\"\n\t\t\t\t\t:style=\"formStyle\"\n\t\t\t\t\t:item-style=\"itemStyle\"\n\t\t\t\t\t:val-group=\"valGroup\"\n\t\t\t\t\t:temp-keys=\"tempKeys\"\n\t\t\t\t\t:inline=\"props.inline\"\n\t\t\t\t\t:disabled=\"props.disabled\"\n\t\t\t\t\t:label-width=\"props.labelWidth\"\n\t\t\t\t\t:item-width=\"props.itemWidth\"\n\t\t\t\t\t:mgr-url=\"mgrUrl\"\n\t\t\t\t\t:upload-url=\"uploadUrl\"\n\t\t\t\t\t@item-change=\"itemChange\"\n\t\t\t\t\t@re-validate=\"reValidateAndChangeHandle\"\n\t\t\t\t\t@clear-temp-key-item=\"clearTempKeyItem\"\n\t\t\t\t\t@select-input-change=\"onSelectInputChange\"\n\t\t\t\t\t@al-name-change=\"alNameChange\"\n\t\t\t\t\t@async-label-change=\"asyncLabelChange\"\n\t\t\t\t>\n\t\t\t\t\t<template #[s.slotName]=\"slotProps\" v-for=\"s in getSlotFormData(box)\">\n\t\t\t\t\t\t<slot :name=\"s.slotName\" :val-group=\"slotProps.valGroup\" />\n\t\t\t\t\t</template>\n\t\t\t\t</item-r>\n\t\t\t</template>\n\t\t</div>\n\t\t<template v-for=\"(item, i) of formDataT\" :key=\"'formItem' + i\">\n\t\t\t<item-r\n\t\t\t\t:item=\"item\"\n\t\t\t\tv-if=\"!formTeam && getFormItemIfVal(item)\"\n\t\t\t\t:style=\"formStyle\"\n\t\t\t\t:item-style=\"itemStyle\"\n\t\t\t\t:val-group=\"valGroup\"\n\t\t\t\t:temp-keys=\"tempKeys\"\n\t\t\t\t:inline=\"props.inline\"\n\t\t\t\t:disabled=\"props.disabled\"\n\t\t\t\t:label-width=\"props.labelWidth\"\n\t\t\t\t:item-width=\"props.itemWidth\"\n\t\t\t\t:mgr-url=\"mgrUrl\"\n\t\t\t\t:upload-url=\"uploadUrl\"\n\t\t\t\t@item-change=\"itemChange\"\n\t\t\t\t@re-validate=\"reValidateAndChangeHandle\"\n\t\t\t\t@clear-temp-key-item=\"clearTempKeyItem\"\n\t\t\t\t@select-input-change=\"onSelectInputChange\"\n\t\t\t\t@al-name-change=\"alNameChange\"\n\t\t\t\t@async-label-change=\"asyncLabelChange\"\n\t\t\t>\n\t\t\t\t<template #[s.slotName]=\"slotProps\" v-for=\"s in getSlotFormData(formData)\">\n\t\t\t\t\t<slot :name=\"s.slotName\" :val-group=\"slotProps.valGroup\" />\n\t\t\t\t</template>\n\t\t\t</item-r>\n\t\t</template>\n\t\t<!--长提交按钮-->\n\t\t<FormItem v-if=\"props.showLongOkBt\">\n\t\t\t<!--suppress HtmlWrongAttributeValue -->\n\t\t\t<Button\n\t\t\t\t@click=\"submit\"\n\t\t\t\t:style=\"itemStyle\"\n\t\t\t\ttype=\"primary\"\n\t\t\t\t:loading=\"props.btnLoading && showLoading\"\n\t\t\t\t:disabled=\"props.disabled\"\n\t\t\t\t>{{ props.longOkBtTxt || t('r.confirm') }}\n\t\t\t</Button>\n\t\t</FormItem>\n\t\t<div class=\"inlineBlock\">\n\t\t\t<!--短提交按钮（查询）-->\n\t\t\t<!--suppress HtmlWrongAttributeValue -->\n\t\t\t<Button\n\t\t\t\tv-if=\"props.showInlineOkBt\"\n\t\t\t\ttype=\"primary\"\n\t\t\t\t:class=\"{ inlineFormBtXN: props.inline, okBtnXN: true }\"\n\t\t\t\t@click=\"submit\"\n\t\t\t\t:loading=\"props.btnLoading && showLoading\"\n\t\t\t\t:disabled=\"props.disabled\"\n\t\t\t\t>{{ props.inlineOkBtTxt || t('r.confirm') }}\n\t\t\t</Button>\n\t\t\t<!--取消按钮（清除）-->\n\t\t\t<!--suppress HtmlWrongAttributeValue -->\n\t\t\t<Button v-if=\"props.showInlineClearBt\" @click=\"resetForm\" :class=\"{ inlineFormBtXN: props.inline }\" type=\"dashed\"\n\t\t\t\t>{{ props.inlineClearBtTxt || t('r.clear') }}\n\t\t\t</Button>\n\t\t</div>\n\t</Form>\n</template>\n","<!--FormGroup 表单群组件，表单相关用法参考FormR,组件自带确定和取消按钮\n@created 2023.08.30\n@author Ricky email:zhangqingcq@foxmail.com-->\n\n<script lang=\"ts\" setup>\n\timport FormR from '../FormR/FormR.vue'\n\timport t from '../../locale/i18nSFC'\n\timport { setTimeout } from '../../methods/timer'\n\timport type { FormItem } from '../../public'\n\timport Proxy from '../../methods/proxy'\n\n\tconst emit = defineEmits(['on-cancel'])\n\tconst props = withDefaults(\n\t\tdefineProps<{\n\t\t\tformData?: Array<FormItem | FormItem[]>\n\t\t\twith?: string\n\t\t\tlabelWidth?: number\n\t\t\tcontentWidth?: string\n\t\t\titemWidth?: number\n\t\t\tshowOkBt?: boolean\n\t\t\tshowCancelBt?: boolean\n\t\t\tokBtTxt?: string\n\t\t\tcancelBtTxt?: string\n\t\t\tbtnLoading?: boolean\n\t\t}>(),\n\t\t{\n\t\t\tformData: () => [],\n\t\t\twith: '100%',\n\t\t\tlabelWidth: () => Proxy().formGroupLabelWidth,\n\t\t\tcontentWidth: '70%',\n\t\t\titemWidth: 200,\n\t\t\tshowOkBt: true,\n\t\t\tshowCancelBt: true,\n\t\t\tbtnLoading: false\n\t\t}\n\t)\n\n\tconst formGroupStyle = ref({ width: props.with })\n\tconst showLoading = ref(false)\n\tconst formRRef = ref()\n\tconst formDataC = computed(() => {\n\t\tif (Array.isArray(props.formData)) {\n\t\t\tif (Array.isArray(props.formData[0])) {\n\t\t\t\tlet t: any[] = []\n\t\t\t\tfor (let f of props.formData) {\n\t\t\t\t\tt = t.concat(f.filter((e: any) => e.type === 'custom'))\n\t\t\t\t}\n\t\t\t\treturn t\n\t\t\t} else {\n\t\t\t\treturn props.formData.filter((e: any) => e.type === 'custom')\n\t\t\t}\n\t\t}\n\t\treturn []\n\t})\n\n\tfunction resetForm() {\n\t\t/*重置表单，会清空表单值并刷新表单dom，异步方法，公开*/\n\t\treturn new Promise((resolve) => {\n\t\t\tformRRef.value.resetForm?.().then((r: any) => {\n\t\t\t\tresolve(r)\n\t\t\t})\n\t\t})\n\t}\n\n\tfunction refreshFormDom() {\n\t\t/*刷新表单dom，公开*/\n\t\treturn new Promise((resolve) => {\n\t\t\tformRRef.value.refreshFormDom?.().then((r: any) => {\n\t\t\t\tresolve(r)\n\t\t\t})\n\t\t})\n\t}\n\n\tfunction reRenderForm() {\n\t\t/*重新渲染表单，异步方法（公开）*/\n\t\treturn new Promise((resolve) => {\n\t\t\tformRRef.value.reRenderForm?.().then((r: any) => {\n\t\t\t\tresolve(r)\n\t\t\t})\n\t\t})\n\t}\n\n\tfunction setItemToValGroup(data: Record<string, any>, notClearOthers: boolean) {\n\t\t/*设置表单项的值（可添加新字段，例如添加隐藏字段，需要提交这个值，但页面不展示），公开*/\n\t\tformRRef.value.setItemToValGroup?.(data, notClearOthers)\n\t}\n\n\tfunction updateValGroup(data: Record<string, any>, notClearOthers: boolean) {\n\t\t/*更新表单项的值（只能更新已有字段），公开*/\n\t\tformRRef.value.updateValGroup?.(data, notClearOthers)\n\t}\n\n\tfunction updateFormDataT(data: Record<string, any> | Record<string, any>[]) {\n\t\t/*更新表单结构，例如设置或取消禁用，公开*/\n\t\tformRRef.value.updateFormDataT?.(data)\n\t}\n\n\tfunction validate() {\n\t\t/*验证表单，公开*/\n\t\tformRRef.value.validate?.()\n\t}\n\n\tfunction reValidate(prop: any) {\n\t\t/*手动验证表单项（公开）*/\n\t\tformRRef.value.reValidate?.(prop)\n\t}\n\n\tfunction changeLoading(val: any) {\n\t\t/*改变确定按钮loading状态，私有*/\n\t\tif (val === undefined) {\n\t\t\treturn\n\t\t}\n\t\tshowLoading.value = Boolean(val)\n\t\tformRRef.value.changeLoading?.(showLoading.value)\n\t}\n\n\tfunction getValGroup() {\n\t\t/*获取用户已填数据，公开*/\n\t\treturn formRRef.value.getValGroup?.()\n\t}\n\n\tfunction onSubmit() {\n\t\t/*响应提交事件提交数据，私有*/\n\t\tshowLoading.value = true\n\t}\n\n\tfunction submit() {\n\t\t/*触发提交事件，公开*/\n\t\tformRRef.value.submit?.()\n\t}\n\n\tfunction close() {\n\t\t/*触发取消按钮点击事件，公开*/\n\t\temit('on-cancel')\n\t\tsetTimeout(() => {\n\t\t\tshowLoading.value = false\n\t\t\tformRRef.value.changeLoading?.(false)\n\t\t}, 1000)\n\t}\n\n\tdefineExpose({\n\t\tresetForm,\n\t\trefreshFormDom,\n\t\treRenderForm,\n\t\tsetItemToValGroup,\n\t\tupdateValGroup,\n\t\tupdateFormDataT,\n\t\tvalidate,\n\t\treValidate,\n\t\tchangeLoading,\n\t\tgetValGroup,\n\t\tsubmit,\n\t\tclose\n\t})\n</script>\n\n<template>\n\t<div :style=\"formGroupStyle\" class=\"formGroupBoxVM\">\n\t\t<form-r\n\t\t\tref=\"formRRef\"\n\t\t\tv-bind=\"$attrs\"\n\t\t\t:form-data=\"props.formData\"\n\t\t\t:label-width=\"props.labelWidth\"\n\t\t\t:content-width=\"props.contentWidth\"\n\t\t\t:item-width=\"props.itemWidth\"\n\t\t\t:btnLoading=\"props.btnLoading\"\n\t\t\t@on-submit=\"onSubmit\"\n\t\t>\n\t\t\t<template #[item.slotName]=\"{ valGroup }\" v-for=\"item in formDataC\">\n\t\t\t\t<slot :name=\"item.slotName\" :val-group=\"valGroup\" />\n\t\t\t</template>\n\t\t</form-r>\n\t\t<div\n\t\t\tclass=\"formFooterVM\"\n\t\t\tv-show=\"props.showOkBt || props.showCancelBt\"\n\t\t\t:style=\"{ marginLeft: props.labelWidth + 'px' }\"\n\t\t>\n\t\t\t<div :style=\"{ width: props.contentWidth }\" class=\"btnBoxKAL\">\n\t\t\t\t<Button\n\t\t\t\t\t@click=\"submit\"\n\t\t\t\t\tclass=\"form-save-btn\"\n\t\t\t\t\tv-if=\"props.showOkBt\"\n\t\t\t\t\t:loading=\"props.btnLoading && showLoading\"\n\t\t\t\t\t>{{ props.okBtTxt || t('r.confirm') }}</Button\n\t\t\t\t>\n\t\t\t\t<Button @click=\"close\" class=\"form-cancel-btn\" v-if=\"props.showCancelBt\">{{\n\t\t\t\t\tprops.cancelBtTxt || t('r.cancel')\n\t\t\t\t}}</Button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n","<!--SearchForm 页面条件查询表单（行内）组件，一般配合btTablePage组件使用，自带查询按钮和清空按钮，用户只需要监听on-search事件取得表单采集的数据进行处理即可\n@created 2023.08.31\n@author Ricky email:zhangqingcq@foxmail.com-->\n\n<script lang=\"ts\" setup>\n\timport FormR from '../FormR/FormR.vue'\n\timport t from '../../locale/i18nSFC'\n\timport Proxy from '../../methods/proxy'\n\timport type { FormItem } from '../../public'\n\n\tconst emit = defineEmits(['on-search'])\n\tconst props = withDefaults(\n\t\tdefineProps<{\n\t\t\tformData?: Array<FormItem | FormItem[]> /*搜索表单结构数据*/\n\t\t\tlabelWidth?: number /*表单项标签宽度*/\n\t\t\titemWidth?: number /*表单项内容宽度,用于行内表单*/\n\t\t\tshowInlineOkBt?: boolean /*显示搜索按钮*/\n\t\t\tshowInlineClearBt?: boolean /*显示清空按钮*/\n\t\t}>(),\n\t\t{\n\t\t\tformData: () => [],\n\t\t\tlabelWidth: () => Proxy().searchFormLabelWidth,\n\t\t\titemWidth: 202,\n\t\t\tshowInlineOkBt: true,\n\t\t\tshowInlineClearBt: true\n\t\t}\n\t)\n\n\tconst formRRef = ref()\n\n\tconst formDataC = computed(() => {\n\t\tif (Array.isArray(props.formData[0])) {\n\t\t\tlet t: any[] = []\n\t\t\tfor (let f of props.formData) {\n\t\t\t\tt = t.concat(f.filter((e: any) => e.type === 'custom'))\n\t\t\t}\n\t\t\treturn t\n\t\t}\n\t\treturn props.formData.filter((e: any) => e.type === 'custom')\n\t})\n\n\tfunction resetForm() {\n\t\t/*重置表单，会清空表单值并刷新表单dom，异步方法，公开*/\n\t\treturn new Promise((resolve: any) => {\n\t\t\tformRRef.value.resetForm?.().then(() => {\n\t\t\t\tresolve()\n\t\t\t})\n\t\t})\n\t}\n\n\tfunction refreshFormDom() {\n\t\t/*刷新表单dom，公开*/\n\t\treturn new Promise((resolve: any) => {\n\t\t\tformRRef.value.refreshFormDom?.().then(() => {\n\t\t\t\tresolve()\n\t\t\t})\n\t\t})\n\t}\n\n\tfunction reRenderForm() {\n\t\t/*重新渲染表单，异步方法（公开）*/\n\t\treturn new Promise((resolve: any) => {\n\t\t\tformRRef.value.reRenderForm?.().then(() => {\n\t\t\t\tresolve()\n\t\t\t})\n\t\t})\n\t}\n\n\tfunction setItemToValGroup(data: Record<string, any>, notClearOthers: boolean) {\n\t\t/*设置表单项的值（可添加新字段，例如添加隐藏字段，需要提交这个值，但页面不展示），公开*/\n\t\tformRRef.value.setItemToValGroup?.(data, notClearOthers)\n\t}\n\n\tfunction updateValGroup(data: Record<string, any>, notClearOthers: boolean) {\n\t\t/*更新表单项的值（只能更新已有字段），公开*/\n\t\tformRRef.value.updateValGroup?.(data, notClearOthers)\n\t}\n\n\tfunction updateFormDataT(data: Record<string, any> | Record<string, any>[]) {\n\t\t/*更新表单结构，例如设置或取消禁用，公开*/\n\t\tformRRef.value.updateFormDataT?.(data)\n\t}\n\n\tfunction validate() {\n\t\t/*验证表单，公开*/\n\t\tformRRef.value.validate?.()\n\t}\n\n\tfunction reValidate(prop: any) {\n\t\t/*手动验证表单项（公开）*/\n\t\tformRRef.value.reValidate?.(prop)\n\t}\n\n\tfunction changeLoading(val: any) {\n\t\t/*改变弹框loading状态，私有*/\n\t\tformRRef.value.changeLoading?.(val === undefined ? false : val)\n\t}\n\n\tfunction getValGroup() {\n\t\t/*获取用户已填数据，公开*/\n\t\treturn formRRef.value.getValGroup?.()\n\t}\n\n\tfunction onSubmit(data: any) {\n\t\t/*响应提交事件提交数据，私有*/\n\t\temit('on-search', data)\n\t}\n\n\tfunction submit() {\n\t\t/*触发提交事件，公开*/\n\t\tformRRef.value.submit?.()\n\t}\n\n\tdefineExpose({\n\t\tresetForm,\n\t\trefreshFormDom,\n\t\treRenderForm,\n\t\tsetItemToValGroup,\n\t\tupdateValGroup,\n\t\tupdateFormDataT,\n\t\tvalidate,\n\t\treValidate,\n\t\tchangeLoading,\n\t\tgetValGroup,\n\t\tsubmit\n\t})\n</script>\n\n<template>\n\t<form-r\n\t\tref=\"formRRef\"\n\t\tv-bind=\"$attrs\"\n\t\t:form-data=\"props.formData\"\n\t\t:label-width=\"props.labelWidth\"\n\t\t:item-width=\"props.itemWidth\"\n\t\tinline\n\t\t:show-long-ok-bt=\"false\"\n\t\t:show-inline-ok-bt=\"props.showInlineOkBt\"\n\t\t:inline-ok-bt-txt=\"t('r.check')\"\n\t\t:show-inline-clear-bt=\"props.showInlineClearBt\"\n\t\t:show-message=\"false\"\n\t\t@on-submit=\"onSubmit\"\n\t>\n\t\t<template #[item.slotName]=\"{ valGroup }\" v-for=\"item in formDataC\">\n\t\t\t<slot :name=\"item.slotName\" :val-group=\"valGroup\" />\n\t\t</template>\n\t</form-r>\n</template>\n","<!--FormModal 表单和弹框的组合组件，表单相关用法参考FormR，弹框支持调用方法开关，通过属性配置等，常被当作新增、编辑弹框使用\n@created 2023.08.31\n@author Ricky email:zhangqingcq@foxmail.com-->\n\n<script lang=\"ts\" setup>\n\timport t from '../../locale/i18nSFC'\n\timport Proxy from '../../methods/proxy'\n\timport { setTimeout } from '../../methods/timer'\n\timport FormR from '../FormR/FormR.vue'\n\timport type { FormItem } from '../../public'\n\n\tconst emit = defineEmits(['on-close', 'on-open'])\n\tconst props = withDefaults(\n\t\tdefineProps<{\n\t\t\ttitle?: string /*弹框标题*/\n\t\t\tformData?: Array<FormItem | FormItem[]> /*弹框结构数据*/\n\t\t\twidth?: number | string /*弹框宽度*/\n\t\t\tlabelWidth?: number /*表单项标签宽度*/\n\t\t\tokBtTxt?: string /*确定按钮内容*/\n\t\t\tcancelBtTxt?: string /*取消按钮内容*/\n\t\t\thideCancelBt?: boolean /*隐藏取消按钮（只显示确定按钮，点击确定关闭弹框，如“查看”弹框）*/\n\t\t\thideFooter?: boolean /*隐藏底栏*/\n\t\t\tbtnLoading?: boolean /*提交按钮显示loading*/\n\t\t}>(),\n\t\t{\n\t\t\tformData: () => [],\n\t\t\twidth: 520,\n\t\t\tlabelWidth: () => Proxy().formModalLabelWidth,\n\t\t\thideCancelBt: false,\n\t\t\thideFooter: false,\n\t\t\tbtnLoading: false\n\t\t}\n\t)\n\n\tconst formRRef = ref()\n\tconst openModal = ref(false)\n\tconst showLoading = ref(false)\n\n\tconst formDataC = computed(() => {\n\t\tif (Array.isArray(props.formData[0])) {\n\t\t\tlet t: any[] = []\n\t\t\tfor (let f of props.formData) {\n\t\t\t\tt = t.concat(f.filter((e: any) => e.type === 'custom'))\n\t\t\t}\n\t\t\treturn t\n\t\t}\n\t\treturn props.formData.filter((e: any) => e.type === 'custom')\n\t})\n\n\tfunction resetForm() {\n\t\t/*重置表单，会清空表单值并刷新表单dom，异步方法，公开*/\n\t\treturn new Promise((resolve: any) => {\n\t\t\tformRRef.value.resetForm?.().then(() => {\n\t\t\t\tresolve()\n\t\t\t})\n\t\t})\n\t}\n\n\tfunction refreshFormDom() {\n\t\t/*刷新表单dom，公开*/\n\t\treturn new Promise((resolve: any) => {\n\t\t\tformRRef.value.refreshFormDom?.().then(() => {\n\t\t\t\tresolve()\n\t\t\t})\n\t\t})\n\t}\n\n\tfunction reRenderForm() {\n\t\t/*重新渲染表单，异步方法（公开）*/\n\t\treturn new Promise((resolve: any) => {\n\t\t\tformRRef.value.reRenderForm?.().then(() => {\n\t\t\t\tresolve()\n\t\t\t})\n\t\t})\n\t}\n\n\tfunction setItemToValGroup(data: Record<string, any>, notClearOthers: boolean) {\n\t\t/*设置表单项的值（公开，可添加新字段，例如添加隐藏字段，需要提交这个值，但页面不展示）*/\n\t\tformRRef.value.setItemToValGroup?.(data, notClearOthers)\n\t}\n\n\tfunction updateValGroup(data: Record<string, any>, notClearOthers: boolean) {\n\t\t/*更新表单项的值（公开，只能更新已有字段）*/\n\t\tformRRef.value.updateValGroup?.(data, notClearOthers)\n\t}\n\n\tfunction updateFormDataT(data: Record<string, any> | Record<string, any>[]) {\n\t\t/*更新表单结构，例如设置或取消禁用，公开*/\n\t\tformRRef.value.updateFormDataT?.(data)\n\t}\n\n\tfunction validate() {\n\t\t/*验证表单，公开*/\n\t\tformRRef.value.validate?.()\n\t}\n\n\tfunction reValidate(prop: any) {\n\t\t/*手动验证表单项（公开）*/\n\t\tformRRef.value.reValidate?.(prop)\n\t}\n\n\tfunction changeLoading(val: any) {\n\t\t/*改变弹框loading状态，私有*/\n\t\tif (val === undefined) {\n\t\t\treturn\n\t\t}\n\t\tshowLoading.value = Boolean(val)\n\t\tformRRef.value.changeLoading?.(showLoading.value)\n\t}\n\n\tfunction getValGroup() {\n\t\t/*获取用户已填数据，公开*/\n\t\treturn formRRef.value.getValGroup?.()\n\t}\n\n\tfunction onSubmit() {\n\t\t/*响应提交事件提交数据，私有*/\n\t\tshowLoading.value = true\n\t}\n\n\tfunction submit() {\n\t\t/*触发提交事件，公开*/\n\t\tif (props.hideCancelBt) {\n\t\t\tclose()\n\t\t} else {\n\t\t\tformRRef.value.submit?.()\n\t\t}\n\t}\n\n\tfunction open() {\n\t\t/*触发打开弹框事件，公开*/\n\t\topenModal.value = true\n\t}\n\n\tfunction close() {\n\t\t/*触发关闭弹框事件，公开*/\n\t\topenModal.value = false\n\t\tsetTimeout(() => {\n\t\t\tshowLoading.value = false\n\t\t\tformRRef.value.changeLoading?.(false)\n\t\t}, 1000)\n\t}\n\n\tfunction handleVisibleChange(show: any) {\n\t\t/*弹框开关状况改变处理，私有*/\n\t\tif (!show) {\n\t\t\temit('on-close')\n\t\t} else {\n\t\t\temit('on-open')\n\t\t}\n\t}\n\n\tdefineExpose({\n\t\tresetForm,\n\t\trefreshFormDom,\n\t\treRenderForm,\n\t\tsetItemToValGroup,\n\t\tupdateValGroup,\n\t\tupdateFormDataT,\n\t\tvalidate,\n\t\treValidate,\n\t\tchangeLoading,\n\t\tgetValGroup,\n\t\tsubmit,\n\t\topen,\n\t\tclose\n\t})\n</script>\n\n<template>\n\t<Modal\n\t\tclass=\"formModal\"\n\t\t:title=\"props.title || t('r.title')\"\n\t\tv-model=\"openModal\"\n\t\t:mask-closable=\"false\"\n\t\t:footer-hide=\"props.hideFooter\"\n\t\t:class=\"{ hideFooter: props.hideFooter }\"\n\t\t:width=\"props.width\"\n\t\t@on-visible-change=\"handleVisibleChange\"\n\t>\n\t\t<form-r\n\t\t\tref=\"formRRef\"\n\t\t\tv-bind=\"$attrs\"\n\t\t\t:form-data=\"props.formData\"\n\t\t\t:label-width=\"props.labelWidth\"\n\t\t\t:btnLoading=\"props.btnLoading\"\n\t\t\t@on-submit=\"onSubmit\"\n\t\t>\n\t\t\t<template #[item.slotName]=\"{ valGroup }\" v-for=\"item in formDataC\">\n\t\t\t\t<slot :name=\"item.slotName\" :val-group=\"valGroup\" />\n\t\t\t</template>\n\t\t</form-r>\n\t\t<template #footer>\n\t\t\t<Button @click=\"submit\" class=\"modal-save-btn\" :loading=\"props.btnLoading && showLoading\">{{\n\t\t\t\tprops.okBtTxt || t('r.confirm')\n\t\t\t}}</Button>\n\t\t\t<Button @click=\"close\" class=\"modal-cancel-btn\" v-if=\"!props.hideCancelBt\">{{\n\t\t\t\tprops.cancelBtTxt || t('r.cancel')\n\t\t\t}}</Button>\n\t\t</template>\n\t</Modal>\n</template>\n","<!--CheckboxTree 复选框树，支持v-model，可自定义label和v-model收集字段，可定义v-model只收集叶子节点数据或全部选中的节点数据\n@created 2023.09.01\n@author Ricky email:zhangqingcq@foxmail.com-->\n\n<script lang=\"ts\" setup>\n\timport { setValByOption } from '../../methods/globalFunc'\n\timport { findIndex, find, cloneDeep } from 'lodash-es'\n\n\tconst emit = defineEmits(['update:modelValue', 'on-change'])\n\tconst props = withDefaults(\n\t\tdefineProps<{\n\t\t\tmodelValue?: any[] /*选中的节点的集合（内容依据collectVal中的字段）*/\n\t\t\tdata?: any[] /*树结构数据*/\n\t\t\texpandAll?: boolean /*是否默认全部展开*/\n\t\t\tlabel?: string /*节点的标签*/\n\t\t\tcollectVal?: string | string[] /*v-model收集节点的哪些字段*/\n\t\t\tleaf?: boolean /*叶子节点模式，v-model只返回叶子节点数据，任何选择操作都会选择叶子节点*/\n\t\t\tinlineLeaf?: boolean /*叶子节点为行内模式，横向排列*/\n\t\t\tdisabled?: boolean /*禁用整颗树的checkbox选择功能*/\n\t\t}>(),\n\t\t{\n\t\t\tmodelValue: () => [],\n\t\t\tdata: () => [],\n\t\t\texpandAll: false,\n\t\t\tlabel: 'name',\n\t\t\tcollectVal: 'id',\n\t\t\tleaf: true,\n\t\t\tinlineLeaf: false,\n\t\t\tdisabled: false\n\t\t}\n\t)\n\n\tconst initTree = ref(true)\n\tconst dataT = ref<any[]>([])\n\tconst id = 'CKT' + Math.floor(Math.random() * 10000000 + 10000000)\n\tlet valueE: any[] = []\n\tconst collectValT = computed(() => {\n\t\tif (Array.isArray(props.collectVal)) {\n\t\t\treturn props.collectVal\n\t\t} else if (typeof props.collectVal === 'string') {\n\t\t\treturn [props.collectVal]\n\t\t}\n\t\treturn []\n\t})\n\tconst valueT = computed(() => {\n\t\tif (Array.isArray(props.modelValue)) {\n\t\t\treturn props.modelValue\n\t\t}\n\t\treturn []\n\t})\n\n\twatch(\n\t\t() => props.data,\n\t\t(after: any) => {\n\t\t\tinitTree.value = false\n\t\t\tlet temp: any[] = []\n\t\t\tinitData(after, temp)\n\t\t\tdataT.value = temp\n\t\t\tnextTick(function () {\n\t\t\t\tinitTree.value = true\n\n\t\t\t\tif (props.inlineLeaf) {\n\t\t\t\t\tnextTick(changeStyle)\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t{\n\t\t\timmediate: true,\n\t\t\tdeep: true\n\t\t}\n\t)\n\n\twatch(\n\t\t() => valueT.value,\n\t\t(after: any) => {\n\t\t\tlet key: string\n\t\t\tlet type = 's'\n\t\t\tif (Array.isArray(props.collectVal)) {\n\t\t\t\tkey = props.collectVal[0] || ''\n\t\t\t\ttype = 'a'\n\t\t\t} else {\n\t\t\t\tkey = props.collectVal\n\t\t\t}\n\t\t\tif (!key || JSON.stringify(after) === JSON.stringify(valueE)) {\n\t\t\t\tvalueE = []\n\t\t\t\treturn\n\t\t\t}\n\t\t\t/*清空dataT已选*/\n\t\t\tsetValByOption({\n\t\t\t\tgroup: dataT.value,\n\t\t\t\tcondition: (e: any) => e.checked === true,\n\t\t\t\tkey: 'checked',\n\t\t\t\tval: false\n\t\t\t})\n\t\t\t/*根据value设置dataT的已选*/\n\t\t\tif (type === 'a') {\n\t\t\t\tsetValByOption({\n\t\t\t\t\tgroup: dataT.value,\n\t\t\t\t\tcondition: (e) => findIndex(after, [key, e[key]]) !== -1,\n\t\t\t\t\tkey: 'checked',\n\t\t\t\t\tval: true\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tsetValByOption({\n\t\t\t\t\tgroup: dataT.value,\n\t\t\t\t\tcondition: (e) => after.indexOf(e[key]) !== -1,\n\t\t\t\t\tkey: 'checked',\n\t\t\t\t\tval: true\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t)\n\n\twatch(\n\t\t() => props.disabled,\n\t\t(after: any) => {\n\t\t\tsetValByOption({\n\t\t\t\tgroup: dataT.value,\n\t\t\t\tcondition: (e) => e.disableCheckbox !== after,\n\t\t\t\tkey: 'disableCheckbox',\n\t\t\t\tval: after\n\t\t\t})\n\t\t\tif (props.inlineLeaf) {\n\t\t\t\tnextTick(changeStyle)\n\t\t\t}\n\t\t},\n\t\t{ immediate: true }\n\t)\n\n\tfunction initData(data: any[], root: any[] = []) {\n\t\tfor (let item of data) {\n\t\t\tlet checked = false\n\t\t\tif (collectValT.value.length > 1) {\n\t\t\t\t/*valueT的元素为Object*/\n\t\t\t\tchecked = find(valueT.value, (e: any) => e[collectValT.value[0]] === item[collectValT.value[0]]) !== undefined\n\t\t\t} else {\n\t\t\t\tchecked = collectValT.value[0] ? valueT.value.indexOf(item[collectValT.value[0]]) !== -1 : false\n\t\t\t}\n\t\t\tlet temp: Record<string, any> = {\n\t\t\t\tname: item[props.label],\n\t\t\t\texpand: Boolean(props.expandAll || item.expand),\n\t\t\t\tchecked: checked,\n\t\t\t\tdisableCheckbox: props.disabled\n\t\t\t}\n\t\t\tfor (let keyI of collectValT.value) {\n\t\t\t\ttemp[keyI] = item[keyI]\n\t\t\t}\n\t\t\troot.push(temp)\n\t\t\tif (item.children && item.children.length > 0) {\n\t\t\t\ttemp.children = []\n\t\t\t\tinitDataB(item.children, temp.children)\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction initDataB(data: any[], root: any[] = []) {\n\t\tfor (let item of data) {\n\t\t\tlet checked = false\n\t\t\tif (collectValT.value.length > 1) {\n\t\t\t\t/*valueT的元素为Object*/\n\t\t\t\tchecked = find(valueT.value, (e) => e[collectValT.value[0]] === item[collectValT.value[0]]) !== undefined\n\t\t\t} else {\n\t\t\t\tchecked = collectValT.value[0] ? valueT.value.indexOf(item[collectValT.value[0]]) !== -1 : false\n\t\t\t}\n\t\t\tlet temp: Record<string, any> = {\n\t\t\t\tname: item[props.label],\n\t\t\t\texpand: Boolean(props.expandAll || item.expand),\n\t\t\t\tchecked: checked,\n\t\t\t\tdisableCheckbox: props.disabled\n\t\t\t}\n\t\t\tfor (let keyI of collectValT.value) {\n\t\t\t\ttemp[keyI] = item[keyI]\n\t\t\t}\n\t\t\troot.push(temp)\n\t\t\tif (item.children && item.children.length > 0) {\n\t\t\t\ttemp.children = []\n\t\t\t\tinitData(item.children, temp.children)\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction renderContent(\n\t\th: any,\n\t\t{\n\t\t\tdata\n\t\t}: {\n\t\t\tdata: any\n\t\t}\n\t) {\n\t\tlet classA = ''\n\t\tlet isLeaf = true\n\t\tif (data.children && data.children.length > 0) {\n\t\t\tfor (let ii of data.children) {\n\t\t\t\tif (ii.children !== undefined) {\n\t\t\t\t\tisLeaf = false\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (isLeaf && props.inlineLeaf) {\n\t\t\t\tclassA = 'inlineChildXA'\n\t\t\t}\n\t\t}\n\t\treturn h(\n\t\t\t'div',\n\t\t\t{\n\t\t\t\tstyle: {\n\t\t\t\t\tdisplay: 'inline-block',\n\t\t\t\t\twidth: '100%'\n\t\t\t\t},\n\t\t\t\tclass: classA\n\t\t\t},\n\t\t\t[\n\t\t\t\th(\n\t\t\t\t\t'span',\n\t\t\t\t\t{\n\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\tfontWeight: data.children ? 'bold' : 'normal'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tdata.name\n\t\t\t\t)\n\t\t\t]\n\t\t)\n\t}\n\n\tfunction changeStyle(data?: Record<string, any>) {\n\t\tif (data) {\n\t\t\tif (data.expand) {\n\t\t\t\tnextTick(changeStyle)\n\t\t\t}\n\t\t\treturn\n\t\t}\n\t\tlet arr = document.querySelectorAll('#' + id + ' .inlineChildXA')\n\t\tif (arr.length > 0) {\n\t\t\tfor (let item of arr) {\n\t\t\t\tlet parent = item.parentElement\n\t\t\t\tlet tt = parent?.nextElementSibling\n\t\t\t\tif (!tt) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tif (tt.tagName !== 'BR') {\n\t\t\t\t\tlet grandParent = parent?.parentElement\n\t\t\t\t\tlet br = document.createElement('br')\n\t\t\t\t\tgrandParent?.insertBefore(br, tt)\n\t\t\t\t\ttt = br.nextElementSibling\n\t\t\t\t\tif (tt?.className.indexOf('inlineTreeNodeF') === -1) {\n\t\t\t\t\t\ttt.setAttribute('class', tt.className + ' inlineTreeNodeF')\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\twhile (tt?.nextElementSibling) {\n\t\t\t\t\ttt = tt.nextElementSibling\n\t\t\t\t\tif (tt.className.indexOf('inlineTreeNodeF') === -1) {\n\t\t\t\t\t\ttt.setAttribute('class', tt.className + ' inlineTreeNodeF')\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction updateVal(data: any[]) {\n\t\tlet temp: any[] = []\n\t\tif (props.leaf) {\n\t\t\tfor (let item of data) {\n\t\t\t\tif (!item.children) {\n\t\t\t\t\tif (Array.isArray(props.collectVal)) {\n\t\t\t\t\t\tlet valT: Record<string, any> = {}\n\t\t\t\t\t\tfor (let keyI of props.collectVal) {\n\t\t\t\t\t\t\tvalT[keyI] = item[keyI]\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttemp.push(valT)\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttemp.push(item[props.collectVal])\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tfor (let item of data) {\n\t\t\t\tif (Array.isArray(props.collectVal)) {\n\t\t\t\t\tlet valT: Record<string, any> = {}\n\t\t\t\t\tfor (let keyI of props.collectVal) {\n\t\t\t\t\t\tvalT[keyI] = item[keyI]\n\t\t\t\t\t}\n\t\t\t\t\ttemp.push(valT)\n\t\t\t\t} else {\n\t\t\t\t\ttemp.push(item[props.collectVal])\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tvalueE = temp\n\t\temit('update:modelValue', temp)\n\t\temit('on-change', cloneDeep(temp))\n\t}\n</script>\n\n<template>\n\t<Tree\n\t\t:id=\"id\"\n\t\tclass=\"checkboxTreeGA\"\n\t\tv-if=\"initTree\"\n\t\t:data=\"dataT\"\n\t\t:render=\"renderContent\"\n\t\t@on-check-change=\"updateVal\"\n\t\t@on-toggle-expand=\"changeStyle\"\n\t\tshow-checkbox\n\t/>\n</template>\n","<!--TransferBox 穿梭框，左右两套由筛选表单-表格-页签集成的UI组件之间的数据穿梭，左右表格数据皆来自接口，穿梭时自动请求接口，然后自动刷新数据\n@created 2023.09.04\n@author Ricky email:zhangqingcq@foxmail.com-->\n<script lang=\"ts\" setup>\n\timport { isEmpty } from 'lodash-es'\n\timport t from '../../locale/i18nSFC'\n\timport $fetch from '../../methods/fetch'\n\timport $swal from '../../methods/swal'\n\timport ShowHidePanel from '../ShowHidePanel/ShowHidePanel.vue'\n\timport SearchForm from '../SearchForm/SearchForm.vue'\n\timport BtTablePage from '../BtTablePage/BtTablePage.vue'\n\n\tconst emit = defineEmits(['transferred'])\n\tconst props = withDefaults(\n\t\tdefineProps<{\n\t\t\ttitleLeft?: string\n\t\t\ttitleRight?: string\n\t\t\tformDataLeft?: any[]\n\t\t\tformDataRight?: any[]\n\t\t\tformRulesLeft?: Record<string, any>\n\t\t\tformRulesRight?: Record<string, any>\n\t\t\tconstSearchDataLeft?: Record<string, any>\n\t\t\tconstSearchDataRight?: Record<string, any>\n\t\t\tleftTableColumns?: any[]\n\t\t\trightTableColumns?: any[]\n\t\t\tleftTableUrl?: string\n\t\t\trightTableUrl?: string\n\t\t\taddUrl?: string\n\t\t\tdeleteUrl?: string\n\t\t\taddAllUrl?: string\n\t\t\tdeleteAllUrl?: string\n\t\t\taddParamsHandle?: (d: any) => any\n\t\t\tdeleteParamsHandle?: (d: any) => any\n\t\t\taddAllParamsHandle?: (d: any) => any\n\t\t\tdeleteAllParamsHandle?: (d: any) => any\n\t\t\taddMethod?: 'post' | 'put' | 'get'\n\t\t\taddAllMethod?: 'post' | 'put' | 'get'\n\t\t\tdeleteMethod?: 'delete' | 'post' | 'put' | 'get'\n\t\t\tdeleteAllMethod?: 'delete' | 'post' | 'put' | 'get'\n\t\t\tsearchFormLabelWith?: number\n\t\t}>(),\n\t\t{\n\t\t\tformDataLeft: () => [],\n\t\t\tformDataRight: () => [],\n\t\t\tformRulesLeft: () => ({}),\n\t\t\tformRulesRight: () => ({}),\n\t\t\tconstSearchDataLeft: () => ({}),\n\t\t\tconstSearchDataRight: () => ({}),\n\t\t\tleftTableColumns: () => [],\n\t\t\trightTableColumns: () => [],\n\t\t\taddParamsHandle: (selection: any[]) => selection.map((e: any) => e.id),\n\t\t\tdeleteParamsHandle: (selection: any[]) => selection.map((e: any) => e.id),\n\t\t\taddAllParamsHandle: (searchData: Record<string, any>) => searchData,\n\t\t\tdeleteAllParamsHandle: (searchData: Record<string, any>) => searchData,\n\t\t\taddMethod: 'post',\n\t\t\taddAllMethod: 'post',\n\t\t\tdeleteMethod: 'delete',\n\t\t\tdeleteAllMethod: 'delete'\n\t\t}\n\t)\n\n\tlet searchDataLeft = ref<Record<string, any>>({})\n\tlet searchDataRight = ref<Record<string, any>>({})\n\tlet lSelection = ref<any[]>([])\n\tlet rSelection = ref<any[]>([])\n\tlet leftTotal = ref(0)\n\tlet rightTotal = ref(0)\n\n\tconst leftTableSearchData = computed(() => ({ ...props.constSearchDataLeft, ...searchDataLeft.value }))\n\tconst rightTableSearchData = computed(() => ({ ...props.constSearchDataRight, ...searchDataRight.value }))\n\tconst delAllDis = computed(() => leftTotal.value < 1)\n\tconst deleteDis = computed(() => lSelection.value.length < 1)\n\tconst addDis = computed(() => rSelection.value.length < 1)\n\tconst addAllDis = computed(() => rightTotal.value < 1)\n\n\tconst leftFormRef = ref()\n\tconst rightFormRef = ref()\n\tconst lTabRef = ref()\n\tconst rTabRef = ref()\n\n\t/*重置穿梭框（公开）*/\n\tfunction reset() {\n\t\tleftFormRef.value.resetForm()\n\t\trightFormRef.value.resetForm()\n\t\tif (!isEmpty(searchDataLeft.value)) {\n\t\t\tsearchDataLeft.value = {}\n\t\t}\n\t\tif (!isEmpty(searchDataRight.value)) {\n\t\t\tsearchDataRight.value = {}\n\t\t}\n\t\tlTabRef.value.clearSelect()\n\t\trTabRef.value.clearSelect()\n\t}\n\n\t/*主动触发筛选/刷新数据（公开）*/\n\tfunction search() {\n\t\tlTabRef.value.search()\n\t\trTabRef.value.search()\n\t}\n\n\t/*私有*/\n\tfunction lSelectionChange(s: any) {\n\t\tlSelection.value = s\n\t}\n\n\t/*私有*/\n\tfunction rSelectionChange(s: any) {\n\t\trSelection.value = s\n\t}\n\n\t/*私有*/\n\tfunction dataChangeL(d: Record<string, any>) {\n\t\tleftTotal.value = d?.data?.page?.total || d?.data?.data?.total || d?.data?.total || d?.total || 0\n\t}\n\n\t/*私有*/\n\tfunction dataChangeR(d: Record<string, any>) {\n\t\trightTotal.value = d?.data?.page?.total || d?.data?.data?.total || d?.data?.total || d?.total || 0\n\t}\n\n\t/*私有*/\n\tfunction searchLeft(d: any) {\n\t\tsearchDataLeft.value = d\n\t}\n\n\t/*私有*/\n\tfunction searchRight(d: any) {\n\t\tsearchDataRight.value = d\n\t}\n\n\t/*私有*/\n\tfunction add() {\n\t\tif (props.addUrl) {\n\t\t\tfetchX('add')\n\t\t}\n\t}\n\n\t/*私有*/\n\tfunction remove() {\n\t\tif (props.deleteUrl) {\n\t\t\tfetchX('delete')\n\t\t}\n\t}\n\n\t/*私有*/\n\tfunction addAll() {\n\t\tif (props.addAllUrl && props.addUrl) {\n\t\t\tfetchX('addAll')\n\t\t}\n\t}\n\n\t/*私有*/\n\tfunction removeAll() {\n\t\tif (props.deleteAllUrl) {\n\t\t\tfetchX('deleteAll')\n\t\t}\n\t}\n\n\t/*私有*/\n\tfunction fetchX(action: 'add' | 'delete' | 'addAll' | 'deleteAll') {\n\t\tlet method\n\t\tlet url\n\t\tlet data: Record<string, any> = {}\n\t\tlet msg = ''\n\t\tswitch (action) {\n\t\t\tcase 'add':\n\t\t\t\tmethod = props.addMethod\n\t\t\t\turl = props.addUrl\n\t\t\t\tdata = props.addParamsHandle(rSelection.value)\n\t\t\t\tmsg = t('r.add')\n\t\t\t\tbreak\n\t\t\tcase 'delete':\n\t\t\t\tmethod = props.deleteMethod\n\t\t\t\turl = props.deleteUrl\n\t\t\t\tdata = props.deleteParamsHandle(lSelection.value)\n\t\t\t\tmsg = t('r.remove')\n\t\t\t\tbreak\n\t\t\tcase 'addAll':\n\t\t\t\tmethod = props.addAllMethod\n\t\t\t\turl = props.addAllUrl\n\t\t\t\tdata = props.addAllParamsHandle(rightTableSearchData.value)\n\t\t\t\tmsg = t('r.addAll')\n\t\t\t\tbreak\n\t\t\tcase 'deleteAll':\n\t\t\t\tmethod = props.deleteAllMethod\n\t\t\t\turl = props.deleteAllUrl\n\t\t\t\tdata = props.deleteAllParamsHandle(leftTableSearchData.value)\n\t\t\t\tmsg = t('r.removeAll')\n\t\t\t\tbreak\n\t\t}\n\t\tif (url && method) {\n\t\t\t$fetch[method](url, data, null, [], { spin: true }, false)\n\t\t\t\t.then((r: any) => {\n\t\t\t\t\tif (r?.code === 0) {\n\t\t\t\t\t\t$swal(msg + t('r.success'), r?.message || '', 'success')\n\t\t\t\t\t\tif (lTabRef.value) {\n\t\t\t\t\t\t\tlTabRef.value.getTableData()\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (rTabRef.value) {\n\t\t\t\t\t\t\trTabRef.value.getTableData()\n\t\t\t\t\t\t}\n\t\t\t\t\t\temit('transferred')\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$swal(msg + t('r.failed'), r?.message || '', 'error')\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\t$swal(msg + t('r.error'), '', 'error')\n\t\t\t\t})\n\t\t}\n\t}\n\n\tdefineExpose({\n\t\treset,\n\t\tsearch\n\t})\n</script>\n\n<template>\n\t<div class=\"transferBoxRL\">\n\t\t<div class=\"leftBoxLLL\">\n\t\t\t<div class=\"fullHeight flexColumnBox\">\n\t\t\t\t<div class=\"notGrow\">\n\t\t\t\t\t<div class=\"titleLLL\">{{ props.titleLeft || t('r.added') }}</div>\n\t\t\t\t\t<show-hide-panel>\n\t\t\t\t\t\t<search-form\n\t\t\t\t\t\t\tref=\"leftFormRef\"\n\t\t\t\t\t\t\t:form-data=\"props.formDataLeft\"\n\t\t\t\t\t\t\t:form-rules=\"props.formRulesLeft\"\n\t\t\t\t\t\t\t:label-width=\"props.searchFormLabelWith\"\n\t\t\t\t\t\t\t@on-search=\"searchLeft\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</show-hide-panel>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"growFlexItem\">\n\t\t\t\t\t<bt-table-page\n\t\t\t\t\t\tref=\"lTabRef\"\n\t\t\t\t\t\t:columns=\"props.leftTableColumns\"\n\t\t\t\t\t\t:url=\"props.leftTableUrl\"\n\t\t\t\t\t\t:search-data=\"leftTableSearchData\"\n\t\t\t\t\t\t@on-selection-change=\"lSelectionChange\"\n\t\t\t\t\t\t@on-data-change=\"dataChangeL\"\n\t\t\t\t\t\t:init-data=\"Boolean(isEmpty(props.constSearchDataLeft) && props.leftTableUrl)\"\n\t\t\t\t\t\tget-data-loading\n\t\t\t\t\t\tselection\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"middleBoxLLL\">\n\t\t\t<Button class=\"middleBtLLL\" size=\"large\" type=\"default\" @click=\"removeAll\" :disabled=\"delAllDis\"\n\t\t\t\t>{{ t('r.removeAll') }}\n\t\t\t\t<Icon type=\"ios-arrow-forward\" />\n\t\t\t</Button>\n\t\t\t<Button class=\"middleBtLLL\" size=\"large\" type=\"default\" @click=\"remove\" :disabled=\"deleteDis\"\n\t\t\t\t>{{ t('r.remove') }}\n\t\t\t\t<Icon type=\"ios-arrow-forward\" />\n\t\t\t</Button>\n\t\t\t<Button class=\"middleBtLLL\" size=\"large\" type=\"primary\" @click=\"add\" :disabled=\"addDis\">\n\t\t\t\t<Icon type=\"ios-arrow-back\" />\n\t\t\t\t{{ t('r.add') }}</Button\n\t\t\t>\n\t\t\t<Button class=\"middleBtLLL\" size=\"large\" type=\"primary\" @click=\"addAll\" :disabled=\"addAllDis\">\n\t\t\t\t<Icon type=\"ios-arrow-back\" />\n\t\t\t\t{{ t('r.addAll') }}</Button\n\t\t\t>\n\t\t</div>\n\n\t\t<div class=\"rightBoxLLL\">\n\t\t\t<div class=\"fullHeight flexColumnBox\">\n\t\t\t\t<div class=\"notGrow\">\n\t\t\t\t\t<div class=\"titleLLL\">{{ props.titleRight || t('r.notAdded') }}</div>\n\n\t\t\t\t\t<show-hide-panel>\n\t\t\t\t\t\t<search-form\n\t\t\t\t\t\t\tref=\"rightFormRef\"\n\t\t\t\t\t\t\t:form-data=\"props.formDataRight\"\n\t\t\t\t\t\t\t:form-rules=\"props.formRulesRight\"\n\t\t\t\t\t\t\t:label-width=\"props.searchFormLabelWith\"\n\t\t\t\t\t\t\t@on-search=\"searchRight\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</show-hide-panel>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"growFlexItem\">\n\t\t\t\t\t<bt-table-page\n\t\t\t\t\t\tref=\"rTabRef\"\n\t\t\t\t\t\t:columns=\"props.rightTableColumns\"\n\t\t\t\t\t\t:url=\"props.rightTableUrl\"\n\t\t\t\t\t\t:search-data=\"rightTableSearchData\"\n\t\t\t\t\t\t@on-selection-change=\"rSelectionChange\"\n\t\t\t\t\t\t@on-data-change=\"dataChangeR\"\n\t\t\t\t\t\t:init-data=\"Boolean(isEmpty(props.constSearchDataRight) && props.rightTableUrl)\"\n\t\t\t\t\t\tget-data-loading\n\t\t\t\t\t\tselection\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n","<!--CheckboxGroupTwoClass 二级复选框组，支持v-model，可自定义label和v-model收集字段，可定义v-model只收集叶子节点数据或全部选中的节点数据\r\n@created 2023.10.17\r\n@author Ricky email:zhangqingcq@foxmail.com-->\r\n\r\n<script lang=\"ts\" setup>\r\n\timport { cloneDeep, isEmpty, isEqual } from 'lodash-es'\r\n\timport { myTypeof } from '../../methods/globalFunc'\r\n\timport t from '../../locale/i18nSFC'\r\n\timport type { TreeNode } from '../../public'\r\n\r\n\tconst props = withDefaults(\r\n\t\tdefineProps<{\r\n\t\t\tmodelValue?: any[]\r\n\t\t\tdata?: TreeNode[]\r\n\t\t\tfirstTitle?: string\r\n\t\t\tsecondTitle?: string\r\n\t\t\tlabel?: string /*节点的标签*/\r\n\t\t\tcollectVal?: string | string[] /*v-model收集节点的哪些字段*/\r\n\t\t\tleaf?: boolean /*叶子节点模式，v-model只返回叶子节点数据，任何选择操作都会选择叶子节点*/\r\n\t\t\tdisabled?: boolean /*禁用整颗树的checkbox选择功能*/\r\n\t\t}>(),\r\n\t\t{\r\n\t\t\tmodelValue: () => [],\r\n\t\t\tdata: () => [],\r\n\t\t\tlabel: 'name',\r\n\t\t\tcollectVal: 'id',\r\n\t\t\tleaf: true\r\n\t\t}\r\n\t)\r\n\tconst emit = defineEmits(['update:modelValue', 'on-change'])\r\n\tconst leafChecked = ref<any[]>([])\r\n\tconst dataT = computed(() => {\r\n\t\tlet temp = cloneDeep(props.data)\r\n\t\tlet valTemp = cloneDeep(leafChecked.value)\r\n\t\tfor (let item of temp) {\r\n\t\t\t/*遍历data添加勾选信息*/\r\n\t\t\tlet checkCount = 0\r\n\t\t\tif (item.children && !isEmpty(item.children)) {\r\n\t\t\t\tfor (let secItem of item.children) {\r\n\t\t\t\t\t/*更深一层遍历children*/\r\n\t\t\t\t\tfor (let valIndex = 0, len = valTemp.length; valIndex < len; valIndex++) {\r\n\t\t\t\t\t\t/*遍历继承的value*/\r\n\t\t\t\t\t\tif (Array.isArray(props.collectVal)) {\r\n\t\t\t\t\t\t\t/*收集多个字段的情况*/\r\n\t\t\t\t\t\t\tlet equalI = true\r\n\t\t\t\t\t\t\tfor (let collectKey of props.collectVal) {\r\n\t\t\t\t\t\t\t\tif (valTemp[valIndex][collectKey] !== secItem[collectKey]) {\r\n\t\t\t\t\t\t\t\t\t/*遍历中当前节点和value的当前遍历元素不等（收集字段对应的值有不等的），判断为当前节点没有被选中，不在判断其他收集字段，跳出循环*/\r\n\t\t\t\t\t\t\t\t\tequalI = false\r\n\t\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/*循环结束，如果equalI的值没被改为false,则表示当前节点被选中*/\r\n\t\t\t\t\t\t\tif (equalI) {\r\n\t\t\t\t\t\t\t\t/*如果当前节点被选中，当前父级中选中的子节点数加一，不在遍历value其他元素，跳出循环*/\r\n\t\t\t\t\t\t\t\tsecItem.checked = true\r\n\t\t\t\t\t\t\t\tcheckCount++\r\n\t\t\t\t\t\t\t\tvalTemp.splice(valIndex, 1)\r\n\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else if (valTemp[valIndex] === secItem[props.collectVal]) {\r\n\t\t\t\t\t\t\t/*收集单个字段且当前节点的对应字段的值和value中当前遍历元素相等,判断为选中，不在遍历value其他元素，跳出循环*/\r\n\t\t\t\t\t\t\tsecItem.checked = true\r\n\t\t\t\t\t\t\tcheckCount++\r\n\t\t\t\t\t\t\tvalTemp.splice(valIndex, 1)\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t/*避免checked为Undefined*/\r\n\t\t\t\t\t!secItem.checked && (secItem.checked = false)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (checkCount === 0) {\r\n\t\t\t\titem.checked = false\r\n\t\t\t\titem.indeterminate = false\r\n\t\t\t} else if (item.children && checkCount === item.children.length) {\r\n\t\t\t\titem.checked = true\r\n\t\t\t\titem.indeterminate = false\r\n\t\t\t} else {\r\n\t\t\t\titem.checked = false\r\n\t\t\t\titem.indeterminate = true\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn temp\r\n\t})\r\n\r\n\twatch(\r\n\t\t() => props.modelValue,\r\n\t\t(after, before) => {\r\n\t\t\tif (isEqual(leafChecked.value, after) || isEqual(after, before)) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tleafChecked.value = after\r\n\t\t},\r\n\t\t{\r\n\t\t\timmediate: true,\r\n\t\t\tdeep: true\r\n\t\t}\r\n\t)\r\n\r\n\tfunction checkAll(root: TreeNode, isCheck: boolean) {\r\n\t\tif (root.children) {\r\n\t\t\tfor (let item of root.children) {\r\n\t\t\t\titem.checked = isCheck\r\n\t\t\t}\r\n\t\t}\r\n\t\tupdateDataT()\r\n\t}\r\n\r\n\tfunction updateDataT() {\r\n\t\tgetLeafChecked(dataT.value, true)\r\n\t}\r\n\r\n\tfunction getLeafChecked(val: TreeNode[], isLeaf?: boolean) {\r\n\t\tlet temp: any[] = []\r\n\t\tfor (let item of val) {\r\n\t\t\tif (!isLeaf && !props.leaf && item.checked && item.indeterminate === false) {\r\n\t\t\t\t/*非叶子节点模式且需要获取parent节点时，如果当前parent节点所有子节点都选中，在value中带上parent节点*/\r\n\t\t\t\tif (Array.isArray(props.collectVal)) {\r\n\t\t\t\t\tlet ttO: Record<string, any> = {}\r\n\t\t\t\t\tfor (let keyI of props.collectVal) {\r\n\t\t\t\t\t\tttO[keyI] = item[keyI]\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttemp.push(ttO)\r\n\t\t\t\t} else if (myTypeof(props.collectVal) === 'String') {\r\n\t\t\t\t\ttemp.push(item[props.collectVal])\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (item.children) {\r\n\t\t\t\tfor (let secItem of item.children) {\r\n\t\t\t\t\tif (secItem.checked) {\r\n\t\t\t\t\t\tif (Array.isArray(props.collectVal)) {\r\n\t\t\t\t\t\t\tlet ttO: Record<string, any> = {}\r\n\t\t\t\t\t\t\tfor (let keyI of props.collectVal) {\r\n\t\t\t\t\t\t\t\tttO[keyI] = secItem[keyI]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\ttemp.push(ttO)\r\n\t\t\t\t\t\t} else if (myTypeof(props.collectVal) === 'String') {\r\n\t\t\t\t\t\t\ttemp.push(secItem[props.collectVal])\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (isLeaf) {\r\n\t\t\tleafChecked.value = temp\r\n\t\t\tif (props.leaf) {\r\n\t\t\t\temit('update:modelValue', temp)\r\n\t\t\t\temit('on-change', cloneDeep(temp))\r\n\t\t\t} else {\r\n\t\t\t\tnextTick(function () {\r\n\t\t\t\t\tgetLeafChecked(dataT.value)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\temit('update:modelValue', temp)\r\n\t\t\temit('on-change', cloneDeep(temp))\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<template>\r\n\t<div class=\"boxLPA\">\r\n\t\t<div class=\"headerJ\">\r\n\t\t\t<div class=\"firstT borderBoxAS\">{{ firstTitle || t('r.level.1') }}</div>\r\n\t\t\t<div class=\"secondT borderBoxAS\">{{ secondTitle || t('r.level.2') }}</div>\r\n\t\t</div>\r\n\t\t<div class=\"bodyJ\" v-for=\"(item, index) in dataT\" :key=\"'checkboxJ' + index\">\r\n\t\t\t<div class=\"firstCol borderBoxAS\">\r\n\t\t\t\t<Checkbox\r\n\t\t\t\t\tv-model=\"item.checked\"\r\n\t\t\t\t\t:indeterminate=\"item.indeterminate\"\r\n\t\t\t\t\t@on-change=\"checkAll(item, $event)\"\r\n\t\t\t\t\t:disabled=\"disabled\"\r\n\t\t\t\t\t>{{ item[label] }}</Checkbox\r\n\t\t\t\t>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"secondCol borderBoxAS\">\r\n\t\t\t\t<div class=\"secItem\" v-for=\"(secItem, indexSec) in item.children\" :key=\"'secItem' + indexSec\">\r\n\t\t\t\t\t<Checkbox v-model=\"secItem.checked\" @on-change=\"updateDataT\" :disabled=\"disabled\">{{\r\n\t\t\t\t\t\tsecItem[label]\r\n\t\t\t\t\t}}</Checkbox>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n","<!--CheckboxGroupThreeClass 三级复选框组，支持v-model，可自定义label和v-model收集字段，可定义v-model只收集叶子节点数据或全部选中的节点数据\r\n@created 2023.10.24\r\n@author Ricky email:zhangqingcq@foxmail.com-->\r\n\r\n<script lang=\"ts\" setup>\r\n\timport { cloneDeep, isEmpty, isEqual } from 'lodash-es'\r\n\timport { myTypeof } from '../../methods/globalFunc'\r\n\timport t from '../../locale/i18nSFC'\r\n\timport type { TreeNode } from '../../public'\r\n\r\n\tconst emit = defineEmits(['update:modelValue', 'on-change'])\r\n\tconst props = withDefaults(\r\n\t\tdefineProps<{\r\n\t\t\tmodelValue?: any[]\r\n\t\t\tdata?: TreeNode[]\r\n\t\t\tfirstTitle?: string\r\n\t\t\tsecondTitle?: string\r\n\t\t\tthirdTitle?: string\r\n\t\t\tlabel?: string /*节点的标签*/\r\n\t\t\tcollectVal?: string | string[] /*v-model收集节点的哪些字段*/\r\n\t\t\tleaf?: boolean /*叶子节点模式，v-model只返回叶子节点数据，任何选择操作都会选择叶子节点*/\r\n\t\t\tdisabled?: boolean /*禁用整颗树的checkbox选择功能*/\r\n\t\t}>(),\r\n\t\t{\r\n\t\t\tmodelValue: () => [],\r\n\t\t\tdata: () => [],\r\n\t\t\tlabel: 'name',\r\n\t\t\tcollectVal: 'id',\r\n\t\t\tleaf: true,\r\n\t\t\tdisabled: false\r\n\t\t}\r\n\t)\r\n\tconst leafChecked = ref<any[]>([])\r\n\tconst dataT = computed(() => {\r\n\t\tlet temp = cloneDeep(props.data)\r\n\t\tlet valTemp = cloneDeep(leafChecked.value)\r\n\t\tfor (let item of temp) {\r\n\t\t\t/*遍历data添加勾选信息(1级)*/\r\n\t\t\tlet checkCount = 0\r\n\t\t\tlet indeterminateCount = 0\r\n\t\t\tif (item.children && !isEmpty(item.children)) {\r\n\t\t\t\tfor (let secItem of item.children) {\r\n\t\t\t\t\t/*更深一层遍历children（2级）*/\r\n\t\t\t\t\tlet checkCountB = 0\r\n\t\t\t\t\tif (secItem.children && !isEmpty(secItem.children)) {\r\n\t\t\t\t\t\tfor (let thirdItem of secItem.children) {\r\n\t\t\t\t\t\t\t/*更深一层遍历children（3级）*/\r\n\t\t\t\t\t\t\tfor (let valIndex = 0, len = valTemp.length; valIndex < len; valIndex++) {\r\n\t\t\t\t\t\t\t\t/*遍历继承的value*/\r\n\t\t\t\t\t\t\t\tif (Array.isArray(props.collectVal)) {\r\n\t\t\t\t\t\t\t\t\t/*收集多个字段的情况*/\r\n\t\t\t\t\t\t\t\t\tlet equalI = true\r\n\t\t\t\t\t\t\t\t\tfor (let collectKey of props.collectVal) {\r\n\t\t\t\t\t\t\t\t\t\tif (valTemp[valIndex][collectKey] !== thirdItem[collectKey]) {\r\n\t\t\t\t\t\t\t\t\t\t\t/*遍历中当前节点和value的当前遍历元素不等（收集字段对应的值有不等的），判断为当前节点没有被选中，不在判断其他收集字段，跳出循环*/\r\n\t\t\t\t\t\t\t\t\t\t\tequalI = false\r\n\t\t\t\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/*循环结束，如果equalI的值没被改为false,则表示当前节点被选中*/\r\n\t\t\t\t\t\t\t\t\tif (equalI) {\r\n\t\t\t\t\t\t\t\t\t\t/*如果当前节点被选中，当前父级中选中的子节点数加一，不在遍历value其他元素，跳出循环*/\r\n\t\t\t\t\t\t\t\t\t\tthirdItem.checked = true\r\n\t\t\t\t\t\t\t\t\t\tcheckCountB++\r\n\t\t\t\t\t\t\t\t\t\tvalTemp.splice(valIndex, 1)\r\n\t\t\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} else if (valTemp[valIndex] === thirdItem[props.collectVal]) {\r\n\t\t\t\t\t\t\t\t\t/*收集单个字段且当前节点的对应字段的值和value中当前遍历元素相等,判断为选中，不在遍历value其他元素，跳出循环*/\r\n\t\t\t\t\t\t\t\t\tthirdItem.checked = true\r\n\t\t\t\t\t\t\t\t\tcheckCountB++\r\n\t\t\t\t\t\t\t\t\tvalTemp.splice(valIndex, 1)\r\n\t\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/*避免checked为Undefined*/\r\n\t\t\t\t\t\t\t!thirdItem.checked && (thirdItem.checked = false)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (checkCountB === 0) {\r\n\t\t\t\t\t\tsecItem.checked = false\r\n\t\t\t\t\t\tsecItem.indeterminate = false\r\n\t\t\t\t\t} else if (secItem.children && checkCountB === secItem.children.length) {\r\n\t\t\t\t\t\tsecItem.checked = true\r\n\t\t\t\t\t\tsecItem.indeterminate = false\r\n\t\t\t\t\t\tcheckCount++\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsecItem.checked = false\r\n\t\t\t\t\t\tsecItem.indeterminate = true\r\n\t\t\t\t\t\tindeterminateCount++\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (checkCount === 0 && indeterminateCount === 0) {\r\n\t\t\t\titem.checked = false\r\n\t\t\t\titem.indeterminate = false\r\n\t\t\t} else if (item.children && checkCount === item.children.length) {\r\n\t\t\t\titem.checked = true\r\n\t\t\t\titem.indeterminate = false\r\n\t\t\t} else {\r\n\t\t\t\titem.checked = false\r\n\t\t\t\titem.indeterminate = true\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn temp\r\n\t})\r\n\r\n\twatch(\r\n\t\t() => props.modelValue,\r\n\t\t(after, before) => {\r\n\t\t\tif (isEqual(leafChecked.value, after) || isEqual(after, before)) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tleafChecked.value = after\r\n\t\t},\r\n\t\t{\r\n\t\t\timmediate: true,\r\n\t\t\tdeep: true\r\n\t\t}\r\n\t)\r\n\r\n\tfunction checkChangeFirst(root: TreeNode, isCheck: boolean) {\r\n\t\tif (root.children) {\r\n\t\t\tfor (let item of root.children) {\r\n\t\t\t\titem.checked = isCheck\r\n\t\t\t\tif (item.children) {\r\n\t\t\t\t\tfor (let itemB of item.children) {\r\n\t\t\t\t\t\titemB.checked = isCheck\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tupdateDataT()\r\n\t}\r\n\r\n\tfunction checkChangeSecond(root: TreeNode, isCheck: boolean) {\r\n\t\tif (root.children) {\r\n\t\t\tfor (let item of root.children) {\r\n\t\t\t\titem.checked = isCheck\r\n\t\t\t}\r\n\t\t}\r\n\t\tupdateDataT()\r\n\t}\r\n\r\n\tfunction updateDataT() {\r\n\t\tgetLeafChecked(dataT.value, true)\r\n\t}\r\n\r\n\tfunction getLeafChecked(val: TreeNode[], isLeaf?: boolean) {\r\n\t\tlet temp: any[] = []\r\n\t\tfor (let item of val) {\r\n\t\t\tif (!isLeaf && !props.leaf && item.checked && item.indeterminate === false) {\r\n\t\t\t\t/*非叶子节点模式且需要获取parent节点时，如果当前parent节点所有子节点都选中，在value中带上parent节点*/\r\n\t\t\t\tif (Array.isArray(props.collectVal)) {\r\n\t\t\t\t\tlet ttO: Record<string, any> = {}\r\n\t\t\t\t\tfor (let keyI of props.collectVal) {\r\n\t\t\t\t\t\tttO[keyI] = item[keyI]\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttemp.push(ttO)\r\n\t\t\t\t} else if (myTypeof(props.collectVal) === 'String') {\r\n\t\t\t\t\ttemp.push(item[props.collectVal])\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (item.children) {\r\n\t\t\t\tfor (let secItem of item.children) {\r\n\t\t\t\t\tif (!isLeaf && !props.leaf && secItem.checked && secItem.indeterminate === false) {\r\n\t\t\t\t\t\t/*非叶子节点模式且需要获取parent节点时，如果当前parent节点所有子节点都选中，在value中带上parent节点*/\r\n\t\t\t\t\t\tif (Array.isArray(props.collectVal)) {\r\n\t\t\t\t\t\t\tlet ttO: Record<string, any> = {}\r\n\t\t\t\t\t\t\tfor (let keyI of props.collectVal) {\r\n\t\t\t\t\t\t\t\tttO[keyI] = secItem[keyI]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\ttemp.push(ttO)\r\n\t\t\t\t\t\t} else if (myTypeof(props.collectVal) === 'String') {\r\n\t\t\t\t\t\t\ttemp.push(secItem[props.collectVal])\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (secItem.children) {\r\n\t\t\t\t\t\tfor (let thirdItem of secItem.children) {\r\n\t\t\t\t\t\t\tif (thirdItem.checked) {\r\n\t\t\t\t\t\t\t\tif (Array.isArray(props.collectVal)) {\r\n\t\t\t\t\t\t\t\t\tlet ttO: Record<string, any> = {}\r\n\t\t\t\t\t\t\t\t\tfor (let keyI of props.collectVal) {\r\n\t\t\t\t\t\t\t\t\t\tttO[keyI] = thirdItem[keyI]\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\ttemp.push(ttO)\r\n\t\t\t\t\t\t\t\t} else if (myTypeof(props.collectVal) === 'String') {\r\n\t\t\t\t\t\t\t\t\ttemp.push(thirdItem[props.collectVal])\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (isLeaf) {\r\n\t\t\tleafChecked.value = temp\r\n\t\t\tif (props.leaf) {\r\n\t\t\t\temit('update:modelValue', temp)\r\n\t\t\t\temit('on-change', cloneDeep(temp))\r\n\t\t\t} else {\r\n\t\t\t\tnextTick(function () {\r\n\t\t\t\t\tgetLeafChecked(dataT.value)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\temit('update:modelValue', temp)\r\n\t\t\temit('on-change', cloneDeep(temp))\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<template>\r\n\t<div class=\"boxLPB\">\r\n\t\t<div class=\"headerF\">\r\n\t\t\t<div class=\"firstT borderBoxKa\">{{ firstTitle || t('r.level.1') }}</div>\r\n\t\t\t<div class=\"secondT borderBoxKa\">{{ secondTitle || t('r.level.2') }}</div>\r\n\t\t\t<div class=\"thirdT borderBoxKa\">{{ thirdTitle || t('r.level.3') }}</div>\r\n\t\t</div>\r\n\t\t<div class=\"bodyF\" v-for=\"(item, index) in dataT\" :key=\"'checkboxJ' + index\">\r\n\t\t\t<div class=\"firstCol borderBoxKa\">\r\n\t\t\t\t<Checkbox\r\n\t\t\t\t\tv-model=\"item.checked\"\r\n\t\t\t\t\t:indeterminate=\"item.indeterminate\"\r\n\t\t\t\t\t@on-change=\"checkChangeFirst(item, $event)\"\r\n\t\t\t\t\t:disabled=\"disabled\"\r\n\t\t\t\t\t>{{ item[label] }}</Checkbox\r\n\t\t\t\t>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"rightBoxAL\">\r\n\t\t\t\t<div class=\"rightBoxInner\" v-for=\"(secItem, indexSec) in item.children\" :key=\"'secItem' + indexSec\">\r\n\t\t\t\t\t<div class=\"secondCol borderBoxKa\">\r\n\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\tv-model=\"secItem.checked\"\r\n\t\t\t\t\t\t\t:indeterminate=\"secItem.indeterminate\"\r\n\t\t\t\t\t\t\t@on-change=\"checkChangeSecond(secItem, $event)\"\r\n\t\t\t\t\t\t\t:disabled=\"disabled\"\r\n\t\t\t\t\t\t\t>{{ secItem[label] }}</Checkbox\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"thirdCol borderBoxKa\">\r\n\t\t\t\t\t\t<div class=\"thirdItem\" v-for=\"(thirdItem, indexThird) in secItem.children\" :key=\"'thirdItem' + indexThird\">\r\n\t\t\t\t\t\t\t<Checkbox v-model=\"thirdItem.checked\" @on-change=\"updateDataT\" :disabled=\"disabled\">{{\r\n\t\t\t\t\t\t\t\tthirdItem[label]\r\n\t\t\t\t\t\t\t}}</Checkbox>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n","/**\n * @description 全屏预览\n * @author ricky zhangqingcq@foxmail.com\n * @created 2023.08.24\n * 注意：不能全局调整Modal弹框尺寸，否则预览图片可能不居中，推荐使用另一个插件fullScreenImgByDom\n */\n\nimport { Modal, Icon } from 'view-ui-plus'\nimport { t } from '../locale'\nimport { h } from 'vue'\nimport { setTimeout } from './timer'\n\nexport default function (this: any, src: string) {\n\tconst T = (...arg: Parameters<typeof t>) => t.apply(this, arg)\n\tconst close = T('r.closePreview')\n\tconst fullImg = T('r.fullImg')\n\n\tlet id = 'previewImg' + Math.floor(Math.random() * 10000000)\n\tModal.info({\n\t\tclosable: false,\n\t\t'transition-names': ['linear', 'fade'],\n\t\trender: (_h: any) => {\n\t\t\treturn h(\n\t\t\t\t'div',\n\t\t\t\t{\n\t\t\t\t\tclass: 'previewModal',\n\t\t\t\t\tid: id\n\t\t\t\t},\n\t\t\t\t[\n\t\t\t\t\th(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tclass: 'previewModalInner'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\th('img', {\n\t\t\t\t\t\t\t\tsrc: src,\n\t\t\t\t\t\t\t\talt: fullImg\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\th(Icon, {\n\t\t\t\t\t\t\t\ttype: 'md-close',\n\t\t\t\t\t\t\t\tsize: 20,\n\t\t\t\t\t\t\t\ttitle: close,\n\t\t\t\t\t\t\t\tclass: 'previewModalDelete',\n\t\t\t\t\t\t\t\tonClick() {\n\t\t\t\t\t\t\t\t\tModal.remove()\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t]\n\t\t\t\t\t)\n\t\t\t\t]\n\t\t\t)\n\t\t}\n\t})\n\n\tsetTimeout(() => {\n\t\tconst hideEl = document.getElementById(id)?.parentElement?.parentElement?.parentElement?.parentElement\n\t\tconst hideEl2 = document.getElementById(id)?.parentElement?.nextSibling as HTMLElement\n\t\thideEl && (hideEl.style.height = '0')\n\t\thideEl && (hideEl.style.padding = '0')\n\t\thideEl2 && (hideEl2.style.display = 'none')\n\t}, 10)\n}\n","/**\n * @description 基于view-ui:Modal的对话框插件\n * @author Ricky email:zhangqingcq@foxmail.com\n * @created 2023.05.04\n */\nimport { h } from 'vue'\nimport type { VNode } from 'vue'\nimport { Modal, Button } from 'view-ui-plus'\nimport { myTypeof } from './globalFunc'\nimport { t } from '../locale'\n\nlet loading: boolean = false\n\n/**\n * config为一个对象，支持：\n * @param {Object} options\n * @param {string|VNode} options.content 弹框内容，同iView的content,\n * @param {number} options.height 弹框高度,默认值130,最小值130\n * @param {number} options.width 弹框宽度，默认值416,最小值416\n * @param {string|html} options.title 弹框标题内容，默认值“提示”\n * @param {function} options.onOk 确定按钮回调函数\n * @param {function} options.onCancel 取消按钮回调函数\n * @param {string|html} options.okText 确定按钮文字，默认值“确定”\n * @param {string|html} options.cancelText 取消按钮文字，默认值“取消”\n * @param {boolean} options.noWarnIcon 不展示内容开头的警告图标(非字符串内容默认不展示)，默认值“false”\n * @param {string} options.footerAlign 底部对齐方式，string，默认值“center”\n * @param {boolean} options.cancelBt 展示取消按钮，boolean，默认值“true”\n * 组件中调用示例：this.messageBox({\n *                      content:'确定执行操作？'\n *                    })\n */\nexport default function messageBox(\n\tthis: any,\n\t{\n\t\theight,\n\t\twidth = 416,\n\t\ttitle,\n\t\tcontent,\n\t\tonOk,\n\t\tonCancel,\n\t\tokText,\n\t\tcancelText,\n\t\tnoWarnIcon,\n\t\tfooterAlign,\n\t\tcancelBt = true\n\t}: {\n\t\theight?: number\n\t\twidth?: number\n\t\ttitle?: string | VNode\n\t\tcontent: string | VNode\n\t\tonOk?: () => void | Promise<any>\n\t\tonCancel?: () => void\n\t\tokText?: string | VNode\n\t\tcancelText?: string | VNode\n\t\tnoWarnIcon?: boolean\n\t\tfooterAlign?: string\n\t\tcancelBt?: boolean\n\t}\n): void {\n\tconst T = (...arg: Parameters<typeof t>) => t.apply(this, arg)\n\n\tlet heightTemp = height && Number(height) - 90 > 100 ? Number(height) - 90 + 'px' : 0\n\tlet heightT = heightTemp || '100px'\n\tlet stringContent = myTypeof(content) === 'String'\n\n\tModal.warning({\n\t\twidth: width,\n\t\tfooterHide: true,\n\t\trender: () => {\n\t\t\treturn h(\n\t\t\t\t'div',\n\t\t\t\t{\n\t\t\t\t\tclass: 'customMessageBox',\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\theight: heightT\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t[\n\t\t\t\t\th(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tclass: 'containerN'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\th(\n\t\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tclass: 'titleN'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\th('span', title || T('r.info.title')),\n\t\t\t\t\t\t\t\t\th(\n\t\t\t\t\t\t\t\t\t\tButton,\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tclass: 'fr closeN',\n\t\t\t\t\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\t\t\t\t\tonClick() {\n\t\t\t\t\t\t\t\t\t\t\t\tif (loading) {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tModal.remove()\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t() =>\n\t\t\t\t\t\t\t\t\t\t\th('i', {\n\t\t\t\t\t\t\t\t\t\t\t\tclass: 'ivu-icon ivu-icon-ios-close',\n\t\t\t\t\t\t\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '30px'\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\th(\n\t\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tclass: 'contentN',\n\t\t\t\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t\t\t\ttextAlign: stringContent ? 'center' : 'left'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\th('i', {\n\t\t\t\t\t\t\t\t\t\tclass: stringContent && !noWarnIcon ? 'ivu-icon ivu-icon-ios-alert-outline' : 'hide',\n\t\t\t\t\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t\t\t\t\tfontSize: '60px',\n\t\t\t\t\t\t\t\t\t\t\tcolor: '#f8bb86'\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\th('div', { class: 'msgBoxConO' }, content || T('r.info.text'))\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\th(\n\t\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tclass: 'footerN',\n\t\t\t\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t\t\t\ttextAlign: footerAlign || 'center'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\th(\n\t\t\t\t\t\t\t\t\t\tButton,\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tclass: 'okBtN',\n\t\t\t\t\t\t\t\t\t\t\tonClick(e: any) {\n\t\t\t\t\t\t\t\t\t\t\t\tif (onOk && typeof onOk === 'function') {\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst p = onOk()\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (p && myTypeof(p) === 'Promise') {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tloading = true\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst el = e?.currentTarget || e?.target\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (el) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tel.classList?.add?.('ivu-btn-loading')\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tel.nextSibling?.setAttribute?.('disabled', 'disabled')\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst c = el.parentElement?.parentElement?.querySelector?.('.titleN .closeN')\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tc.classList?.add?.('disabled')\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tPromise.resolve(p)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tloading = false\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tModal.remove()\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.catch(() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tloading = false\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tModal.remove()\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tModal.remove()\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t() => [\n\t\t\t\t\t\t\t\t\t\t\th('i', {\n\t\t\t\t\t\t\t\t\t\t\t\tclass: 'ivu-load-loop ivu-icon ivu-icon-ios-loading'\n\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t\th('span', okText || T('r.confirm'))\n\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\th(\n\t\t\t\t\t\t\t\t\t\tButton,\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tclass: ['cancelBtN', !cancelBt && 'hide'],\n\t\t\t\t\t\t\t\t\t\t\tonClick() {\n\t\t\t\t\t\t\t\t\t\t\t\tif (loading) {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tModal.remove()\n\t\t\t\t\t\t\t\t\t\t\t\tif (myTypeof(onCancel) === 'Function') {\n\t\t\t\t\t\t\t\t\t\t\t\t\tonCancel && onCancel()\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t() => cancelText || T('r.cancel')\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t]\n\t\t\t\t\t)\n\t\t\t\t]\n\t\t\t)\n\t\t}\n\t})\n}\n","/**\r\n * @description 提示框\r\n * @author ricky zhangqingcq@foxmail.com\r\n * @created 2023.05.09\r\n */\r\n\r\nimport $swal from './swal'\r\nimport { t } from '../locale'\r\n\r\nexport default function (this: any, title: string, text: string, icon: string, onOk: () => void) {\r\n\tconst T = (...arg: Parameters<typeof t>) => t.apply(this, arg)\r\n\t$swal.call(this, {\r\n\t\ttitle: title || T('r.info.title'),\r\n\t\ttext: text || T('r.info.text'),\r\n\t\ticon: icon || 'warning',\r\n\t\tonOk: onOk,\r\n\t\tbuttons: [T('r.cancel')]\r\n\t})\r\n}\r\n","import { Boot } from '@wangeditor/editor'\nimport { t } from '../locale'\n;(() => {\n\tif (window.wangeditorMenuInit) {\n\t\treturn\n\t}\n\n\tclass PreviewButton {\n\t\ttitle: string\n\t\ticonSvg: string\n\t\ttag: string\n\t\talwaysEnable: boolean\n\n\t\tconstructor() {\n\t\t\tthis.title = t('r.preview')\n\t\t\tthis.iconSvg =\n\t\t\t\t'<svg t=\"1656644788547\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"12356\" width=\"256\" height=\"256\"><path d=\"M512 1024H135.4C60.7 1024 0 963.3 0 888.6V135.4C0 60.7 60.7 0 135.4 0h753.2C963.3 0 1024 60.7 1024 135.4V512c0 24.9-20.1 45-45 45s-45-20.1-45-45V135.4c0-25-20.4-45.4-45.4-45.4H135.4c-25 0-45.4 20.4-45.4 45.4v753.2c0 25 20.4 45.4 45.4 45.4H512c24.9 0 45 20.1 45 45s-20.1 45-45 45z\" p-id=\"12357\"></path><path d=\"M512 802c-77.5 0-150.3-30.2-205.1-84.9C252.2 662.3 222 589.5 222 512s30.2-150.3 84.9-205.1S434.5 222 512 222s150.3 30.2 205.1 84.9C771.8 361.7 802 434.5 802 512s-30.2 150.3-84.9 205.1C662.3 771.8 589.5 802 512 802z m0-490c-110.3 0-200 89.7-200 200s89.7 200 200 200 200-89.7 200-200-89.7-200-200-200z\" p-id=\"12358\"></path><path d=\"M978.5 1023.5c-11.5 0-23-4.4-31.8-13.2L653.2 716.8c-17.6-17.6-17.6-46.1 0-63.6 17.6-17.6 46.1-17.6 63.6 0l293.5 293.5c17.6 17.6 17.6 46.1 0 63.6-8.8 8.8-20.3 13.2-31.8 13.2z\" p-id=\"12359\"></path></svg>'\n\t\t\tthis.tag = 'button'\n\t\t\tthis.alwaysEnable = true\n\t\t}\n\n\t\tgetValue() {\n\t\t\treturn ''\n\t\t}\n\n\t\tisActive() {\n\t\t\treturn false\n\t\t}\n\n\t\tisDisabled() {\n\t\t\treturn false\n\t\t}\n\n\t\texec(d: any) {\n\t\t\tconst e = document.getElementById('editor-preview')\n\t\t\tlet _w = localStorage.getItem('editorPreviewW') || 300\n\t\t\tlet _h = localStorage.getItem('editorPreviewH') || 500\n\t\t\tconst contentR = d.getHtml()\n\n\t\t\tif (e) {\n\t\t\t\tlet wallE = e.children[0].children[1].children[0] as HTMLElement\n\t\t\t\tlet outWallE = e.children[0].children[1] as HTMLElement\n\t\t\t\twallE.innerHTML = contentR\n\t\t\t\twallE.style.width = _w + 'px'\n\t\t\t\toutWallE.style.height = _h + 'px'\n\t\t\t\te.style.display = 'block'\n\t\t\t} else {\n\t\t\t\tconst body = document.body\n\t\t\t\tconst p = document.createElement('div')\n\t\t\t\tp.setAttribute('id', 'editor-preview')\n\t\t\t\tp.setAttribute('class', 'editor-preview-mask')\n\t\t\t\tp.innerHTML = `<div class='editor-preview-body'><div class='editor-preview-head'><div><span>宽</span><input type='number' value='${_w}' min='200'><span>高</span><input type='number' value='${_h}' min='300'></div><i class='ivu-icon ivu-icon-md-close'></i></div><div class='editor-preview-out-wall'><div class='editor-preview-wall r-editor-view'></div></div></div>`\n\t\t\t\tlet outWallE = p.children[0].children[1] as HTMLElement\n\t\t\t\tlet wallE = p.children[0].children[1].children[0] as HTMLElement\n\n\t\t\t\tlet inputW = p.children[0].children[0].children[0].children[1] as HTMLElement\n\n\t\t\t\tconst spaceW = 40\n\t\t\t\tconst spaceH = 70\n\n\t\t\t\tconst wHandler = (e: any) => {\n\t\t\t\t\tif (e && e.type === 'keyup') {\n\t\t\t\t\t\tlet notEnter = false\n\t\t\t\t\t\tif (e.key) {\n\t\t\t\t\t\t\tnotEnter = e.key !== 'Enter'\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (notEnter) {\n\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tlet val = e.target.value\n\t\t\t\t\tval = Number(val)\n\t\t\t\t\tif (wallE.style && wallE.style.width === val + 'px') {\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\n\t\t\t\t\tconst bodyW = body.clientWidth\n\n\t\t\t\t\tif (val < 250) {\n\t\t\t\t\t\tval = 250\n\t\t\t\t\t\te.target.value = 250\n\t\t\t\t\t} else if (val > bodyW - spaceW) {\n\t\t\t\t\t\tval = bodyW - spaceW\n\t\t\t\t\t\te.target.value = bodyW - spaceW\n\t\t\t\t\t}\n\t\t\t\t\twallE.style.width = val + 'px'\n\t\t\t\t\tlocalStorage.setItem('editorPreviewW', val)\n\t\t\t\t}\n\n\t\t\t\tinputW.addEventListener('blur', wHandler)\n\t\t\t\tinputW.addEventListener('keyup', wHandler)\n\t\t\t\tlet inputH = p.children[0].children[0].children[0].children[3]\n\n\t\t\t\tconst hHandler = (e: any) => {\n\t\t\t\t\tif (e && e.type === 'keyup') {\n\t\t\t\t\t\tlet notEnter = false\n\t\t\t\t\t\tif (e.key) {\n\t\t\t\t\t\t\tnotEnter = e.key !== 'Enter'\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (notEnter) {\n\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tlet val = e.target.value\n\t\t\t\t\tval = Number(val)\n\n\t\t\t\t\tif (outWallE.style && outWallE.style.height === val + 'px') {\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\n\t\t\t\t\tconst bodyH = body.clientHeight\n\n\t\t\t\t\tif (val < 300) {\n\t\t\t\t\t\tval = 300\n\t\t\t\t\t\te.target.value = 300\n\t\t\t\t\t} else if (val > bodyH - spaceH) {\n\t\t\t\t\t\tval = bodyH - spaceH\n\t\t\t\t\t\te.target.value = bodyH - spaceH\n\t\t\t\t\t}\n\t\t\t\t\toutWallE.style.height = val + 'px'\n\t\t\t\t\tlocalStorage.setItem('editorPreviewH', val)\n\t\t\t\t}\n\n\t\t\t\tinputH.addEventListener('blur', hHandler)\n\t\t\t\tinputH.addEventListener('keyup', hHandler)\n\t\t\t\tlet closeE = p.children[0].children[0].children[1]\n\t\t\t\tcloseE.addEventListener('click', () => {\n\t\t\t\t\tp.style.display = 'none'\n\t\t\t\t})\n\n\t\t\t\twallE.innerHTML = contentR\n\t\t\t\twallE.style.width = _w + 'px'\n\t\t\t\toutWallE.style.height = _h + 'px'\n\t\t\t\tbody.append(p)\n\t\t\t}\n\t\t}\n\t}\n\n\tconst configP = {\n\t\tkey: 'previewX',\n\t\tfactory() {\n\t\t\treturn new PreviewButton()\n\t\t}\n\t}\n\n\tBoot.registerMenu(configP)\n\twindow.wangeditorMenuInit = true\n})()\n","/**\n * @description plug-r-qw 源代码入口文件\n * @author Ricky email:zhangqingcq@foxmail.com\n * @created 2023.04.27\n */\n\nimport type { App } from 'vue'\nimport * as components from './components'\nimport * as globalFunc from './methods/globalFunc'\nimport * as needImportFunc from './methods/needImportFunc'\nimport localeFile from './locale'\nimport $fetch from './methods/fetch'\nimport fullScreenImgByDom from './methods/fullScreenImgByDom'\nimport fullScreenImgPreview from './methods/fullScreenImgPreview'\nimport messageBox from './methods/messageBox'\nimport $swal from './methods/swal'\nimport $swalConfirm from './methods/swalConfirm'\nimport { init, setInterval, setTimeout } from './methods/timer'\nimport { set } from './methods/amap'\nimport './methods/wangeditor5init'\n\nexport * from './components'\nexport * from './methods/globalFunc'\nexport * from './methods/needImportFunc'\nexport { default as $fetch } from './methods/fetch'\nexport { default as fullScreenImgByDom } from './methods/fullScreenImgByDom'\nexport { default as fullScreenImgPreview } from './methods/fullScreenImgPreview'\nexport { default as messageBox } from './methods/messageBox'\nexport { default as $swal } from './methods/swal'\nexport { default as $swalConfirm } from './methods/swalConfirm'\nexport { setInterval, setTimeout } from './methods/timer'\n\nconst methodsR: Record<string, any> = {\n\t$fetch,\n\tfullScreenImgByDom,\n\tfullScreenImgPreview,\n\t$swal,\n\t$swalConfirm,\n\tmessageBox,\n\tsetInterval,\n\tsetTimeout,\n\t...globalFunc\n}\n\nexport interface plugROption {\n\tnotRegistryGlobal?: boolean\n\tstore?: any\n\tuseStore?: any\n\trouter?: Record<keyof any, any>\n\tlocale?: Record<keyof any, any>\n\ti18n?: Record<keyof any, any>\n\tamap?: { securityJsCode: string; key: string }\n\n\t[k: keyof any]: any\n}\n\nconst install = function (app: App, options: plugROption = {}) {\n\t$fetch.init(options.useStore || options.store, app)\n\n\tif (options.locale) {\n\t\tlocaleFile.use(options.locale)\n\t}\n\n\tif (options.i18n) {\n\t\tlocaleFile.i18n(options.i18n)\n\t}\n\n\tif (options.router) {\n\t\tinit(options.router)\n\t}\n\n\tif (options.amap) {\n\t\tset(options.amap)\n\t}\n\n\tif (!options.notRegistryGlobal) {\n\t\tObject.keys(components).forEach((key) => {\n\t\t\tif (!app.component(key)) {\n\t\t\t\tapp.component(key, (components as Record<string, any>)[key])\n\t\t\t}\n\t\t})\n\n\t\tObject.keys(methodsR).forEach((key) => {\n\t\t\tapp.config.globalProperties[key] = methodsR[key]\n\t\t})\n\t}\n\n\tif (!app.directive('has')) {\n\t\tapp.directive('has', (el, binding) => {\n\t\t\tif (binding.value && !globalFunc.hasPermission(binding.value)) {\n\t\t\t\tel.style.display = 'none'\n\t\t\t}\n\t\t})\n\t}\n\tif (!app.directive('loadmore')) {\n\t\t//select下拉滚动监听事件 可通过指令参数传递class来指定容器\n\t\tapp.directive('loadmore', (el, binding) => {\n\t\t\t// 获取定义好的scroll盒子\n\t\t\tlet SELECT_DOM: any\n\n\t\t\tif (binding.arg) {\n\t\t\t\tSELECT_DOM = el.querySelector('.' + binding.arg)\n\t\t\t} else {\n\t\t\t\tSELECT_DOM = el.querySelector('.ivu-select-dropdown') || el\n\t\t\t}\n\t\t\tSELECT_DOM.addEventListener('scroll', function () {\n\t\t\t\t/*\n\t\t\t\t * scrollHeight 获取元素内容高度(只读)\n\t\t\t\t * scrollTop 获取或者设置元素的偏移值,常用于, 计算滚动条的位置, 当一个元素的容器没有产生垂直方向的滚动条, 那它的scrollTop的值默认为0.\n\t\t\t\t * clientHeight 读取元素的可见高度(只读)\n\t\t\t\t * 如果元素滚动到底, 下面等式返回true, 没有则返回false:\n\t\t\t\t * ele.scrollHeight - ele.scrollTop === ele.clientHeight;\n\t\t\t\t */\n\t\t\t\tif (SELECT_DOM.scrollTop > 0 && SELECT_DOM.scrollHeight - SELECT_DOM.scrollTop <= SELECT_DOM.clientHeight) {\n\t\t\t\t\tbinding.value()\n\t\t\t\t}\n\t\t\t})\n\t\t})\n\t}\n\n\tapp.config.globalProperties.searchFormLabelWidth = 84\n\tapp.config.globalProperties.formModalLabelWidth = 140\n\tapp.config.globalProperties.formGroupLabelWidth = 160\n\tapp.config.globalProperties.iconTxtBtnIconSize = 17\n}\n\nconst locale = localeFile.use\n\nconst i18n = localeFile.i18n\nexport default {\n\tlocale,\n\ti18n,\n\tinstall,\n\t...globalFunc,\n\t...needImportFunc,\n\t$fetch,\n\tfullScreenImgByDom,\n\tfullScreenImgPreview,\n\t$swal,\n\t$swalConfirm,\n\tmessageBox,\n\tsetInterval,\n\tsetTimeout\n}\n"],"names":["zhLang","REG_NAME","Format","hasOwn","obj","key","template","string","a","args","match","prefix","i","index","result","format","lang","message","nowLang","merged","vueI18n","i18nHandler","path","options","localMessage","newLocalMessage","deepmerge","t","value","array","current","j","property","localeFile","l","initI18n","proxy","getCurrentInstance","click","props","emit","showPop","ref","hFontSize","computed","popStyle","open","close","getData","__expose","msg","Proxy","appContext","txtSize","e","router","back","$swal","option","text","icon","T","arg","r","okTxt","cancelTxt","cancelVisible","okClass","cancelClass","reg","myTypeof","swal","res","err","toHump","name","all","letter","htmlEncode","temp","htmlDecode","html","getFileSrc","file","resolve","reader","getFileTypeByName","isImgByFile","type","getFileTypeIconByName","downloadFileReaderFile","href","saveLink","fakeALinkClick","ev","findPath","group","condition","pathKey","childKey","isObject","isFunction","isPlainObject","item","cloneDeep","isEmpty","rr","getStringWidth","str","fontSize","nodesH","width","emptyInput","val","stopBubbling","v","toLine","trimObj","p","o","clearObj","ignoreList","go","formDataHeadConfig","toFormData","data","findCollection","getPath","PATH","target","deepSearch","oneOf","validList","decimalDigitsLimit","num","expStr","valStr","downloadFileByFormSubmit","url","method","form","body","_url","httpEnv","regExp","input","ta","fileExport","getColumnsKeys","sKey","columns","returnArray","names","isValidValue","isNumberValue","tooltipManual","contentKey","dash","jointMark","_h","params","content","_a","_b","contentWidth","tdWidth","h","Tooltip","isEmptyValue","stringLength","setValByOption","hasPermission","btnPermissions","isNaN","dataFilterOrToUrl","toUrl","keepEmptyVal","_data","removeEmptyValue","htmlPrint","pWin","siblingElems","elem","nodes","_elem","useRouter","getClass","handleClick","parent","siblings","child","route","useRoute","menuDisplay","pathName","menuRef","titleC","typeIco","onBeforeMount","watch","after","nextTick","addOpen","showHideMenu","onClick","show","getBg","d","timeoutBox","intervalBox","init","setTimeout","fn","time","handler","setInterval","isDebounce","openX","iconL","onSearch","indeterminate","checkAll","groupT","groupX","unknown","disabledGroup","checkAllGroup","subV","locale","useI18n","onMounted","localStr","checkAllGroupChange","labelClick","save","handleCheckAll","count","loader","toggleSpin","counts","host","service","axios","notInitYet","q","logoutHandle","store","checkResult","rPath","config","y","handleRequest","isUrlData","keyT","checkRequest","url_","_g","data_","method_","$fetch","app","s","tableContainerHeight","globalProperties","TableColumnConfig","pageSizes","dataT","pageSizeT","total","selected","currentKey","currentIndex","_key","_order","columnsFixed","fixedTable","queryData","columnsT","c","Radio","td","dataS","selectedIds","selectedKeys","tableRef","search","getDataAndClickRow","initTable","addRow","row","setRowData","setCurrentRow","clickCurrentRow","isBoolean","isNumber","deleteRow","onRowClick","onSelect","selectionHandle","selection","getSelected","changePage","pageSizeChange","onSortChange","order","getTableData","clearSelect","clearTableData","orderKey","keepSelect","_d","_c","selectVal","inputVal","labelSelectStyle","inputStyle","inputChange","handleChange","debounce","m","module","this","b","f","g","k","n","_amap","set","securityJsCode","get","valueT","widthT","heightT","containerStyle","mapStyle","Map","GeoCoder","createMarker","mapId","mapInputRef","mapRef","infoWindow","checkHeight","initMap","AMap","AMapLoader","_map","iEl","center","lng","lat","point","marker","getAddress","dragPoint","status","onUnmounted","dataC","valProp","isString","last","isEqual","dataFilter","tt","labels","onChange","selectedDetail","label","alCRef","lv1","lv2","lv3","getLastCode","code","fullScreenImgByDom","src","fullImg","bodyEl","first","bb","fileSrcList","shallowRef","fileDefaultList","previewType","fileListItemIsIMG","urlT","fileList","fileIdList","getFileSrcList","indexOf","itemT","_f","_e","_i","getName","clearManualItem","downloadDefaultFile","showPreview","listExpand","downloadManualFile","handelManualUpload","uploadError","error","uploadSuccess","response","_fileList","overSize","onFormatError","onPreview","id","onRemove","deleteById","_fileIdList","openA","openB","mouseOver","valueA","valueB","mPickerRef","clear","focus","changeA","changeB","_editor","toolbarConfigT","editorConfigT","insertFn","u","editorTextareaStyle","onCreated","onBeforeUnmount","itemClass","root","itemChange","reValidateAndChangeHandle","onSelectInputChange","alNameChange","asyncLabelChange","formGroupXRef","valGroup","formDataT","tempKeys","watchGroup","mgrUrl","selectInputKeys","hiddenKeys","showLoading","formReRenderKey","uploadUrl","debounceCount","formTeam","formStyle","itemStyle","formRulesT","tr","submitKeys","submitItems","showingKeys","showingItems","getSlotFormData","resetForm","clearForm","refreshFormDom","reRenderForm","initValGroup","initFormDataT","defaultV","getDefaultValues","formItem","clearTempKeys","clearTempKeyItem","defaultValItems","getTempKeyDefaultVal","getFormItemIfVal","returnIfVal","dealIfItem","x","tempKeysWatchHandle","box","initItems","tempKeyF","tempKeyE","tempKeyD","cp","tUrl","vT","tV","initOption","recoverVal","tempKeyC","tempKeyB","itemVal","tOption","eP","rP","rL","lVal","tC","iP","findIndex","initValItems","targetOption","findOptions","collectTempKey","findTempKey","sameKeyCom","tp","fm","moment","findTempKeyItem","setItemToValGroup","notClearOthers","updateValGroup","kk","getValidateKeys","getValidateItems","updateTempKeys","validateFields","updateTempKeyItem","updateFormDataT","changeDataHandle","indexB","remove","getValGroup","validate","reValidate","prop","changeLoading","submit","valid","formGroupStyle","formRRef","formDataC","onSubmit","openModal","handleVisibleChange","initTree","valueE","collectValT","initData","changeStyle","checked","find","keyI","initDataB","renderContent","classA","isLeaf","ii","arr","grandParent","br","updateVal","valT","searchDataLeft","searchDataRight","lSelection","rSelection","leftTotal","rightTotal","leftTableSearchData","rightTableSearchData","delAllDis","deleteDis","addDis","addAllDis","leftFormRef","rightFormRef","lTabRef","rTabRef","reset","lSelectionChange","rSelectionChange","dataChangeL","dataChangeR","searchLeft","searchRight","add","fetchX","addAll","removeAll","action","leafChecked","valTemp","checkCount","secItem","valIndex","len","equalI","collectKey","before","isCheck","updateDataT","getLeafChecked","ttO","indeterminateCount","checkCountB","thirdItem","checkChangeFirst","itemB","checkChangeSecond","fullScreenImgPreview","Modal","Icon","hideEl","hideEl2","loading","messageBox","height","title","onOk","onCancel","okText","cancelText","noWarnIcon","footerAlign","cancelBt","stringContent","Button","el","$swalConfirm","PreviewButton","__publicField","_w","contentR","wallE","outWallE","inputW","spaceW","spaceH","wHandler","notEnter","bodyW","inputH","hHandler","bodyH","configP","Boot","methodsR","globalFunc","install","components","binding","globalFunc.hasPermission","SELECT_DOM","i18n","needImportFunc"],"mappings":"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","x_google_ignoreList":[25]}