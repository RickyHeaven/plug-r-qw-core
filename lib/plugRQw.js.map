{"version":3,"file":"plugRQw.js","sources":["../src/locale/lang/zh-CN.js","../src/locale/format.ts","../src/locale/index.ts","../src/locale/i18nSFC.ts","../src/components/HeaderBt/HeaderBt.vue","../src/components/FullPop/FullPop.vue","../src/components/Hello.vue","../src/components/Page404/Page404.vue","../src/methods/swal.ts","../src/methods/needImortFunc.ts","../src/methods/globalFunc.ts","../src/components/SideMenu/SideMenuGroup.vue","../src/components/SideMenu/SideMenu.vue","../src/methods/spin.ts","../src/methods/fetch.ts","../src/methods/messageBox.ts","../src/methods/swalConfirm.ts","../src/methods/timer.ts","../src/index.ts"],"sourcesContent":["export default {\r\n\tr: {\r\n\t\tlocale: 'zh-CN',\r\n\t\ttestMsg: '测试国际化',\r\n\t\tconfirm: '确定',\r\n\t\tcancel: '取消',\r\n\t\tclear: '清空',\r\n\t\tinfo: {\r\n\t\t\ttitle: '提示',\r\n\t\t\ttext: '确定执行该操作？'\r\n\t\t},\r\n\t\thttp: {\r\n\t\t\t403: '登录状态失效,请重新登录！',\r\n\t\t\t409: '该账号已在其他地方登录,点击确定退出。'\r\n\t\t},\r\n\t\tpSelect: '请选择',\r\n\t\tpInput: '请输入',\r\n\t\tselectDate: '选择日期',\r\n\t\tselectTime: '选择时间',\r\n\t\tsearch: '搜索',\r\n\t\tlevel: {\r\n\t\t\t1: '一级',\r\n\t\t\t2: '二级',\r\n\t\t\t3: '三级'\r\n\t\t},\r\n\t\tunknown: '未知',\r\n\t\ttitle: '标题',\r\n\t\trequired: '该项为必填',\r\n\t\tback: '返回',\r\n\t\tbutton: '按钮',\r\n\t\tcheck: '查询',\r\n\t\tadSearch: '高级查询',\r\n\t\tall: '全选',\r\n\t\ttabSetting: ' 列表显示设置',\r\n\t\tdelete: '删除',\r\n\t\tfView: '全屏预览',\r\n\t\tdownload: '点击下载',\r\n\t\tfile: '文件',\r\n\t\tselectFile: '选择文件',\r\n\t\tnotImg: '文件不是图片，不可预览',\r\n\t\twrongFileType: '文件类型不被允许',\r\n\t\tsupportType: '支持类型：',\r\n\t\tnone: '无',\r\n\t\tfileIsBig: '文件过大',\r\n\t\tsupportSize: '支持最大：',\r\n\t\tuploadError: '上传出错',\r\n\t\tuploadFail: '上传失败',\r\n\t\tclosePreview: '关闭预览',\r\n\t\tfullImg: '全屏图片',\r\n\t\tpreview: '预览',\r\n\t\tsearchFor: '当前搜索：',\r\n\t\tnoMore: '没有更多数据了',\r\n\t\toptionLabel: '选项',\r\n\t\tgetDataError: '拉取数据出错',\r\n\t\tadd: '添加',\r\n\t\tremove: '移除',\r\n\t\taddAll: '全部添加',\r\n\t\tremoveAll: '全部移除',\r\n\t\tadded: '已添加',\r\n\t\tnotAdded: '未添加',\r\n\t\tsuccess: '成功',\r\n\t\tfailed: '失败',\r\n\t\terror: '出错',\r\n\t\tpageNotFound: '页面没找到',\r\n\t\tnotFoundMsg: '您访问的页面不存在，点击下面按钮返回上一个页面。',\r\n\t\thideMenu: '隐藏菜单',\r\n\t\tshowMenu: '显示菜单'\r\n\t}\r\n}\r\n","/**\n * @description 国际化\n * @author Ricky email:zhangqingcq@foxmail.com\n * @created 2023.04.27\n */\n\n/**\n * t('XXX',...arg)\n *  去掉XXX中双花括号，或替换%{XXX}为arg[XXX]，arg为t('XXX',...arg)中arg\n *  如果XXX没有花括号，则返回XXX本身\n */\n\nconst REG_NAME = /(%|){([0-9a-zA-Z_]+)}/g\n\nexport default function () {\n\tfunction hasOwn(obj, key) {\n\t\treturn Object.prototype.hasOwnProperty.call(obj, key)\n\t}\n\n\t/**\n\t * template\n\t *\n\t * @param {String} string\n\t * @param {Array} a\n\t * @return {String}\n\t */\n\n\tfunction template(string, ...a) {\n\t\tlet args\n\t\tif (a.length === 1 && typeof a[0] === 'object') {\n\t\t\targs = a[0]\n\t\t}\n\n\t\tif (!args || !args.hasOwnProperty) {\n\t\t\targs = {}\n\t\t}\n\t\tif (string === undefined) {\n\t\t\treturn ''\n\t\t}\n\n\t\treturn string.replace(REG_NAME, (match, prefix, i, index) => {\n\t\t\tlet result\n\n\t\t\tif (string[index - 1] === '{' && string[index + match.length] === '}') {\n\t\t\t\treturn i\n\t\t\t} else {\n\t\t\t\tresult = hasOwn(args, i) ? args[i] : null\n\n\t\t\t\treturn result ?? ''\n\t\t\t}\n\t\t})\n\t}\n\n\treturn template\n}\n","/**\n * @description 国际化\n * @author Ricky email:zhangqingcq@foxmail.com\n * @created 2023.04.27\n */\nimport deepmerge from 'deepmerge'\nimport zhLang from './lang/zh-CN'\nimport Format from './format'\n\nconst format = Format()\nlet lang: any = zhLang\nconst message = {\n\tzh: zhLang\n}\nlet nowLang = null\nlet merged = {}\nlet vueI18n: any = null\nlet i18nHandler = function (this, ...args) {\n\tif (Reflect.has(this, '$t')) {\n\t\treturn this.$t(...args)\n\t}\n\tif (vueI18n && vueI18n.global) {\n\t\treturn vueI18n.global.t(...args)\n\t}\n\tif (vueI18n && vueI18n.locale) {\n\t\tif (!merged[vueI18n.locale] || nowLang != vueI18n.locale) {\n\t\t\tmerged[vueI18n.locale] = true\n\t\t\tlet localMessage = vueI18n.getLocaleMessage(vueI18n.locale) || {}\n\t\t\tlet newLocalMessage = deepmerge(message[vueI18n.locale], localMessage, { clone: true })\n\t\t\tlang = newLocalMessage\n\t\t\tvueI18n.setLocaleMessage(vueI18n.locale, newLocalMessage)\n\t\t\tnowLang = vueI18n.locale\n\t\t}\n\t\treturn vueI18n.hlang(...args)\n\t}\n}\n\nexport const t = function (this, ...args: Parameters<typeof i18nHandler>) {\n\tlet path = args[0]\n\tlet options = args[1]\n\tlet value = i18nHandler.apply(this, args)\n\tif (value !== null && value !== undefined) {\n\t\treturn value\n\t}\n\n\tconst array = path.split('.')\n\tlet current = lang\n\n\tfor (let i = 0, j = array.length; i < j; i++) {\n\t\tconst property = array[i]\n\t\tvalue = current[property]\n\t\tif (i === j - 1) {\n\t\t\treturn format(value, options)\n\t\t}\n\t\tif (!value) {\n\t\t\treturn ''\n\t\t}\n\t\tcurrent = value\n\t}\n\treturn ''\n}\n\nexport const use = function (l) {\n\tlang = l || lang\n}\n\nexport const i18n = function (initI18n) {\n\tvueI18n = initI18n\n}\n\nexport default {\n\tuse,\n\tt,\n\ti18n\n}\n","import { t } from './index'\r\nimport { getCurrentInstance } from 'vue'\r\n\r\nexport default function (...args: Parameters<typeof t>) {\r\n\tconst proxy = getCurrentInstance()?.appContext.config.globalProperties\r\n\treturn t.apply(proxy, args)\r\n}\r\n","<!--FullScreenPop header右侧按钮，和header同高，左侧带白色分割线，按钮内容直接写在标签内，全局UI组件，直接用\r\n@created 2023.05.11\r\n@author Ricky email:zhangqingcq@foxmail.com-->\r\n\r\n<script setup lang=\"ts\">\r\n\tconst props = withDefaults(\r\n\t\tdefineProps<{\r\n\t\t\ticon?: string\r\n\t\t\twithIcon?: boolean\r\n\t\t\ticonSize?: number | string\r\n\t\t\tcolor?: string\r\n\t\t\tborderColor?: string\r\n\t\t\tdisabled?: boolean\r\n\t\t}>(),\r\n\t\t{\r\n\t\t\twithIcon: false,\r\n\t\t\ticonSize: 18,\r\n\t\t\tcolor: 'inherit',\r\n\t\t\tborderColor: '#fff',\r\n\t\t\tdisabled: false\r\n\t\t}\r\n\t)\r\n\r\n\tconst emit = defineEmits(['click'])\r\n\r\n\tfunction click() {\r\n\t\tif (props.disabled) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\temit('click')\r\n\t}\r\n</script>\r\n\r\n<template>\r\n\t<div\r\n\t\t:class=\"{ headerBtCTM: true, withIconCTM: icon || withIcon, disabled: disabled }\"\r\n\t\t:style=\"{ color: color, borderLeftColor: borderColor }\"\r\n\t\t@click=\"click\"\r\n\t>\r\n\t\t<Icon v-if=\"icon\" :size=\"iconSize\" :type=\"icon\" />\r\n\t\t<slot></slot>\r\n\t</div>\r\n</template>\r\n","<!--FullPop “全屏”弹出页（绝对定位，和最近一个relative元素大小一致），自带header，提供方法开关页面，全局UI组件，直接用\r\n@created 2023.05.11\r\n@author Ricky email:zhangqingcq@foxmail.com-->\r\n\r\n<script setup lang=\"ts\">\r\n\timport { ref, computed } from 'vue'\r\n\timport t from '../../locale/i18nSFC'\r\n\timport HeaderBt from '../HeaderBt/HeaderBt.vue'\r\n\r\n\tconst props = withDefaults(\r\n\t\tdefineProps<{\r\n\t\t\ttitle?: string\r\n\t\t\theaderColor?: string\r\n\t\t\theaderBg?: string\r\n\t\t\theaderFontSize?: number | string\r\n\t\t\tzIndex?: number\r\n\t\t}>(),\r\n\t\t{\r\n\t\t\theaderFontSize: 12,\r\n\t\t\tzIndex: 1000\r\n\t\t}\r\n\t)\r\n\r\n\tconst emit = defineEmits(['on-open', 'on-close'])\r\n\r\n\tlet showPop = ref(false)\r\n\r\n\tconst hFontSize = computed(() => {\r\n\t\tif (typeof props.headerFontSize === 'number') {\r\n\t\t\treturn props.headerFontSize + 'px'\r\n\t\t}\r\n\t\treturn props.headerFontSize\r\n\t})\r\n\r\n\tconst popStyle = computed(() => {\r\n\t\treturn { zIndex: props.zIndex }\r\n\t})\r\n\r\n\tfunction open() {\r\n\t\tshowPop.value = true\r\n\t\temit('on-open')\r\n\t}\r\n\r\n\tfunction close(getData?: boolean) {\r\n\t\tshowPop.value = false\r\n\t\temit('on-close', getData === true)\r\n\t}\r\n\r\n\tdefineExpose({\r\n\t\topen,\r\n\t\tclose\r\n\t})\r\n</script>\r\n\r\n<template>\r\n\t<div v-show=\"showPop\" class=\"fullScreenPopBoxAM\" :style=\"popStyle\">\r\n\t\t<div class=\"headerAM\" :style=\"{ color: headerColor, backgroundColor: headerBg, fontSize: hFontSize }\">\r\n\t\t\t<!--这是标题-->\r\n\t\t\t<span class=\"headerTxtAM\">{{ title || t('r.title') }}</span>\r\n\t\t\t<!--这是返回按钮-->\r\n\t\t\t<HeaderBt icon=\"md-return-left\" @click=\"close\">{{ t('r.back') }}</HeaderBt>\r\n\t\t</div>\r\n\t\t<div class=\"contentAM\">\r\n\t\t\t<slot></slot>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n","<!--Hello\r\n@created 2023.04.27\r\n@author Ricky email:zhangqingcq@foxmail.com-->\r\n\r\n<script setup lang=\"ts\">\r\n\timport { ref } from 'vue'\r\n\r\n\tlet msg = ref('Greetings from Ricky.')\r\n</script>\r\n\r\n<template>\r\n\t<span class=\"msg\">{{ msg }}</span>\r\n</template>\r\n","<script setup lang=\"ts\">\n\timport { getCurrentInstance } from 'vue'\n\timport type { Router } from 'vue-router'\n\timport t from '../../locale/i18nSFC'\n\n\tconst instance = getCurrentInstance()!\n\tconst router = instance.appContext.config.globalProperties.$router as Router\n\n\tfunction back() {\n\t\trouter.go(-1)\n\t}\n</script>\n\n<template>\n\t<div class=\"c404K\">\n\t\t<div class=\"t404\">404</div>\n\t\t<div class=\"ct404\">UH OH! {{ t('r.pageNotFound') }}</div>\n\t\t<div class=\"p404\">{{ t('r.notFoundMsg') }}</div>\n\n\t\t<Button class=\"bt404\" @click=\"back\">{{ t('r.back') }}</Button>\n\t</div>\n</template>\n","/**\r\n * @description 提示框\r\n * @author ricky zhangqingcq@foxmail.com\r\n * @created 2023.05.08\r\n */\r\n\r\nimport swal from 'sweetalert'\r\nimport { myTypeof } from './globalFunc'\r\nimport { t } from '../locale'\r\n\r\ntype ButtonC = { text?: string; className?: string; value?: boolean | null; visible?: boolean }\r\ntype ButtonS = { cancel: ButtonC; confirm: ButtonC }\r\n\r\n/**\r\n * $swal实例\r\n * @param {object/string/boolean} option object:{title:'标题',content(or text):'内容，可以为空',type(or icon):'success(or error\r\n *   or warning)'}---string:'标题'---boolean:关闭$swal窗体\r\n * @param {string} text 当option为object时不传此变量，当option为string时该变量为'内容'\r\n * @param {string} icon 当option为object时不传此变量，当option为string时该变量为弹出框类型'success'/'error'/'warning'\r\n */\r\nexport default function (\r\n\tthis: any,\r\n\toption:\r\n\t\t| string\r\n\t\t| {\r\n\t\t\t\ttitle?: string\r\n\t\t\t\tcontent?: string\r\n\t\t\t\ttext?: string\r\n\t\t\t\ttype?: string\r\n\t\t\t\ticon?: string\r\n\t\t\t\tonOk?: () => void\r\n\t\t\t\tclassName?: string\r\n\t\t\t\tbuttons?: ButtonS | Array<string>\r\n\t\t  }\r\n\t\t| boolean,\r\n\ttext?: string | HTMLElement,\r\n\ticon?: string\r\n) {\r\n\tconst T = (...arg: Parameters<typeof t>) => t.apply(this, arg)\r\n\r\n\treturn new Promise((r, j) => {\r\n\t\tif (typeof option === 'object' && !Array.isArray(option)) {\r\n\t\t\tlet okTxt = T('r.confirm')\r\n\t\t\tlet cancelTxt = T('r.cancel')\r\n\t\t\tlet cancelVisible = false\r\n\t\t\tlet okClass = 'swalConfirmBt'\r\n\t\t\tlet cancelClass = 'swalCancelBt'\r\n\t\t\tconst reg = /^HTML.*Element$/\r\n\r\n\t\t\toption.type && (option.icon = option.type) && delete option.type\r\n\t\t\toption.content && (option.text = option.content) && delete option.content\r\n\t\t\toption.className = option.className || 'swalBoxX'\r\n\r\n\t\t\tlet t = ''\r\n\t\t\tif (option.text && reg.test(myTypeof(option.text))) {\r\n\t\t\t\tt = 'content'\r\n\t\t\t} else if (option.text && myTypeof(option.text) === 'String') {\r\n\t\t\t\tt = 'text'\r\n\t\t\t}\r\n\r\n\t\t\tif (option.buttons) {\r\n\t\t\t\tif (typeof option.buttons === 'object' && !Array.isArray(option.buttons)) {\r\n\t\t\t\t\tif (option.buttons.cancel) {\r\n\t\t\t\t\t\toption.buttons.cancel.text && (cancelTxt = option.buttons.cancel.text) && (cancelVisible = true)\r\n\t\t\t\t\t\toption.buttons.cancel.className && (cancelClass = option.buttons.cancel.className)\r\n\r\n\t\t\t\t\t\toption.buttons.confirm.text && (okTxt = option.buttons.confirm.text)\r\n\t\t\t\t\t\toption.buttons.confirm.className && (okClass = option.buttons.confirm.className)\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (Array.isArray(option.buttons)) {\r\n\t\t\t\t\tif (option.buttons[0]) {\r\n\t\t\t\t\t\tcancelTxt = option.buttons[0]\r\n\t\t\t\t\t\tcancelVisible = true\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (option.buttons[1]) {\r\n\t\t\t\t\t\tokTxt = option.buttons[1]\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tswal({\r\n\t\t\t\ttitle: option.title,\r\n\t\t\t\ticon: option.icon,\r\n\t\t\t\tclassName: option.className,\r\n\t\t\t\t[t]: option.text,\r\n\t\t\t\tbuttons: {\r\n\t\t\t\t\tconfirm: {\r\n\t\t\t\t\t\ttext: okTxt,\r\n\t\t\t\t\t\tvalue: true,\r\n\t\t\t\t\t\tvisible: true,\r\n\t\t\t\t\t\tclassName: okClass\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcancel: {\r\n\t\t\t\t\t\ttext: cancelTxt,\r\n\t\t\t\t\t\tvalue: null,\r\n\t\t\t\t\t\tvisible: cancelVisible,\r\n\t\t\t\t\t\tclassName: cancelClass\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tif (res && typeof option.onOk === 'function') {\r\n\t\t\t\t\t\toption.onOk()\r\n\t\t\t\t\t}\r\n\t\t\t\t\tr(res)\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tj(err)\r\n\t\t\t\t})\r\n\t\t} else if (typeof option === 'string') {\r\n\t\t\tlet t = ''\r\n\t\t\tif (text) {\r\n\t\t\t\tswitch (typeof text) {\r\n\t\t\t\t\tcase 'string':\r\n\t\t\t\t\t\tt = 'text'\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'object':\r\n\t\t\t\t\t\tt = 'content'\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tswal({\r\n\t\t\t\ttitle: option,\r\n\t\t\t\t[t]: text || '',\r\n\t\t\t\ticon: icon || '',\r\n\t\t\t\tclassName: 'swalBoxX',\r\n\t\t\t\tbuttons: {\r\n\t\t\t\t\tconfirm: {\r\n\t\t\t\t\t\ttext: T('r.confirm'),\r\n\t\t\t\t\t\tvalue: true,\r\n\t\t\t\t\t\tvisible: true,\r\n\t\t\t\t\t\tclassName: 'swalConfirmBt',\r\n\t\t\t\t\t\tcloseModal: true\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tr(res)\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tj(err)\r\n\t\t\t\t})\r\n\t\t} else if (typeof option === 'boolean') {\r\n\t\t\tif (!option && swal.close) {\r\n\t\t\t\tswal.close()\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthrow new TypeError('swal第一个参数类型有误，仅支持Object/String/false')\r\n\t\t}\r\n\t})\r\n}\r\n","/**\r\n * @description 公共方法集合，需要单独引用才能使用\r\n * @author ricky zhangqingcq@foxmail.com\r\n * @created 2023.07.14\r\n */\r\nimport type { Collection } from '../public'\r\nimport _ from 'lodash'\r\nimport { myTypeof } from './globalFunc'\r\n\r\n// 下划线转换驼峰\r\nexport function toHump(name: string): string {\r\n\treturn name.replace(/_(\\w)/g, function (all, letter) {\r\n\t\treturn letter.toUpperCase()\r\n\t})\r\n}\r\n\r\n/*用浏览器内部转换器实现html转码*/\r\nexport function htmlEncode(text: string): string | HTMLElement {\r\n\t//1.首先动态创建一个容器标签元素，如DIV\r\n\tlet temp = document.createElement('div')\r\n\t//2.然后将要转换的字符串设置为这个元素的innerText(ie支持)或者textContent(火狐，google支持)\r\n\ttemp.textContent !== undefined ? (temp.textContent = text) : (temp.innerText = text)\r\n\t//3.最后返回这个元素的innerHTML，即得到经过HTML编码转换的字符串了\r\n\treturn temp.innerHTML\r\n}\r\n\r\n/*用浏览器内部转换器实现html解码*/\r\nexport function htmlDecode(html: string): string | null {\r\n\t//1.首先动态创建一个容器标签元素，如DIV\r\n\tlet temp = document.createElement('div')\r\n\t//2.然后将要转换的字符串设置为这个元素的innerHTML(ie，火狐，google都支持)\r\n\ttemp.innerHTML = html\r\n\t//3.最后返回这个元素的innerText(ie支持)或者textContent(火狐，google支持)，即得到经过HTML解码的字符串了。\r\n\treturn temp.innerText || temp.textContent\r\n}\r\n\r\n/*根据file文件对象获取文件地址用来预览*/\r\nexport function getFileSrc(file: File) {\r\n\treturn new Promise((resolve) => {\r\n\t\tlet reader = new FileReader()\r\n\t\treader.readAsDataURL(file) // 读出 base64\r\n\t\treader.onloadend = () => {\r\n\t\t\tresolve(reader.result)\r\n\t\t}\r\n\t})\r\n}\r\n\r\n/*获取后缀名*/\r\nexport function getFileTypeByName(name: string): string {\r\n\treturn name.split('.').pop()!.toLocaleLowerCase()\r\n}\r\n\r\n/*判断是否为图片（type是否包含‘image’）*/\r\nexport function isImgByFile(type: string): boolean {\r\n\treturn myTypeof(type) === 'String' && type.indexOf('image') > -1\r\n}\r\n\r\n/*根据文件名获取图标（上传组件用）*/\r\nexport function getFileTypeIconByName(name: string): string {\r\n\tconst format = getFileTypeByName(name)\r\n\tlet type = 'ios-document-outline'\r\n\r\n\tif (['gif', 'jpg', 'jpeg', 'png', 'bmp', 'webp'].indexOf(format) > -1) {\r\n\t\ttype = 'ios-image'\r\n\t} else if (['mp4', 'm3u8', 'rmvb', 'avi', 'swf', '3gp', 'mkv', 'flv'].indexOf(format) > -1) {\r\n\t\ttype = 'ios-film'\r\n\t} else if (['mp3', 'wav', 'wma', 'ogg', 'aac', 'flac'].indexOf(format) > -1) {\r\n\t\ttype = 'ios-musical-notes'\r\n\t} else if (['doc', 'txt', 'docx', 'pages', 'epub', 'pdf'].indexOf(format) > -1) {\r\n\t\ttype = 'md-document'\r\n\t} else if (['numbers', 'csv', 'xls', 'xlsx'].indexOf(format) > -1) {\r\n\t\ttype = 'ios-stats'\r\n\t} else if (['keynote', 'ppt', 'pptx'].indexOf(format) > -1) {\r\n\t\ttype = 'ios-videocam'\r\n\t}\r\n\r\n\treturn type\r\n}\r\n\r\n/*下载一个文件（替换容易被浏览器屏蔽的window.open方法）*/\r\nexport function downloadFileReaderFile(name: string, href: string): void {\r\n\tlet saveLink = document.createElement('a')\r\n\tsaveLink.href = href\r\n\tsaveLink.download = name\r\n\tfakeALinkClick(saveLink)\r\n}\r\n\r\n/*模拟被点击（比如模拟用户点击链接下载东西）*/\r\nexport function fakeALinkClick(obj: Record<string, any>): void {\r\n\tlet ev = document.createEvent('MouseEvents')\r\n\tev.initMouseEvent('click', true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null)\r\n\tobj.dispatchEvent(ev)\r\n}\r\n\r\n/**\r\n * 按条件查找一个元素在集合中的位置（路径），返回找到的第一个符合条件的位置\r\n * 仅适用于[{children:[{...},...],...},...]类似树结构集合（最外层也可以是一个对象）或一维数组\r\n * @param {Array/Object} group - 集合，被查找的集合，必填\r\n * @param {Function/String/Number/Boolean} condition - 查找条件，为常量时，将常量和集合元素直接对比，必填\r\n * @param {String} pathKey - 查找结果（路径）元素在集合中的key，在集合为数组时，可以不填，返回index（索引）\r\n * @param {String} childKey - 集合子元素的key，默认值 children\r\n * @param {Array} path - 递归用参数，逻辑内部参数，不用传\r\n * @return {Array} 返回带有路径（层级）信息的数组\r\n * @example group: {id:1,name:'爸爸',children:[{id:2,name:'大儿子'},{id:3,name:'二儿子'}]}\r\n *          condition: e=>e.id === 3\r\n *          pathKey: 'name'\r\n *          childKey: 'children'\r\n *\r\n *          返回：['爸爸','二儿子']\r\n */\r\nexport function findPath({\r\n\tgroup,\r\n\tcondition,\r\n\tpathKey,\r\n\tchildKey = 'children',\r\n\tpath = []\r\n}: {\r\n\tgroup: Collection\r\n\tcondition: (item: any) => boolean\r\n\tpathKey?: any\r\n\tchildKey?: any\r\n\tpath?: string[]\r\n}): Array<string | number> {\r\n\tif (group && _.isObject(group)) {\r\n\t\tif (_.isFunction(condition)) {\r\n\t\t\tif (_.isPlainObject(group)) {\r\n\t\t\t\tlet item = group\r\n\t\t\t\tlet temp = _.cloneDeep(path)\r\n\t\t\t\tif (condition(item)) {\r\n\t\t\t\t\tif (pathKey && item[pathKey]) {\r\n\t\t\t\t\t\ttemp.push(item[pathKey])\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn temp\r\n\t\t\t\t} else if (item[childKey] && !_.isEmpty(item[childKey])) {\r\n\t\t\t\t\tif (pathKey && item[pathKey]) {\r\n\t\t\t\t\t\ttemp.push(item[pathKey])\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet rr = findPath({\r\n\t\t\t\t\t\tgroup: item[childKey],\r\n\t\t\t\t\t\tcondition: condition,\r\n\t\t\t\t\t\tpathKey: pathKey,\r\n\t\t\t\t\t\tchildKey: childKey,\r\n\t\t\t\t\t\tpath: temp\r\n\t\t\t\t\t})\r\n\t\t\t\t\tif (!_.isEmpty(rr)) {\r\n\t\t\t\t\t\treturn rr\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (Array.isArray(group)) {\r\n\t\t\t\tfor (let item of group) {\r\n\t\t\t\t\tlet temp = _.cloneDeep(path)\r\n\t\t\t\t\tif (condition(item)) {\r\n\t\t\t\t\t\tif (pathKey && item[pathKey]) {\r\n\t\t\t\t\t\t\ttemp.push(item[pathKey])\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\ttemp.push(String(group.indexOf(item)))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn temp\r\n\t\t\t\t\t} else if (item[childKey] && item[childKey].length > 0) {\r\n\t\t\t\t\t\tif (pathKey && item[pathKey]) {\r\n\t\t\t\t\t\t\ttemp.push(item[pathKey])\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\ttemp.push(String(group.indexOf(item)))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlet rr = findPath({\r\n\t\t\t\t\t\t\tgroup: item[childKey],\r\n\t\t\t\t\t\t\tcondition: condition,\r\n\t\t\t\t\t\t\tpathKey: pathKey,\r\n\t\t\t\t\t\t\tchildKey: childKey,\r\n\t\t\t\t\t\t\tpath: temp\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tif (!_.isEmpty(rr)) {\r\n\t\t\t\t\t\t\treturn rr\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else if (Array.isArray(group)) {\r\n\t\t\t//条件为常量，集合为数组，这种情况只会有一种业务场景：在一维数组中查找某个常量在数组中第一次出现的index\r\n\t\t\tfor (let item of group) {\r\n\t\t\t\tlet temp = _.cloneDeep(path)\r\n\t\t\t\tif (item === condition) {\r\n\t\t\t\t\ttemp.push(String(group.indexOf(item)))\r\n\t\t\t\t\treturn temp\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn []\r\n}\r\n\r\n/*获取字符串width*/\r\nexport function getStringWidth(str: string, fontSize: number = 12): number {\r\n\tif (myTypeof(str) === 'String' && str.length > 0) {\r\n\t\tlet nodesH = document.createElement('span')\r\n\t\tnodesH.style.fontSize = fontSize + 'px'\r\n\t\tnodesH.style.fontFamily = 'inherit'\r\n\t\tnodesH.innerHTML = str\r\n\t\tnodesH.style.opacity = '0'\r\n\t\tnodesH.style.position = 'fixed'\r\n\t\tnodesH.style.top = '3000px'\r\n\t\tdocument.body.append(nodesH)\r\n\t\tconst width = nodesH.clientWidth\r\n\t\tdocument.body.removeChild(nodesH)\r\n\t\treturn width\r\n\t}\r\n\treturn 0\r\n}\r\n\r\n/**\r\n * 如果值为''则将其替换为null\r\n * @param val 被替换的值\r\n * @returns {*}\r\n */\r\n\r\nexport function emptyInput(val: any) {\r\n\tif (val === '') {\r\n\t\treturn null\r\n\t}\r\n\treturn val\r\n}\r\n\r\n//阻止冒泡\r\nexport function stopBubbling(e: any): void {\r\n\te = e || window.Event\r\n\tif (e.stopPropagation) {\r\n\t\t//W3C阻止冒泡方法\r\n\t\te.stopPropagation()\r\n\t} else {\r\n\t\te.cancelBubble = true //IE阻止冒泡方法\r\n\t}\r\n}\r\n","/**\r\n * @description 全局公共方法集合，挂在app.config.globalProperties下\r\n * @author ricky zhangqingcq@foxmail.com\r\n * @created 2023.07.14\r\n */\r\nimport type { Collection, PlainObject } from '../public'\r\nimport _ from 'lodash'\r\nimport $swal from './swal'\r\nimport { getStringWidth } from './needImortFunc'\r\n\r\nexport function myTypeof(v: any): string {\r\n\tlet str = Object.prototype.toString.call(v)\r\n\treturn str.replace(/\\[object |]/g, '')\r\n}\r\n\r\n// 驼峰转换下划线\r\nexport function toLine(name: string): string {\r\n\treturn name.replace(/([A-Z])/g, '_$1').toLowerCase()\r\n}\r\n\r\n/**\r\n * 去掉对象属性前后空格\r\n */\r\nexport function trimObj(obj: Collection): Collection {\r\n\tlet p = myTypeof(obj)\r\n\tif (p === 'Object') {\r\n\t\tfor (let key in obj) {\r\n\t\t\tif (obj.hasOwnProperty(key)) {\r\n\t\t\t\tlet o = myTypeof(obj[key])\r\n\t\t\t\tif (o === 'String') {\r\n\t\t\t\t\tobj[key] = obj[key].trim()\r\n\t\t\t\t} else if (o === 'Object' || o === 'Array') {\r\n\t\t\t\t\ttrimObj(obj[key])\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t} else if (p === 'Array') {\r\n\t\tfor (let i = 0, l = obj.length; i < l; i++) {\r\n\t\t\tlet t = myTypeof(obj[i])\r\n\t\t\tif (t === 'String') {\r\n\t\t\t\tobj[i] = obj[i].trim()\r\n\t\t\t} else if (t === 'Array' || t === 'Object') {\r\n\t\t\t\ttrimObj(obj[i])\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn obj\r\n}\r\n\r\n/**\r\n * 清空集合\r\n * @param val 被清空的集合\r\n * @param ignoreList 不需要清理的字段集合\r\n * @return *\r\n */\r\nexport function clearObj(val: Collection, ignoreList: Array<keyof Collection | never> = []): Collection {\r\n\tif (myTypeof(val) === 'Array') {\r\n\t\tval.forEach((item: Collection, index: number) => {\r\n\t\t\tswitch (myTypeof(item)) {\r\n\t\t\t\tcase 'Array':\r\n\t\t\t\tcase 'Object':\r\n\t\t\t\t\tclearObj(item)\r\n\t\t\t\t\tbreak\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tval[index] = null\r\n\t\t\t}\r\n\t\t})\r\n\t\treturn val\r\n\t} else if (myTypeof(val) === 'Object') {\r\n\t\tfor (let key in val) {\r\n\t\t\tif (val.hasOwnProperty(key)) {\r\n\t\t\t\tlet go = true\r\n\t\t\t\tfor (let item of ignoreList) {\r\n\t\t\t\t\tif (item === key) {\r\n\t\t\t\t\t\tgo = false\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (go) {\r\n\t\t\t\t\tswitch (myTypeof(val[key])) {\r\n\t\t\t\t\t\tcase 'Array':\r\n\t\t\t\t\t\tcase 'Object':\r\n\t\t\t\t\t\t\tclearObj(val[key])\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tval[key] = null\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn val\r\n\t} else {\r\n\t\treturn val\r\n\t}\r\n}\r\n\r\n/*以form-data方式提交请求数据时，$fetch的config参数值*/\r\nexport const formDataHeadConfig = {\r\n\theaders: {\r\n\t\t'Content-Type': 'multipart/form-data'\r\n\t}\r\n}\r\n\r\n/*将普通对象转换成form-data请求参数格式*/\r\nexport function toFormData(data: Record<string, any>): FormData {\r\n\tlet temp = new FormData()\r\n\tfor (let key in data) {\r\n\t\tif (data.hasOwnProperty(key) && data[key] !== null) {\r\n\t\t\ttemp.append(key, data[key])\r\n\t\t}\r\n\t}\r\n\treturn temp\r\n}\r\n\r\n/**\r\n * 在目标集合中按条件查找或直接查找，返回第一个满足条件的元素或路径\r\n * 与findPath不同，这里的路径是完整路径（findPath省略了一些标准结构中间路径），找不到返回：false\r\n * @param {Array/Object} group 被查找的集合\r\n * @param {Function/String/Number/Boolean} condition 查找的条件或值\r\n * @param {Boolean} getPath 是否返回路径，默认为：false，返回找到的元素\r\n * @returns {*}\r\n */\r\nexport function findCollection(group: Collection, condition: (e: any) => boolean, getPath = false) {\r\n\tif (!group || !condition) {\r\n\t\treturn false\r\n\t}\r\n\tlet PATH\r\n\tlet target: string | Collection = 'notFoundC'\r\n\tlet deepSearch: Function = function (group: Collection, condition: (e: any) => boolean) {\r\n\t\tif (Array.isArray(group)) {\r\n\t\t\tif (myTypeof(condition) === 'Function' && condition(group)) {\r\n\t\t\t\ttarget = group\r\n\t\t\t\treturn []\r\n\t\t\t}\r\n\t\t\tfor (let e of group) {\r\n\t\t\t\tif (target !== 'notFoundC') {\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t\tif ((myTypeof(condition) === 'Function' && condition(e)) || e === condition) {\r\n\t\t\t\t\ttarget = e\r\n\t\t\t\t\treturn [group.indexOf(e)]\r\n\t\t\t\t} else if (myTypeof(e) === 'Array' || myTypeof(e) === 'Object') {\r\n\t\t\t\t\tlet r = deepSearch(e, condition)\r\n\t\t\t\t\tif (r !== undefined) {\r\n\t\t\t\t\t\treturn [group.indexOf(e), ...r]\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else if (myTypeof(group) === 'Object') {\r\n\t\t\tif (myTypeof(condition) === 'Function' && condition(group)) {\r\n\t\t\t\ttarget = group\r\n\t\t\t\treturn []\r\n\t\t\t}\r\n\t\t\tfor (let key in group) {\r\n\t\t\t\tif (target !== 'notFoundC') {\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t\tif (group.hasOwnProperty(key)) {\r\n\t\t\t\t\tif ((myTypeof(condition) === 'Function' && condition(key)) || group[key] === condition) {\r\n\t\t\t\t\t\ttarget = group[key]\r\n\t\t\t\t\t\treturn [key]\r\n\t\t\t\t\t} else if (myTypeof(group[key]) === 'Object' || myTypeof(group[key]) === 'Array') {\r\n\t\t\t\t\t\tlet r = deepSearch(group[key], condition)\r\n\t\t\t\t\t\tif (r !== undefined) {\r\n\t\t\t\t\t\t\treturn [key, ...r]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tPATH = deepSearch(group, condition)\r\n\tif (getPath) {\r\n\t\treturn PATH || false\r\n\t}\r\n\treturn target === 'notFoundC' ? false : target\r\n}\r\n\r\n/*判断某个值是否在集合中*/\r\nexport function oneOf(value: any, validList: any[]) {\r\n\tfor (let i = 0, l = validList.length; i < l; i++) {\r\n\t\tif (value === validList[i]) {\r\n\t\t\treturn true\r\n\t\t}\r\n\t}\r\n\treturn false\r\n}\r\n\r\n/**\r\n * 小数位数限制，超出会返回被去掉后的值\r\n * @param val 原来的值\r\n * @param num 小数点后的位数，默认：2\r\n * @return {number|*}\r\n */\r\nexport function decimalDigitsLimit(val: number | string, num: number = 2): string | number {\r\n\tlet expStr = new RegExp(`(^-?\\\\d+\\\\.\\\\d{${num}})(\\\\d+$)`)\r\n\tlet valStr = (val && String(val)) || ''\r\n\tif (expStr.test(valStr)) {\r\n\t\treturn Number(valStr.replace(expStr, '$1'))\r\n\t}\r\n\treturn val\r\n}\r\n\r\n/*文件导出，调用后端接口以form表单提交数据下载文件*/\r\nexport function downloadFileByFormSubmit(url: string, data: PlainObject = {}, method: string = 'get'): void {\r\n\tlet form = document.createElement('form')\r\n\tlet body = document.getElementsByTagName('body')[0]\r\n\tbody.appendChild(form)\r\n\tform.setAttribute('style', 'display:none')\r\n\tform.setAttribute('target', '')\r\n\tform.setAttribute('method', method)\r\n\tlet _url = url\r\n\tif (window && window.hasOwnProperty('g')) {\r\n\t\t/*所有特定缩写字母开头的地址，都会被改变加上config.js（public里的全局配置文件，在index.html引入，在打包后通过更改该文件用于不\r\n\t\t 同环境的部署）里配置的地址变成绝对地址，如:\r\n\t\t config.js里配置了 window.g={mgrURL:'http://mgr.myweb.com'}\r\n\t\t 请求地址 ‘/mgr/file’ 会被改变为 'http://mgr.myweb.com/file'\r\n\t\t */\r\n\t\t// @ts-ignore\r\n\t\tlet httpEnv = Object.keys(window.g)\r\n\t\t\t.filter((e) => e.indexOf('URL') > -1)\r\n\t\t\t.map((e) => e.replace('URL', ''))\r\n\r\n\t\tfor (let item of httpEnv) {\r\n\t\t\tlet regExp = new RegExp('^/' + item + '(?=/.*$)', 'i')\r\n\t\t\t// @ts-ignore\r\n\t\t\tif (regExp.test(url) && window.g[item + 'URL']) {\r\n\t\t\t\t// @ts-ignore\r\n\t\t\t\t_url = window.g[item + 'URL'] + url.replace(regExp, '')\r\n\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tform.setAttribute('action', _url)\r\n\r\n\tif (_.isPlainObject(data)) {\r\n\t\tfor (let key in data) {\r\n\t\t\tif (data.hasOwnProperty(key) && (data[key] || data[key] === 0 || data[key] === false || data[key] === '')) {\r\n\t\t\t\tlet input = document.createElement('input')\r\n\t\t\t\tinput.setAttribute('type', 'hidden')\r\n\t\t\t\tinput.setAttribute('name', key)\r\n\t\t\t\tinput.setAttribute('value', data[key])\r\n\t\t\t\tform.appendChild(input)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tform.submit()\r\n\r\n\t\tlet ta: any = setTimeout(() => {\r\n\t\t\tbody.removeChild(form)\r\n\t\t\tclearTimeout(ta)\r\n\t\t\tta = null\r\n\t\t}, 8000)\r\n\t} else {\r\n\t\tconsole.error('请求数据格式有误，无法下载文件')\r\n\t}\r\n}\r\n\r\n/**\r\n * 文件导出功能（调用文件下载方法downloadFileByFormSubmit）\r\n * @param url 导出路径\r\n * @param data 参数\r\n * @param method 请求方式\r\n */\r\nexport function fileExport(this: any, url: string, data: PlainObject = {}, method: string = 'get'): void {\r\n\tif (\r\n\t\tdata.hasOwnProperty('columns') &&\r\n\t\t(data['columns'] === '' || data['columns'] === null || data['columns'] === undefined)\r\n\t) {\r\n\t\t$swal.call(this, {\r\n\t\t\ttitle: '需要导出的列不能为空',\r\n\t\t\ttype: 'warning'\r\n\t\t})\r\n\t\treturn\r\n\t}\r\n\tdownloadFileByFormSubmit(url, data, method)\r\n}\r\n\r\n/**\r\n * 依据列显示设置缓存获取columns的key的集合\r\n * @param {String} sKey - 列显示设置插件的sKey\r\n * @param {Array} columns - 表格table的columns\r\n * @param {Boolean} returnArray - 是否返回数组，默认值false,返回String\r\n * */\r\nexport function getColumnsKeys(sKey: string, columns: any[], returnArray: boolean = false): string | string[] {\r\n\tlet temp\r\n\tif (sKey && myTypeof(columns) === 'Array') {\r\n\t\tlet names = localStorage.getItem(sKey)\r\n\t\tif (names) {\r\n\t\t\tlet t = JSON.parse(decodeURI(names))\r\n\t\t\ttemp = columns.filter((e) => e.key && t.indexOf(e.title) !== -1).map((e) => e.key)\r\n\t\t} else {\r\n\t\t\ttemp = columns.map((e) => e.key)\r\n\t\t}\r\n\t} else {\r\n\t\ttemp = []\r\n\t}\r\n\tif (!returnArray) {\r\n\t\ttemp = String(temp)\r\n\t}\r\n\treturn temp\r\n}\r\n\r\n/**\r\n * 判断一个值是否为有效值，有效值：不为空即为有效\r\n * @param val 需要判断的值\r\n * @returns {boolean}\r\n */\r\nexport function isValidValue(val: any): boolean {\r\n\treturn val !== undefined && val !== null && val !== ''\r\n}\r\n\r\nexport function isNumberValue(val: any): boolean {\r\n\tconst reg = /^-?\\d+(.\\d+)?$/\r\n\treturn reg.test(val)\r\n}\r\n\r\n/**\r\n * 手动tooltip(table 的 column 的tooltip失效的情况下用)\r\n * @param {String/Array/Function} contentKey 要设置tooltip的column的key或者key组成的数组（内容按数组中key对应的内容先后拼接），\r\n * 或获取值的自定义逻辑（Function回调，会传入params）\r\n * @param {boolean} dash 在内容为空时是否以'--'代替显示\r\n * @param {String} jointMark 在内容为多个字段拼接时，各字段间连接符，默认没有\r\n * @returns {function(...[*]=)}\r\n */\r\nexport function tooltipManual(contentKey: string | string[] | ((params: any) => string), dash = false, jointMark = '') {\r\n\treturn function (h: any, params: any) {\r\n\t\tlet content\r\n\t\tif (Array.isArray(contentKey)) {\r\n\t\t\tlet temp: any[] = []\r\n\t\t\tfor (let item of contentKey) {\r\n\t\t\t\tif (isValidValue(params.row[item])) {\r\n\t\t\t\t\ttemp.push(params.row[item])\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcontent = temp.join(jointMark)\r\n\t\t} else if (typeof contentKey === 'function') {\r\n\t\t\tcontent = contentKey(params)\r\n\t\t} else {\r\n\t\t\tcontent = params.row[contentKey]\r\n\t\t}\r\n\t\tlet contentWidth = getStringWidth(content)\r\n\t\tlet tdWidth = params.column._width\r\n\t\tif (content && contentWidth > tdWidth) {\r\n\t\t\treturn h(\r\n\t\t\t\t'Tooltip',\r\n\t\t\t\t{\r\n\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\twidth: '100%'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tprops: {\r\n\t\t\t\t\t\tcontent: content,\r\n\t\t\t\t\t\tmaxWidth: tdWidth * 2\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t[\r\n\t\t\t\t\th(\r\n\t\t\t\t\t\t'span',\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\t\t\t\tdisplay: 'inline-block',\r\n\t\t\t\t\t\t\t\t'text-overflow': 'ellipsis',\r\n\t\t\t\t\t\t\t\t'white-space': 'nowrap',\r\n\t\t\t\t\t\t\t\toverflow: 'hidden',\r\n\t\t\t\t\t\t\t\t'vertical-align': 'top'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcontent\r\n\t\t\t\t\t)\r\n\t\t\t\t]\r\n\t\t\t)\r\n\t\t}\r\n\t\treturn h('span', dash && !isValidValue(content) ? '--' : content)\r\n\t}\r\n}\r\n\r\n/*判断集合（数组或对象）每个元素或单个变量是否是有效值*/\r\nexport function isEmptyValue(data: Collection): boolean {\r\n\tif (_.isPlainObject(data)) {\r\n\t\tfor (let key in data) {\r\n\t\t\tif (data.hasOwnProperty(key) && isValidValue(data[key])) {\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true\r\n\t} else if (Array.isArray(data)) {\r\n\t\tfor (let item of data) {\r\n\t\t\tif (isValidValue(item)) {\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true\r\n\t}\r\n\treturn !isValidValue(data)\r\n}\r\n\r\n/*获取字符串长度，中文2，其他1（一般用于用户输入长度限制）*/\r\nexport function stringLength(str: string): number {\r\n\tif (myTypeof(str) === 'String') {\r\n\t\treturn str.replace(/[^\\x00-\\xff]/g, '01').length\r\n\t} else if (myTypeof(str) === 'Number') {\r\n\t\tstr += ''\r\n\t\treturn str.replace(/[^\\x00-\\xff]/g, '01').length\r\n\t}\r\n\treturn 0\r\n}\r\n\r\n/**\r\n * 按条件设置集合中指定字段的值\r\n * @param {Array} group 目标集合\r\n * @param {Function} condition 匹配条件\r\n * @param {String} key 要设置的字段键名\r\n * @param val 要设置的字段的值，或处理逻辑\r\n * @param {String} childKey 子集键名\r\n */\r\nexport function setValByOption({\r\n\tgroup,\r\n\tcondition,\r\n\tkey,\r\n\tval,\r\n\tchildKey = 'children'\r\n}: {\r\n\tgroup: Collection\r\n\tcondition: (item: any) => boolean\r\n\tkey: string\r\n\tval: any\r\n\tchildKey: string\r\n}) {\r\n\tif (\r\n\t\tmyTypeof(group) !== 'Array' ||\r\n\t\tmyTypeof(condition) !== 'Function' ||\r\n\t\tmyTypeof(key) !== 'String' ||\r\n\t\tmyTypeof(childKey) !== 'String'\r\n\t) {\r\n\t\treturn false\r\n\t}\r\n\tgroup.forEach((item: any) => {\r\n\t\tif (condition(item)) {\r\n\t\t\tif (myTypeof(val) === 'Function') {\r\n\t\t\t\titem[key] = val(item[key])\r\n\t\t\t} else {\r\n\t\t\t\titem[key] = val\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (myTypeof(item[childKey]) === 'Array' && item[childKey].length > 0) {\r\n\t\t\tsetValByOption({\r\n\t\t\t\tgroup: item[childKey],\r\n\t\t\t\tcondition,\r\n\t\t\t\tkey,\r\n\t\t\t\tval,\r\n\t\t\t\tchildKey\r\n\t\t\t})\r\n\t\t}\r\n\t})\r\n}\r\n\r\n/**\r\n * 是否有该权限，用于权限管理\r\n * @param {String} value 权限代码\r\n * @returns {boolean}\r\n */\r\nexport function hasPermission(value: string): boolean {\r\n\tlet btnPermissions = sessionStorage.getItem('btnPermissions')\r\n\tif (btnPermissions) {\r\n\t\treturn btnPermissions.split(',').indexOf(value) > -1\r\n\t}\r\n\treturn false\r\n}\r\n\r\n/**\r\n * 判断一个变量是否是NaN\r\n * @param v 变量\r\n * @returns {boolean}\r\n */\r\nexport function isNaN(v: any): boolean {\r\n\treturn myTypeof(v) === 'Number' && String(v) === 'NaN'\r\n}\r\n\r\n/**\r\n *过滤对象属性或者将对象转换成url的query字符串\r\n * @param {Object} data 需要处理的对象\r\n * @param {Boolean} toUrl 是否需要转换成url，为false时可以不传\r\n * @param {Boolean} keepEmptyVal 是否保留空值（用于接口置空某个字段），为false时可以不传\r\n * @returns {*}\r\n * 注意：当toUrl=false且keepEmptyVal=true时，两个参数都传比较好\r\n */\r\n\r\nexport function dataFilterOrToUrl(\r\n\tdata: PlainObject,\r\n\ttoUrl: boolean = false,\r\n\tkeepEmptyVal: boolean = false\r\n): string | PlainObject {\r\n\tif (myTypeof(data) !== 'Object') {\r\n\t\treturn data\r\n\t}\r\n\tlet _data = Object.assign(data, {})\r\n\tlet url = ''\r\n\tfor (let key in _data) {\r\n\t\tif (_data.hasOwnProperty(key)) {\r\n\t\t\tlet val = _data[key]\r\n\t\t\tif (\r\n\t\t\t\tval === undefined ||\r\n\t\t\t\tval === '' ||\r\n\t\t\t\t(myTypeof(val) === 'String' && val.trim() === '') ||\r\n\t\t\t\tval === null ||\r\n\t\t\t\tisNaN(val)\r\n\t\t\t) {\r\n\t\t\t\tif (keepEmptyVal) {\r\n\t\t\t\t\tif (toUrl) {\r\n\t\t\t\t\t\turl += key + '=&'\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t_data[key] = ''\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdelete _data[key]\r\n\t\t\t\t}\r\n\t\t\t} else if (toUrl) {\r\n\t\t\t\turl += key + '=' + val + '&'\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif (toUrl) {\r\n\t\tif (url.length > 0) {\r\n\t\t\treturn url.substr(0, url.length - 1)\r\n\t\t}\r\n\t\treturn ''\r\n\t}\r\n\treturn _data\r\n}\r\n\r\n/*过滤对象或数组中无效值*/\r\nexport function removeEmptyValue(data: Collection): Collection {\r\n\tlet temp: Collection = {}\r\n\tif (Array.isArray(data)) {\r\n\t\ttemp = []\r\n\t\tfor (let item of data) {\r\n\t\t\tif (Array.isArray(item) || _.isPlainObject(item)) {\r\n\t\t\t\ttemp.push(removeEmptyValue(item))\r\n\t\t\t} else if (isValidValue(item)) {\r\n\t\t\t\ttemp.push(item)\r\n\t\t\t}\r\n\t\t}\r\n\t} else if (_.isPlainObject(data)) {\r\n\t\tfor (let key in data) {\r\n\t\t\tif (data.hasOwnProperty(key)) {\r\n\t\t\t\tif (Array.isArray(data[key]) || _.isPlainObject(data[key])) {\r\n\t\t\t\t\ttemp[key] = removeEmptyValue(data[key])\r\n\t\t\t\t} else if (isValidValue(data[key])) {\r\n\t\t\t\t\ttemp[key] = data[key]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn temp\r\n}\r\n\r\n/**\r\n *打印页面，根据后端所传递的数据生成\r\n * @param data\r\n * @return {Promise<any>}\r\n */\r\nexport function htmlPrint(data: string): void {\r\n\tconst pWin = window.open()\r\n\tif (pWin) {\r\n\t\tpWin.document.write(data)\r\n\t\tlet ta: any = setTimeout(() => {\r\n\t\t\tpWin.print()\r\n\t\t\twindow.clearTimeout(ta)\r\n\t\t\tta = null\r\n\t\t}, 10)\r\n\t}\r\n}\r\n\r\n/**\r\n * 查找dom元素所有兄弟\r\n * @param elem - 被查找的元素\r\n */\r\nexport function siblingElems(elem: ChildNode) {\r\n\tlet nodes: any[] = []\r\n\tlet _elem = elem\r\n\twhile (elem.previousSibling && (elem = elem.previousSibling)) {\r\n\t\tif (elem.nodeType === 1) {\r\n\t\t\tnodes.push(elem)\r\n\t\t}\r\n\t}\r\n\r\n\twhile (_elem.nextSibling && (_elem = _elem.nextSibling)) {\r\n\t\tif (_elem.nodeType === 1) {\r\n\t\t\tnodes.push(_elem)\r\n\t\t}\r\n\t}\r\n\treturn nodes\r\n}\r\n","<script lang=\"ts\" setup>\n\timport { useRouter } from 'vue-router'\n\timport { siblingElems } from '../../methods/globalFunc'\n\n\tconst router = useRouter()\n\tconst props = withDefaults(defineProps<{ data?: any[]; pathName?: string }>(), { data: () => [], pathName: '' })\n\n\tfunction getClass(item) {\n\t\treturn item.path === props.pathName ? 'active' : ''\n\t}\n\tfunction handleClick(e, item) {\n\t\te.preventDefault()\n\t\tlet target = e.target\n\n\t\tif (!item.children && !target.classList.contains('active')) {\n\t\t\trouter.push(item.path)\n\t\t\treturn\n\t\t}\n\t\tlet parent = target.parentNode\n\t\tlet siblings = siblingElems(parent)\n\t\tfor (let item of siblings) {\n\t\t\titem.classList.remove('open') //手风琴效果\n\t\t\tconst child = item.querySelectorAll('.open')\n\t\t\tfor (let e of child) {\n\t\t\t\te.classList.remove('open')\n\t\t\t}\n\t\t}\n\t\tparent.classList.toggle('open')\n\t}\n</script>\n<template>\n\t<ul class=\"groupBoxRP\">\n\t\t<li :class=\"{ dropItemRP: item.children }\" v-for=\"(item, i) of props.data\" :key=\"item.path + i\">\n\t\t\t<div\n\t\t\t\tclass=\"menuTxtR\"\n\t\t\t\t:class=\"getClass(item)\"\n\t\t\t\t@click=\"handleClick($event, item)\"\n\t\t\t\t:style=\"{ paddingLeft: item.level * 20 + 'px' }\"\n\t\t\t>\n\t\t\t\t{{ item.name || '-- no name --' }}\n\t\t\t</div>\n\t\t\t<sideMenuGroup :data=\"item.children\" v-if=\"item.children\" :path-name=\"props.pathName\" />\n\t\t</li>\n\t</ul>\n</template>\n","<script lang=\"ts\" setup>\n\timport { computed, onBeforeMount, ref, watch, nextTick } from 'vue'\n\timport type { Ref } from 'vue'\n\timport { useRoute } from 'vue-router'\n\timport t from '../../locale/i18nSFC'\n\timport SideMenuGroup from './SideMenuGroup.vue'\n\n\tconst props = withDefaults(defineProps<{ data?: any[] }>(), { data: () => [] })\n\tconst emit = defineEmits(['on-change'])\n\tconst route = useRoute()\n\n\tconst menuDisplay: Ref<boolean> = ref(true)\n\tconst pathName = ref()\n\tconst menuRef = ref()\n\tconst titleC = computed(() => (menuDisplay.value ? t('r.hideMenu') : t('r.showMenu')))\n\tconst typeIco = computed(() => (menuDisplay.value ? 'ios-arrow-back' : 'ios-arrow-forward'))\n\n\tonBeforeMount(() => {\n\t\tlet t: string = localStorage.getItem('menuDisplayR') || ''\n\n\t\tif (t !== '') {\n\t\t\tmenuDisplay.value = JSON.parse(t)\n\t\t} else {\n\t\t\tmenuDisplay.value = true\n\t\t\tlocalStorage.setItem('menuDisplayR', JSON.stringify(true))\n\t\t}\n\t})\n\n\tconsole.log(route.path)\n\n\twatch(\n\t\t() => route.path,\n\t\t(after) => {\n\t\t\tpathName.value = after\n\t\t\tnextTick(addOpen)\n\t\t},\n\t\t{ immediate: true }\n\t)\n\n\tfunction showHideMenu() {\n\t\tmenuDisplay.value = !menuDisplay.value\n\t\tlocalStorage.setItem('menuDisplayR', JSON.stringify(menuDisplay.value))\n\t\temit('on-change', menuDisplay.value)\n\t}\n\n\tfunction addOpen() {\n\t\tlet t = menuRef.value.querySelectorAll('.dropItemRP')\n\t\tfor (let e of t) {\n\t\t\tif (e.querySelector('.active') && !e.classList.contains('open')) {\n\t\t\t\te.classList.add('open')\n\t\t\t}\n\t\t}\n\t}\n</script>\n<template>\n\t<div ref=\"menuRef\" class=\"menuBoxRP\">\n\t\t<div class=\"menuListR\" v-show=\"menuDisplay\">\n\t\t\t<side-menu-group :data=\"props.data\" :pathName=\"pathName\" />\n\t\t</div>\n\t\t<Icon\n\t\t\t:type=\"typeIco\"\n\t\t\t:size=\"25\"\n\t\t\t:class=\"{ showIco: !menuDisplay }\"\n\t\t\tclass=\"menuShowHideIco\"\n\t\t\t:title=\"titleC\"\n\t\t\t@click=\"showHideMenu\"\n\t\t\t:color=\"menuDisplay ? '#fff' : '#333'\"\n\t\t/>\n\t</div>\n</template>\n","let count = 0\r\nlet loader = document.createElement('div')\r\nloader.setAttribute('class', 'spinModal')\r\n\r\nloader.innerHTML =\r\n\t'<div class=\"loader\"><svg class=\"circular\" viewBox=\"25 25 50 50\"><circle class=\"path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" stroke-width=\"5\" stroke-miterlimit=\"10\" /></svg></div>'\r\n\r\nwindow.onload = function () {\r\n\tdocument.getElementsByTagName('body')[0].append(loader)\r\n}\r\n\r\n/**\r\n * 开关spin\r\n * @param d 开为：true，关：不传\r\n */\r\nexport function toggleSpin(d?: boolean): void {\r\n\tif (d) {\r\n\t\tloader.classList.add('show')\r\n\t} else {\r\n\t\tloader.classList.remove('show')\r\n\t}\r\n}\r\n\r\n/**\r\n * 网络请求计数\r\n * @param d 增加计数：true，减少计数：不传\r\n */\r\nexport function counts(d?: boolean) {\r\n\tlet t = count\r\n\tif (d) {\r\n\t\tcount++\r\n\t} else if (count > 0) {\r\n\t\tcount--\r\n\t}\r\n\r\n\tif (t !== count) {\r\n\t\tif (count === 0) {\r\n\t\t\ttoggleSpin(false)\r\n\t\t} else if (t === 0) {\r\n\t\t\ttoggleSpin(true)\r\n\t\t}\r\n\t}\r\n}\r\n","/**\r\n * @description 基于axios的网络请求插件\r\n * @author Ricky email:zhangqingcq@foxmail.com\r\n * @created 2023.05.10\r\n */\r\nimport axios from 'axios'\r\nimport type { AxiosInstance, AxiosRequestConfig, AxiosResponse } from 'axios'\r\nimport _ from 'lodash'\r\nimport { t } from '../locale'\r\n\r\nimport { counts } from './spin'\r\nimport type { Collection } from '../public'\r\n\r\nconst host = window.location.origin\r\n\r\nlet proxy: any = null\r\nconst T = (...arg: Parameters<typeof t>) => t.apply(proxy, arg)\r\n\r\ninterface ServiceR extends AxiosInstance {\r\n\tstore?: any\r\n}\r\n\r\ninterface RequestConfigR extends AxiosRequestConfig {\r\n\tspin?: boolean\r\n\tnoEmptyStr?: boolean\r\n}\r\n\r\n// 创建自定义对象\r\nlet service: ServiceR = axios.create({\r\n\tbaseURL: host,\r\n\twithCredentials: true // 允许携带cookie\r\n})\r\n\r\nfunction notInitYet() {\r\n\tconsole.info('store为空，请在安装插件时传入store实例：Vue.use(plugRQw,{store:store})，Pinia传{store:useStore}')\r\n}\r\n\r\n/**\r\n * 拦截器，在发起请求前调用\r\n */\r\nservice.interceptors.request.use(\r\n\t(q) => {\r\n\t\treturn q\r\n\t},\r\n\t(e) => {\r\n\t\treturn Promise.reject(e)\r\n\t}\r\n)\r\n\r\nfunction logoutHandle() {\r\n\tif (service.store) {\r\n\t\tif (typeof service.store === 'function') {\r\n\t\t\tconst store = service.store()\r\n\t\t\tif (store.logout) {\r\n\t\t\t\tstore.logout()\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tservice.store.dispatch('logout')\r\n\t\t}\r\n\t} else {\r\n\t\tnotInitYet()\r\n\t}\r\n}\r\n\r\n/**\r\n * 拦截器，在请求返回时调用\r\n */\r\nservice.interceptors.response.use(\r\n\t(r) => {\r\n\t\tif (proxy && r && r.data && (r.data.code === 403 || r.data.code === 409)) {\r\n\t\t\tproxy.messageBox({\r\n\t\t\t\tcontent: T('r.http.' + r.data.code),\r\n\t\t\t\tonOk: logoutHandle\r\n\t\t\t})\r\n\t\t}\r\n\t\treturn r\r\n\t},\r\n\t(e) => {\r\n\t\tif (proxy && e && e.response && (e.response.status === 403 || e.response.status === 409)) {\r\n\t\t\tproxy.messageBox({\r\n\t\t\t\tcontent: T('r.http.' + e.response.status),\r\n\t\t\t\tonOk: logoutHandle\r\n\t\t\t})\r\n\t\t}\r\n\t\tconsole.warn('请求出错：', e)\r\n\t\treturn Promise.reject(e)\r\n\t}\r\n)\r\n\r\n/**\r\n * 封装请求结果和错误处理\r\n */\r\nfunction checkResult(r: Partial<AxiosResponse>, msg?: string, rPath?: string[], config?: RequestConfigR) {\r\n\tif (config && config.spin) {\r\n\t\tcounts(false)\r\n\t}\r\n\tlet y = true\r\n\tlet d = r && r.data\r\n\tif (d) {\r\n\t\trPath = rPath ? rPath : []\r\n\t\tfor (let e of rPath) {\r\n\t\t\td = d[e]\r\n\t\t\ty = y && d\r\n\t\t}\r\n\t\tif (y) {\r\n\t\t\treturn d\r\n\t\t}\r\n\t\tmsg && console.warn(msg)\r\n\t\treturn false\r\n\t}\r\n\tmsg && console.warn(msg)\r\n\treturn false\r\n}\r\n\r\nfunction handleRequest(\r\n\tmethod: string,\r\n\turl: string,\r\n\tdata?: Collection,\r\n\tmsg?: string,\r\n\trPath?: string[],\r\n\tconfig?: RequestConfigR,\r\n\tisUrlData?: boolean\r\n) {\r\n\treturn new Promise((s, j) => {\r\n\t\tswitch (method) {\r\n\t\t\tcase 'get':\r\n\t\t\t\tservice\r\n\t\t\t\t\t.get(url, { params: data })\r\n\t\t\t\t\t.then((r) => {\r\n\t\t\t\t\t\tlet d = checkResult(r, msg, rPath, config)\r\n\t\t\t\t\t\tif (d) {\r\n\t\t\t\t\t\t\ts(d)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tj(r)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((e) => {\r\n\t\t\t\t\t\tcheckResult({}, msg, rPath, config)\r\n\t\t\t\t\t\tj(e)\r\n\t\t\t\t\t})\r\n\t\t\t\tbreak\r\n\t\t\tcase 'delete':\r\n\t\t\t\tlet keyT = isUrlData ? 'params' : 'data'\r\n\t\t\t\tservice\r\n\t\t\t\t\t.delete(url, { [keyT]: data })\r\n\t\t\t\t\t.then((r) => {\r\n\t\t\t\t\t\tlet d = checkResult(r, msg, rPath, config)\r\n\t\t\t\t\t\tif (d) {\r\n\t\t\t\t\t\t\ts(d)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tj(r)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((e) => {\r\n\t\t\t\t\t\tcheckResult({}, msg, rPath, config)\r\n\t\t\t\t\t\tj(e)\r\n\t\t\t\t\t})\r\n\t\t\t\tbreak\r\n\t\t\tcase 'post':\r\n\t\t\t\tservice\r\n\t\t\t\t\t.post(url, data, config)\r\n\t\t\t\t\t.then((r) => {\r\n\t\t\t\t\t\tlet d = checkResult(r, msg, rPath, config)\r\n\t\t\t\t\t\tif (d) {\r\n\t\t\t\t\t\t\ts(d)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tj(r)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((e) => {\r\n\t\t\t\t\t\tcheckResult({}, msg, rPath, config)\r\n\t\t\t\t\t\tj(e)\r\n\t\t\t\t\t})\r\n\t\t\t\tbreak\r\n\t\t\tcase 'put':\r\n\t\t\t\tservice\r\n\t\t\t\t\t.put(url, data, config)\r\n\t\t\t\t\t.then((r) => {\r\n\t\t\t\t\t\tlet d = checkResult(r, msg, rPath, config)\r\n\t\t\t\t\t\tif (d) {\r\n\t\t\t\t\t\t\ts(d)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tj(r)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((e) => {\r\n\t\t\t\t\t\tcheckResult({}, msg, rPath, config)\r\n\t\t\t\t\t\tj(e)\r\n\t\t\t\t\t})\r\n\t\t\t\tbreak\r\n\t\t\tdefault:\r\n\t\t}\r\n\t})\r\n}\r\n\r\n/**\r\n * 检查请求传入的各个参数\r\n * @param method 请求方法\r\n * @param url 地址\r\n * @param data 餐宿\r\n * @param msg 错误信息\r\n * @param rPath 返回数据路径（提取）\r\n * @param config 请求配置\r\n * @param isUrlData delete方法传参模式 true:params,false:data\r\n * @returns {Promise<*>}\r\n */\r\nfunction checkRequest(\r\n\tmethod: string,\r\n\turl: string,\r\n\tdata: Collection = {},\r\n\tmsg?: string,\r\n\trPath?: string[],\r\n\tconfig?: RequestConfigR,\r\n\tisUrlData?: boolean\r\n) {\r\n\treturn new Promise((s, j) => {\r\n\t\tif (url) {\r\n\t\t\tif (config && config.spin) {\r\n\t\t\t\tcounts(true)\r\n\t\t\t}\r\n\t\t\tlet url_ = url\r\n\t\t\tif (window && window.hasOwnProperty('g')) {\r\n\t\t\t\t/*所有特定缩写字母开头的地址，都会被改变加上config.js（public里的全局配置文件，在index.html引入，在打包后通过更改该文件用于不\r\n         同环境的部署）里配置的地址变成绝对地址，如:\r\n         config.js里配置了 window.g={mgrURL:'http://mgr.myweb.com'}\r\n         请求地址 ‘/mgr/file’ 会被改变为 'http://mgr.myweb.com/file'\r\n         */\r\n\r\n\t\t\t\t// @ts-ignore\r\n\t\t\t\tconst _g = window.g\r\n\t\t\t\tlet httpEnv = Object.keys(_g)\r\n\t\t\t\t\t.filter((e) => e.indexOf('URL') > -1)\r\n\t\t\t\t\t.map((e) => e.replace('URL', ''))\r\n\r\n\t\t\t\tfor (let e of httpEnv) {\r\n\t\t\t\t\tlet regExp = new RegExp('^/' + e + '(?=/.*$)', 'i')\r\n\t\t\t\t\tif (regExp.test(url) && _g[e + 'URL']) {\r\n\t\t\t\t\t\turl_ = _g[e + 'URL'] + url.replace(regExp, '')\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tlet data_: Collection | undefined\r\n\t\t\tif (config && config.headers && config.headers['Content-Type'] === 'multipart/form-data') {\r\n\t\t\t\tdata_ = data\r\n\t\t\t} else {\r\n\t\t\t\tif (data && !_.isEmpty(data)) {\r\n\t\t\t\t\tif (Array.isArray(data)) {\r\n\t\t\t\t\t\tdata_ = []\r\n\t\t\t\t\t\tfor (let e of data) {\r\n\t\t\t\t\t\t\tif (e || e === 0 || e === false || (e === '' && config && !config.noEmptyStr)) {\r\n\t\t\t\t\t\t\t\tdata_.push(e)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdata_ = {}\r\n\t\t\t\t\t\tfor (let key in data) {\r\n\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\tdata.hasOwnProperty(key) &&\r\n\t\t\t\t\t\t\t\t(data[key] ||\r\n\t\t\t\t\t\t\t\t\tdata[key] === 0 ||\r\n\t\t\t\t\t\t\t\t\tdata[key] === false ||\r\n\t\t\t\t\t\t\t\t\t(data[key] === '' && config && !config.noEmptyStr))\r\n\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\tdata_[key] = data[key]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tlet method_ = method.toLowerCase()\r\n\t\t\thandleRequest(method_, url_, data_, msg, rPath, config, isUrlData)\r\n\t\t\t\t.then((r) => {\r\n\t\t\t\t\ts(r)\r\n\t\t\t\t})\r\n\t\t\t\t.catch((e) => {\r\n\t\t\t\t\tj(e)\r\n\t\t\t\t})\r\n\t\t} else {\r\n\t\t\tconsole.error('没有请求地址:url')\r\n\t\t\tj('没有请求地址:url')\r\n\t\t}\r\n\t})\r\n}\r\n\r\n/**\r\n * @description 基于axios封装的请求插件，引入库时使用this.$fetch时直接调用以下方法，例如：this.$fetch.get(\"/getData\",{id:1})，\r\n * vue3的setup模式使用：proxy调用\r\n * 单独引入时遵循Es Modules规范即可\r\n * @class\r\n */\r\nexport default {\r\n\t/**\r\n\t * @description 初始化该请求插件，单独引入的话调用一次后，方可实现spin等功能，默认在该库安装时已自动化初始化了该请求插件\r\n\t * @function\r\n\t * @param {object} store 项目中vuex的store，或pinia的useStore\r\n\t * @param app 当前vue实例\r\n\t */\r\n\tinit(store: any, app: any) {\r\n\t\tservice.store = store\r\n\t\tproxy = app.config.globalProperties\r\n\t},\r\n\t/**\r\n\t * post 请求\r\n\t * @function\r\n\t * @param {string} url 请求地址\r\n\t * @param {object} data 请求数据\r\n\t * @param {string} msg 错误信息，在控制台输出，方便调试，不用可以不传，例如：\r\n\t * @example this.$fetch.post(\"/getDataB\",{name:'ricky'},\"获取数据B失败\")\r\n\t * @param {Array.<string>} rPath 请求结果提取路径，如：[data,list]表示data.list,如不需过滤可不传\r\n\t * @param {object} config 请求配置  如请求过程需要遮罩层，设置 spin:true即可\r\n\t * @return {Promise<object>}\r\n\t * @example this.$fetch.post(\"/getData\",{id:1},null,['result','list'])\r\n\t *  .then(r=>{\r\n\t *      console.log(r)\r\n\t *      r相当于:data.result.list,data是网络请求结果\r\n\t *  })\r\n\t *\r\n\t * 注意：\r\n\t *  请求最多支持5个入参，最少一个(url)，依次为：url,data,msg,rPath,config。如果要传靠后的入参，但不想传前面的，应该这样传：\r\n\t *  this.$fetch.post(\"/setData\",{},null,[],{\r\n\t *     headers: {\r\n\t *         'Content-Type': 'multipart/form-data'\r\n\t *       },\r\n\t *       spin:true\r\n\t *   }\r\n\t *  )\r\n\t */\r\n\tpost(url: string, data?: Collection, msg?: string, rPath?: string[], config?: RequestConfigR) {\r\n\t\treturn new Promise((s, j) => {\r\n\t\t\tcheckRequest('post', url, data, msg, rPath, config)\r\n\t\t\t\t.then((r) => {\r\n\t\t\t\t\ts(r)\r\n\t\t\t\t})\r\n\t\t\t\t.catch((e) => {\r\n\t\t\t\t\tj(e)\r\n\t\t\t\t})\r\n\t\t})\r\n\t},\r\n\t/**\r\n\t * put请求\r\n\t * @param {string} url 请求地址\r\n\t * @param {object} data 请求数据\r\n\t * @param {string} msg 错误信息，在控制台输出，方便调试，不用可以不传\r\n\t * @param {Array.<string>} rPath 请求结果提取路径\r\n\t * @param {object} config 请求配置  如请求过程需要遮罩层，设置 spin:true即可\r\n\t * @return {Promise<unknown>}\r\n\t */\r\n\tput(url: string, data?: Collection, msg?: string, rPath?: string[], config?: RequestConfigR) {\r\n\t\treturn new Promise((s, j) => {\r\n\t\t\tcheckRequest('put', url, data, msg, rPath, config)\r\n\t\t\t\t.then((r) => {\r\n\t\t\t\t\ts(r)\r\n\t\t\t\t})\r\n\t\t\t\t.catch((e) => {\r\n\t\t\t\t\tj(e)\r\n\t\t\t\t})\r\n\t\t})\r\n\t},\r\n\t/**\r\n\t * get请求\r\n\t * @param {string} url 请求地址\r\n\t * @param {object} data 请求数据\r\n\t * @param {string} msg 错误信息，在控制台输出，方便调试，不用可以不传\r\n\t * @param {Array.<string>} rPath 请求结果提取路径\r\n\t * @param {object} config 请求配置  如请求过程需要遮罩层，设置 spin:true即可\r\n\t * @return {Promise<unknown>}\r\n\t * PS: get请求时(delete请求同理)，可以把请求参数写在url里，也可以写在data里，注意写在data里时，data是对象\r\n\t * 以请求'/devices',找到id=2,name=meter举例：\r\n\t *  只传url时，url = '/devices?id=2&name=meter'\r\n\t *  url和data都传时,url = '/devices',data={id:2,name:'meter'}\r\n\t */\r\n\tget(url: string, data?: Collection, msg?: string, rPath?: string[], config?: RequestConfigR) {\r\n\t\treturn new Promise((s, j) => {\r\n\t\t\tcheckRequest('get', url, data, msg, rPath, config)\r\n\t\t\t\t.then((r) => {\r\n\t\t\t\t\ts(r)\r\n\t\t\t\t})\r\n\t\t\t\t.catch((e) => {\r\n\t\t\t\t\tj(e)\r\n\t\t\t\t})\r\n\t\t})\r\n\t},\r\n\t/**\r\n\t * delete 请求\r\n\t * @param {string} url 请求地址\r\n\t * @param {object} data 请求数据\r\n\t * @param {string} msg 错误信息，在控制台输出，方便调试，不用可以不传\r\n\t * @param {Array.<string>} rPath 请求结果提取路径\r\n\t * @param {object} config 请求配置  如请求过程需要遮罩层，设置 spin:true即可\r\n\t * @param isUrlData 传参模式 true:params,false:data\r\n\t * @return {Promise<unknown>}\r\n\t */\r\n\tdelete(\r\n\t\turl: string,\r\n\t\tdata?: Collection,\r\n\t\tmsg?: string,\r\n\t\trPath?: string[],\r\n\t\tconfig?: RequestConfigR,\r\n\t\tisUrlData: boolean = true\r\n\t) {\r\n\t\treturn new Promise((s, j) => {\r\n\t\t\tcheckRequest('delete', url, data, msg, rPath, config, isUrlData)\r\n\t\t\t\t.then((r) => {\r\n\t\t\t\t\ts(r)\r\n\t\t\t\t})\r\n\t\t\t\t.catch((e) => {\r\n\t\t\t\t\tj(e)\r\n\t\t\t\t})\r\n\t\t})\r\n\t},\r\n\t/**\r\n\t * 并发请求   例如：\r\n\t * @example this.$fetch.all(\r\n\t *  [\r\n\t *    this.$fetch.get(\"/getData\"),\r\n\t *    this.$fetch.post(\"/getDataB\",{name:'ricky'})\r\n\t *  ]\r\n\t * )\r\n\t */\r\n\tall: axios.all,\r\n\t/**\r\n\t * 并发请求结果分离 例如：\r\n\t * @example this.$fetch.all(\r\n\t *  [\r\n\t *    this.$fetch.get(\"/getData\"),\r\n\t *    this.$fetch.post(\"/getDataB\",{name:'ricky'})\r\n\t *  ]\r\n\t * )\r\n\t *  .then(\r\n\t *    this.$fetch.spread((result1,result2)=>{\r\n\t *        console.log(result1,result2)\r\n\t *    })\r\n\t *   )\r\n\t */\r\n\tspread: axios.spread,\r\n\t/**\r\n\t * 该请求插件暴露给外界的配置对象，为axios.create创建的实例对象，使用方法见axios官方网站\r\n\t */\r\n\tconfig: service\r\n}\r\n","/**\r\n * @description 基于view-ui:Modal的对话框插件\r\n * @author Ricky email:zhangqingcq@foxmail.com\r\n * @created 2023.05.04\r\n */\r\nimport { Modal } from 'view-ui-plus'\r\nimport { myTypeof } from './globalFunc'\r\nimport { t } from '../locale'\r\nimport type { RichTxt } from '../public'\r\n\r\n/**\r\n * config为一个对象，支持：\r\n * @param {string/html} content:弹框内容，同iView的content,\r\n * @param {number} height:弹框高度,默认值130,最小值130\r\n * @param {number} width:弹框宽度，默认值416,最小值416\r\n * @param {string/html} title:弹框标题内容，默认值“提示”\r\n * @param {function} onOk:确定按钮回调函数\r\n * @param {function} onCancel:取消按钮回调函数\r\n * @param {string/html} okText:确定按钮文字，默认值“确定”\r\n * @param {string/html} cancelText:取消按钮文字，默认值“取消”\r\n * @param {boolean} noWarnIcon:不展示内容开头的警告图标(非字符串内容默认不展示)，默认值“false”\r\n * @param {string} footerAlign:底部对齐方式，string，默认值“center”\r\n * @param {boolean} cancelBt:展示取消按钮，boolean，默认值“true”\r\n * 组件中调用示例：this.messageBox({\r\n *                      content:'确定执行操作？'\r\n *                    })\r\n */\r\n\r\nexport default function messageBox(\r\n\tthis: any,\r\n\t{\r\n\t\theight,\r\n\t\twidth = 416,\r\n\t\ttitle,\r\n\t\tcontent,\r\n\t\tonOk,\r\n\t\tonCancel,\r\n\t\tokText,\r\n\t\tcancelText,\r\n\t\tnoWarnIcon,\r\n\t\tfooterAlign,\r\n\t\tcancelBt\r\n\t}: {\r\n\t\theight?: number\r\n\t\twidth?: number\r\n\t\ttitle?: RichTxt\r\n\t\tcontent: RichTxt\r\n\t\tonOk?: () => void\r\n\t\tonCancel?: () => void\r\n\t\tokText?: RichTxt\r\n\t\tcancelText?: RichTxt\r\n\t\tnoWarnIcon?: boolean\r\n\t\tfooterAlign?: string\r\n\t\tcancelBt?: boolean\r\n\t}\r\n): void {\r\n\tconst T = (...arg: Parameters<typeof t>) => t.apply(this, arg)\r\n\r\n\tlet heightTemp = height && Number(height) - 90 > 100 ? Number(height) - 90 + 'px' : 0\r\n\tlet heightT = heightTemp || '100px'\r\n\tcontent = content || T('r.info.text')\r\n\tlet stringContent = myTypeof(content) === 'String'\r\n\r\n\tModal.warning({\r\n\t\twidth: width,\r\n\t\tfooterHide: true,\r\n\t\trender: (h: any) => {\r\n\t\t\treturn h(\r\n\t\t\t\t'div',\r\n\t\t\t\t{\r\n\t\t\t\t\tclass: 'customMessageBox',\r\n\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\theight: heightT\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t[\r\n\t\t\t\t\th(\r\n\t\t\t\t\t\t'div',\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tclass: 'containerN'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\th(\r\n\t\t\t\t\t\t\t\t'div',\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tclass: 'titleN'\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t\th('span', title || T('r.info.title')),\r\n\t\t\t\t\t\t\t\t\th(\r\n\t\t\t\t\t\t\t\t\t\t'Button',\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tclass: 'fr closeN ivu-btn ivu-btn-text',\r\n\t\t\t\t\t\t\t\t\t\t\ttype: 'text',\r\n\t\t\t\t\t\t\t\t\t\t\tonclick() {\r\n\t\t\t\t\t\t\t\t\t\t\t\tModal.remove()\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t\t\t\th('i', {\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass: 'ivu-icon ivu-icon-ios-close',\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '30px'\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\th(\r\n\t\t\t\t\t\t\t\t'div',\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tclass: 'contentN',\r\n\t\t\t\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\t\t\t\ttextAlign: stringContent ? 'center' : 'left'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t\th('i', {\r\n\t\t\t\t\t\t\t\t\t\tclass: stringContent && !noWarnIcon ? 'ivu-icon ivu-icon-ios-alert-outline' : 'hide',\r\n\t\t\t\t\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\t\t\t\t\tfontSize: '60px',\r\n\t\t\t\t\t\t\t\t\t\t\tcolor: '#f8bb86'\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\th('div', { class: 'msgBoxConO' }, content)\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\th(\r\n\t\t\t\t\t\t\t\t'div',\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tclass: 'footerN',\r\n\t\t\t\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\t\t\t\ttextAlign: footerAlign || 'center'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t\th(\r\n\t\t\t\t\t\t\t\t\t\t'Button',\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tclass: 'okBtN ivu-btn ivu-btn-default',\r\n\t\t\t\t\t\t\t\t\t\t\tonclick() {\r\n\t\t\t\t\t\t\t\t\t\t\t\tModal.remove()\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (onOk && myTypeof(onOk) === 'Function') {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonOk()\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t\t\t\th('i', {\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass: 'ivu-load-loop ivu-icon ivu-icon-ios-loading'\r\n\t\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t\t\th('span', okText || T('r.confirm'))\r\n\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\th(\r\n\t\t\t\t\t\t\t\t\t\t'Button',\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tclass: ['cancelBtN ivu-btn ivu-btn-default', !cancelBt && 'hide'],\r\n\t\t\t\t\t\t\t\t\t\t\tonclick() {\r\n\t\t\t\t\t\t\t\t\t\t\t\tModal.remove()\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (myTypeof(onCancel) === 'Function') {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonCancel && onCancel()\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tcancelText || T('r.cancel')\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t)\r\n\t\t\t\t]\r\n\t\t\t)\r\n\t\t}\r\n\t})\r\n}\r\n","/**\r\n * @description 提示框\r\n * @author ricky zhangqingcq@foxmail.com\r\n * @created 2023.05.09\r\n */\r\n\r\nimport $swal from './swal'\r\nimport { t } from '../locale'\r\n\r\nexport default function (this: any, title: string, text: string, icon: string, onOk: () => void) {\r\n\tconst T = (...arg: Parameters<typeof t>) => t.apply(this, arg)\r\n\t$swal.call(this, {\r\n\t\ttitle: title || T('r.info.title'),\r\n\t\ttext: text || T('r.info.text'),\r\n\t\ticon: icon || 'warning',\r\n\t\tonOk: onOk,\r\n\t\tbuttons: [T('r.cancel')]\r\n\t})\r\n}\r\n","/**\r\n * @description 可自动销毁的定时器和计时器\r\n * @author ricky zhangqingcq@foxmail.com\r\n * @created 2023.07.14\r\n */\r\n\r\nlet timeoutBox: any[] = []\r\nlet intervalBox: any[] = []\r\n/**\r\n * 初始化\r\n * @param {object} r router实例\r\n */\r\nexport const init = function (r) {\r\n\tif (r && r.beforeEach) {\r\n\t\tr.beforeEach(() => {\r\n\t\t\ttimeoutBox.map((e) => {\r\n\t\t\t\twindow.clearTimeout(e)\r\n\t\t\t})\r\n\t\t\tintervalBox.map((e) => {\r\n\t\t\t\twindow.clearInterval(e)\r\n\t\t\t})\r\n\t\t\ttimeoutBox.length = 0\r\n\t\t\tintervalBox.length = 0\r\n\t\t})\r\n\t} else {\r\n\t\tconsole.warn(\r\n\t\t\t'安装库plug-r-qw时未传入router，调用该库的定时器方法产生的定时器将不能自动销毁，请传入router：Vue.use(plugRQw,{router,...})'\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport const setTimeout = function (fn, time) {\r\n\tlet handler = window.setTimeout(fn, time)\r\n\ttimeoutBox.push(handler)\r\n\treturn handler\r\n}\r\n\r\nexport const setInterval = function (fn, time) {\r\n\tlet handler = window.setInterval(fn, time)\r\n\tintervalBox.push(handler)\r\n\treturn handler\r\n}\r\n\r\nexport default {\r\n\tinit,\r\n\tsetTimeout,\r\n\tsetInterval\r\n}\r\n","/**\r\n * @description plug-r-qw 源代码入口文件\r\n * @author Ricky email:zhangqingcq@foxmail.com\r\n * @created 2023.04.27\r\n */\r\n\r\nimport type { App } from 'vue'\r\nimport * as components from './components'\r\nexport * from './components'\r\nimport localeFile from './locale'\r\nimport $fetch from './methods/fetch'\r\nexport { default as fetch } from './methods/fetch'\r\nimport * as globalFunc from './methods/globalFunc'\r\nexport * from './methods/globalFunc'\r\nexport * from './methods/needImortFunc'\r\nimport messageBox from './methods/messageBox'\r\nexport { default as messageBox } from './methods/messageBox'\r\nimport $swal from './methods/swal'\r\nexport { default as swal } from './methods/swal'\r\nimport $swalConfirm from './methods/swalConfirm'\r\nexport { default as swalConfirm } from './methods/swalConfirm'\r\nimport { init, setInterval, setTimeout } from './methods/timer'\r\nexport { setInterval, setTimeout } from './methods/timer'\r\n\r\nconst methodsR: Record<string, any> = {\r\n\t$fetch,\r\n\t$swal,\r\n\t$swalConfirm,\r\n\tmessageBox,\r\n\tsetInterval,\r\n\tsetTimeout,\r\n\t...globalFunc\r\n}\r\n\r\nconst install = function (app: App, options: Record<string, any> = {}) {\r\n\t$fetch.init(options.useStore || options.store, app)\r\n\r\n\tif (options.locale) {\r\n\t\tlocaleFile.use(options.locale)\r\n\t}\r\n\r\n\tif (options.i18n) {\r\n\t\tlocaleFile.i18n(options.i18n)\r\n\t}\r\n\r\n\tif (options.router) {\r\n\t\tinit(options.router)\r\n\t}\r\n\r\n\tObject.keys(components).forEach((key) => {\r\n\t\tapp.component(key, components[key])\r\n\t})\r\n\r\n\tObject.keys(methodsR).forEach((key) => {\r\n\t\tapp.config.globalProperties[key] = methodsR[key]\r\n\t})\r\n}\r\n\r\nconst locale = localeFile.use\r\n\r\nconst i18n = localeFile.i18n\r\n\r\nexport default {\r\n\tlocale,\r\n\ti18n,\r\n\tinstall\r\n}\r\n"],"names":["zhLang","REG_NAME","Format","hasOwn","obj","key","template","string","a","args","match","prefix","index","result","format","lang","message","nowLang","merged","vueI18n","i18nHandler","localMessage","newLocalMessage","deepmerge","t","path","options","value","array","current","i","j","property","use","l","i18n","initI18n","localeFile","proxy","_a","getCurrentInstance","click","props","emit","showPop","ref","hFontSize","computed","popStyle","open","close","getData","__expose","msg","router","back","$swal","option","text","icon","T","arg","r","okTxt","cancelTxt","cancelVisible","okClass","cancelClass","reg","myTypeof","swal","res","err","toHump","name","all","letter","htmlEncode","temp","htmlDecode","html","getFileSrc","file","resolve","reader","getFileTypeByName","isImgByFile","type","getFileTypeIconByName","downloadFileReaderFile","href","saveLink","fakeALinkClick","ev","findPath","group","condition","pathKey","childKey","_","item","rr","getStringWidth","str","fontSize","nodesH","width","emptyInput","val","stopBubbling","v","toLine","trimObj","p","o","clearObj","ignoreList","go","formDataHeadConfig","toFormData","data","findCollection","getPath","PATH","target","deepSearch","e","oneOf","validList","decimalDigitsLimit","num","expStr","valStr","downloadFileByFormSubmit","url","method","form","body","_url","httpEnv","regExp","input","ta","fileExport","getColumnsKeys","sKey","columns","returnArray","names","isValidValue","isNumberValue","tooltipManual","contentKey","dash","jointMark","h","params","content","contentWidth","tdWidth","isEmptyValue","stringLength","setValByOption","hasPermission","btnPermissions","isNaN","dataFilterOrToUrl","toUrl","keepEmptyVal","_data","removeEmptyValue","htmlPrint","pWin","siblingElems","elem","nodes","_elem","useRouter","getClass","handleClick","parent","siblings","child","route","useRoute","menuDisplay","pathName","menuRef","titleC","typeIco","onBeforeMount","watch","after","nextTick","addOpen","showHideMenu","count","loader","toggleSpin","d","counts","host","service","axios","notInitYet","q","logoutHandle","store","checkResult","rPath","config","y","handleRequest","isUrlData","s","keyT","checkRequest","url_","_g","data_","method_","$fetch","app","messageBox","height","title","onOk","onCancel","okText","cancelText","noWarnIcon","footerAlign","cancelBt","heightT","stringContent","Modal","$swalConfirm","timeoutBox","intervalBox","init","setTimeout","fn","time","handler","setInterval","methodsR","globalFunc","install","components","locale"],"mappings":"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"}